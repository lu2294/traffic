!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("leaflet"),require("lodash"),require("isomorphic-fetch"),require("react"),require("react-leaflet"));else if("function"==typeof define&&define.amd)define(["leaflet","lodash","isomorphic-fetch","react","react-leaflet"],e);else{var n="object"==typeof exports?e(require("leaflet"),require("lodash"),require("isomorphic-fetch"),require("react"),require("react-leaflet")):e(t.L,t._,t.fetch,t.React,t.ReactLeaflet);for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}(window,(function(t,e,n,r,o){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=393)}([function(t,e){function n(t,e,n,i){if(void 0===t)throw new Error("geometry is required");if(e&&e.constructor!==Object)throw new Error("properties must be an Object");if(n&&4!==n.length)throw new Error("bbox must be an Array of 4 numbers");if(i&&-1===["string","number"].indexOf(typeof i))throw new Error("id must be a number or a string");var r={type:"Feature"};return i&&(r.id=i),n&&(r.bbox=n),r.properties=e||{},r.geometry=t,r}function i(t,e,i,r){if(!t)throw new Error("No coordinates passed");if(void 0===t.length)throw new Error("Coordinates must be an array");if(t.length<2)throw new Error("Coordinates must be at least 2 numbers long");if(!p(t[0])||!p(t[1]))throw new Error("Coordinates must contain numbers");return n({type:"Point",coordinates:t},e,i,r)}function r(t,e,i,r){if(!t)throw new Error("No coordinates passed");for(var o=0;o<t.length;o++){var s=t[o];if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<s[s.length-1].length;a++){if(0===o&&0===a&&!p(s[0][0])||!p(s[0][1]))throw new Error("Coordinates must contain numbers");if(s[s.length-1][a]!==s[0][a])throw new Error("First and last Position are not equivalent.")}}return n({type:"Polygon",coordinates:t},e,i,r)}function o(t,e,i,r){if(!t)throw new Error("No coordinates passed");if(t.length<2)throw new Error("Coordinates must be an array of two or more positions");if(!p(t[0][1])||!p(t[0][1]))throw new Error("Coordinates must contain numbers");return n({type:"LineString",coordinates:t},e,i,r)}function s(t,e,i,r){if(!t)throw new Error("No coordinates passed");return n({type:"MultiLineString",coordinates:t},e,i,r)}function a(t,e,i,r){if(!t)throw new Error("No coordinates passed");return n({type:"MultiPoint",coordinates:t},e,i,r)}function u(t,e,i,r){if(!t)throw new Error("No coordinates passed");return n({type:"MultiPolygon",coordinates:t},e,i,r)}var l={miles:3960,nauticalmiles:3441.145,degrees:57.2957795,radians:1,inches:250905600,yards:6969600,meters:6373e3,metres:6373e3,centimeters:6373e5,centimetres:6373e5,kilometers:6373,kilometres:6373,feet:20908792.65},c={kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,centimetres:1e4,millimeter:1e6,acres:247105e-9,miles:386e-9,yards:1.195990046,feet:10.763910417,inches:1550.003100006};function h(t,e){if(null==t)throw new Error("radians is required");var n=l[e||"kilometers"];if(!n)throw new Error("units is invalid");return t*n}function f(t,e){if(null==t)throw new Error("distance is required");var n=l[e||"kilometers"];if(!n)throw new Error("units is invalid");return t/n}function d(t){if(null==t)throw new Error("radians is required");return 180*(t%(2*Math.PI))/Math.PI}function p(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}t.exports={feature:n,geometry:function(t,e,n){if(!t)throw new Error("type is required");if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(n&&4!==n.length)throw new Error("bbox must be an Array of 4 numbers");var l;switch(t){case"Point":l=i(e).geometry;break;case"LineString":l=o(e).geometry;break;case"Polygon":l=r(e).geometry;break;case"MultiPoint":l=a(e).geometry;break;case"MultiLineString":l=s(e).geometry;break;case"MultiPolygon":l=u(e).geometry;break;default:throw new Error(t+" is invalid")}return n&&(l.bbox=n),l},featureCollection:function(t,e,n){if(!t)throw new Error("No features passed");if(!Array.isArray(t))throw new Error("features must be an Array");if(e&&4!==e.length)throw new Error("bbox must be an Array of 4 numbers");if(n&&-1===["string","number"].indexOf(typeof n))throw new Error("id must be a number or a string");var i={type:"FeatureCollection"};return n&&(i.id=n),e&&(i.bbox=e),i.features=t,i},geometryCollection:function(t,e,i,r){if(!t)throw new Error("geometries is required");if(!Array.isArray(t))throw new Error("geometries must be an Array");return n({type:"GeometryCollection",geometries:t},e,i,r)},point:i,multiPoint:a,lineString:o,multiLineString:s,polygon:r,multiPolygon:u,radiansToDistance:h,distanceToRadians:f,distanceToDegrees:function(t,e){return d(f(t,e))},radians2degrees:d,degrees2radians:function(t){if(null==t)throw new Error("degrees is required");return t%360*Math.PI/180},bearingToAngle:function(t){if(null==t)throw new Error("bearing is required");var e=t%360;return e<0&&(e+=360),e},convertDistance:function(t,e,n){if(null==t)throw new Error("distance is required");if(!(t>=0))throw new Error("distance must be a positive number");return h(f(t,e),n||"kilometers")},convertArea:function(t,e,n){if(null==t)throw new Error("area is required");if(!(t>=0))throw new Error("area must be a positive number");var i=c[e||"meters"];if(!i)throw new Error("invalid original units");var r=c[n||"kilometers"];if(!r)throw new Error("invalid final units");return t/i*r},round:function(t,e){if(null==t||isNaN(t))throw new Error("num is required");if(e&&!(e>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n},isNumber:p}},function(t,e,n){"use strict";function i(t,e,n){if(null!==t){var r,o,s,a,u,l,c,h,f,d,p=0,g=0,v=t.type,m="FeatureCollection"===v,y="Feature"===v,x=m?t.features.length:1;for(r=0;r<x;r++)for(c=(d=!!(f=m?t.features[r].geometry:y?t.geometry:t)&&"GeometryCollection"===f.type)?f.geometries.length:1,o=0;o<c;o++){var E=0;if(null!==(l=d?f.geometries[o]:f)){h=l.coordinates;var b=l.type;switch(p=!n||"Polygon"!==b&&"MultiPolygon"!==b?0:1,b){case null:break;case"Point":e(h,g,r,E),g++,E++;break;case"LineString":case"MultiPoint":for(s=0;s<h.length;s++)e(h[s],g,r,E),g++,"MultiPoint"===b&&E++;"LineString"===b&&E++;break;case"Polygon":case"MultiLineString":for(s=0;s<h.length;s++){for(a=0;a<h[s].length-p;a++)e(h[s][a],g,r,E),g++;"MultiLineString"===b&&E++}"Polygon"===b&&E++;break;case"MultiPolygon":for(s=0;s<h.length;s++){for(a=0;a<h[s].length;a++)for(u=0;u<h[s][a].length-p;u++)e(h[s][a][u],g,r,E),g++;E++}break;case"GeometryCollection":for(s=0;s<l.geometries.length;s++)i(l.geometries[s],e,n);break;default:throw new Error("Unknown Geometry Type")}}}}}function r(t,e,n,r){var o=n;return i(t,(function(t,i,r,s){o=0===i&&void 0===n?t:e(o,t,i,r,s)}),r),o}function o(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length;n++)e(t.features[n].properties,n);break;case"Feature":e(t.properties,0)}}function s(t,e,n){var i=n;return o(t,(function(t,r){i=0===r&&void 0===n?t:e(i,t,r)})),i}function a(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)e(t.features[n],n)}function u(t,e,n){var i=n;return a(t,(function(t,r){i=0===r&&void 0===n?t:e(i,t,r)})),i}function l(t){var e=[];return i(t,(function(t){e.push(t)})),e}function c(t,e){var n,i,r,o,s,a,u,l,c=0,h="FeatureCollection"===t.type,f="Feature"===t.type,d=h?t.features.length:1;for(n=0;n<d;n++){for(a=h?t.features[n].geometry:f?t.geometry:t,l=h?t.features[n].properties:f?t.properties:{},s=(u=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,r=0;r<s;r++)if(null!==(o=u?a.geometries[r]:a))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":e(o,c,l);break;case"GeometryCollection":for(i=0;i<o.geometries.length;i++)e(o.geometries[i],c,l);break;default:throw new Error("Unknown Geometry Type")}else e(null,c,l);c++}}function h(t,e,n){var i=n;return c(t,(function(t,r,o){i=0===r&&void 0===n?t:e(i,t,r,o)})),i}function f(t,e){c(t,(function(t,n,i){var r,o=null===t?null:t.type;switch(o){case null:case"Point":case"LineString":case"Polygon":return void e(v(t,i),n,0)}switch(o){case"MultiPoint":r="Point";break;case"MultiLineString":r="LineString";break;case"MultiPolygon":r="Polygon"}t.coordinates.forEach((function(t,o){e(v({type:r,coordinates:t},i),n,o)}))}))}function d(t,e,n){var i=n;return f(t,(function(t,r,o){i=0===r&&0===o&&void 0===n?t:e(i,t,r,o)})),i}function p(t,e){f(t,(function(t,n,i){var o=0;if(t.geometry){var s=t.geometry.type;"Point"!==s&&"MultiPoint"!==s&&r(t,(function(r,s){var a=m([r,s],t.properties);return e(a,n,i,o),o++,s}))}}))}function g(t,e,n){var i=n,r=!1;return p(t,(function(t,o,s,a){i=!1===r&&void 0===n?t:e(i,t,o,s,a),r=!0})),i}function v(t,e){if(void 0===t)throw new Error("No geometry passed");return{type:"Feature",properties:e||{},geometry:t}}function m(t,e){if(!t)throw new Error("No coordinates passed");if(t.length<2)throw new Error("Coordinates must be an array of two or more positions");return{type:"Feature",properties:e||{},geometry:{type:"LineString",coordinates:t}}}function y(t,e){if(!t)throw new Error("geojson is required");var n=t.geometry?t.geometry.type:t.type;if(!n)throw new Error("invalid geojson");if("FeatureCollection"===n)throw new Error("FeatureCollection is not supported");if("GeometryCollection"===n)throw new Error("GeometryCollection is not supported");var i=t.geometry?t.geometry.coordinates:t.coordinates;if(!i)throw new Error("geojson must contain coordinates");switch(n){case"LineString":return void e(i,0,0);case"Polygon":case"MultiLineString":for(var r=0,o=0;o<i.length;o++)"MultiLineString"===n&&(r=o),e(i[o],o,r);return;case"MultiPolygon":for(var s=0;s<i.length;s++)for(var a=0;a<i[s].length;a++)e(i[s][a],a,s);return;default:throw new Error(n+" geometry not supported")}}function x(t,e,n){var i=n;return y(t,(function(t,r,o){i=0===r&&void 0===n?t:e(i,t,r,o)})),i}n.r(e),n.d(e,"coordEach",(function(){return i})),n.d(e,"coordReduce",(function(){return r})),n.d(e,"propEach",(function(){return o})),n.d(e,"propReduce",(function(){return s})),n.d(e,"featureEach",(function(){return a})),n.d(e,"featureReduce",(function(){return u})),n.d(e,"coordAll",(function(){return l})),n.d(e,"geomEach",(function(){return c})),n.d(e,"geomReduce",(function(){return h})),n.d(e,"flattenEach",(function(){return f})),n.d(e,"flattenReduce",(function(){return d})),n.d(e,"segmentEach",(function(){return p})),n.d(e,"segmentReduce",(function(){return g})),n.d(e,"feature",(function(){return v})),n.d(e,"lineString",(function(){return m})),n.d(e,"lineEach",(function(){return y})),n.d(e,"lineReduce",(function(){return x}))},function(t,e){function n(t){if(!t)throw new Error("obj is required");var e;if(t.length?e=t:t.coordinates?e=t.coordinates:t.geometry&&t.geometry.coordinates&&(e=t.geometry.coordinates),e)return i(e),e;throw new Error("No valid coordinates")}function i(t){if(t.length>1&&"number"==typeof t[0]&&"number"==typeof t[1])return!0;if(Array.isArray(t[0])&&t[0].length)return i(t[0]);throw new Error("coordinates must only contain numbers")}function r(t){if(!t)throw new Error("geojson is required");if(void 0!==t.geometry)return t.geometry;if(t.coordinates||t.geometries)return t;throw new Error("geojson must be a valid Feature or Geometry Object")}t.exports={geojsonType:function(t,e,n){if(!e||!n)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.type)},collectionOf:function(t,e,n){if(!t)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var i=0;i<t.features.length;i++){var r=t.features[i];if(!r||"Feature"!==r.type||!r.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!r.geometry||r.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+r.geometry.type)}},featureOf:function(t,e,n){if(!t)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.geometry.type)},getCoord:function(t){if(!t)throw new Error("obj is required");var e=n(t);if(e.length>1&&"number"==typeof e[0]&&"number"==typeof e[1])return e;throw new Error("Coordinate is not a valid Point")},getCoords:n,containsNumber:i,getGeom:r,getGeomType:function(t){if(!t)throw new Error("geojson is required");var e=r(t);if(e)return e.type}}},function(t,e,n){"use strict";e.__esModule=!0;var i,r=n(215),o=(i=r)&&i.__esModule?i:{default:i};e.default=o.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}},function(t,e){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(t,e,n){var i=n(2).getCoord,r=n(0).radiansToDistance;t.exports=function(t,e,n){var o=Math.PI/180,s=i(t),a=i(e),u=o*(a[1]-s[1]),l=o*(a[0]-s[0]),c=o*s[1],h=o*a[1],f=Math.pow(Math.sin(u/2),2)+Math.pow(Math.sin(l/2),2)*Math.cos(c)*Math.cos(h);return r(2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),n)}},function(t,e,n){var i=n(1).coordEach;t.exports=function(t){var e=[1/0,1/0,-1/0,-1/0];return i(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}},function(t,e,n){var i=n(2),r=i.getCoord,o=i.getCoords;function s(t,e,n){var i=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var r=0,o=e.length-1;r<e.length;o=r++){var s=e[r][0],a=e[r][1],u=e[o][0],l=e[o][1];if(t[1]*(s-u)+a*(u-t[0])+l*(t[0]-s)==0&&(s-t[0])*(u-t[0])<=0&&(a-t[1])*(l-t[1])<=0)return!n;a>t[1]!=l>t[1]&&t[0]<(u-s)*(t[1]-a)/(l-a)+s&&(i=!i)}return i}t.exports=function(t,e,n){if(!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var i=r(t),a=o(e),u=e.geometry?e.geometry.type:e.type,l=e.bbox;if(l&&!1===function(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}(i,l))return!1;"Polygon"===u&&(a=[a]);for(var c=0,h=!1;c<a.length&&!h;c++)if(s(i,a[c][0],n)){for(var f=!1,d=1;d<a[c].length&&!f;)s(i,a[c][d],!n)&&(f=!0),d++;f||(h=!0)}return h}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var i=n(80)("wks"),r=n(56),o=n(8).Symbol,s="function"==typeof o;(t.exports=function(t){return i[t]||(i[t]=s&&o[t]||(s?o:r)("Symbol."+t))}).store=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=h(n(3)),r=h(n(275)),o=h(n(19)),s=h(n(39)),a=h(n(34));e.getScale=d,e.lineToPixels=p,e.polygonToPixels=g,e.pixelToPoint=m,e.getPolygonCoords=y,e.getKey=function(t){if("object"!==(void 0===t?"undefined":(0,a.default)(t)))return(0,l.default)(t);if(Array.isArray(t))return v(t);var e=[],n=!0,i=!1,r=void 0;try{for(var u,c=(0,s.default)((0,o.default)(t).sort());!(n=(u=c.next()).done);n=!0){var h=u.value;e.push(h+"_"+t[h])}}catch(t){i=!0,r=t}finally{try{!n&&c.return&&c.return()}finally{if(i)throw r}}return v(e)},e.getValueByKeys=function(t,e,n){return t.split(".").reduce((function(t,e){return t&&null!=t[e]?t[e]:n||null}),e)},e.pointToPixel=x,e.arcToPixel=E,e.meterToPixel=function(t,e,n,i){var r=i.latLngToContainerPoint([0,0]),o=(a=L.latLng([0,0]),u=t,l=a.toBounds(2*u),[(l._southWest.lat+l._northEast.lat)/2,l._northEast.lng]),s=function(t,e){var n=t.toBounds(2*e);return[n._southWest.lat,(n._southWest.lng+n._northEast.lng)/2]}(L.latLng([0,0]),e);var a,u,l;return t=Math.abs(i.latLngToContainerPoint(o).x-r.x),e=Math.abs(i.latLngToContainerPoint(s).y-r.y),{width:t<n?n:t,height:e<n?n:e}},e.meterPerPixel=function(t){return 40075016.686*Math.abs(Math.cos(180*t.getCenter().lat/Math.PI))/Math.pow(2,t.getZoom()+8)},e.arcPerPixel=function(t){var e=t.latLngToContainerPoint([0,0]);return t.latLngToContainerPoint([1,1]).x-e.x},e.isAnyRenderOptionsChange=b,e.between=C,e.distance=w,e.isPointOnLine=S,e.geoJsonToMarkerList=function(t){return t.features.map((function(t){if(t.geometry&&"point"===t.geometry.type.toLowerCase()){var e=(0,r.default)(t.geometry.coordinates,2),n=e[0],o=e[1],s=t.properties||{};return(0,i.default)({},s,{position:[o,n]})}return null})).filter((function(t){return null!==t}))};var u=h(n(15)),l=h(n(279));n(11);var c=n(2);function h(t){return t&&t.__esModule?t:{default:t}}function f(t,e){return L.point(t.x,t.y).add(e)}function d(t,e){if(null==e)throw new Error("scaleOpts cannot be empty");return u.default.isArray(e)?e:u.default.isObject(e)?function(t,e){var n=e.domain,i=e.range;if(!u.default.isArray(i)||0===i.length)throw new Error("range must be an not empty array");if(null==n||0===n.length)return i[0];if(!u.default.isArray(n))throw new Error("domain must be an array or void 0");var r=Math.min(n.length,i.length);if(isNaN(t))return i[0];for(var o=0,s=0;s<r-1&&n[s]<t;s++)o=s+1;return i[o]}(t,e):e}function p(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;try{for(var r=[],o=void 0,s=0,a=t.geometry.coordinates.length;s<a;s++){var u=t.geometry.coordinates[s],l=n.latLngToContainerPoint([u[1],u[0]]),c=l;o||e.contains([c.x,c.y])&&(o=!0),i&&(c=f(c,i));var h=r[r.length-1]||{};h.x===c.x&&h.y===c.y||r.push(c)}return 1===r.length&&r.push({x:r[0].x+.1,y:r[0].y+.1}),o?r:null}catch(t){return null}}function g(t,n,i){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=[],s=void 0,a=0,u=t.geometry.coordinates.length;a<u;a++){var l=t.geometry.coordinates[a],c=e.lineToPixels({geometry:{coordinates:l}},n,i,r);if(c&&(c.forEach((function(t){o.push(t)})),!s))for(var h=0,f=c.length;h<f;++h)if(n.contains(c[h])){s=!0;break}}return 1===o.length&&o.push({x:o[0].x+.1,y:o[0].y+.1}),s?o:null}function v(t){return(0,l.default)(t.join("_"))}function m(t,e,n){return n.containerPointToLatLng(L.point(t,e))}function y(t){var e=(0,c.getCoords)(t).reduce((function(t,e){return t.concat(e)}));return e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]||e.push(e[0]),[e]}function x(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=t.geometry.coordinates,o=n.latLngToContainerPoint([r[1],r[0]]),s=o;return e.contains(s)?(i&&(s=f(o,i)),s):null}function E(t,e,n,i){var r=i.latLngToContainerPoint([0,0]);return{width:(t=Math.abs(i.latLngToContainerPoint([0,t]).x-r.x))<n?n:t,height:(e=Math.abs(i.latLngToContainerPoint([e,0]).y-r.y))<n?n:e}}function b(t,e,n){for(var i=0,r=n.length;i<r;i++){var o=n[i];if(t[o]&&!u.default.isEqual(t[o],e[o]))return!0}return!1}function C(t,e,n){if(e>n){var i=n;n=e,e=i}return e<=t&&t<=n}function w(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function _(t,e,n){return t+n*(e-t)}function A(t,e,n,i){var r=e.x-t.x,o=e.y-t.y,s=((n-t.x)*r+(i-t.y)*o)/(r*r+o*o);return{x:_(t.x,e.x,s),y:_(t.y,e.y,s)}}function S(t,e,n,i){for(var r=i/2,o={x:t,y:e},s=0,a=n.length;s<a-1;s++){var u=n[s],l=n[s+1];if(u.x!==l.x){if(u.y!==l.y){if(C(t,u.x,l.x))if(w(A(u,l,t,e),o)<=r)return!0}else if(C(e,u.y+r,u.y-r)&&C(t,u.x,l.x))return!0}else if(C(t,u.x+r,u.x-r)&&C(e,u.y,l.y))return!0}return!1}e.default={getScale:d,polygonToPixels:g,lineToPixels:p,pointToPixel:x,arcToPixel:E,isAnyRenderOptionsChange:b,isPointOnLine:S,distance:w,between:C,pixelToPoint:m,getPolygonCoords:y}},function(e,n){e.exports=t},function(t,e,n){var i=n(8),r=n(4),o=n(37),s=n(23),a=n(24),u=function(t,e,n){var l,c,h,f=t&u.F,d=t&u.G,p=t&u.S,g=t&u.P,v=t&u.B,m=t&u.W,y=d?r:r[e]||(r[e]={}),x=y.prototype,E=d?i:p?i[e]:(i[e]||{}).prototype;for(l in d&&(n=e),n)(c=!f&&E&&void 0!==E[l])&&a(y,l)||(h=c?E[l]:n[l],y[l]=d&&"function"!=typeof E[l]?n[l]:v&&c?o(h,i):m&&E[l]==h?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(h):g&&"function"==typeof h?o(Function.call,h):h,g&&((y.virtual||(y.virtual={}))[l]=h,t&u.R&&x&&!x[l]&&s(x,l,h)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){"use strict";var i=s(n(90)),r=s(n(19)),o=s(n(34));function s(t){return t&&t.__esModule?t:{default:t}}/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var a,u,l,c,h,f,d,p,g,v,m,y,x,E,b,C,w,_,A,S,D=D||{version:"3.6.2"};if(e.fabric=D,"undefined"!=typeof document&&"undefined"!=typeof window)document instanceof("undefined"!=typeof HTMLDocument?HTMLDocument:Document)?D.document=document:D.document=document.implementation.createHTMLDocument(""),D.window=window;else{var L=new(n(!function(){var t=new Error("Cannot find module 'jsdom'");throw t.code="MODULE_NOT_FOUND",t}()).JSDOM)(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;D.document=L.document,D.jsdomImplForWrapper=n(280).implForWrapper,D.nodeCanvas=n(281).Canvas,D.window=L,DOMParser=D.window.DOMParser}function F(t,e){var n=t.canvas,i=e.targetCanvas,r=i.getContext("2d");r.translate(0,i.height),r.scale(1,-1);var o=n.height-i.height;r.drawImage(n,0,o,i.width,i.height,0,0,i.width,i.height)}function T(t,e){var n=e.targetCanvas.getContext("2d"),i=e.destinationWidth,r=e.destinationHeight,o=i*r*4,s=new Uint8Array(this.imageBuffer,0,o),a=new Uint8ClampedArray(this.imageBuffer,0,o);t.readPixels(0,0,i,r,t.RGBA,t.UNSIGNED_BYTE,s);var u=new ImageData(a,i,r);n.putImageData(u,0,0)}D.isTouchSupported="ontouchstart"in D.window||"ontouchstart"in D.document||D.window&&D.window.navigator&&D.window.navigator.maxTouchPoints>0,D.isLikelyNode=!1,D.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],D.DPI=96,D.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",D.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/gi,D.reNonWord=/[ \n\.,;!\?\-]/,D.fontPaths={},D.iMatrix=[1,0,0,1,0,0],D.svgNS="http://www.w3.org/2000/svg",D.perfLimitSizeTotal=2097152,D.maxCacheSideLimit=4096,D.minCacheSideLimit=256,D.charWidthsCache={},D.textureSize=2048,D.disableStyleCopyPaste=!1,D.enableGLFiltering=!0,D.devicePixelRatio=D.window.devicePixelRatio||D.window.webkitDevicePixelRatio||D.window.mozDevicePixelRatio||1,D.browserShadowBlurConstant=1,D.arcToSegmentsCache={},D.boundsOfCurveCache={},D.cachesBoundsOfCurve=!0,D.forceGLPutImageData=!1,D.initFilterBackend=function(){return D.enableGLFiltering&&D.isWebglSupported&&D.isWebglSupported(D.textureSize)?(console.log("max texture size: "+D.maxTextureSize),new D.WebglFilterBackend({tileSize:D.textureSize})):D.Canvas2dFilterBackend?new D.Canvas2dFilterBackend:void 0},"undefined"!=typeof document&&"undefined"!=typeof window&&(window.fabric=D),function(){function t(t,e){if(this.__eventListeners[t]){var n=this.__eventListeners[t];e?n[n.indexOf(e)]=!1:D.util.array.fill(n,!1)}}function e(t,e){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var n in t)this.on(n,t[n]);else this.__eventListeners[t]||(this.__eventListeners[t]=[]),this.__eventListeners[t].push(e);return this}function n(e,n){if(!this.__eventListeners)return this;if(0===arguments.length)for(e in this.__eventListeners)t.call(this,e);else if(1===arguments.length&&"object"===(0,o.default)(arguments[0]))for(var i in e)t.call(this,i,e[i]);else t.call(this,e,n);return this}function i(t,e){if(!this.__eventListeners)return this;var n=this.__eventListeners[t];if(!n)return this;for(var i=0,r=n.length;i<r;i++)n[i]&&n[i].call(this,e||{});return this.__eventListeners[t]=n.filter((function(t){return!1!==t})),this}D.Observable={observe:e,stopObserving:n,fire:i,on:e,off:n,trigger:i}}(),D.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var t=0,e=arguments.length;t<e;t++)this._onObjectAdded(arguments[t]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(t,e,n){var i=this._objects;return n?i[e]=t:i.splice(e,0,t),this._onObjectAdded&&this._onObjectAdded(t),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var t,e=this._objects,n=!1,i=0,r=arguments.length;i<r;i++)-1!==(t=e.indexOf(arguments[i]))&&(n=!0,e.splice(t,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[i]));return this.renderOnAddRemove&&n&&this.requestRenderAll(),this},forEachObject:function(t,e){for(var n=this.getObjects(),i=0,r=n.length;i<r;i++)t.call(e,n[i],i,n);return this},getObjects:function(t){return void 0===t?this._objects.concat():this._objects.filter((function(e){return e.type===t}))},item:function(t){return this._objects[t]},isEmpty:function(){return 0===this._objects.length},size:function(){return this._objects.length},contains:function(t){return this._objects.indexOf(t)>-1},complexity:function(){return this._objects.reduce((function(t,e){return t+=e.complexity?e.complexity():0}),0)}},D.CommonMethods={_setOptions:function(t){for(var e in t)this.set(e,t[e])},_initGradient:function(t,e){!t||!t.colorStops||t instanceof D.Gradient||this.set(e,new D.Gradient(t))},_initPattern:function(t,e,n){!t||!t.source||t instanceof D.Pattern?n&&n():this.set(e,new D.Pattern(t,n))},_initClipping:function(t){if(t.clipTo&&"string"==typeof t.clipTo){var e=D.util.getFunctionBody(t.clipTo);void 0!==e&&(this.clipTo=new Function("ctx",e))}},_setObject:function(t){for(var e in t)this._set(e,t[e])},set:function(t,e){return"object"===(void 0===t?"undefined":(0,o.default)(t))?this._setObject(t):"function"==typeof e&&"clipTo"!==t?this._set(t,e(this.get(t))):this._set(t,e),this},_set:function(t,e){this[t]=e},toggle:function(t){var e=this.get(t);return"boolean"==typeof e&&this.set(t,!e),this},get:function(t){return this[t]}},a=e,u=Math.sqrt,l=Math.atan2,c=Math.pow,h=Math.PI/180,f=Math.PI/2,D.util={cos:function(t){if(0===t)return 1;switch(t<0&&(t=-t),t/f){case 1:case 3:return 0;case 2:return-1}return Math.cos(t)},sin:function(t){if(0===t)return 0;var e=1;switch(t<0&&(e=-1),t/f){case 1:return e;case 2:return 0;case 3:return-e}return Math.sin(t)},removeFromArray:function(t,e){var n=t.indexOf(e);return-1!==n&&t.splice(n,1),t},getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},degreesToRadians:function(t){return t*h},radiansToDegrees:function(t){return t/h},rotatePoint:function(t,e,n){t.subtractEquals(e);var i=D.util.rotateVector(t,n);return new D.Point(i.x,i.y).addEquals(e)},rotateVector:function(t,e){var n=D.util.sin(e),i=D.util.cos(e);return{x:t.x*i-t.y*n,y:t.x*n+t.y*i}},transformPoint:function(t,e,n){return n?new D.Point(e[0]*t.x+e[2]*t.y,e[1]*t.x+e[3]*t.y):new D.Point(e[0]*t.x+e[2]*t.y+e[4],e[1]*t.x+e[3]*t.y+e[5])},makeBoundingBoxFromPoints:function(t,e){if(e)for(var n=0;n<t.length;n++)t[n]=D.util.transformPoint(t[n],e);var i=[t[0].x,t[1].x,t[2].x,t[3].x],r=D.util.array.min(i),o=D.util.array.max(i)-r,s=[t[0].y,t[1].y,t[2].y,t[3].y],a=D.util.array.min(s);return{left:r,top:a,width:o,height:D.util.array.max(s)-a}},invertTransform:function(t){var e=1/(t[0]*t[3]-t[1]*t[2]),n=[e*t[3],-e*t[1],-e*t[2],e*t[0]],i=D.util.transformPoint({x:t[4],y:t[5]},n,!0);return n[4]=-i.x,n[5]=-i.y,n},toFixed:function(t,e){return parseFloat(Number(t).toFixed(e))},parseUnit:function(t,e){var n=/\D{0,2}$/.exec(t),i=parseFloat(t);switch(e||(e=D.Text.DEFAULT_SVG_FONT_SIZE),n[0]){case"mm":return i*D.DPI/25.4;case"cm":return i*D.DPI/2.54;case"in":return i*D.DPI;case"pt":return i*D.DPI/72;case"pc":return i*D.DPI/72*12;case"em":return i*e;default:return i}},falseFunction:function(){return!1},getKlass:function(t,e){return t=D.util.string.camelize(t.charAt(0).toUpperCase()+t.slice(1)),D.util.resolveNamespace(e)[t]},getSvgAttributes:function(t){var e=["instantiated_by_use","style","id","class"];switch(t){case"linearGradient":e=e.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":e=e.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":e=e.concat(["offset","stop-color","stop-opacity"])}return e},resolveNamespace:function(t){if(!t)return D;var e,n=t.split("."),i=n.length,r=a||D.window;for(e=0;e<i;++e)r=r[n[e]];return r},loadImage:function(t,e,n,i){if(t){var r=D.util.createImage(),o=function(){e&&e.call(n,r),r=r.onload=r.onerror=null};r.onload=o,r.onerror=function(){D.log("Error loading "+r.src),e&&e.call(n,null,!0),r=r.onload=r.onerror=null},0!==t.indexOf("data")&&i&&(r.crossOrigin=i),"data:image/svg"===t.substring(0,14)&&(r.onload=null,D.util.loadImageInDom(r,o)),r.src=t}else e&&e.call(n,t)},loadImageInDom:function(t,e){var n=D.document.createElement("div");n.style.width=n.style.height="1px",n.style.left=n.style.top="-100%",n.style.position="absolute",n.appendChild(t),D.document.querySelector("body").appendChild(n),t.onload=function(){e(),n.parentNode.removeChild(n),n=null}},enlivenObjects:function(t,e,n,i){var r=[],o=0,s=(t=t||[]).length;function a(){++o===s&&e&&e(r.filter((function(t){return t})))}s?t.forEach((function(t,e){t&&t.type?D.util.getKlass(t.type,n).fromObject(t,(function(n,o){o||(r[e]=n),i&&i(t,n,o),a()})):a()})):e&&e(r)},enlivenPatterns:function(t,e){function n(){++r===o&&e&&e(i)}var i=[],r=0,o=(t=t||[]).length;o?t.forEach((function(t,e){t&&t.source?new D.Pattern(t,(function(t){i[e]=t,n()})):(i[e]=t,n())})):e&&e(i)},groupSVGElements:function(t,e,n){var i;return t&&1===t.length?t[0]:(e&&(e.width&&e.height?e.centerPoint={x:e.width/2,y:e.height/2}:(delete e.width,delete e.height)),i=new D.Group(t,e),void 0!==n&&(i.sourcePath=n),i)},populateWithProperties:function(t,e,n){if(n&&"[object Array]"===Object.prototype.toString.call(n))for(var i=0,r=n.length;i<r;i++)n[i]in t&&(e[n[i]]=t[n[i]])},drawDashedLine:function(t,e,n,i,r,o){var s=i-e,a=r-n,c=u(s*s+a*a),h=l(a,s),f=o.length,d=0,p=!0;for(t.save(),t.translate(e,n),t.moveTo(0,0),t.rotate(h),e=0;c>e;)(e+=o[d++%f])>c&&(e=c),t[p?"lineTo":"moveTo"](e,0),p=!p;t.restore()},createCanvasElement:function(){return D.document.createElement("canvas")},copyCanvasElement:function(t){var e=D.util.createCanvasElement();return e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0),e},toDataURL:function(t,e,n){return t.toDataURL("image/"+e,n)},createImage:function(){return D.document.createElement("img")},clipContext:function(t,e){e.save(),e.beginPath(),t.clipTo(e),e.clip()},multiplyTransformMatrices:function(t,e,n){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],n?0:t[0]*e[4]+t[2]*e[5]+t[4],n?0:t[1]*e[4]+t[3]*e[5]+t[5]]},qrDecompose:function(t){var e=l(t[1],t[0]),n=c(t[0],2)+c(t[1],2),i=u(n),r=(t[0]*t[3]-t[2]*t[1])/i,o=l(t[0]*t[2]+t[1]*t[3],n);return{angle:e/h,scaleX:i,scaleY:r,skewX:o/h,skewY:0,translateX:t[4],translateY:t[5]}},calcRotateMatrix:function(t){if(!t.angle)return D.iMatrix.concat();var e=D.util.degreesToRadians(t.angle),n=D.util.cos(e),i=D.util.sin(e);return[n,i,-i,n,0,0]},calcDimensionsMatrix:function(t){var e=void 0===t.scaleX?1:t.scaleX,n=void 0===t.scaleY?1:t.scaleY,i=[t.flipX?-e:e,0,0,t.flipY?-n:n,0,0],r=D.util.multiplyTransformMatrices,o=D.util.degreesToRadians;return t.skewX&&(i=r(i,[1,0,Math.tan(o(t.skewX)),1],!0)),t.skewY&&(i=r(i,[1,Math.tan(o(t.skewY)),0,1],!0)),i},composeMatrix:function(t){var e=[1,0,0,1,t.translateX||0,t.translateY||0],n=D.util.multiplyTransformMatrices;return t.angle&&(e=n(e,D.util.calcRotateMatrix(t))),(t.scaleX||t.scaleY||t.skewX||t.skewY||t.flipX||t.flipY)&&(e=n(e,D.util.calcDimensionsMatrix(t))),e},customTransformMatrix:function(t,e,n){return D.util.composeMatrix({scaleX:t,scaleY:e,skewX:n})},resetObjectTransform:function(t){t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.flipX=!1,t.flipY=!1,t.rotate(0)},saveObjectTransform:function(t){return{scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX,skewY:t.skewY,angle:t.angle,left:t.left,flipX:t.flipX,flipY:t.flipY,top:t.top}},getFunctionBody:function(t){return(String(t).match(/function[^{]*\{([\s\S]*)\}/)||{})[1]},isTransparent:function(t,e,n,i){i>0&&(e>i?e-=i:e=0,n>i?n-=i:n=0);var r,o=!0,s=t.getImageData(e,n,2*i||1,2*i||1),a=s.data.length;for(r=3;r<a&&!1!=(o=s.data[r]<=0);r+=4);return s=null,o},parsePreserveAspectRatioAttribute:function(t){var e,n="meet",i=t.split(" ");return i&&i.length&&("meet"!==(n=i.pop())&&"slice"!==n?(e=n,n="meet"):i.length&&(e=i.pop())),{meetOrSlice:n,alignX:"none"!==e?e.slice(1,4):"none",alignY:"none"!==e?e.slice(5,8):"none"}},clearFabricFontCache:function(t){(t=(t||"").toLowerCase())?D.charWidthsCache[t]&&delete D.charWidthsCache[t]:D.charWidthsCache={}},limitDimsByArea:function(t,e){var n=Math.sqrt(e*t),i=Math.floor(e/n);return{x:Math.floor(n),y:i}},capValue:function(t,e,n){return Math.max(t,Math.min(e,n))},findScaleToFit:function(t,e){return Math.min(e.width/t.width,e.height/t.height)},findScaleToCover:function(t,e){return Math.max(e.width/t.width,e.height/t.height)},matrixToSVG:function(t){return"matrix("+t.map((function(t){return D.util.toFixed(t,D.Object.NUM_FRACTION_DIGITS)})).join(" ")+")"}},function(){var t=Array.prototype.join;function e(e,r,o,s,a,u,l){var c=t.call(arguments);if(D.arcToSegmentsCache[c])return D.arcToSegmentsCache[c];var h=Math.PI,f=l*h/180,d=D.util.sin(f),p=D.util.cos(f),g=0,v=0,m=-p*e*.5-d*r*.5,y=-p*r*.5+d*e*.5,x=(o=Math.abs(o))*o,E=(s=Math.abs(s))*s,b=y*y,C=m*m,w=x*E-x*b-E*C,_=0;if(w<0){var A=Math.sqrt(1-w/(x*E));o*=A,s*=A}else _=(a===u?-1:1)*Math.sqrt(w/(x*b+E*C));var S=_*o*y/s,L=-_*s*m/o,F=p*S-d*L+.5*e,T=d*S+p*L+.5*r,M=i(1,0,(m-S)/o,(y-L)/s),I=i((m-S)/o,(y-L)/s,(-m-S)/o,(-y-L)/s);0===u&&I>0?I-=2*h:1===u&&I<0&&(I+=2*h);for(var P=Math.ceil(Math.abs(I/h*2)),O=[],B=I/P,N=8/3*Math.sin(B/4)*Math.sin(B/4)/Math.sin(B/2),k=M+B,R=0;R<P;R++)O[R]=n(M,k,p,d,o,s,F,T,N,g,v),g=O[R][4],v=O[R][5],M=k,k+=B;return D.arcToSegmentsCache[c]=O,O}function n(t,e,n,i,r,o,s,a,u,l,c){var h=D.util.cos(t),f=D.util.sin(t),d=D.util.cos(e),p=D.util.sin(e),g=n*r*d-i*o*p+s,v=i*r*d+n*o*p+a;return[l+u*(-n*r*f-i*o*h),c+u*(-i*r*f+n*o*h),g+u*(n*r*p+i*o*d),v+u*(i*r*p-n*o*d),g,v]}function i(t,e,n,i){var r=Math.atan2(e,t),o=Math.atan2(i,n);return o>=r?o-r:2*Math.PI-(r-o)}function r(e,n,i,r,o,s,a,u){var l;if(D.cachesBoundsOfCurve&&(l=t.call(arguments),D.boundsOfCurveCache[l]))return D.boundsOfCurveCache[l];var c,h,f,d,p,g,v,m,y=Math.sqrt,x=Math.min,E=Math.max,b=Math.abs,C=[],w=[[],[]];h=6*e-12*i+6*o,c=-3*e+9*i-9*o+3*a,f=3*i-3*e;for(var _=0;_<2;++_)if(_>0&&(h=6*n-12*r+6*s,c=-3*n+9*r-9*s+3*u,f=3*r-3*n),b(c)<1e-12){if(b(h)<1e-12)continue;0<(d=-f/h)&&d<1&&C.push(d)}else(v=h*h-4*f*c)<0||(0<(p=(-h+(m=y(v)))/(2*c))&&p<1&&C.push(p),0<(g=(-h-m)/(2*c))&&g<1&&C.push(g));for(var A,S,L,F=C.length,T=F;F--;)A=(L=1-(d=C[F]))*L*L*e+3*L*L*d*i+3*L*d*d*o+d*d*d*a,w[0][F]=A,S=L*L*L*n+3*L*L*d*r+3*L*d*d*s+d*d*d*u,w[1][F]=S;w[0][T]=e,w[1][T]=n,w[0][T+1]=a,w[1][T+1]=u;var M=[{x:x.apply(null,w[0]),y:x.apply(null,w[1])},{x:E.apply(null,w[0]),y:E.apply(null,w[1])}];return D.cachesBoundsOfCurve&&(D.boundsOfCurveCache[l]=M),M}D.util.drawArc=function(t,n,i,r){for(var o=r[0],s=r[1],a=r[2],u=r[3],l=r[4],c=[[],[],[],[]],h=e(r[5]-n,r[6]-i,o,s,u,l,a),f=0,d=h.length;f<d;f++)c[f][0]=h[f][0]+n,c[f][1]=h[f][1]+i,c[f][2]=h[f][2]+n,c[f][3]=h[f][3]+i,c[f][4]=h[f][4]+n,c[f][5]=h[f][5]+i,t.bezierCurveTo.apply(t,c[f])},D.util.getBoundsOfArc=function(t,n,i,o,s,a,u,l,c){for(var h,f=0,d=0,p=[],g=e(l-t,c-n,i,o,a,u,s),v=0,m=g.length;v<m;v++)h=r(f,d,g[v][0],g[v][1],g[v][2],g[v][3],g[v][4],g[v][5]),p.push({x:h[0].x+t,y:h[0].y+n}),p.push({x:h[1].x+t,y:h[1].y+n}),f=g[v][4],d=g[v][5];return p},D.util.getBoundsOfCurve=r}(),function(){var t=Array.prototype.slice;function e(t,e,n){if(t&&0!==t.length){var i=t.length-1,r=e?t[i][e]:t[i];if(e)for(;i--;)n(t[i][e],r)&&(r=t[i][e]);else for(;i--;)n(t[i],r)&&(r=t[i]);return r}}D.util.array={fill:function(t,e){for(var n=t.length;n--;)t[n]=e;return t},invoke:function(e,n){for(var i=t.call(arguments,2),r=[],o=0,s=e.length;o<s;o++)r[o]=i.length?e[o][n].apply(e[o],i):e[o][n].call(e[o]);return r},min:function(t,n){return e(t,n,(function(t,e){return t<e}))},max:function(t,n){return e(t,n,(function(t,e){return t>=e}))}}}(),function(){function t(e,n,i){if(i)if(!D.isLikelyNode&&n instanceof Element)e=n;else if(n instanceof Array){e=[];for(var r=0,s=n.length;r<s;r++)e[r]=t({},n[r],i)}else if(n&&"object"===(void 0===n?"undefined":(0,o.default)(n)))for(var a in n)"canvas"===a?e[a]=t({},n[a]):n.hasOwnProperty(a)&&(e[a]=t({},n[a],i));else e=n;else for(var a in n)e[a]=n[a];return e}D.util.object={extend:t,clone:function(e,n){return t({},e,n)}},D.util.object.extend(D.util,D.Observable)}(),function(){function t(t,e){var n=t.charCodeAt(e);if(isNaN(n))return"";if(n<55296||n>57343)return t.charAt(e);if(55296<=n&&n<=56319){if(t.length<=e+1)throw"High surrogate without following low surrogate";var i=t.charCodeAt(e+1);if(56320>i||i>57343)throw"High surrogate without following low surrogate";return t.charAt(e)+t.charAt(e+1)}if(0===e)throw"Low surrogate without preceding high surrogate";var r=t.charCodeAt(e-1);if(55296>r||r>56319)throw"Low surrogate without preceding high surrogate";return!1}D.util.string={camelize:function(t){return t.replace(/-+(.)?/g,(function(t,e){return e?e.toUpperCase():""}))},capitalize:function(t,e){return t.charAt(0).toUpperCase()+(e?t.slice(1):t.slice(1).toLowerCase())},escapeXml:function(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},graphemeSplit:function(e){var n,i=0,r=[];for(i=0;i<e.length;i++)!1!==(n=t(e,i))&&r.push(n);return r}}}(),function(){var t=Array.prototype.slice,e=function(){},n=function(){for(var t in{toString:1})if("toString"===t)return!1;return!0}(),i=function(t,e,i){for(var r in e)r in t.prototype&&"function"==typeof t.prototype[r]&&(e[r]+"").indexOf("callSuper")>-1?t.prototype[r]=function(t){return function(){var n=this.constructor.superclass;this.constructor.superclass=i;var r=e[t].apply(this,arguments);if(this.constructor.superclass=n,"initialize"!==t)return r}}(r):t.prototype[r]=e[r],n&&(e.toString!==Object.prototype.toString&&(t.prototype.toString=e.toString),e.valueOf!==Object.prototype.valueOf&&(t.prototype.valueOf=e.valueOf))};function r(){}function o(e){for(var n=null,i=this;i.constructor.superclass;){var r=i.constructor.superclass.prototype[e];if(i[e]!==r){n=r;break}i=i.constructor.superclass.prototype}return n?arguments.length>1?n.apply(this,t.call(arguments,1)):n.call(this):console.log("tried to callSuper "+e+", method not found in prototype chain",this)}D.util.createClass=function(){var n=null,s=t.call(arguments,0);function a(){this.initialize.apply(this,arguments)}"function"==typeof s[0]&&(n=s.shift()),a.superclass=n,a.subclasses=[],n&&(r.prototype=n.prototype,a.prototype=new r,n.subclasses.push(a));for(var u=0,l=s.length;u<l;u++)i(a,s[u],n);return a.prototype.initialize||(a.prototype.initialize=e),a.prototype.constructor=a,a.prototype.callSuper=o,a}}(),d=!!D.document.createElement("div").attachEvent,D.util.addListener=function(t,e,n,i){t&&t.addEventListener(e,n,!d&&i)},D.util.removeListener=function(t,e,n,i){t&&t.removeEventListener(e,n,!d&&i)},D.util.getPointer=function(t){var e=t.target,n=D.util.getScrollLeftTop(e),i=function(t){var e=t.changedTouches;return e&&e[0]?e[0]:t}(t);return{x:i.clientX+n.left,y:i.clientY+n.top}},p=D.document.createElement("div"),g="string"==typeof p.style.opacity,v="string"==typeof p.style.filter,m=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,y=function(t){return t},g?y=function(t,e){return t.style.opacity=e,t}:v&&(y=function(t,e){var n=t.style;return t.currentStyle&&!t.currentStyle.hasLayout&&(n.zoom=1),m.test(n.filter)?(e=e>=.9999?"":"alpha(opacity="+100*e+")",n.filter=n.filter.replace(m,e)):n.filter+=" alpha(opacity="+100*e+")",t}),D.util.setStyle=function(t,e){var n=t.style;if(!n)return t;if("string"==typeof e)return t.style.cssText+=";"+e,e.indexOf("opacity")>-1?y(t,e.match(/opacity:\s*(\d?\.?\d*)/)[1]):t;for(var i in e)"opacity"===i?y(t,e[i]):n["float"===i||"cssFloat"===i?void 0===n.styleFloat?"cssFloat":"styleFloat":i]=e[i];return t},function(){var t=Array.prototype.slice;var e,n,i,r,o=function(e){return t.call(e,0)};try{e=o(D.document.childNodes)instanceof Array}catch(t){}function s(t,e){var n=D.document.createElement(t);for(var i in e)"class"===i?n.className=e[i]:"for"===i?n.htmlFor=e[i]:n.setAttribute(i,e[i]);return n}function a(t){for(var e=0,n=0,i=D.document.documentElement,r=D.document.body||{scrollLeft:0,scrollTop:0};t&&(t.parentNode||t.host)&&((t=t.parentNode||t.host)===D.document?(e=r.scrollLeft||i.scrollLeft||0,n=r.scrollTop||i.scrollTop||0):(e+=t.scrollLeft||0,n+=t.scrollTop||0),1!==t.nodeType||"fixed"!==t.style.position););return{left:e,top:n}}e||(o=function(t){for(var e=new Array(t.length),n=t.length;n--;)e[n]=t[n];return e}),n=D.document.defaultView&&D.document.defaultView.getComputedStyle?function(t,e){var n=D.document.defaultView.getComputedStyle(t,null);return n?n[e]:void 0}:function(t,e){var n=t.style[e];return!n&&t.currentStyle&&(n=t.currentStyle[e]),n},i=D.document.documentElement.style,r="userSelect"in i?"userSelect":"MozUserSelect"in i?"MozUserSelect":"WebkitUserSelect"in i?"WebkitUserSelect":"KhtmlUserSelect"in i?"KhtmlUserSelect":"",D.util.makeElementUnselectable=function(t){return void 0!==t.onselectstart&&(t.onselectstart=D.util.falseFunction),r?t.style[r]="none":"string"==typeof t.unselectable&&(t.unselectable="on"),t},D.util.makeElementSelectable=function(t){return void 0!==t.onselectstart&&(t.onselectstart=null),r?t.style[r]="":"string"==typeof t.unselectable&&(t.unselectable=""),t},D.util.getScript=function(t,e){var n=D.document.getElementsByTagName("head")[0],i=D.document.createElement("script"),r=!0;i.onload=i.onreadystatechange=function(t){if(r){if("string"==typeof this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState)return;r=!1,e(t||D.window.event),i=i.onload=i.onreadystatechange=null}},i.src=t,n.appendChild(i)},D.util.getById=function(t){return"string"==typeof t?D.document.getElementById(t):t},D.util.toArray=o,D.util.makeElement=s,D.util.addClass=function(t,e){t&&-1===(" "+t.className+" ").indexOf(" "+e+" ")&&(t.className+=(t.className?" ":"")+e)},D.util.wrapElement=function(t,e,n){return"string"==typeof e&&(e=s(e,n)),t.parentNode&&t.parentNode.replaceChild(e,t),e.appendChild(t),e},D.util.getScrollLeftTop=a,D.util.getElementOffset=function(t){var e,i,r=t&&t.ownerDocument,o={left:0,top:0},s={left:0,top:0},u={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!r)return s;for(var l in u)s[u[l]]+=parseInt(n(t,l),10)||0;return e=r.documentElement,void 0!==t.getBoundingClientRect&&(o=t.getBoundingClientRect()),i=a(t),{left:o.left+i.left-(e.clientLeft||0)+s.left,top:o.top+i.top-(e.clientTop||0)+s.top}},D.util.getElementStyle=n,D.util.getNodeCanvas=function(t){var e=D.jsdomImplForWrapper(t);return e._canvas||e._image},D.util.cleanUpJsdomNode=function(t){if(D.isLikelyNode){var e=D.jsdomImplForWrapper(t);e&&(e._image=null,e._canvas=null,e._currentSrc=null,e._attributes=null,e._classList=null)}}}(),function(){function t(){}D.util.request=function(e,n){n||(n={});var i=n.method?n.method.toUpperCase():"GET",r=n.onComplete||function(){},o=new D.window.XMLHttpRequest,s=n.body||n.parameters;return o.onreadystatechange=function(){4===o.readyState&&(r(o),o.onreadystatechange=t)},"GET"===i&&(s=null,"string"==typeof n.parameters&&(e=function(t,e){return t+(/\?/.test(t)?"&":"?")+e}(e,n.parameters))),o.open(i,e,!0),"POST"!==i&&"PUT"!==i||o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(s),o}}(),D.log=console.log,D.warn=console.warn,function(){function t(){return!1}function e(t,e,n,i){return-n*Math.cos(t/i*(Math.PI/2))+n+e}var n=D.window.requestAnimationFrame||D.window.webkitRequestAnimationFrame||D.window.mozRequestAnimationFrame||D.window.oRequestAnimationFrame||D.window.msRequestAnimationFrame||function(t){return D.window.setTimeout(t,1e3/60)},i=D.window.cancelAnimationFrame||D.window.clearTimeout;function r(){return n.apply(D.window,arguments)}D.util.animate=function(n){r((function(i){n||(n={});var o,s=i||+new Date,a=n.duration||500,u=s+a,l=n.onChange||t,c=n.abort||t,h=n.onComplete||t,f=n.easing||e,d="startValue"in n?n.startValue:0,p="endValue"in n?n.endValue:100,g=n.byValue||p-d;n.onStart&&n.onStart(),function t(e){var n=(o=e||+new Date)>u?a:o-s,i=n/a,v=f(n,d,g,a),m=Math.abs((v-d)/g);if(!c())return o>u?(l(p,1,1),void h(p,1,1)):(l(v,m,i),void r(t));h(p,1,1)}(s)}))},D.util.requestAnimFrame=r,D.util.cancelAnimFrame=function(){return i.apply(D.window,arguments)}}(),D.util.animateColor=function(t,e,n,i){var r=new D.Color(t).getSource(),o=new D.Color(e).getSource();i=i||{},D.util.animate(D.util.object.extend(i,{duration:n||500,startValue:r,endValue:o,byValue:o,easing:function(t,e,n,r){var o,s,a,u,l=i.colorEasing?i.colorEasing(t,r):1-Math.cos(t/r*(Math.PI/2));return o=e,s=n,a=l,u="rgba("+parseInt(o[0]+a*(s[0]-o[0]),10)+","+parseInt(o[1]+a*(s[1]-o[1]),10)+","+parseInt(o[2]+a*(s[2]-o[2]),10),u+=","+(o&&s?parseFloat(o[3]+a*(s[3]-o[3])):1),u+=")"}}))},function(){function t(t,e,n,i){return t<Math.abs(e)?(t=e,i=n/4):i=0===e&&0===t?n/(2*Math.PI)*Math.asin(1):n/(2*Math.PI)*Math.asin(e/t),{a:t,c:e,p:n,s:i}}function e(t,e,n){return t.a*Math.pow(2,10*(e-=1))*Math.sin((e*n-t.s)*(2*Math.PI)/t.p)}function n(t,e,n,r){return n-i(r-t,0,n,r)+e}function i(t,e,n,i){return(t/=i)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e}D.util.ease={easeInQuad:function(t,e,n,i){return n*(t/=i)*t+e},easeOutQuad:function(t,e,n,i){return-n*(t/=i)*(t-2)+e},easeInOutQuad:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,n,i){return n*(t/=i)*t*t+e},easeOutCubic:function(t,e,n,i){return n*((t=t/i-1)*t*t+1)+e},easeInOutCubic:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,n,i){return n*(t/=i)*t*t*t+e},easeOutQuart:function(t,e,n,i){return-n*((t=t/i-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,n,i){return n*(t/=i)*t*t*t*t+e},easeOutQuint:function(t,e,n,i){return n*((t=t/i-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,n,i){return-n*Math.cos(t/i*(Math.PI/2))+n+e},easeOutSine:function(t,e,n,i){return n*Math.sin(t/i*(Math.PI/2))+e},easeInOutSine:function(t,e,n,i){return-n/2*(Math.cos(Math.PI*t/i)-1)+e},easeInExpo:function(t,e,n,i){return 0===t?e:n*Math.pow(2,10*(t/i-1))+e},easeOutExpo:function(t,e,n,i){return t===i?e+n:n*(1-Math.pow(2,-10*t/i))+e},easeInOutExpo:function(t,e,n,i){return 0===t?e:t===i?e+n:(t/=i/2)<1?n/2*Math.pow(2,10*(t-1))+e:n/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,n,i){return-n*(Math.sqrt(1-(t/=i)*t)-1)+e},easeOutCirc:function(t,e,n,i){return n*Math.sqrt(1-(t=t/i-1)*t)+e},easeInOutCirc:function(t,e,n,i){return(t/=i/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(n,i,r,o){var s=0;return 0===n?i:1===(n/=o)?i+r:(s||(s=.3*o),-e(t(r,r,s,1.70158),n,o)+i)},easeOutElastic:function(e,n,i,r){var o=0;if(0===e)return n;if(1===(e/=r))return n+i;o||(o=.3*r);var s=t(i,i,o,1.70158);return s.a*Math.pow(2,-10*e)*Math.sin((e*r-s.s)*(2*Math.PI)/s.p)+s.c+n},easeInOutElastic:function(n,i,r,o){var s=0;if(0===n)return i;if(2===(n/=o/2))return i+r;s||(s=o*(.3*1.5));var a=t(r,r,s,1.70158);return n<1?-.5*e(a,n,o)+i:a.a*Math.pow(2,-10*(n-=1))*Math.sin((n*o-a.s)*(2*Math.PI)/a.p)*.5+a.c+i},easeInBack:function(t,e,n,i,r){return void 0===r&&(r=1.70158),n*(t/=i)*t*((r+1)*t-r)+e},easeOutBack:function(t,e,n,i,r){return void 0===r&&(r=1.70158),n*((t=t/i-1)*t*((r+1)*t+r)+1)+e},easeInOutBack:function(t,e,n,i,r){return void 0===r&&(r=1.70158),(t/=i/2)<1?n/2*(t*t*((1+(r*=1.525))*t-r))+e:n/2*((t-=2)*t*((1+(r*=1.525))*t+r)+2)+e},easeInBounce:n,easeOutBounce:i,easeInOutBounce:function(t,e,r,o){return t<o/2?.5*n(2*t,0,r,o)+e:.5*i(2*t-o,0,r,o)+.5*r+e}}}(),function(t){var e=t.fabric||(t.fabric={}),n=e.util.object.extend,i=e.util.object.clone,r=e.util.toFixed,o=e.util.parseUnit,s=e.util.multiplyTransformMatrices,a={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform"},u={stroke:"strokeOpacity",fill:"fillOpacity"};function l(t){return t in a?a[t]:t}function c(t,n,i,r){var a,u="[object Array]"===Object.prototype.toString.call(n);if("fill"!==t&&"stroke"!==t||"none"!==n)if("vector-effect"===t)n="non-scaling-stroke"===n;else if("strokeDashArray"===t)n="none"===n?null:n.replace(/,/g," ").split(/\s+/).map(parseFloat);else if("transformMatrix"===t)n=i&&i.transformMatrix?s(i.transformMatrix,e.parseTransformAttribute(n)):e.parseTransformAttribute(n);else if("visible"===t)n="none"!==n&&"hidden"!==n,i&&!1===i.visible&&(n=!1);else if("opacity"===t)n=parseFloat(n),i&&void 0!==i.opacity&&(n*=i.opacity);else if("textAnchor"===t)n="start"===n?"left":"end"===n?"right":"center";else if("charSpacing"===t)a=o(n,r)/r*1e3;else if("paintFirst"===t){var l=n.indexOf("fill"),c=n.indexOf("stroke");n="fill";(l>-1&&c>-1&&c<l||-1===l&&c>-1)&&(n="stroke")}else{if("href"===t||"xlink:href"===t)return n;a=u?n.map(o):o(n,r)}else n="";return!u&&isNaN(a)?n:a}function h(t){return new RegExp("^("+t.join("|")+")\\b","i")}function f(t,e){var n,i,r,o,s=[];for(r=0,o=e.length;r<o;r++)n=e[r],i=t.getElementsByTagName(n),s=s.concat(Array.prototype.slice.call(i));return s}function d(t,e){var n,i=!0;return(n=p(t,e.pop()))&&e.length&&(i=function(t,e){var n,i=!0;for(;t.parentNode&&1===t.parentNode.nodeType&&e.length;)i&&(n=e.pop()),t=t.parentNode,i=p(t,n);return 0===e.length}(t,e)),n&&i&&0===e.length}function p(t,e){var n,i,r=t.nodeName,o=t.getAttribute("class"),s=t.getAttribute("id");if(n=new RegExp("^"+r,"i"),e=e.replace(n,""),s&&e.length&&(n=new RegExp("#"+s+"(?![a-zA-Z\\-]+)","i"),e=e.replace(n,"")),o&&e.length)for(i=(o=o.split(" ")).length;i--;)n=new RegExp("\\."+o[i]+"(?![a-zA-Z\\-]+)","i"),e=e.replace(n,"");return 0===e.length}function g(t,e){var n;if(t.getElementById&&(n=t.getElementById(e)),n)return n;var i,r,o,s=t.getElementsByTagName("*");for(r=0,o=s.length;r<o;r++)if(e===(i=s[r]).getAttribute("id"))return i}e.svgValidTagNamesRegEx=h(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),e.svgViewBoxElementsRegEx=h(["symbol","image","marker","pattern","view","svg"]),e.svgInvalidAncestorsRegEx=h(["pattern","defs","symbol","metadata","clipPath","mask","desc"]),e.svgValidParentsRegEx=h(["symbol","g","a","svg","clipPath","defs"]),e.cssRules={},e.gradientDefs={},e.clipPaths={},e.parseTransformAttribute=function(){function t(t,n,i){t[i]=Math.tan(e.util.degreesToRadians(n[0]))}var n=e.iMatrix,i=e.reNum,r="(?:\\s+,?\\s*|,\\s*)",o="(?:"+("(?:(matrix)\\s*\\(\\s*("+i+")"+r+"("+i+")"+r+"("+i+")"+r+"("+i+")"+r+"("+i+")"+r+"("+i+")\\s*\\))")+"|"+("(?:(translate)\\s*\\(\\s*("+i+")(?:"+r+"("+i+"))?\\s*\\))")+"|"+("(?:(scale)\\s*\\(\\s*("+i+")(?:"+r+"("+i+"))?\\s*\\))")+"|"+("(?:(rotate)\\s*\\(\\s*("+i+")(?:"+r+"("+i+")"+r+"("+i+"))?\\s*\\))")+"|"+("(?:(skewX)\\s*\\(\\s*("+i+")\\s*\\))")+"|"+("(?:(skewY)\\s*\\(\\s*("+i+")\\s*\\))")+")",s=new RegExp("^\\s*(?:"+("(?:"+o+"(?:"+r+"*"+o+")*)")+"?)\\s*$"),a=new RegExp(o,"g");return function(i){var r=n.concat(),u=[];if(!i||i&&!s.test(i))return r;i.replace(a,(function(i){var s=new RegExp(o).exec(i).filter((function(t){return!!t})),a=s[1],l=s.slice(2).map(parseFloat);switch(a){case"translate":!function(t,e){t[4]=e[0],2===e.length&&(t[5]=e[1])}(r,l);break;case"rotate":l[0]=e.util.degreesToRadians(l[0]),function(t,n){var i=e.util.cos(n[0]),r=e.util.sin(n[0]),o=0,s=0;3===n.length&&(o=n[1],s=n[2]),t[0]=i,t[1]=r,t[2]=-r,t[3]=i,t[4]=o-(i*o-r*s),t[5]=s-(r*o+i*s)}(r,l);break;case"scale":!function(t,e){var n=e[0],i=2===e.length?e[1]:e[0];t[0]=n,t[3]=i}(r,l);break;case"skewX":t(r,l,2);break;case"skewY":t(r,l,1);break;case"matrix":r=l}u.push(r.concat()),r=n.concat()}));for(var l=u[0];u.length>1;)u.shift(),l=e.util.multiplyTransformMatrices(l,u[0]);return l}}();var v=new RegExp("^\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*$");function m(t){var n,i,r,s,a,u,l=t.getAttribute("viewBox"),c=1,h=1,f=t.getAttribute("width"),d=t.getAttribute("height"),p=t.getAttribute("x")||0,g=t.getAttribute("y")||0,m=t.getAttribute("preserveAspectRatio")||"",y=!l||!e.svgViewBoxElementsRegEx.test(t.nodeName)||!(l=l.match(v)),x=!f||!d||"100%"===f||"100%"===d,E=y&&x,b={},C="",w=0,_=0;if(b.width=0,b.height=0,b.toBeParsed=E,E)return b;if(y)return b.width=o(f),b.height=o(d),b;if(n=-parseFloat(l[1]),i=-parseFloat(l[2]),r=parseFloat(l[3]),s=parseFloat(l[4]),b.minX=n,b.minY=i,b.viewBoxWidth=r,b.viewBoxHeight=s,x?(b.width=r,b.height=s):(b.width=o(f),b.height=o(d),c=b.width/r,h=b.height/s),"none"!==(m=e.util.parsePreserveAspectRatioAttribute(m)).alignX&&("meet"===m.meetOrSlice&&(h=c=c>h?h:c),"slice"===m.meetOrSlice&&(h=c=c>h?c:h),w=b.width-r*c,_=b.height-s*c,"Mid"===m.alignX&&(w/=2),"Mid"===m.alignY&&(_/=2),"Min"===m.alignX&&(w=0),"Min"===m.alignY&&(_=0)),1===c&&1===h&&0===n&&0===i&&0===p&&0===g)return b;if((p||g)&&(C=" translate("+o(p)+" "+o(g)+") "),a=C+" matrix("+c+" 0 0 "+h+" "+(n*c+w)+" "+(i*h+_)+") ",b.viewboxTransform=e.parseTransformAttribute(a),"svg"===t.nodeName){for(u=t.ownerDocument.createElementNS(e.svgNS,"g");t.firstChild;)u.appendChild(t.firstChild);t.appendChild(u)}else a=(u=t).getAttribute("transform")+a;return u.setAttribute("transform",a),b}function y(t,e){var n=g(t,e.getAttribute("xlink:href").substr(1));if(n&&n.getAttribute("xlink:href")&&y(t,n),["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"].forEach((function(t){n&&!e.hasAttribute(t)&&n.hasAttribute(t)&&e.setAttribute(t,n.getAttribute(t))})),!e.children.length)for(var i=n.cloneNode(!0);i.firstChild;)e.appendChild(i.firstChild);e.removeAttribute("xlink:href")}e.parseSVGDocument=function(t,n,r,o){if(t){!function(t){for(var n=f(t,["use","svg:use"]),i=0;n.length&&i<n.length;){var r,o,s,a,u=n[i],l=(u.getAttribute("xlink:href")||u.getAttribute("href")).substr(1),c=u.getAttribute("x")||0,h=u.getAttribute("y")||0,d=g(t,l).cloneNode(!0),p=(d.getAttribute("transform")||"")+" translate("+c+", "+h+")",v=n.length,y=e.svgNS;if(m(d),/^svg$/i.test(d.nodeName)){var x=d.ownerDocument.createElementNS(y,"g");for(o=0,a=(s=d.attributes).length;o<a;o++)r=s.item(o),x.setAttributeNS(y,r.nodeName,r.nodeValue);for(;d.firstChild;)x.appendChild(d.firstChild);d=x}for(o=0,a=(s=u.attributes).length;o<a;o++)"x"!==(r=s.item(o)).nodeName&&"y"!==r.nodeName&&"xlink:href"!==r.nodeName&&"href"!==r.nodeName&&("transform"===r.nodeName?p=r.nodeValue+" "+p:d.setAttribute(r.nodeName,r.nodeValue));d.setAttribute("transform",p),d.setAttribute("instantiated_by_use","1"),d.removeAttribute("id"),u.parentNode.replaceChild(d,u),n.length===v&&i++}}(t);var s,a,u=e.Object.__uid++,l=m(t),c=e.util.toArray(t.getElementsByTagName("*"));if(l.crossOrigin=o&&o.crossOrigin,l.svgUid=u,0===c.length&&e.isLikelyNode){var h=[];for(s=0,a=(c=t.selectNodes('//*[name(.)!="svg"]')).length;s<a;s++)h[s]=c[s];c=h}var d=c.filter((function(t){return m(t),e.svgValidTagNamesRegEx.test(t.nodeName.replace("svg:",""))&&!function(t,e){for(;t&&(t=t.parentNode);)if(t.nodeName&&e.test(t.nodeName.replace("svg:",""))&&!t.getAttribute("instantiated_by_use"))return!0;return!1}(t,e.svgInvalidAncestorsRegEx)}));if(!d||d&&!d.length)n&&n([],{});else{var p={};c.filter((function(t){return"clipPath"===t.nodeName.replace("svg:","")})).forEach((function(t){var n=t.getAttribute("id");p[n]=e.util.toArray(t.getElementsByTagName("*")).filter((function(t){return e.svgValidTagNamesRegEx.test(t.nodeName.replace("svg:",""))}))})),e.gradientDefs[u]=e.getGradientDefs(t),e.cssRules[u]=e.getCSSRules(t),e.clipPaths[u]=p,e.parseElements(d,(function(t,i){n&&(n(t,l,i,c),delete e.gradientDefs[u],delete e.cssRules[u],delete e.clipPaths[u])}),i(l),r,o)}}};var x=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+e.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+e.reNum+"))?\\s+(.*)");n(e,{parseFontDeclaration:function(t,e){var n=t.match(x);if(n){var i=n[1],r=n[3],s=n[4],a=n[5],u=n[6];i&&(e.fontStyle=i),r&&(e.fontWeight=isNaN(parseFloat(r))?r:parseFloat(r)),s&&(e.fontSize=o(s)),u&&(e.fontFamily=u),a&&(e.lineHeight="normal"===a?1:a)}},getGradientDefs:function(t){var e,n=f(t,["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"]),i=0,r={};for(i=n.length;i--;)(e=n[i]).getAttribute("xlink:href")&&y(t,e),r[e.getAttribute("id")]=e;return r},parseAttributes:function(t,i,s){if(t){var a,h,f,p={};void 0===s&&(s=t.getAttribute("svgUid")),t.parentNode&&e.svgValidParentsRegEx.test(t.parentNode.nodeName)&&(p=e.parseAttributes(t.parentNode,i,s));var g=i.reduce((function(e,n){return(a=t.getAttribute(n))&&(e[n]=a),e}),{}),v=n(function(t,n){var i={};for(var r in e.cssRules[n])if(d(t,r.split(" ")))for(var o in e.cssRules[n][r])i[o]=e.cssRules[n][r][o];return i}(t,s),e.parseStyleAttribute(t));g=n(g,v),v["clip-path"]&&t.setAttribute("clip-path",v["clip-path"]),h=f=p.fontSize||e.Text.DEFAULT_SVG_FONT_SIZE,g["font-size"]&&(g["font-size"]=h=o(g["font-size"],f));var m,y,x={};for(var E in g)y=c(m=l(E),g[E],p,h),x[m]=y;x&&x.font&&e.parseFontDeclaration(x.font,x);var b=n(p,x);return e.svgValidParentsRegEx.test(t.nodeName)?b:function(t){for(var n in u)if(void 0!==t[u[n]]&&""!==t[n]){if(void 0===t[n]){if(!e.Object.prototype[n])continue;t[n]=e.Object.prototype[n]}if(0!==t[n].indexOf("url(")){var i=new e.Color(t[n]);t[n]=i.setAlpha(r(i.getAlpha()*t[u[n]],2)).toRgba()}}return t}(b)}},parseElements:function(t,n,i,r,o){new e.ElementsParser(t,n,i,r,o).parse()},parseStyleAttribute:function(t){var e={},n=t.getAttribute("style");return n?("string"==typeof n?function(t,e){var n,i;t.replace(/;\s*$/,"").split(";").forEach((function(t){var r=t.split(":");n=r[0].trim().toLowerCase(),i=r[1].trim(),e[n]=i}))}(n,e):function(t,e){var n,i;for(var r in t)void 0!==t[r]&&(n=r.toLowerCase(),i=t[r],e[n]=i)}(n,e),e):e},parsePointsAttribute:function(t){if(!t)return null;var e,n,i=[];for(e=0,n=(t=(t=t.replace(/,/g," ").trim()).split(/\s+/)).length;e<n;e+=2)i.push({x:parseFloat(t[e]),y:parseFloat(t[e+1])});return i},getCSSRules:function(t){var n,i,r=t.getElementsByTagName("style"),o={};for(n=0,i=r.length;n<i;n++){var s=r[n].textContent||r[n].text;""!==(s=s.replace(/\/\*[\s\S]*?\*\//g,"")).trim()&&s.match(/[^{]*\{[\s\S]*?\}/g).map((function(t){return t.trim()})).forEach((function(t){var r=t.match(/([\s\S]*?)\s*\{([^}]*)\}/),s={},a=r[2].trim().replace(/;$/,"").split(/\s*;\s*/);for(n=0,i=a.length;n<i;n++){var u=a[n].split(/\s*:\s*/),l=u[0],c=u[1];s[l]=c}(t=r[1]).split(",").forEach((function(t){""!==(t=t.replace(/^svg/i,"").trim())&&(o[t]?e.util.object.extend(o[t],s):o[t]=e.util.object.clone(s))}))}))}return o},loadSVGFromURL:function(t,n,i,r){t=t.replace(/^\n\s*/,"").trim(),new e.util.request(t,{method:"get",onComplete:function(t){var o=t.responseXML;o&&!o.documentElement&&e.window.ActiveXObject&&t.responseText&&((o=new ActiveXObject("Microsoft.XMLDOM")).async="false",o.loadXML(t.responseText.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,"")));if(!o||!o.documentElement)return n&&n(null),!1;e.parseSVGDocument(o.documentElement,(function(t,e,i,r){n&&n(t,e,i,r)}),i,r)}})},loadSVGFromString:function(t,n,i,r){var o;if(t=t.trim(),void 0!==e.window.DOMParser){var s=new e.window.DOMParser;s&&s.parseFromString&&(o=s.parseFromString(t,"text/xml"))}else e.window.ActiveXObject&&((o=new ActiveXObject("Microsoft.XMLDOM")).async="false",o.loadXML(t.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,"")));e.parseSVGDocument(o.documentElement,(function(t,e,i,r){n(t,e,i,r)}),i,r)}})}(e),D.ElementsParser=function(t,e,n,i,r,o){this.elements=t,this.callback=e,this.options=n,this.reviver=i,this.svgUid=n&&n.svgUid||0,this.parsingOptions=r,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=o},(x=D.ElementsParser.prototype).parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},x.createObjects=function(){var t=this;this.elements.forEach((function(e,n){e.setAttribute("svgUid",t.svgUid),t.createObject(e,n)}))},x.findTag=function(t){return D[D.util.string.capitalize(t.tagName.replace("svg:",""))]},x.createObject=function(t,e){var n=this.findTag(t);if(n&&n.fromElement)try{n.fromElement(t,this.createCallback(e,t),this.options)}catch(t){D.log(t)}else this.checkIfDone()},x.createCallback=function(t,e){var n=this;return function(i){var r;n.resolveGradient(i,e,"fill"),n.resolveGradient(i,e,"stroke"),i instanceof D.Image&&i._originalElement&&(r=i.parsePreserveAspectRatioAttribute(e)),i._removeTransformMatrix(r),n.resolveClipPath(i,e),n.reviver&&n.reviver(e,i),n.instances[t]=i,n.checkIfDone()}},x.extractPropertyDefinition=function(t,e,n){var i=t[e],r=this.regexUrl;if(r.test(i)){r.lastIndex=0;var o=r.exec(i)[1];return r.lastIndex=0,D[n][this.svgUid][o]}},x.resolveGradient=function(t,e,n){var i=this.extractPropertyDefinition(t,n,"gradientDefs");if(i){var r=e.getAttribute(n+"-opacity"),o=D.Gradient.fromElement(i,t,r,this.options);t.set(n,o)}},x.createClipPathCallback=function(t,e){return function(t){t._removeTransformMatrix(),t.fillRule=t.clipRule,e.push(t)}},x.resolveClipPath=function(t,e){var n,i,r,o,s=this.extractPropertyDefinition(t,"clipPath","clipPaths");if(s){r=[],i=D.util.invertTransform(t.calcTransformMatrix());for(var a=s[0].parentNode,u=e;u.parentNode&&u.getAttribute("clip-path")!==t.clipPath;)u=u.parentNode;u.parentNode.appendChild(a);for(var l=0;l<s.length;l++)n=s[l],this.findTag(n).fromElement(n,this.createClipPathCallback(t,r),this.options);s=1===r.length?r[0]:new D.Group(r),o=D.util.multiplyTransformMatrices(i,s.calcTransformMatrix()),s.clipPath&&this.resolveClipPath(s,u);var c=D.util.qrDecompose(o);s.flipX=!1,s.flipY=!1,s.set("scaleX",c.scaleX),s.set("scaleY",c.scaleY),s.angle=c.angle,s.skewX=c.skewX,s.skewY=0,s.setPositionByOrigin({x:c.translateX,y:c.translateY},"center","center"),t.clipPath=s}},x.checkIfDone=function(){0==--this.numElements&&(this.instances=this.instances.filter((function(t){return null!=t})),this.callback(this.instances,this.elements))},function(t){var e=t.fabric||(t.fabric={});function n(t,e){this.x=t,this.y=e}e.Point?e.warn("fabric.Point is already defined"):(e.Point=n,n.prototype={type:"point",constructor:n,add:function(t){return new n(this.x+t.x,this.y+t.y)},addEquals:function(t){return this.x+=t.x,this.y+=t.y,this},scalarAdd:function(t){return new n(this.x+t,this.y+t)},scalarAddEquals:function(t){return this.x+=t,this.y+=t,this},subtract:function(t){return new n(this.x-t.x,this.y-t.y)},subtractEquals:function(t){return this.x-=t.x,this.y-=t.y,this},scalarSubtract:function(t){return new n(this.x-t,this.y-t)},scalarSubtractEquals:function(t){return this.x-=t,this.y-=t,this},multiply:function(t){return new n(this.x*t,this.y*t)},multiplyEquals:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return new n(this.x/t,this.y/t)},divideEquals:function(t){return this.x/=t,this.y/=t,this},eq:function(t){return this.x===t.x&&this.y===t.y},lt:function(t){return this.x<t.x&&this.y<t.y},lte:function(t){return this.x<=t.x&&this.y<=t.y},gt:function(t){return this.x>t.x&&this.y>t.y},gte:function(t){return this.x>=t.x&&this.y>=t.y},lerp:function(t,e){return void 0===e&&(e=.5),e=Math.max(Math.min(1,e),0),new n(this.x+(t.x-this.x)*e,this.y+(t.y-this.y)*e)},distanceFrom:function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},midPointFrom:function(t){return this.lerp(t)},min:function(t){return new n(Math.min(this.x,t.x),Math.min(this.y,t.y))},max:function(t){return new n(Math.max(this.x,t.x),Math.max(this.y,t.y))},toString:function(){return this.x+","+this.y},setXY:function(t,e){return this.x=t,this.y=e,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setFromPoint:function(t){return this.x=t.x,this.y=t.y,this},swap:function(t){var e=this.x,n=this.y;this.x=t.x,this.y=t.y,t.x=e,t.y=n},clone:function(){return new n(this.x,this.y)}})}(e),function(t){var e=t.fabric||(t.fabric={});function n(t){this.status=t,this.points=[]}e.Intersection?e.warn("fabric.Intersection is already defined"):(e.Intersection=n,e.Intersection.prototype={constructor:n,appendPoint:function(t){return this.points.push(t),this},appendPoints:function(t){return this.points=this.points.concat(t),this}},e.Intersection.intersectLineLine=function(t,i,r,o){var s,a=(o.x-r.x)*(t.y-r.y)-(o.y-r.y)*(t.x-r.x),u=(i.x-t.x)*(t.y-r.y)-(i.y-t.y)*(t.x-r.x),l=(o.y-r.y)*(i.x-t.x)-(o.x-r.x)*(i.y-t.y);if(0!==l){var c=a/l,h=u/l;0<=c&&c<=1&&0<=h&&h<=1?(s=new n("Intersection")).appendPoint(new e.Point(t.x+c*(i.x-t.x),t.y+c*(i.y-t.y))):s=new n}else s=new n(0===a||0===u?"Coincident":"Parallel");return s},e.Intersection.intersectLinePolygon=function(t,e,i){var r,o,s,a,u=new n,l=i.length;for(a=0;a<l;a++)r=i[a],o=i[(a+1)%l],s=n.intersectLineLine(t,e,r,o),u.appendPoints(s.points);return u.points.length>0&&(u.status="Intersection"),u},e.Intersection.intersectPolygonPolygon=function(t,e){var i,r=new n,o=t.length;for(i=0;i<o;i++){var s=t[i],a=t[(i+1)%o],u=n.intersectLinePolygon(s,a,e);r.appendPoints(u.points)}return r.points.length>0&&(r.status="Intersection"),r},e.Intersection.intersectPolygonRectangle=function(t,i,r){var o=i.min(r),s=i.max(r),a=new e.Point(s.x,o.y),u=new e.Point(o.x,s.y),l=n.intersectLinePolygon(o,a,t),c=n.intersectLinePolygon(a,s,t),h=n.intersectLinePolygon(s,u,t),f=n.intersectLinePolygon(u,o,t),d=new n;return d.appendPoints(l.points),d.appendPoints(c.points),d.appendPoints(h.points),d.appendPoints(f.points),d.points.length>0&&(d.status="Intersection"),d})}(e),function(t){var e=t.fabric||(t.fabric={});function n(t){t?this._tryParsingColor(t):this.setSource([0,0,0,1])}function i(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}e.Color?e.warn("fabric.Color is already defined."):(e.Color=n,e.Color.prototype={_tryParsingColor:function(t){var e;t in n.colorNameMap&&(t=n.colorNameMap[t]),"transparent"===t&&(e=[255,255,255,0]),e||(e=n.sourceFromHex(t)),e||(e=n.sourceFromRgb(t)),e||(e=n.sourceFromHsl(t)),e||(e=[0,0,0,1]),e&&this.setSource(e)},_rgbToHsl:function(t,n,i){t/=255,n/=255,i/=255;var r,o,s,a=e.util.array.max([t,n,i]),u=e.util.array.min([t,n,i]);if(s=(a+u)/2,a===u)r=o=0;else{var l=a-u;switch(o=s>.5?l/(2-a-u):l/(a+u),a){case t:r=(n-i)/l+(n<i?6:0);break;case n:r=(i-t)/l+2;break;case i:r=(t-n)/l+4}r/=6}return[Math.round(360*r),Math.round(100*o),Math.round(100*s)]},getSource:function(){return this._source},setSource:function(t){this._source=t},toRgb:function(){var t=this.getSource();return"rgb("+t[0]+","+t[1]+","+t[2]+")"},toRgba:function(){var t=this.getSource();return"rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")"},toHsl:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsl("+e[0]+","+e[1]+"%,"+e[2]+"%)"},toHsla:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsla("+e[0]+","+e[1]+"%,"+e[2]+"%,"+t[3]+")"},toHex:function(){var t,e,n,i=this.getSource();return t=1===(t=i[0].toString(16)).length?"0"+t:t,e=1===(e=i[1].toString(16)).length?"0"+e:e,n=1===(n=i[2].toString(16)).length?"0"+n:n,t.toUpperCase()+e.toUpperCase()+n.toUpperCase()},toHexa:function(){var t,e=this.getSource();return t=1===(t=(t=Math.round(255*e[3])).toString(16)).length?"0"+t:t,this.toHex()+t.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(t){var e=this.getSource();return e[3]=t,this.setSource(e),this},toGrayscale:function(){var t=this.getSource(),e=parseInt((.3*t[0]+.59*t[1]+.11*t[2]).toFixed(0),10),n=t[3];return this.setSource([e,e,e,n]),this},toBlackWhite:function(t){var e=this.getSource(),n=(.3*e[0]+.59*e[1]+.11*e[2]).toFixed(0),i=e[3];return t=t||127,n=Number(n)<Number(t)?0:255,this.setSource([n,n,n,i]),this},overlayWith:function(t){t instanceof n||(t=new n(t));var e,i=[],r=this.getAlpha(),o=this.getSource(),s=t.getSource();for(e=0;e<3;e++)i.push(Math.round(.5*o[e]+.5*s[e]));return i[3]=r,this.setSource(i),this}},e.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,e.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,e.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,e.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},e.Color.fromRgb=function(t){return n.fromSource(n.sourceFromRgb(t))},e.Color.sourceFromRgb=function(t){var e=t.match(n.reRGBa);if(e){var i=parseInt(e[1],10)/(/%$/.test(e[1])?100:1)*(/%$/.test(e[1])?255:1),r=parseInt(e[2],10)/(/%$/.test(e[2])?100:1)*(/%$/.test(e[2])?255:1),o=parseInt(e[3],10)/(/%$/.test(e[3])?100:1)*(/%$/.test(e[3])?255:1);return[parseInt(i,10),parseInt(r,10),parseInt(o,10),e[4]?parseFloat(e[4]):1]}},e.Color.fromRgba=n.fromRgb,e.Color.fromHsl=function(t){return n.fromSource(n.sourceFromHsl(t))},e.Color.sourceFromHsl=function(t){var e=t.match(n.reHSLa);if(e){var r,o,s,a=(parseFloat(e[1])%360+360)%360/360,u=parseFloat(e[2])/(/%$/.test(e[2])?100:1),l=parseFloat(e[3])/(/%$/.test(e[3])?100:1);if(0===u)r=o=s=l;else{var c=l<=.5?l*(u+1):l+u-l*u,h=2*l-c;r=i(h,c,a+1/3),o=i(h,c,a),s=i(h,c,a-1/3)}return[Math.round(255*r),Math.round(255*o),Math.round(255*s),e[4]?parseFloat(e[4]):1]}},e.Color.fromHsla=n.fromHsl,e.Color.fromHex=function(t){return n.fromSource(n.sourceFromHex(t))},e.Color.sourceFromHex=function(t){if(t.match(n.reHex)){var e=t.slice(t.indexOf("#")+1),i=3===e.length||4===e.length,r=8===e.length||4===e.length,o=i?e.charAt(0)+e.charAt(0):e.substring(0,2),s=i?e.charAt(1)+e.charAt(1):e.substring(2,4),a=i?e.charAt(2)+e.charAt(2):e.substring(4,6),u=r?i?e.charAt(3)+e.charAt(3):e.substring(6,8):"FF";return[parseInt(o,16),parseInt(s,16),parseInt(a,16),parseFloat((parseInt(u,16)/255).toFixed(2))]}},e.Color.fromSource=function(t){var e=new n;return e.setSource(t),e})}(e),function(){function t(t,e){var n,i,r,o,s=t.getAttribute("style"),a=t.getAttribute("offset")||0;if(a=(a=parseFloat(a)/(/%$/.test(a)?100:1))<0?0:a>1?1:a,s){var u=s.split(/\s*;\s*/);for(""===u[u.length-1]&&u.pop(),o=u.length;o--;){var l=u[o].split(/\s*:\s*/),c=l[0].trim(),h=l[1].trim();"stop-color"===c?n=h:"stop-opacity"===c&&(r=h)}}return n||(n=t.getAttribute("stop-color")||"rgb(0,0,0)"),r||(r=t.getAttribute("stop-opacity")),i=(n=new D.Color(n)).getAlpha(),r=isNaN(parseFloat(r))?1:parseFloat(r),r*=i*e,{offset:a,color:n.toRgb(),opacity:r}}var e=D.util.object.clone;function n(t,e,n,i){var o,s;(0,r.default)(e).forEach((function(t){"Infinity"===(o=e[t])?s=1:"-Infinity"===o?s=0:(s=parseFloat(e[t],10),"string"==typeof o&&/^(\d+\.\d+)%|(\d+)%$/.test(o)&&(s*=.01,"pixels"===i&&("x1"!==t&&"x2"!==t&&"r2"!==t||(s*=n.viewBoxWidth||n.width),"y1"!==t&&"y2"!==t||(s*=n.viewBoxHeight||n.height)))),e[t]=s}))}D.Gradient=D.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(t){t||(t={}),t.coords||(t.coords={});var e,n=this;(0,r.default)(t).forEach((function(e){n[e]=t[e]})),this.id?this.id+="_"+D.Object.__uid++:this.id=D.Object.__uid++,e={x1:t.coords.x1||0,y1:t.coords.y1||0,x2:t.coords.x2||0,y2:t.coords.y2||0},"radial"===this.type&&(e.r1=t.coords.r1||0,e.r2=t.coords.r2||0),this.coords=e,this.colorStops=t.colorStops.slice()},addColorStop:function(t){for(var e in t){var n=new D.Color(t[e]);this.colorStops.push({offset:parseFloat(e),color:n.toRgb(),opacity:n.getAlpha()})}return this},toObject:function(t){var e={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return D.util.populateWithProperties(this,e,t),e},toSVG:function(t,n){var i,r,o,s,a=e(this.coords,!0),u=(n=n||{},e(this.colorStops,!0)),l=a.r1>a.r2,c=this.gradientTransform?this.gradientTransform.concat():D.iMatrix.concat(),h=-this.offsetX,f=-this.offsetY,d=!!n.additionalTransform,p="pixels"===this.gradientUnits?"userSpaceOnUse":"objectBoundingBox";if(u.sort((function(t,e){return t.offset-e.offset})),"objectBoundingBox"===p?(h/=t.width,f/=t.height):(h+=t.width/2,f+=t.height/2),"path"===t.type&&(h-=t.pathOffset.x,f-=t.pathOffset.y),c[4]-=h,c[5]-=f,s='id="SVGID_'+this.id+'" gradientUnits="'+p+'"',s+=' gradientTransform="'+(d?n.additionalTransform+" ":"")+D.util.matrixToSVG(c)+'" ',"linear"===this.type?o=["<linearGradient ",s,' x1="',a.x1,'" y1="',a.y1,'" x2="',a.x2,'" y2="',a.y2,'">\n']:"radial"===this.type&&(o=["<radialGradient ",s,' cx="',l?a.x1:a.x2,'" cy="',l?a.y1:a.y2,'" r="',l?a.r1:a.r2,'" fx="',l?a.x2:a.x1,'" fy="',l?a.y2:a.y1,'">\n']),"radial"===this.type){if(l)for((u=u.concat()).reverse(),i=0,r=u.length;i<r;i++)u[i].offset=1-u[i].offset;var g=Math.min(a.r1,a.r2);if(g>0){var v=g/Math.max(a.r1,a.r2);for(i=0,r=u.length;i<r;i++)u[i].offset+=v*(1-u[i].offset)}}for(i=0,r=u.length;i<r;i++){var m=u[i];o.push("<stop ",'offset="',100*m.offset+"%",'" style="stop-color:',m.color,void 0!==m.opacity?";stop-opacity: "+m.opacity:";",'"/>\n')}return o.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),o.join("")},toLive:function(t,e){var n,i,r,o=D.util.object.clone(this.coords),s=o.x1,a=o.y1,u=o.x2,l=o.y2,c=this.colorStops;if(this.type){for(e instanceof D.Text&&"percentage"===this.gradientUnits&&(s*=e.width,a*=e.height,u*=e.width,l*=e.height),"linear"===this.type?n=t.createLinearGradient(s,a,u,l):"radial"===this.type&&(n=t.createRadialGradient(s,a,o.r1,u,l,o.r2)),i=0,r=c.length;i<r;i++){var h=c[i].color,f=c[i].opacity,d=c[i].offset;void 0!==f&&(h=new D.Color(h).setAlpha(f).toRgba()),n.addColorStop(d,h)}return n}}}),D.util.object.extend(D.Gradient,{fromElement:function(e,i,r,o){var s=parseFloat(r)/(/%$/.test(r)?100:1);s=s<0?0:s>1?1:s,isNaN(s)&&(s=1);var a,u,l,c,h=e.getElementsByTagName("stop"),f="userSpaceOnUse"===e.getAttribute("gradientUnits")?"pixels":"percentage",d=e.getAttribute("gradientTransform")||"",p=[],g=0,v=0;for("linearGradient"===e.nodeName||"LINEARGRADIENT"===e.nodeName?(a="linear",u=function(t){return{x1:t.getAttribute("x1")||0,y1:t.getAttribute("y1")||0,x2:t.getAttribute("x2")||"100%",y2:t.getAttribute("y2")||0}}(e)):(a="radial",u=function(t){return{x1:t.getAttribute("fx")||t.getAttribute("cx")||"50%",y1:t.getAttribute("fy")||t.getAttribute("cy")||"50%",r1:0,x2:t.getAttribute("cx")||"50%",y2:t.getAttribute("cy")||"50%",r2:t.getAttribute("r")||"50%"}}(e)),l=h.length;l--;)p.push(t(h[l],s));return c=D.parseTransformAttribute(d),n(i,u,o,f),"pixels"===f&&(g=-i.left,v=-i.top),new D.Gradient({id:e.getAttribute("id"),type:a,coords:u,colorStops:p,gradientUnits:f,gradientTransform:c,offsetX:g,offsetY:v})},forObject:function(t,e){return e||(e={}),n(t,e.coords,e.gradientUnits,{viewBoxWidth:100,viewBoxHeight:100}),new D.Gradient(e)}})}(),E=D.util.toFixed,D.Pattern=D.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(t,e){if(t||(t={}),this.id=D.Object.__uid++,this.setOptions(t),!t.source||t.source&&"string"!=typeof t.source)e&&e(this);else if(void 0!==D.util.getFunctionBody(t.source))this.source=new Function(D.util.getFunctionBody(t.source)),e&&e(this);else{var n=this;this.source=D.util.createImage(),D.util.loadImage(t.source,(function(t){n.source=t,e&&e(n)}),null,this.crossOrigin)}},toObject:function(t){var e,n,i=D.Object.NUM_FRACTION_DIGITS;return"function"==typeof this.source?e=String(this.source):"string"==typeof this.source.src?e=this.source.src:"object"===(0,o.default)(this.source)&&this.source.toDataURL&&(e=this.source.toDataURL()),n={type:"pattern",source:e,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:E(this.offsetX,i),offsetY:E(this.offsetY,i),patternTransform:this.patternTransform?this.patternTransform.concat():null},D.util.populateWithProperties(this,n,t),n},toSVG:function(t){var e="function"==typeof this.source?this.source():this.source,n=e.width/t.width,i=e.height/t.height,r=this.offsetX/t.width,o=this.offsetY/t.height,s="";return"repeat-x"!==this.repeat&&"no-repeat"!==this.repeat||(i=1,o&&(i+=Math.abs(o))),"repeat-y"!==this.repeat&&"no-repeat"!==this.repeat||(n=1,r&&(n+=Math.abs(r))),e.src?s=e.src:e.toDataURL&&(s=e.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+r+'" y="'+o+'" width="'+n+'" height="'+i+'">\n<image x="0" y="0" width="'+e.width+'" height="'+e.height+'" xlink:href="'+s+'"></image>\n</pattern>\n'},setOptions:function(t){for(var e in t)this[e]=t[e]},toLive:function(t){var e="function"==typeof this.source?this.source():this.source;if(!e)return"";if(void 0!==e.src){if(!e.complete)return"";if(0===e.naturalWidth||0===e.naturalHeight)return""}return t.createPattern(e,this.repeat)}}),function(t){var e=t.fabric||(t.fabric={}),n=e.util.toFixed;e.Shadow?e.warn("fabric.Shadow is already defined."):(e.Shadow=e.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(t){for(var n in"string"==typeof t&&(t=this._parseShadow(t)),t)this[n]=t[n];this.id=e.Object.__uid++},_parseShadow:function(t){var n=t.trim(),i=e.Shadow.reOffsetsAndBlur.exec(n)||[];return{color:(n.replace(e.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)").trim(),offsetX:parseInt(i[1],10)||0,offsetY:parseInt(i[2],10)||0,blur:parseInt(i[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(t){var i=40,r=40,o=e.Object.NUM_FRACTION_DIGITS,s=e.util.rotateVector({x:this.offsetX,y:this.offsetY},e.util.degreesToRadians(-t.angle)),a=new e.Color(this.color);return t.width&&t.height&&(i=100*n((Math.abs(s.x)+this.blur)/t.width,o)+20,r=100*n((Math.abs(s.y)+this.blur)/t.height,o)+20),t.flipX&&(s.x*=-1),t.flipY&&(s.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+r+'%" height="'+(100+2*r)+'%" x="-'+i+'%" width="'+(100+2*i)+'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="'+n(this.blur?this.blur/2:0,o)+'"></feGaussianBlur>\n\t<feOffset dx="'+n(s.x,o)+'" dy="'+n(s.y,o)+'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="'+a.toRgb()+'" flood-opacity="'+a.getAlpha()+'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var t={},n=e.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach((function(e){this[e]!==n[e]&&(t[e]=this[e])}),this),t}}),e.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:px)?(?:\s?|$))?(-?\d+(?:px)?(?:\s?|$))?(\d+(?:px)?)?(?:\s?|$)(?:$|\s)/)}(e),function(){if(D.StaticCanvas)D.warn("fabric.StaticCanvas is already defined.");else{var t=D.util.object.extend,e=D.util.getElementOffset,n=D.util.removeFromArray,i=D.util.toFixed,r=D.util.transformPoint,o=D.util.invertTransform,s=D.util.getNodeCanvas,a=D.util.createCanvasElement,u=new Error("Could not initialize `canvas` element");D.StaticCanvas=D.util.createClass(D.CommonMethods,{initialize:function(t,e){e||(e={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(t,e)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,clipTo:null,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:D.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,onBeforeScaleRotate:function(){},enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(t,e){var n=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(t),this._initOptions(e),this._setImageSmoothing(),this.interactive||this._initRetinaScaling(),e.overlayImage&&this.setOverlayImage(e.overlayImage,n),e.backgroundImage&&this.setBackgroundImage(e.backgroundImage,n),e.backgroundColor&&this.setBackgroundColor(e.backgroundColor,n),e.overlayColor&&this.setOverlayColor(e.overlayColor,n),this.calcOffset()},_isRetinaScaling:function(){return 1!==D.devicePixelRatio&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?D.devicePixelRatio:1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var t=D.devicePixelRatio;this.__initRetinaScaling(t,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(t,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(t,e,n){e.setAttribute("width",this.width*t),e.setAttribute("height",this.height*t),n.scale(t,t)},calcOffset:function(){return this._offset=e(this.lowerCanvasEl),this},setOverlayImage:function(t,e,n){return this.__setBgOverlayImage("overlayImage",t,e,n)},setBackgroundImage:function(t,e,n){return this.__setBgOverlayImage("backgroundImage",t,e,n)},setOverlayColor:function(t,e){return this.__setBgOverlayColor("overlayColor",t,e)},setBackgroundColor:function(t,e){return this.__setBgOverlayColor("backgroundColor",t,e)},_setImageSmoothing:function(){var t=this.getContext();t.imageSmoothingEnabled=t.imageSmoothingEnabled||t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled||t.oImageSmoothingEnabled,t.imageSmoothingEnabled=this.imageSmoothingEnabled},__setBgOverlayImage:function(t,e,n,i){return"string"==typeof e?D.util.loadImage(e,(function(e){if(e){var r=new D.Image(e,i);this[t]=r,r.canvas=this}n&&n(e)}),this,i&&i.crossOrigin):(i&&e.setOptions(i),this[t]=e,e&&(e.canvas=this),n&&n(e)),this},__setBgOverlayColor:function(t,e,n){return this[t]=e,this._initGradient(e,t),this._initPattern(e,t,n),this},_createCanvasElement:function(){var t=a();if(!t)throw u;if(t.style||(t.style={}),void 0===t.getContext)throw u;return t},_initOptions:function(t){var e=this.lowerCanvasEl;this._setOptions(t),this.width=this.width||parseInt(e.width,10)||0,this.height=this.height||parseInt(e.height,10)||0,this.lowerCanvasEl.style&&(e.width=this.width,e.height=this.height,e.style.width=this.width+"px",e.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(t){t&&t.getContext?this.lowerCanvasEl=t:this.lowerCanvasEl=D.util.getById(t)||this._createCanvasElement(),D.util.addClass(this.lowerCanvasEl,"lower-canvas"),this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(t,e){return this.setDimensions({width:t},e)},setHeight:function(t,e){return this.setDimensions({height:t},e)},setDimensions:function(t,e){var n;for(var i in e=e||{},t)n=t[i],e.cssOnly||(this._setBackstoreDimension(i,t[i]),n+="px",this.hasLostContext=!0),e.backstoreOnly||this._setCssDimension(i,n);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(),this._initRetinaScaling(),this._setImageSmoothing(),this.calcOffset(),e.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(t,e){return this.lowerCanvasEl[t]=e,this.upperCanvasEl&&(this.upperCanvasEl[t]=e),this.cacheCanvasEl&&(this.cacheCanvasEl[t]=e),this[t]=e,this},_setCssDimension:function(t,e){return this.lowerCanvasEl.style[t]=e,this.upperCanvasEl&&(this.upperCanvasEl.style[t]=e),this.wrapperEl&&(this.wrapperEl.style[t]=e),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(t){var e,n,i,r=this._activeObject;for(this.viewportTransform=t,n=0,i=this._objects.length;n<i;n++)(e=this._objects[n]).group||e.setCoords(!1,!0);return r&&"activeSelection"===r.type&&r.setCoords(!1,!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(t,e){var n=t,i=this.viewportTransform.slice(0);t=r(t,o(this.viewportTransform)),i[0]=e,i[3]=e;var s=r(t,i);return i[4]+=n.x-s.x,i[5]+=n.y-s.y,this.setViewportTransform(i)},setZoom:function(t){return this.zoomToPoint(new D.Point(0,0),t),this},absolutePan:function(t){var e=this.viewportTransform.slice(0);return e[4]=-t.x,e[5]=-t.y,this.setViewportTransform(e)},relativePan:function(t){return this.absolutePan(new D.Point(-t.x-this.viewportTransform[4],-t.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(t){this.stateful&&t.setupState(),t._set("canvas",this),t.setCoords(),this.fire("object:added",{target:t}),t.fire("added")},_onObjectRemoved:function(t){this.fire("object:removed",{target:t}),t.fire("removed"),delete t.canvas},clearContext:function(t){return t&&t.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this._objects.length=0,this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var t=this.contextContainer;return this.renderCanvas(t,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=D.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var t={},e=this.width,n=this.height,i=o(this.viewportTransform);return t.tl=r({x:0,y:0},i),t.br=r({x:e,y:n},i),t.tr=new D.Point(t.br.x,t.tl.y),t.bl=new D.Point(t.tl.x,t.br.y),this.vptCoords=t,t},cancelRequestedRender:function(){this.isRendering&&(D.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(t,e){if(!t)return null;var n=this.viewportTransform,i=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(t),this.fire("before:render",{ctx:t}),this.clipTo&&D.util.clipContext(this,t),this._renderBackground(t),t.save(),t.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this._renderObjects(t,e),t.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(t),this.clipTo&&t.restore(),i&&(i.canvas=this,i.shouldCache(),i._transformDone=!0,i.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(t)),this._renderOverlay(t),this.controlsAboveOverlay&&this.interactive&&this.drawControls(t),this.fire("after:render",{ctx:t})},drawClipPathOnCanvas:function(t){var e=this.viewportTransform,n=this.clipPath;t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t.globalCompositeOperation="destination-in",n.transform(t),t.scale(1/n.zoomX,1/n.zoomY),t.drawImage(n._cacheCanvas,-n.cacheTranslationX,-n.cacheTranslationY),t.restore()},_renderObjects:function(t,e){var n,i;for(n=0,i=e.length;n<i;++n)e[n]&&e[n].render(t)},_renderBackgroundOrOverlay:function(t,e){var n=this[e+"Color"],i=this[e+"Image"],r=this.viewportTransform,o=this[e+"Vpt"];if(n||i){if(n){t.save(),t.beginPath(),t.moveTo(0,0),t.lineTo(this.width,0),t.lineTo(this.width,this.height),t.lineTo(0,this.height),t.closePath(),t.fillStyle=n.toLive?n.toLive(t,this):n,o&&t.transform(r[0],r[1],r[2],r[3],r[4],r[5]),t.transform(1,0,0,1,n.offsetX||0,n.offsetY||0);var s=n.gradientTransform||n.patternTransform;s&&t.transform(s[0],s[1],s[2],s[3],s[4],s[5]),t.fill(),t.restore()}i&&(t.save(),o&&t.transform(r[0],r[1],r[2],r[3],r[4],r[5]),i.render(t),t.restore())}},_renderBackground:function(t){this._renderBackgroundOrOverlay(t,"background")},_renderOverlay:function(t){this._renderBackgroundOrOverlay(t,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},centerObjectH:function(t){return this._centerObject(t,new D.Point(this.getCenter().left,t.getCenterPoint().y))},centerObjectV:function(t){return this._centerObject(t,new D.Point(t.getCenterPoint().x,this.getCenter().top))},centerObject:function(t){var e=this.getCenter();return this._centerObject(t,new D.Point(e.left,e.top))},viewportCenterObject:function(t){var e=this.getVpCenter();return this._centerObject(t,e)},viewportCenterObjectH:function(t){var e=this.getVpCenter();return this._centerObject(t,new D.Point(e.x,t.getCenterPoint().y)),this},viewportCenterObjectV:function(t){var e=this.getVpCenter();return this._centerObject(t,new D.Point(t.getCenterPoint().x,e.y))},getVpCenter:function(){var t=this.getCenter(),e=o(this.viewportTransform);return r({x:t.left,y:t.top},e)},_centerObject:function(t,e){return t.setPositionByOrigin(e,"center","center"),t.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(t){return this.toDatalessObject(t)},toObject:function(t){return this._toObjectMethod("toObject",t)},toDatalessObject:function(t){return this._toObjectMethod("toDatalessObject",t)},_toObjectMethod:function(e,n){var i=this.clipPath,r={version:D.version,objects:this._toObjects(e,n)};return i&&(r.clipPath=this._toObject(this.clipPath,e,n)),t(r,this.__serializeBgOverlay(e,n)),D.util.populateWithProperties(this,r,n),r},_toObjects:function(t,e){return this._objects.filter((function(t){return!t.excludeFromExport})).map((function(n){return this._toObject(n,t,e)}),this)},_toObject:function(t,e,n){var i;this.includeDefaultValues||(i=t.includeDefaultValues,t.includeDefaultValues=!1);var r=t[e](n);return this.includeDefaultValues||(t.includeDefaultValues=i),r},__serializeBgOverlay:function(t,e){var n={},i=this.backgroundImage,r=this.overlayImage;return this.backgroundColor&&(n.background=this.backgroundColor.toObject?this.backgroundColor.toObject(e):this.backgroundColor),this.overlayColor&&(n.overlay=this.overlayColor.toObject?this.overlayColor.toObject(e):this.overlayColor),i&&!i.excludeFromExport&&(n.backgroundImage=this._toObject(i,t,e)),r&&!r.excludeFromExport&&(n.overlayImage=this._toObject(r,t,e)),n},svgViewportTransformation:!0,toSVG:function(t,e){t||(t={}),t.reviver=e;var n=[];return this._setSVGPreamble(n,t),this._setSVGHeader(n,t),this.clipPath&&n.push('<g clip-path="url(#'+this.clipPath.clipPathId+')" >\n'),this._setSVGBgOverlayColor(n,"background"),this._setSVGBgOverlayImage(n,"backgroundImage",e),this._setSVGObjects(n,e),this.clipPath&&n.push("</g>\n"),this._setSVGBgOverlayColor(n,"overlay"),this._setSVGBgOverlayImage(n,"overlayImage",e),n.push("</svg>"),n.join("")},_setSVGPreamble:function(t,e){e.suppressPreamble||t.push('<?xml version="1.0" encoding="',e.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(t,e){var n,r=e.width||this.width,o=e.height||this.height,s='viewBox="0 0 '+this.width+" "+this.height+'" ',a=D.Object.NUM_FRACTION_DIGITS;e.viewBox?s='viewBox="'+e.viewBox.x+" "+e.viewBox.y+" "+e.viewBox.width+" "+e.viewBox.height+'" ':this.svgViewportTransformation&&(n=this.viewportTransform,s='viewBox="'+i(-n[4]/n[0],a)+" "+i(-n[5]/n[3],a)+" "+i(this.width/n[0],a)+" "+i(this.height/n[3],a)+'" '),t.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',r,'" ','height="',o,'" ',s,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",D.version,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(e),"</defs>\n")},createSVGClipPathMarkup:function(t){var e=this.clipPath;return e?(e.clipPathId="CLIPPATH_"+D.Object.__uid++,'<clipPath id="'+e.clipPathId+'" >\n'+this.clipPath.toClipPathSVG(t.reviver)+"</clipPath>\n"):""},createSVGRefElementsMarkup:function(){var t=this;return["background","overlay"].map((function(e){var n=t[e+"Color"];if(n&&n.toLive){var i=t[e+"Vpt"],r=t.viewportTransform,o={width:t.width/(i?r[0]:1),height:t.height/(i?r[3]:1)};return n.toSVG(o,{additionalTransform:i?D.util.matrixToSVG(r):""})}})).join("")},createSVGFontFacesMarkup:function(){var t,e,n,i,r,o,s,a,u="",l={},c=D.fontPaths,h=this._objects;for(s=0,a=h.length;s<a;s++)if(e=(t=h[s]).fontFamily,-1!==t.type.indexOf("text")&&!l[e]&&c[e]&&(l[e]=!0,t.styles))for(r in n=t.styles)for(o in i=n[r])!l[e=i[o].fontFamily]&&c[e]&&(l[e]=!0);for(var f in l)u+=["\t\t@font-face {\n","\t\t\tfont-family: '",f,"';\n","\t\t\tsrc: url('",c[f],"');\n","\t\t}\n"].join("");return u&&(u=['\t<style type="text/css">',"<![CDATA[\n",u,"]]>","</style>\n"].join("")),u},_setSVGObjects:function(t,e){var n,i,r,o=this._objects;for(i=0,r=o.length;i<r;i++)(n=o[i]).excludeFromExport||this._setSVGObject(t,n,e)},_setSVGObject:function(t,e,n){t.push(e.toSVG(n))},_setSVGBgOverlayImage:function(t,e,n){this[e]&&!this[e].excludeFromExport&&this[e].toSVG&&t.push(this[e].toSVG(n))},_setSVGBgOverlayColor:function(t,e){var n=this[e+"Color"],i=this.viewportTransform,r=this.width,o=this.height;if(n)if(n.toLive){var s=n.repeat,a=D.util.invertTransform(i),u=this[e+"Vpt"]?D.util.matrixToSVG(a):"";t.push('<rect transform="'+u+" translate(",r/2,",",o/2,')"',' x="',n.offsetX-r/2,'" y="',n.offsetY-o/2,'" ','width="',"repeat-y"===s||"no-repeat"===s?n.source.width:r,'" height="',"repeat-x"===s||"no-repeat"===s?n.source.height:o,'" fill="url(#SVGID_'+n.id+')"',"></rect>\n")}else t.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',n,'"',"></rect>\n")},sendToBack:function(t){if(!t)return this;var e,i,r,o=this._activeObject;if(t===o&&"activeSelection"===t.type)for(e=(r=o._objects).length;e--;)i=r[e],n(this._objects,i),this._objects.unshift(i);else n(this._objects,t),this._objects.unshift(t);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(t){if(!t)return this;var e,i,r,o=this._activeObject;if(t===o&&"activeSelection"===t.type)for(r=o._objects,e=0;e<r.length;e++)i=r[e],n(this._objects,i),this._objects.push(i);else n(this._objects,t),this._objects.push(t);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(t,e){if(!t)return this;var i,r,o,s,a,u=this._activeObject,l=0;if(t===u&&"activeSelection"===t.type)for(a=u._objects,i=0;i<a.length;i++)r=a[i],(o=this._objects.indexOf(r))>0+l&&(s=o-1,n(this._objects,r),this._objects.splice(s,0,r)),l++;else 0!==(o=this._objects.indexOf(t))&&(s=this._findNewLowerIndex(t,o,e),n(this._objects,t),this._objects.splice(s,0,t));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(t,e,n){var i,r;if(n)for(i=e,r=e-1;r>=0;--r){if(t.intersectsWithObject(this._objects[r])||t.isContainedWithinObject(this._objects[r])||this._objects[r].isContainedWithinObject(t)){i=r;break}}else i=e-1;return i},bringForward:function(t,e){if(!t)return this;var i,r,o,s,a,u=this._activeObject,l=0;if(t===u&&"activeSelection"===t.type)for(i=(a=u._objects).length;i--;)r=a[i],(o=this._objects.indexOf(r))<this._objects.length-1-l&&(s=o+1,n(this._objects,r),this._objects.splice(s,0,r)),l++;else(o=this._objects.indexOf(t))!==this._objects.length-1&&(s=this._findNewUpperIndex(t,o,e),n(this._objects,t),this._objects.splice(s,0,t));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(t,e,n){var i,r,o;if(n)for(i=e,r=e+1,o=this._objects.length;r<o;++r){if(t.intersectsWithObject(this._objects[r])||t.isContainedWithinObject(this._objects[r])||this._objects[r].isContainedWithinObject(t)){i=r;break}}else i=e+1;return i},moveTo:function(t,e){return n(this._objects,t),this._objects.splice(e,0,t),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(D.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject((function(t){t.dispose&&t.dispose()})),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,D.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),t(D.StaticCanvas.prototype,D.Observable),t(D.StaticCanvas.prototype,D.Collection),t(D.StaticCanvas.prototype,D.DataURLExporter),t(D.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(t){var e=a();if(!e||!e.getContext)return null;var n=e.getContext("2d");if(!n)return null;switch(t){case"setLineDash":return void 0!==n.setLineDash;default:return null}}}),D.StaticCanvas.prototype.toJSON=D.StaticCanvas.prototype.toObject,D.isLikelyNode&&(D.StaticCanvas.prototype.createPNGStream=function(){var t=s(this.lowerCanvasEl);return t&&t.createPNGStream()},D.StaticCanvas.prototype.createJPEGStream=function(t){var e=s(this.lowerCanvasEl);return e&&e.createJPEGStream(t)})}}(),D.BaseBrush=D.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,setShadow:function(t){return this.shadow=new D.Shadow(t),this},_setBrushStyles:function(){var t=this.canvas.contextTop;t.strokeStyle=this.color,t.lineWidth=this.width,t.lineCap=this.strokeLineCap,t.miterLimit=this.strokeMiterLimit,t.lineJoin=this.strokeLineJoin,D.StaticCanvas.supports("setLineDash")&&t.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(t){var e=this.canvas.viewportTransform;t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5])},_setShadow:function(){if(this.shadow){var t=this.canvas,e=this.shadow,n=t.contextTop,i=t.getZoom();t&&t._isRetinaScaling()&&(i*=D.devicePixelRatio),n.shadowColor=e.color,n.shadowBlur=e.blur*i,n.shadowOffsetX=e.offsetX*i,n.shadowOffsetY=e.offsetY*i}},needsFullRender:function(){return new D.Color(this.color).getAlpha()<1||!!this.shadow},_resetShadow:function(){var t=this.canvas.contextTop;t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0}}),D.PencilBrush=D.util.createClass(D.BaseBrush,{decimate:.4,initialize:function(t){this.canvas=t,this._points=[]},_drawSegment:function(t,e,n){var i=e.midPointFrom(n);return t.quadraticCurveTo(e.x,e.y,i.x,i.y),i},onMouseDown:function(t,e){this.canvas._isMainEvent(e.e)&&(this._prepareForDrawing(t),this._captureDrawingPath(t),this._render())},onMouseMove:function(t,e){if(this.canvas._isMainEvent(e.e)&&this._captureDrawingPath(t)&&this._points.length>1)if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var n=this._points,i=n.length,r=this.canvas.contextTop;this._saveAndTransform(r),this.oldEnd&&(r.beginPath(),r.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(r,n[i-2],n[i-1],!0),r.stroke(),r.restore()}},onMouseUp:function(t){return!this.canvas._isMainEvent(t.e)||(this.oldEnd=void 0,this._finalizeAndAddPath(),!1)},_prepareForDrawing:function(t){var e=new D.Point(t.x,t.y);this._reset(),this._addPoint(e),this.canvas.contextTop.moveTo(e.x,e.y)},_addPoint:function(t){return!(this._points.length>1&&t.eq(this._points[this._points.length-1])||(this._points.push(t),0))},_reset:function(){this._points=[],this._setBrushStyles(),this._setShadow()},_captureDrawingPath:function(t){var e=new D.Point(t.x,t.y);return this._addPoint(e)},_render:function(){var t,e,n=this.canvas.contextTop,i=this._points[0],r=this._points[1];if(this._saveAndTransform(n),n.beginPath(),2===this._points.length&&i.x===r.x&&i.y===r.y){var o=this.width/1e3;i=new D.Point(i.x,i.y),r=new D.Point(r.x,r.y),i.x-=o,r.x+=o}for(n.moveTo(i.x,i.y),t=1,e=this._points.length;t<e;t++)this._drawSegment(n,i,r),i=this._points[t],r=this._points[t+1];n.lineTo(i.x,i.y),n.stroke(),n.restore()},convertPointsToSVGPath:function(t){var e,n=[],i=this.width/1e3,r=new D.Point(t[0].x,t[0].y),o=new D.Point(t[1].x,t[1].y),s=t.length,a=1,u=0,l=s>2;for(l&&(a=t[2].x<o.x?-1:t[2].x===o.x?0:1,u=t[2].y<o.y?-1:t[2].y===o.y?0:1),n.push("M ",r.x-a*i," ",r.y-u*i," "),e=1;e<s;e++){if(!r.eq(o)){var c=r.midPointFrom(o);n.push("Q ",r.x," ",r.y," ",c.x," ",c.y," ")}r=t[e],e+1<t.length&&(o=t[e+1])}return l&&(a=r.x>t[e-2].x?1:r.x===t[e-2].x?0:-1,u=r.y>t[e-2].y?1:r.y===t[e-2].y?0:-1),n.push("L ",r.x+a*i," ",r.y+u*i),n},createPath:function(t){var e=new D.Path(t,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,e.setShadow(this.shadow)),e},decimatePoints:function(t,e){if(t.length<=2)return t;var n,i=this.canvas.getZoom(),r=Math.pow(e/i,2),o=t.length-1,s=t[0],a=[s];for(n=1;n<o;n++)Math.pow(s.x-t[n].x,2)+Math.pow(s.y-t[n].y,2)>=r&&(s=t[n],a.push(s));return 1===a.length&&a.push(new D.Point(a[0].x,a[0].y)),a},_finalizeAndAddPath:function(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var t=this.convertPointsToSVGPath(this._points).join("");if("M 0 0 Q 0 0 0 0 L 0 0"!==t){var e=this.createPath(t);this.canvas.clearContext(this.canvas.contextTop),this.canvas.add(e),this.canvas.requestRenderAll(),e.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:e})}else this.canvas.requestRenderAll()}}),D.CircleBrush=D.util.createClass(D.BaseBrush,{width:10,initialize:function(t){this.canvas=t,this.points=[]},drawDot:function(t){var e=this.addPoint(t),n=this.canvas.contextTop;this._saveAndTransform(n),this.dot(n,e),n.restore()},dot:function(t,e){t.fillStyle=e.fill,t.beginPath(),t.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),t.closePath(),t.fill()},onMouseDown:function(t){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(t)},_render:function(){var t,e,n=this.canvas.contextTop,i=this.points;for(this._saveAndTransform(n),t=0,e=i.length;t<e;t++)this.dot(n,i[t]);n.restore()},onMouseMove:function(t){this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(t),this._render()):this.drawDot(t)},onMouseUp:function(){var t,e,n=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;var i=[];for(t=0,e=this.points.length;t<e;t++){var r=this.points[t],o=new D.Circle({radius:r.radius,left:r.x,top:r.y,originX:"center",originY:"center",fill:r.fill});this.shadow&&o.setShadow(this.shadow),i.push(o)}var s=new D.Group(i);s.canvas=this.canvas,this.canvas.add(s),this.canvas.fire("path:created",{path:s}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=n,this.canvas.requestRenderAll()},addPoint:function(t){var e=new D.Point(t.x,t.y),n=D.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,i=new D.Color(this.color).setAlpha(D.util.getRandomInt(0,100)/100).toRgba();return e.radius=n,e.fill=i,this.points.push(e),e}}),D.SprayBrush=D.util.createClass(D.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(t){this.canvas=t,this.sprayChunks=[]},onMouseDown:function(t){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(t),this.render(this.sprayChunkPoints)},onMouseMove:function(t){this.addSprayChunk(t),this.render(this.sprayChunkPoints)},onMouseUp:function(){var t=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var e=[],n=0,i=this.sprayChunks.length;n<i;n++)for(var r=this.sprayChunks[n],o=0,s=r.length;o<s;o++){var a=new D.Rect({width:r[o].width,height:r[o].width,left:r[o].x+1,top:r[o].y+1,originX:"center",originY:"center",fill:this.color});e.push(a)}this.optimizeOverlapping&&(e=this._getOptimizedRects(e));var u=new D.Group(e);this.shadow&&u.setShadow(this.shadow),this.canvas.add(u),this.canvas.fire("path:created",{path:u}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=t,this.canvas.requestRenderAll()},_getOptimizedRects:function(t){var e,n,i,r={};for(n=0,i=t.length;n<i;n++)r[e=t[n].left+""+t[n].top]||(r[e]=t[n]);var o=[];for(e in r)o.push(r[e]);return o},render:function(t){var e,n,i=this.canvas.contextTop;for(i.fillStyle=this.color,this._saveAndTransform(i),e=0,n=t.length;e<n;e++){var r=t[e];void 0!==r.opacity&&(i.globalAlpha=r.opacity),i.fillRect(r.x,r.y,r.width,r.width)}i.restore()},_render:function(){var t,e,n=this.canvas.contextTop;for(n.fillStyle=this.color,this._saveAndTransform(n),t=0,e=this.sprayChunks.length;t<e;t++)this.render(this.sprayChunks[t]);n.restore()},addSprayChunk:function(t){this.sprayChunkPoints=[];var e,n,i,r,o=this.width/2;for(r=0;r<this.density;r++){e=D.util.getRandomInt(t.x-o,t.x+o),n=D.util.getRandomInt(t.y-o,t.y+o),i=this.dotWidthVariance?D.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var s=new D.Point(e,n);s.width=i,this.randomOpacity&&(s.opacity=D.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(s)}this.sprayChunks.push(this.sprayChunkPoints)}}),D.PatternBrush=D.util.createClass(D.PencilBrush,{getPatternSrc:function(){var t=D.util.createCanvasElement(),e=t.getContext("2d");return t.width=t.height=25,e.fillStyle=this.color,e.beginPath(),e.arc(10,10,10,0,2*Math.PI,!1),e.closePath(),e.fill(),t},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(t){var e=this.callSuper("createPath",t),n=e._getLeftTopCoords().scalarAdd(e.strokeWidth/2);return e.stroke=new D.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-n.x,offsetY:-n.y}),e}}),function(){var t=D.util.getPointer,e=D.util.degreesToRadians,n=D.util.radiansToDegrees,i=Math.atan2,r=Math.abs,o=D.StaticCanvas.supports("setLineDash");for(var s in D.Canvas=D.util.createClass(D.StaticCanvas,{initialize:function(t,e){e||(e={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(t,e),this._initInteractive(),this._createCacheCanvas()},uniScaleTransform:!1,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=D.PencilBrush&&new D.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var t,e,n,i=this.getActiveObjects();if(i.length>0&&!this.preserveObjectStacking){e=[],n=[];for(var r=0,o=this._objects.length;r<o;r++)t=this._objects[r],-1===i.indexOf(t)?e.push(t):n.push(t);i.length>1&&(this._activeObject._objects=n),e.push.apply(e,n)}else e=this._objects;return e},renderAll:function(){!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&this.renderTopLayer(this.contextTop);var t=this.contextContainer;return this.renderCanvas(t,this._chooseObjectsToRender()),this},renderTopLayer:function(t){t.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(t),this.contextTopDirty=!0),t.restore()},renderTop:function(){var t=this.contextTop;return this.clearContext(t),this.renderTopLayer(t),this.fire("after:render"),this},_resetCurrentTransform:function(){var t=this._currentTransform;t.target.set({scaleX:t.original.scaleX,scaleY:t.original.scaleY,skewX:t.original.skewX,skewY:t.original.skewY,left:t.original.left,top:t.original.top}),this._shouldCenterTransform(t.target)?("center"!==t.originX&&("right"===t.originX?t.mouseXSign=-1:t.mouseXSign=1),"center"!==t.originY&&("bottom"===t.originY?t.mouseYSign=-1:t.mouseYSign=1),t.originX="center",t.originY="center"):(t.originX=t.original.originX,t.originY=t.original.originY)},containsPoint:function(t,e,n){var i,r=n||this.getPointer(t,!0);return i=e.group&&e.group===this._activeObject&&"activeSelection"===e.group.type?this._normalizePointer(e.group,r):{x:r.x,y:r.y},e.containsPoint(i)||e._findTargetCorner(r)},_normalizePointer:function(t,e){var n=t.calcTransformMatrix(),i=D.util.invertTransform(n),r=this.restorePointerVpt(e);return D.util.transformPoint(r,i)},isTargetTransparent:function(t,e,n){if(t.shouldCache()&&t._cacheCanvas&&t!==this._activeObject){var i=this._normalizePointer(t,{x:e,y:n}),r=Math.max(t.cacheTranslationX+i.x*t.zoomX,0),o=Math.max(t.cacheTranslationY+i.y*t.zoomY,0);return D.util.isTransparent(t._cacheContext,Math.round(r),Math.round(o),this.targetFindTolerance)}var s=this.contextCache,a=t.selectionBackgroundColor,u=this.viewportTransform;return t.selectionBackgroundColor="",this.clearContext(s),s.save(),s.transform(u[0],u[1],u[2],u[3],u[4],u[5]),t.render(s),s.restore(),t===this._activeObject&&t._renderControls(s,{hasBorders:!1,transparentCorners:!1},{hasBorders:!1}),t.selectionBackgroundColor=a,D.util.isTransparent(s,e,n,this.targetFindTolerance)},_isSelectionKeyPressed:function(t){return"[object Array]"===Object.prototype.toString.call(this.selectionKey)?!!this.selectionKey.find((function(e){return!0===t[e]})):t[this.selectionKey]},_shouldClearSelection:function(t,e){var n=this.getActiveObjects(),i=this._activeObject;return!e||e&&i&&n.length>1&&-1===n.indexOf(e)&&i!==e&&!this._isSelectionKeyPressed(t)||e&&!e.evented||e&&!e.selectable&&i&&i!==e},_shouldCenterTransform:function(t){if(t){var e,n=this._currentTransform;return"scale"===n.action||"scaleX"===n.action||"scaleY"===n.action?e=this.centeredScaling||t.centeredScaling:"rotate"===n.action&&(e=this.centeredRotation||t.centeredRotation),e?!n.altKey:n.altKey}},_getOriginFromCorner:function(t,e){var n={x:t.originX,y:t.originY};return"ml"===e||"tl"===e||"bl"===e?n.x="right":"mr"!==e&&"tr"!==e&&"br"!==e||(n.x="left"),"tl"===e||"mt"===e||"tr"===e?n.y="bottom":"bl"!==e&&"mb"!==e&&"br"!==e||(n.y="top"),n},_getActionFromCorner:function(t,e,n){if(!e||!t)return"drag";switch(e){case"mtr":return"rotate";case"ml":case"mr":return n[this.altActionKey]?"skewY":"scaleX";case"mt":case"mb":return n[this.altActionKey]?"skewX":"scaleY";default:return"scale"}},_setupCurrentTransform:function(t,n,i){if(n){var r=this.getPointer(t),o=n._findTargetCorner(this.getPointer(t,!0)),s=this._getActionFromCorner(i,o,t,n),a=this._getOriginFromCorner(n,o);this._currentTransform={target:n,action:s,corner:o,scaleX:n.scaleX,scaleY:n.scaleY,skewX:n.skewX,skewY:n.skewY,offsetX:r.x-n.left,offsetY:r.y-n.top,originX:a.x,originY:a.y,ex:r.x,ey:r.y,lastX:r.x,lastY:r.y,theta:e(n.angle),width:n.width*n.scaleX,mouseXSign:1,mouseYSign:1,shiftKey:t.shiftKey,altKey:t[this.centeredKey],original:D.util.saveObjectTransform(n)},this._currentTransform.original.originX=a.x,this._currentTransform.original.originY=a.y,this._resetCurrentTransform(),this._beforeTransform(t)}},_translateObject:function(t,e){var n=this._currentTransform,i=n.target,r=t-n.offsetX,o=e-n.offsetY,s=!i.get("lockMovementX")&&i.left!==r,a=!i.get("lockMovementY")&&i.top!==o;return s&&i.set("left",r),a&&i.set("top",o),s||a},_changeSkewTransformOrigin:function(t,e,n){var i="originX",r={0:"center"},o=e.target.skewX,s="left",a="right",u="mt"===e.corner||"ml"===e.corner?1:-1,l=1;t=t>0?1:-1,"y"===n&&(o=e.target.skewY,s="top",a="bottom",i="originY"),r[-1]=s,r[1]=a,e.target.flipX&&(l*=-1),e.target.flipY&&(l*=-1),0===o?(e.skewSign=-u*t*l,e[i]=r[-t]):(o=o>0?1:-1,e.skewSign=o,e[i]=r[o*u*l])},_skewObject:function(t,e,n){var i,r=this._currentTransform,o=r.target,s=o.get("lockSkewingX"),a=o.get("lockSkewingY");if(s&&"x"===n||a&&"y"===n)return!1;var u,l,c=o.getCenterPoint(),h=o.toLocalPoint(new D.Point(t,e),"center","center")[n],f=o.toLocalPoint(new D.Point(r.lastX,r.lastY),"center","center")[n],d=o._getTransformedDimensions();return this._changeSkewTransformOrigin(h-f,r,n),u=o.toLocalPoint(new D.Point(t,e),r.originX,r.originY)[n],l=o.translateToOriginPoint(c,r.originX,r.originY),i=this._setObjectSkew(u,r,n,d),r.lastX=t,r.lastY=e,o.setPositionByOrigin(l,r.originX,r.originY),i},_setObjectSkew:function(t,e,n,i){var r,o,s,a,u,l,c,h,f,d,p=e.target,g=e.skewSign;return"x"===n?(u="y",l="Y",c="X",f=0,d=p.skewY):(u="x",l="X",c="Y",f=p.skewX,d=0),a=p._getTransformedDimensions(f,d),(h=2*Math.abs(t)-a[n])<=2?r=0:(r=g*Math.atan(h/p["scale"+c]/(a[u]/p["scale"+l])),r=D.util.radiansToDegrees(r)),o=p["skew"+c]!==r,p.set("skew"+c,r),0!==p["skew"+l]&&(s=p._getTransformedDimensions(),r=i[u]/s[u]*p["scale"+l],p.set("scale"+l,r)),o},_scaleObject:function(t,e,n){var i=this._currentTransform,r=i.target,o=r.lockScalingX,s=r.lockScalingY,a=r.lockScalingFlip;if(o&&s)return!1;var u,l=r.translateToOriginPoint(r.getCenterPoint(),i.originX,i.originY),c=r.toLocalPoint(new D.Point(t,e),i.originX,i.originY),h=r._getTransformedDimensions();return this._setLocalMouse(c,i),u=this._setObjectScale(c,i,o,s,n,a,h),r.setPositionByOrigin(l,i.originX,i.originY),u},_setObjectScale:function(t,e,n,i,r,o,s){var a=e.target,u=!1,l=!1,c=!1,h=t.x*a.scaleX/s.x,f=t.y*a.scaleY/s.y,d=a.scaleX!==h,p=a.scaleY!==f;if(e.newScaleX=h,e.newScaleY=f,D.Textbox&&"x"===r&&a instanceof D.Textbox){var g=a.width*(t.x/s.x);return g>=a.getMinWidth()&&(c=g!==a.width,a.set("width",g),c)}return o&&h<=0&&h<a.scaleX&&(u=!0,t.x=0),o&&f<=0&&f<a.scaleY&&(l=!0,t.y=0),"equally"!==r||n||i?r?"x"!==r||a.get("lockUniScaling")?"y"!==r||a.get("lockUniScaling")||l||i||a.set("scaleY",f)&&(c=p):u||n||a.set("scaleX",h)&&(c=d):(u||n||a.set("scaleX",h)&&(c=c||d),l||i||a.set("scaleY",f)&&(c=c||p)):c=this._scaleObjectEqually(t,a,e,s),u||l||this._flipObject(e,r),c},_scaleObjectEqually:function(t,e,n,i){var r,o,s,a=t.y+t.x,u=i.y*n.original.scaleY/e.scaleY+i.x*n.original.scaleX/e.scaleX,l=t.x<0?-1:1,c=t.y<0?-1:1;return o=l*Math.abs(n.original.scaleX*a/u),s=c*Math.abs(n.original.scaleY*a/u),r=o!==e.scaleX||s!==e.scaleY,e.set("scaleX",o),e.set("scaleY",s),r},_flipObject:function(t,e){t.newScaleX<0&&"y"!==e&&("left"===t.originX?t.originX="right":"right"===t.originX&&(t.originX="left")),t.newScaleY<0&&"x"!==e&&("top"===t.originY?t.originY="bottom":"bottom"===t.originY&&(t.originY="top"))},_setLocalMouse:function(t,e){var n=e.target,i=this.getZoom(),o=n.padding/i;"right"===e.originX?t.x*=-1:"center"===e.originX&&(t.x*=2*e.mouseXSign,t.x<0&&(e.mouseXSign=-e.mouseXSign)),"bottom"===e.originY?t.y*=-1:"center"===e.originY&&(t.y*=2*e.mouseYSign,t.y<0&&(e.mouseYSign=-e.mouseYSign)),r(t.x)>o?t.x<0?t.x+=o:t.x-=o:t.x=0,r(t.y)>o?t.y<0?t.y+=o:t.y-=o:t.y=0},_rotateObject:function(t,e){var r=this._currentTransform,o=r.target,s=o.translateToOriginPoint(o.getCenterPoint(),r.originX,r.originY);if(o.lockRotation)return!1;var a=i(r.ey-s.y,r.ex-s.x),u=i(e-s.y,t-s.x),l=n(u-a+r.theta),c=!0;if(o.snapAngle>0){var h=o.snapAngle,f=o.snapThreshold||h,d=Math.ceil(l/h)*h,p=Math.floor(l/h)*h;Math.abs(l-p)<f?l=p:Math.abs(l-d)<f&&(l=d)}return l<0&&(l=360+l),l%=360,o.angle===l?c=!1:(o.angle=l,o.setPositionByOrigin(s,r.originX,r.originY)),c},setCursor:function(t){this.upperCanvasEl.style.cursor=t},_drawSelection:function(t){var e=this._groupSelector,n=e.left,i=e.top,s=r(n),a=r(i);if(this.selectionColor&&(t.fillStyle=this.selectionColor,t.fillRect(e.ex-(n>0?0:-n),e.ey-(i>0?0:-i),s,a)),this.selectionLineWidth&&this.selectionBorderColor)if(t.lineWidth=this.selectionLineWidth,t.strokeStyle=this.selectionBorderColor,this.selectionDashArray.length>1&&!o){var u=e.ex+.5-(n>0?0:s),l=e.ey+.5-(i>0?0:a);t.beginPath(),D.util.drawDashedLine(t,u,l,u+s,l,this.selectionDashArray),D.util.drawDashedLine(t,u,l+a-1,u+s,l+a-1,this.selectionDashArray),D.util.drawDashedLine(t,u,l,u,l+a,this.selectionDashArray),D.util.drawDashedLine(t,u+s-1,l,u+s-1,l+a,this.selectionDashArray),t.closePath(),t.stroke()}else D.Object.prototype._setLineDash.call(this,t,this.selectionDashArray),t.strokeRect(e.ex+.5-(n>0?0:s),e.ey+.5-(i>0?0:a),s,a)},findTarget:function(t,e){if(!this.skipTargetFind){var n,i,r=this.getPointer(t,!0),o=this._activeObject,s=this.getActiveObjects();if(this.targets=[],s.length>1&&!e&&o===this._searchPossibleTargets([o],r))return o;if(1===s.length&&o._findTargetCorner(r))return o;if(1===s.length&&o===this._searchPossibleTargets([o],r)){if(!this.preserveObjectStacking)return o;n=o,i=this.targets,this.targets=[]}var a=this._searchPossibleTargets(this._objects,r);return t[this.altSelectionKey]&&a&&n&&a!==n&&(a=n,this.targets=i),a}},_checkTarget:function(t,e,n){if(e&&e.visible&&e.evented&&this.containsPoint(null,e,t)){if(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing)return!0;if(!this.isTargetTransparent(e,n.x,n.y))return!0}},_searchPossibleTargets:function(t,e){for(var n,i,r=t.length;r--;){var o=t[r],s=o.group&&"activeSelection"!==o.group.type?this._normalizePointer(o.group,e):e;if(this._checkTarget(s,o,e)){(n=t[r]).subTargetCheck&&n instanceof D.Group&&(i=this._searchPossibleTargets(n._objects,e))&&this.targets.push(i);break}}return n},restorePointerVpt:function(t){return D.util.transformPoint(t,D.util.invertTransform(this.viewportTransform))},getPointer:function(e,n){if(this._absolutePointer&&!n)return this._absolutePointer;if(this._pointer&&n)return this._pointer;var i,r=t(e),o=this.upperCanvasEl,s=o.getBoundingClientRect(),a=s.width||0,u=s.height||0;a&&u||("top"in s&&"bottom"in s&&(u=Math.abs(s.top-s.bottom)),"right"in s&&"left"in s&&(a=Math.abs(s.right-s.left))),this.calcOffset(),r.x=r.x-this._offset.left,r.y=r.y-this._offset.top,n||(r=this.restorePointerVpt(r));var l=this.getRetinaScaling();return 1!==l&&(r.x/=l,r.y/=l),i=0===a||0===u?{width:1,height:1}:{width:o.width/a,height:o.height/u},{x:r.x*i.width,y:r.y*i.height}},_createUpperCanvas:function(){var t=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),e=this.lowerCanvasEl,n=this.upperCanvasEl;n?n.className="":(n=this._createCanvasElement(),this.upperCanvasEl=n),D.util.addClass(n,"upper-canvas "+t),this.wrapperEl.appendChild(n),this._copyCanvasStyle(e,n),this._applyCanvasStyle(n),this.contextTop=n.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=D.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),D.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),D.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(t){var e=this.width||t.width,n=this.height||t.height;D.util.setStyle(t,{position:"absolute",width:e+"px",height:n+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),t.width=e,t.height=n,D.util.makeElementUnselectable(t)},_copyCanvasStyle:function(t,e){e.style.cssText=t.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var t=this._activeObject;return t?"activeSelection"===t.type&&t._objects?t._objects.slice(0):[t]:[]},_onObjectRemoved:function(t){t===this._activeObject&&(this.fire("before:selection:cleared",{target:t}),this._discardActiveObject(),this.fire("selection:cleared",{target:t}),t.fire("deselected")),t===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",t)},_fireSelectionEvents:function(t,e){var n=!1,i=this.getActiveObjects(),r=[],o=[],s={e:e};t.forEach((function(t){-1===i.indexOf(t)&&(n=!0,t.fire("deselected",s),o.push(t))})),i.forEach((function(e){-1===t.indexOf(e)&&(n=!0,e.fire("selected",s),r.push(e))})),t.length>0&&i.length>0?(s.selected=r,s.deselected=o,s.updated=r[0]||o[0],s.target=this._activeObject,n&&this.fire("selection:updated",s)):i.length>0?(1===i.length&&(s.target=r[0],this.fire("object:selected",s)),s.selected=r,s.target=this._activeObject,this.fire("selection:created",s)):t.length>0&&(s.deselected=o,this.fire("selection:cleared",s))},setActiveObject:function(t,e){var n=this.getActiveObjects();return this._setActiveObject(t,e),this._fireSelectionEvents(n,e),this},_setActiveObject:function(t,e){return this._activeObject!==t&&(!!this._discardActiveObject(e,t)&&(!t.onSelect({e:e})&&(this._activeObject=t,!0)))},_discardActiveObject:function(t,e){var n=this._activeObject;if(n){if(n.onDeselect({e:t,object:e}))return!1;this._activeObject=null}return!0},discardActiveObject:function(t){var e=this.getActiveObjects(),n=this.getActiveObject();return e.length&&this.fire("before:selection:cleared",{target:n,e:t}),this._discardActiveObject(t),this._fireSelectionEvents(e,t),this},dispose:function(){var t=this.wrapperEl;return this.removeListeners(),t.removeChild(this.upperCanvasEl),t.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(t){D.util.cleanUpJsdomNode(this[t]),this[t]=void 0}.bind(this)),t.parentNode&&t.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,D.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(t){var e=this._activeObject;e&&e._renderControls(t)},_toObject:function(t,e,n){var i=this._realizeGroupTransformOnObject(t),r=this.callSuper("_toObject",t,e,n);return this._unwindGroupTransformOnObject(t,i),r},_realizeGroupTransformOnObject:function(t){if(t.group&&"activeSelection"===t.group.type&&this._activeObject===t.group){var e={};return["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"].forEach((function(n){e[n]=t[n]})),this._activeObject.realizeTransform(t),e}return null},_unwindGroupTransformOnObject:function(t,e){e&&t.set(e)},_setSVGObject:function(t,e,n){var i=this._realizeGroupTransformOnObject(e);this.callSuper("_setSVGObject",t,e,n),this._unwindGroupTransformOnObject(e,i)},setViewportTransform:function(t){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),D.StaticCanvas.prototype.setViewportTransform.call(this,t)}}),D.StaticCanvas)"prototype"!==s&&(D.Canvas[s]=D.StaticCanvas[s])}(),function(){var t={mt:0,tr:1,mr:2,br:3,mb:4,bl:5,ml:6,tl:7},e=D.util.addListener,n=D.util.removeListener,i={passive:!1};function r(t,e){return t.button&&t.button===e-1}D.util.object.extend(D.Canvas.prototype,{cursorMap:["n-resize","ne-resize","e-resize","se-resize","s-resize","sw-resize","w-resize","nw-resize"],mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(e,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(t,e){var n=this.upperCanvasEl,r=this._getEventPrefix();t(D.window,"resize",this._onResize),t(n,r+"down",this._onMouseDown),t(n,r+"move",this._onMouseMove,i),t(n,r+"out",this._onMouseOut),t(n,r+"enter",this._onMouseEnter),t(n,"wheel",this._onMouseWheel),t(n,"contextmenu",this._onContextMenu),t(n,"dblclick",this._onDoubleClick),t(n,"dragover",this._onDragOver),t(n,"dragenter",this._onDragEnter),t(n,"dragleave",this._onDragLeave),t(n,"drop",this._onDrop),this.enablePointerEvents||t(n,"touchstart",this._onTouchStart,i),"undefined"!=typeof eventjs&&e in eventjs&&(eventjs[e](n,"gesture",this._onGesture),eventjs[e](n,"drag",this._onDrag),eventjs[e](n,"orientation",this._onOrientationChange),eventjs[e](n,"shake",this._onShake),eventjs[e](n,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(n,"remove");var t=this._getEventPrefix();n(D.document,t+"up",this._onMouseUp),n(D.document,"touchend",this._onTouchEnd,i),n(D.document,t+"move",this._onMouseMove,i),n(D.document,"touchmove",this._onMouseMove,i)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._simpleEventHandler.bind(this,"drop"),this.eventsBound=!0)},_onGesture:function(t,e){this.__onTransformGesture&&this.__onTransformGesture(t,e)},_onDrag:function(t,e){this.__onDrag&&this.__onDrag(t,e)},_onMouseWheel:function(t){this.__onMouseWheel(t)},_onMouseOut:function(t){var e=this._hoveredTarget;this.fire("mouse:out",{target:e,e:t}),this._hoveredTarget=null,e&&e.fire("mouseout",{e:t});var n=this;this._hoveredTargets.forEach((function(i){n.fire("mouse:out",{target:e,e:t}),i&&e.fire("mouseout",{e:t})})),this._hoveredTargets=[],this._iTextInstances&&this._iTextInstances.forEach((function(t){t.isEditing&&t.hiddenTextarea.focus()}))},_onMouseEnter:function(t){this.currentTransform||this.findTarget(t)||(this.fire("mouse:over",{target:null,e:t}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(t,e){this.__onOrientationChange&&this.__onOrientationChange(t,e)},_onShake:function(t,e){this.__onShake&&this.__onShake(t,e)},_onLongPress:function(t,e){this.__onLongPress&&this.__onLongPress(t,e)},_onDragOver:function(t){t.preventDefault();var e=this._simpleEventHandler("dragover",t);this._fireEnterLeaveEvents(e,t)},_onContextMenu:function(t){return this.stopContextMenu&&(t.stopPropagation(),t.preventDefault()),!1},_onDoubleClick:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"dblclick"),this._resetTransformEventData(t)},getPointerId:function(t){var e=t.changedTouches;return e?e[0]&&e[0].identifier:this.enablePointerEvents?t.pointerId:-1},_isMainEvent:function(t){return!0===t.isPrimary||!1!==t.isPrimary&&("touchend"===t.type&&0===t.touches.length||(!t.changedTouches||t.changedTouches[0].identifier===this.mainTouchId))},_onTouchStart:function(t){t.preventDefault(),null===this.mainTouchId&&(this.mainTouchId=this.getPointerId(t)),this.__onMouseDown(t),this._resetTransformEventData();var r=this.upperCanvasEl,o=this._getEventPrefix();e(D.document,"touchend",this._onTouchEnd,i),e(D.document,"touchmove",this._onMouseMove,i),n(r,o+"down",this._onMouseDown)},_onMouseDown:function(t){this.__onMouseDown(t),this._resetTransformEventData();var r=this.upperCanvasEl,o=this._getEventPrefix();n(r,o+"move",this._onMouseMove,i),e(D.document,o+"up",this._onMouseUp),e(D.document,o+"move",this._onMouseMove,i)},_onTouchEnd:function(t){if(!(t.touches.length>0)){this.__onMouseUp(t),this._resetTransformEventData(),this.mainTouchId=null;var r=this._getEventPrefix();n(D.document,"touchend",this._onTouchEnd,i),n(D.document,"touchmove",this._onMouseMove,i);var o=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout((function(){e(o.upperCanvasEl,r+"down",o._onMouseDown),o._willAddMouseDown=0}),400)}},_onMouseUp:function(t){this.__onMouseUp(t),this._resetTransformEventData();var r=this.upperCanvasEl,o=this._getEventPrefix();this._isMainEvent(t)&&(n(D.document,o+"up",this._onMouseUp),n(D.document,o+"move",this._onMouseMove,i),e(r,o+"move",this._onMouseMove,i))},_onMouseMove:function(t){!this.allowTouchScrolling&&t.preventDefault&&t.preventDefault(),this.__onMouseMove(t)},_onResize:function(){this.calcOffset()},_shouldRender:function(t){var e=this._activeObject;return!!(!!e!=!!t||e&&t&&e!==t)||(e&&e.isEditing,!1)},__onMouseUp:function(t){var e,n=this._currentTransform,i=this._groupSelector,o=!1,s=!i||0===i.left&&0===i.top;if(this._cacheTransformEventData(t),e=this._target,this._handleEvent(t,"up:before"),!r(t,3))return r(t,2)?(this.fireMiddleClick&&this._handleEvent(t,"up",2,s),void this._resetTransformEventData()):void(this.isDrawingMode&&this._isCurrentlyDrawing?this._onMouseUpInDrawingMode(t):this._isMainEvent(t)&&(n&&(this._finalizeCurrentTransform(t),o=n.actionPerformed),s||(this._maybeGroupObjects(t),o||(o=this._shouldRender(e))),e&&(e.isMoving=!1),this._setCursorFromEvent(t,e),this._handleEvent(t,"up",1,s),this._groupSelector=null,this._currentTransform=null,e&&(e.__corner=0),o?this.requestRenderAll():s||this.renderTop()));this.fireRightClick&&this._handleEvent(t,"up",3,s)},_simpleEventHandler:function(t,e){var n=this.findTarget(e),i=this.targets,r={e:e,target:n,subTargets:i};if(this.fire(t,r),n&&n.fire(t,r),!i)return n;for(var o=0;o<i.length;o++)i[o].fire(t,r);return n},_handleEvent:function(t,e,n,i){var r=this._target,o=this.targets||[],s={e:t,target:r,subTargets:o,button:n||1,isClick:i||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};this.fire("mouse:"+e,s),r&&r.fire("mouse"+e,s);for(var a=0;a<o.length;a++)o[a].fire("mouse"+e,s)},_finalizeCurrentTransform:function(t){var e,n=this._currentTransform,i=n.target,r={e:t,target:i,transform:n};i._scaling&&(i._scaling=!1),i.setCoords(),(n.actionPerformed||this.stateful&&i.hasStateChanged())&&(n.actionPerformed&&(e=this._addEventOptions(r,n),this._fire(e,r)),this._fire("modified",r))},_addEventOptions:function(t,e){var n,i;switch(e.action){case"scaleX":n="scaled",i="x";break;case"scaleY":n="scaled",i="y";break;case"skewX":n="skewed",i="x";break;case"skewY":n="skewed",i="y";break;case"scale":n="scaled",i="equally";break;case"rotate":n="rotated";break;case"drag":n="moved"}return t.by=i,n},_onMouseDownInDrawingMode:function(t){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(t).requestRenderAll(),this.clipTo&&D.util.clipContext(this,this.contextTop);var e=this.getPointer(t);this.freeDrawingBrush.onMouseDown(e,{e:t,pointer:e}),this._handleEvent(t,"down")},_onMouseMoveInDrawingMode:function(t){if(this._isCurrentlyDrawing){var e=this.getPointer(t);this.freeDrawingBrush.onMouseMove(e,{e:t,pointer:e})}this.setCursor(this.freeDrawingCursor),this._handleEvent(t,"move")},_onMouseUpInDrawingMode:function(t){this.clipTo&&this.contextTop.restore();var e=this.getPointer(t);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:t,pointer:e}),this._handleEvent(t,"up")},__onMouseDown:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"down:before");var e=this._target;if(r(t,3))this.fireRightClick&&this._handleEvent(t,"down",3);else if(r(t,2))this.fireMiddleClick&&this._handleEvent(t,"down",2);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(t);else if(this._isMainEvent(t)&&!this._currentTransform){var n=this._pointer;this._previousPointer=n;var i=this._shouldRender(e),o=this._shouldGroup(t,e);if(this._shouldClearSelection(t,e)?this.discardActiveObject(t):o&&(this._handleGrouping(t,e),e=this._activeObject),!this.selection||e&&(e.selectable||e.isEditing||e===this._activeObject)||(this._groupSelector={ex:n.x,ey:n.y,top:0,left:0}),e){var s=e===this._activeObject;e.selectable&&this.setActiveObject(e,t),e!==this._activeObject||!e.__corner&&o||this._setupCurrentTransform(t,e,s)}this._handleEvent(t,"down"),(i||o)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(t){this._resetTransformEventData(),this._pointer=this.getPointer(t,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(t)||null},_beforeTransform:function(t){var e=this._currentTransform;this.stateful&&e.target.saveState(),this.fire("before:transform",{e:t,transform:e}),e.corner&&this.onBeforeScaleRotate(e.target)},__onMouseMove:function(t){var e,n;if(this._handleEvent(t,"move:before"),this._cacheTransformEventData(t),this.isDrawingMode)this._onMouseMoveInDrawingMode(t);else if(this._isMainEvent(t)){var i=this._groupSelector;i?(n=this._pointer,i.left=n.x-i.ex,i.top=n.y-i.ey,this.renderTop()):this._currentTransform?this._transformObject(t):(e=this.findTarget(t)||null,this._setCursorFromEvent(t,e),this._fireOverOutEvents(e,t)),this._handleEvent(t,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(t,e){var n=this._hoveredTarget,i=this._hoveredTargets,r=this.targets,o=Math.max(i.length,r.length);this.fireSyntheticInOutEvents(t,e,{oldTarget:n,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var s=0;s<o;s++)this.fireSyntheticInOutEvents(r[s],e,{oldTarget:i[s],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=t,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(t,e){var n=this._draggedoverTarget,i=this._hoveredTargets,r=this.targets,o=Math.max(i.length,r.length);this.fireSyntheticInOutEvents(t,e,{oldTarget:n,evtOut:"dragleave",evtIn:"dragenter"});for(var s=0;s<o;s++)this.fireSyntheticInOutEvents(r[s],e,{oldTarget:i[s],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=t},fireSyntheticInOutEvents:function(t,e,n){var i,r,o,s=n.oldTarget,a=s!==t,u=n.canvasEvtIn,l=n.canvasEvtOut;a&&(i={e:e,target:t,previousTarget:s},r={e:e,target:s,nextTarget:t}),o=t&&a,s&&a&&(l&&this.fire(l,r),s.fire(n.evtOut,r)),o&&(u&&this.fire(u,i),t.fire(n.evtIn,i))},__onMouseWheel:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"wheel"),this._resetTransformEventData()},_transformObject:function(t){var e=this.getPointer(t),n=this._currentTransform;n.reset=!1,n.target.isMoving=!0,n.shiftKey=t.shiftKey,n.altKey=t[this.centeredKey],this._beforeScaleTransform(t,n),this._performTransformAction(t,n,e),n.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(t,e,n){var i=n.x,r=n.y,o=e.action,s=!1,a={target:e.target,e:t,transform:e,pointer:n};"rotate"===o?(s=this._rotateObject(i,r))&&this._fire("rotating",a):"scale"===o?(s=this._onScale(t,e,i,r))&&this._fire("scaling",a):"scaleX"===o?(s=this._scaleObject(i,r,"x"))&&this._fire("scaling",a):"scaleY"===o?(s=this._scaleObject(i,r,"y"))&&this._fire("scaling",a):"skewX"===o?(s=this._skewObject(i,r,"x"))&&this._fire("skewing",a):"skewY"===o?(s=this._skewObject(i,r,"y"))&&this._fire("skewing",a):(s=this._translateObject(i,r))&&(this._fire("moving",a),this.setCursor(a.target.moveCursor||this.moveCursor)),e.actionPerformed=e.actionPerformed||s},_fire:function(t,e){this.fire("object:"+t,e),e.target.fire(t,e)},_beforeScaleTransform:function(t,e){if("scale"===e.action||"scaleX"===e.action||"scaleY"===e.action){var n=this._shouldCenterTransform(e.target);(n&&("center"!==e.originX||"center"!==e.originY)||!n&&"center"===e.originX&&"center"===e.originY)&&(this._resetCurrentTransform(),e.reset=!0)}},_onScale:function(t,e,n,i){return this._isUniscalePossible(t,e.target)?(e.currentAction="scale",this._scaleObject(n,i)):(e.reset||"scale"!==e.currentAction||this._resetCurrentTransform(),e.currentAction="scaleEqually",this._scaleObject(n,i,"equally"))},_isUniscalePossible:function(t,e){return(t[this.uniScaleKey]||this.uniScaleTransform)&&!e.get("lockUniScaling")},_setCursorFromEvent:function(t,e){if(!e)return this.setCursor(this.defaultCursor),!1;var n=e.hoverCursor||this.hoverCursor,i=this._activeObject&&"activeSelection"===this._activeObject.type?this._activeObject:null,r=(!i||!i.contains(e))&&e._findTargetCorner(this.getPointer(t,!0));r?this.setCursor(this.getCornerCursor(r,e,t)):(e.subTargetCheck&&this.targets.concat().reverse().map((function(t){n=t.hoverCursor||n})),this.setCursor(n))},getCornerCursor:function(e,n,i){return this.actionIsDisabled(e,n,i)?this.notAllowedCursor:e in t?this._getRotatedCornerCursor(e,n,i):"mtr"===e&&n.hasRotatingPoint?this.rotationCursor:this.defaultCursor},actionIsDisabled:function(t,e,n){return"mt"===t||"mb"===t?n[this.altActionKey]?e.lockSkewingX:e.lockScalingY:"ml"===t||"mr"===t?n[this.altActionKey]?e.lockSkewingY:e.lockScalingX:"mtr"===t?e.lockRotation:this._isUniscalePossible(n,e)?e.lockScalingX&&e.lockScalingY:e.lockScalingX||e.lockScalingY},_getRotatedCornerCursor:function(e,n,i){var r=Math.round(n.angle%360/45);return r<0&&(r+=8),r+=t[e],i[this.altActionKey]&&t[e]%2==0&&(r+=2),r%=8,this.cursorMap[r]}})}(),b=Math.min,C=Math.max,D.util.object.extend(D.Canvas.prototype,{_shouldGroup:function(t,e){var n=this._activeObject;return n&&this._isSelectionKeyPressed(t)&&e&&e.selectable&&this.selection&&(n!==e||"activeSelection"===n.type)&&!e.onSelect({e:t})},_handleGrouping:function(t,e){var n=this._activeObject;n.__corner||(e!==n||(e=this.findTarget(t,!0))&&e.selectable)&&(n&&"activeSelection"===n.type?this._updateActiveSelection(e,t):this._createActiveSelection(e,t))},_updateActiveSelection:function(t,e){var n=this._activeObject,i=n._objects.slice(0);n.contains(t)?(n.removeWithUpdate(t),this._hoveredTarget=t,this._hoveredTargets=this.targets.concat(),1===n.size()&&this._setActiveObject(n.item(0),e)):(n.addWithUpdate(t),this._hoveredTarget=n,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(i,e)},_createActiveSelection:function(t,e){var n=this.getActiveObjects(),i=this._createGroup(t);this._hoveredTarget=i,this._setActiveObject(i,e),this._fireSelectionEvents(n,e)},_createGroup:function(t){var e=this._objects,n=e.indexOf(this._activeObject)<e.indexOf(t)?[this._activeObject,t]:[t,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new D.ActiveSelection(n,{canvas:this})},_groupSelectedObjects:function(t){var e,n=this._collectObjects(t);1===n.length?this.setActiveObject(n[0],t):n.length>1&&(e=new D.ActiveSelection(n.reverse(),{canvas:this}),this.setActiveObject(e,t))},_collectObjects:function(t){for(var e,n=[],i=this._groupSelector.ex,r=this._groupSelector.ey,o=i+this._groupSelector.left,s=r+this._groupSelector.top,a=new D.Point(b(i,o),b(r,s)),u=new D.Point(C(i,o),C(r,s)),l=!this.selectionFullyContained,c=i===o&&r===s,h=this._objects.length;h--&&!((e=this._objects[h])&&e.selectable&&e.visible&&(l&&e.intersectsWithRect(a,u)||e.isContainedWithinRect(a,u)||l&&e.containsPoint(a)||l&&e.containsPoint(u))&&(n.push(e),c)););return n.length>1&&(n=n.filter((function(e){return!e.onSelect({e:t})}))),n},_maybeGroupObjects:function(t){this.selection&&this._groupSelector&&this._groupSelectedObjects(t),this.setCursor(this.defaultCursor),this._groupSelector=null}}),D.util.object.extend(D.StaticCanvas.prototype,{toDataURL:function(t){t||(t={});var e=t.format||"png",n=t.quality||1,i=(t.multiplier||1)*(t.enableRetinaScaling?this.getRetinaScaling():1),r=this.toCanvasElement(i,t);return D.util.toDataURL(r,e,n)},toCanvasElement:function(t,e){t=t||1;var n=((e=e||{}).width||this.width)*t,i=(e.height||this.height)*t,r=this.getZoom(),o=this.width,s=this.height,a=r*t,u=this.viewportTransform,l=(u[4]-(e.left||0))*t,c=(u[5]-(e.top||0))*t,h=this.interactive,f=[a,0,0,a,l,c],d=this.enableRetinaScaling,p=D.util.createCanvasElement(),g=this.contextTop;return p.width=n,p.height=i,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=f,this.width=n,this.height=i,this.calcViewportBoundaries(),this.renderCanvas(p.getContext("2d"),this._objects),this.viewportTransform=u,this.width=o,this.height=s,this.calcViewportBoundaries(),this.interactive=h,this.enableRetinaScaling=d,this.contextTop=g,p}}),D.util.object.extend(D.StaticCanvas.prototype,{loadFromDatalessJSON:function(t,e,n){return this.loadFromJSON(t,e,n)},loadFromJSON:function(t,e,n){if(t){var i="string"==typeof t?JSON.parse(t):D.util.object.clone(t),r=this,o=i.clipPath,s=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete i.clipPath,this._enlivenObjects(i.objects,(function(t){r.clear(),r._setBgOverlay(i,(function(){o?r._enlivenObjects([o],(function(n){r.clipPath=n[0],r.__setupCanvas.call(r,i,t,s,e)})):r.__setupCanvas.call(r,i,t,s,e)}))}),n),this}},__setupCanvas:function(t,e,n,i){var r=this;e.forEach((function(t,e){r.insertAt(t,e)})),this.renderOnAddRemove=n,delete t.objects,delete t.backgroundImage,delete t.overlayImage,delete t.background,delete t.overlay,this._setOptions(t),this.renderAll(),i&&i()},_setBgOverlay:function(t,e){var n={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(t.backgroundImage||t.overlayImage||t.background||t.overlay){var i=function(){n.backgroundImage&&n.overlayImage&&n.backgroundColor&&n.overlayColor&&e&&e()};this.__setBgOverlay("backgroundImage",t.backgroundImage,n,i),this.__setBgOverlay("overlayImage",t.overlayImage,n,i),this.__setBgOverlay("backgroundColor",t.background,n,i),this.__setBgOverlay("overlayColor",t.overlay,n,i)}else e&&e()},__setBgOverlay:function(t,e,n,i){var r=this;if(!e)return n[t]=!0,void(i&&i());"backgroundImage"===t||"overlayImage"===t?D.util.enlivenObjects([e],(function(e){r[t]=e[0],n[t]=!0,i&&i()})):this["set"+D.util.string.capitalize(t,!0)](e,(function(){n[t]=!0,i&&i()}))},_enlivenObjects:function(t,e,n){t&&0!==t.length?D.util.enlivenObjects(t,(function(t){e&&e(t)}),null,n):e&&e([])},_toDataURL:function(t,e){this.clone((function(n){e(n.toDataURL(t))}))},_toDataURLWithMultiplier:function(t,e,n){this.clone((function(i){n(i.toDataURLWithMultiplier(t,e))}))},clone:function(t,e){var n=(0,i.default)(this.toJSON(e));this.cloneWithoutData((function(e){e.loadFromJSON(n,(function(){t&&t(e)}))}))},cloneWithoutData:function(t){var e=D.util.createCanvasElement();e.width=this.width,e.height=this.height;var n=new D.Canvas(e);n.clipTo=this.clipTo,this.backgroundImage?(n.setBackgroundImage(this.backgroundImage.src,(function(){n.renderAll(),t&&t(n)})),n.backgroundImageOpacity=this.backgroundImageOpacity,n.backgroundImageStretch=this.backgroundImageStretch):t&&t(n)}}),function(t){var e=t.fabric||(t.fabric={}),n=e.util.object.extend,i=e.util.object.clone,r=e.util.toFixed,s=e.util.string.capitalize,a=e.util.degreesToRadians,u=e.StaticCanvas.supports("setLineDash"),l=!e.isLikelyNode;e.Object||(e.Object=e.util.createClass(e.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgba(102,153,255,0.75)",borderDashArray:null,cornerColor:"rgba(102,153,255,0.5)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,transformMatrix:null,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,hasRotatingPoint:!0,rotatingPointOffset:40,perPixelTargetFind:!1,includeDefaultValues:!0,clipTo:null,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockUniScaling:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:l,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow clipTo visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(t){t&&this.setOptions(t)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=e.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(t){var n=e.perfLimitSizeTotal,i=t.width,r=t.height,o=e.maxCacheSideLimit,s=e.minCacheSideLimit;if(i<=o&&r<=o&&i*r<=n)return i<s&&(t.width=s),r<s&&(t.height=s),t;var a=i/r,u=e.util.limitDimsByArea(a,n),l=e.util.capValue,c=l(s,u.x,o),h=l(s,u.y,o);return i>c&&(t.zoomX/=i/c,t.width=c,t.capped=!0),r>h&&(t.zoomY/=r/h,t.height=h,t.capped=!0),t},_getCacheCanvasDimensions:function(){var t=this.getTotalObjectScaling(),e=this._getTransformedDimensions(0,0),n=e.x*t.scaleX/this.scaleX,i=e.y*t.scaleY/this.scaleY;return{width:n+2,height:i+2,zoomX:t.scaleX,zoomY:t.scaleY,x:n,y:i}},_updateCacheCanvas:function(){var t=this.canvas;if(this.noScaleCache&&t&&t._currentTransform){var n=t._currentTransform.target,i=t._currentTransform.action;if(this===n&&i.slice&&"scale"===i.slice(0,5))return!1}var r,o,s=this._cacheCanvas,a=this._limitCacheSize(this._getCacheCanvasDimensions()),u=e.minCacheSideLimit,l=a.width,c=a.height,h=a.zoomX,f=a.zoomY,d=l!==this.cacheWidth||c!==this.cacheHeight,p=this.zoomX!==h||this.zoomY!==f,g=d||p,v=0,m=0,y=!1;if(d){var x=this._cacheCanvas.width,E=this._cacheCanvas.height,b=l>x||c>E;y=b||(l<.9*x||c<.9*E)&&x>u&&E>u,b&&!a.capped&&(l>u||c>u)&&(v=.1*l,m=.1*c)}return!!g&&(y?(s.width=Math.ceil(l+v),s.height=Math.ceil(c+m)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,s.width,s.height)),r=a.x/2,o=a.y/2,this.cacheTranslationX=Math.round(s.width/2-r)+r,this.cacheTranslationY=Math.round(s.height/2-o)+o,this.cacheWidth=l,this.cacheHeight=c,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(h,f),this.zoomX=h,this.zoomY=f,!0)},setOptions:function(t){this._setOptions(t),this._initGradient(t.fill,"fill"),this._initGradient(t.stroke,"stroke"),this._initClipping(t),this._initPattern(t.fill,"fill"),this._initPattern(t.stroke,"stroke")},transform:function(t){var e;e=this.group&&!this.group._transformDone?this.calcTransformMatrix():this.calcOwnMatrix(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5])},toObject:function(t){var n=e.Object.NUM_FRACTION_DIGITS,i={type:this.type,version:e.version,originX:this.originX,originY:this.originY,left:r(this.left,n),top:r(this.top,n),width:r(this.width,n),height:r(this.height,n),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:r(this.strokeWidth,n),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:r(this.strokeMiterLimit,n),scaleX:r(this.scaleX,n),scaleY:r(this.scaleY,n),angle:r(this.angle,n),flipX:this.flipX,flipY:this.flipY,opacity:r(this.opacity,n),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,clipTo:this.clipTo&&String(this.clipTo),backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,transformMatrix:this.transformMatrix?this.transformMatrix.concat():null,skewX:r(this.skewX,n),skewY:r(this.skewY,n)};return this.clipPath&&(i.clipPath=this.clipPath.toObject(t),i.clipPath.inverted=this.clipPath.inverted,i.clipPath.absolutePositioned=this.clipPath.absolutePositioned),e.util.populateWithProperties(this,i,t),this.includeDefaultValues||(i=this._removeDefaultValues(i)),i},toDatalessObject:function(t){return this.toObject(t)},_removeDefaultValues:function(t){var n=e.util.getKlass(t.type).prototype;return n.stateProperties.forEach((function(e){"left"!==e&&"top"!==e&&(t[e]===n[e]&&delete t[e],"[object Array]"===Object.prototype.toString.call(t[e])&&"[object Array]"===Object.prototype.toString.call(n[e])&&0===t[e].length&&0===n[e].length&&delete t[e])})),t},toString:function(){return"#<fabric."+s(this.type)+">"},getObjectScaling:function(){var t=this.scaleX,e=this.scaleY;if(this.group){var n=this.group.getObjectScaling();t*=n.scaleX,e*=n.scaleY}return{scaleX:t,scaleY:e}},getTotalObjectScaling:function(){var t=this.getObjectScaling(),e=t.scaleX,n=t.scaleY;if(this.canvas){var i=this.canvas.getZoom(),r=this.canvas.getRetinaScaling();e*=i*r,n*=i*r}return{scaleX:e,scaleY:n}},getObjectOpacity:function(){var t=this.opacity;return this.group&&(t*=this.group.getObjectOpacity()),t},_set:function(t,n){var i="scaleX"===t||"scaleY"===t,r=this[t]!==n,o=!1;return i&&(n=this._constrainScale(n)),"scaleX"===t&&n<0?(this.flipX=!this.flipX,n*=-1):"scaleY"===t&&n<0?(this.flipY=!this.flipY,n*=-1):"shadow"!==t||!n||n instanceof e.Shadow?"dirty"===t&&this.group&&this.group.set("dirty",n):n=new e.Shadow(n),this[t]=n,r&&(o=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(t)>-1?(this.dirty=!0,o&&this.group.set("dirty",!0)):o&&this.stateProperties.indexOf(t)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:e.iMatrix.concat()},isNotVisible:function(){return 0===this.opacity||0===this.width&&0===this.height&&0===this.strokeWidth||!this.visible},render:function(t){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(t.save(),this._setupCompositeOperation(t),this.drawSelectionBackground(t),this.transform(t),this._setOpacity(t),this._setShadow(t,this),this.transformMatrix&&t.transform.apply(t,this.transformMatrix),this.clipTo&&e.util.clipContext(this,t),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(t)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(t),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),this.clipTo&&t.restore(),t.restore())},renderCache:function(t){t=t||{},this._cacheCanvas||this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,t.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&"transparent"!==this.stroke&&0!==this.strokeWidth},hasFill:function(){return this.fill&&"transparent"!==this.fill},needsItsOwnCache:function(){return!("stroke"!==this.paintFirst||!this.hasFill()||!this.hasStroke()||"object"!==(0,o.default)(this.shadow))||!!this.clipPath},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)},drawClipPathOnCache:function(t){var n=this.clipPath;if(t.save(),n.inverted?t.globalCompositeOperation="destination-out":t.globalCompositeOperation="destination-in",n.absolutePositioned){var i=e.util.invertTransform(this.calcTransformMatrix());t.transform(i[0],i[1],i[2],i[3],i[4],i[5])}n.transform(t),t.scale(1/n.zoomX,1/n.zoomY),t.drawImage(n._cacheCanvas,-n.cacheTranslationX,-n.cacheTranslationY),t.restore()},drawObject:function(t,e){var n=this.fill,i=this.stroke;e?(this.fill="black",this.stroke="",this._setClippingProperties(t)):(this._renderBackground(t),this._setStrokeStyles(t,this),this._setFillStyles(t,this)),this._render(t),this._drawClipPath(t),this.fill=n,this.stroke=i},_drawClipPath:function(t){var e=this.clipPath;e&&(e.canvas=this.canvas,e.shouldCache(),e._transformDone=!0,e.renderCache({forClipping:!0}),this.drawClipPathOnCache(t))},drawCacheOnCanvas:function(t){t.scale(1/this.zoomX,1/this.zoomY),t.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(t){if(this.isNotVisible())return!1;if(this._cacheCanvas&&!t&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&!t){var e=this.cacheWidth/this.zoomX,n=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-e/2,-n/2,e,n)}return!0}return!1},_renderBackground:function(t){if(this.backgroundColor){var e=this._getNonTransformedDimensions();t.fillStyle=this.backgroundColor,t.fillRect(-e.x/2,-e.y/2,e.x,e.y),this._removeShadow(t)}},_setOpacity:function(t){this.group&&!this.group._transformDone?t.globalAlpha=this.getObjectOpacity():t.globalAlpha*=this.opacity},_setStrokeStyles:function(t,e){e.stroke&&(t.lineWidth=e.strokeWidth,t.lineCap=e.strokeLineCap,t.lineDashOffset=e.strokeDashOffset,t.lineJoin=e.strokeLineJoin,t.miterLimit=e.strokeMiterLimit,t.strokeStyle=e.stroke.toLive?e.stroke.toLive(t,this):e.stroke)},_setFillStyles:function(t,e){e.fill&&(t.fillStyle=e.fill.toLive?e.fill.toLive(t,this):e.fill)},_setClippingProperties:function(t){t.globalAlpha=1,t.strokeStyle="transparent",t.fillStyle="#000000"},_setLineDash:function(t,e,n){e&&0!==e.length&&(1&e.length&&e.push.apply(e,e),u?t.setLineDash(e):n&&n(t))},_renderControls:function(t,n){var i,r,o,s=this.getViewportTransform(),u=this.calcTransformMatrix();r=void 0!==(n=n||{}).hasBorders?n.hasBorders:this.hasBorders,o=void 0!==n.hasControls?n.hasControls:this.hasControls,u=e.util.multiplyTransformMatrices(s,u),i=e.util.qrDecompose(u),t.save(),t.translate(i.translateX,i.translateY),t.lineWidth=1*this.borderScaleFactor,this.group||(t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),n.forActiveSelection?(t.rotate(a(i.angle)),r&&this.drawBordersInGroup(t,i,n)):(t.rotate(a(this.angle)),r&&this.drawBorders(t,n)),o&&this.drawControls(t,n),t.restore()},_setShadow:function(t){if(this.shadow){var n,i=this.shadow,r=this.canvas,o=r&&r.viewportTransform[0]||1,s=r&&r.viewportTransform[3]||1;n=i.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),r&&r._isRetinaScaling()&&(o*=e.devicePixelRatio,s*=e.devicePixelRatio),t.shadowColor=i.color,t.shadowBlur=i.blur*e.browserShadowBlurConstant*(o+s)*(n.scaleX+n.scaleY)/4,t.shadowOffsetX=i.offsetX*o*n.scaleX,t.shadowOffsetY=i.offsetY*s*n.scaleY}},_removeShadow:function(t){this.shadow&&(t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0)},_applyPatternGradientTransform:function(t,e){if(!e||!e.toLive)return{offsetX:0,offsetY:0};var n=e.gradientTransform||e.patternTransform,i=-this.width/2+e.offsetX||0,r=-this.height/2+e.offsetY||0;return"percentage"===e.gradientUnits?t.transform(this.width,0,0,this.height,i,r):t.transform(1,0,0,1,i,r),n&&t.transform(n[0],n[1],n[2],n[3],n[4],n[5]),{offsetX:i,offsetY:r}},_renderPaintInOrder:function(t){"stroke"===this.paintFirst?(this._renderStroke(t),this._renderFill(t)):(this._renderFill(t),this._renderStroke(t))},_render:function(){},_renderFill:function(t){this.fill&&(t.save(),this._applyPatternGradientTransform(t,this.fill),"evenodd"===this.fillRule?t.fill("evenodd"):t.fill(),t.restore())},_renderStroke:function(t){this.stroke&&0!==this.strokeWidth&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this.strokeUniform&&t.scale(1/this.scaleX,1/this.scaleY),this._setLineDash(t,this.strokeDashArray,this._renderDashedStroke),this.stroke.toLive&&"percentage"===this.stroke.gradientUnits?this._applyPatternForTransformedGradient(t,this.stroke):this._applyPatternGradientTransform(t,this.stroke),t.stroke(),t.restore())},_applyPatternForTransformedGradient:function(t,n){var i,r=this._limitCacheSize(this._getCacheCanvasDimensions()),o=e.util.createCanvasElement(),s=this.canvas.getRetinaScaling(),a=r.x/this.scaleX/s,u=r.y/this.scaleY/s;o.width=a,o.height=u,(i=o.getContext("2d")).beginPath(),i.moveTo(0,0),i.lineTo(a,0),i.lineTo(a,u),i.lineTo(0,u),i.closePath(),i.translate(a/2,u/2),i.scale(r.zoomX/this.scaleX/s,r.zoomY/this.scaleY/s),this._applyPatternGradientTransform(i,n),i.fillStyle=n.toLive(t),i.fill(),t.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),t.scale(s*this.scaleX/r.zoomX,s*this.scaleY/r.zoomY),t.strokeStyle=i.createPattern(o,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var t=e.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",t.scaleX),this.set("scaleY",t.scaleY),this.angle=t.angle,this.skewX=t.skewX,this.skewY=0}},_removeTransformMatrix:function(t){var n=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),n=e.util.transformPoint(n,this.transformMatrix)),this.transformMatrix=null,t&&(this.scaleX*=t.scaleX,this.scaleY*=t.scaleY,this.cropX=t.cropX,this.cropY=t.cropY,n.x+=t.offsetLeft,n.y+=t.offsetTop,this.width=t.width,this.height=t.height),this.setPositionByOrigin(n,"center","center")},clone:function(t,n){var i=this.toObject(n);this.constructor.fromObject?this.constructor.fromObject(i,t):e.Object._fromObject("Object",i,t)},cloneAsImage:function(t,n){var i=this.toCanvasElement(n);return t&&t(new e.Image(i)),this},toCanvasElement:function(t){t||(t={});var n=e.util,i=n.saveObjectTransform(this),r=this.group,o=this.shadow,s=Math.abs,a=(t.multiplier||1)*(t.enableRetinaScaling?e.devicePixelRatio:1);delete this.group,t.withoutTransform&&n.resetObjectTransform(this),t.withoutShadow&&(this.shadow=null);var u,l,c,h,f=e.util.createCanvasElement(),d=this.getBoundingRect(!0,!0),p=this.shadow,g={x:0,y:0};p&&(l=p.blur,u=p.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),g.x=2*Math.round(s(p.offsetX)+l)*s(u.scaleX),g.y=2*Math.round(s(p.offsetY)+l)*s(u.scaleY)),c=d.width+g.x,h=d.height+g.y,f.width=Math.ceil(c),f.height=Math.ceil(h);var v=new e.StaticCanvas(f,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});"jpeg"===t.format&&(v.backgroundColor="#fff"),this.setPositionByOrigin(new e.Point(v.width/2,v.height/2),"center","center");var m=this.canvas;v.add(this);var y=v.toCanvasElement(a||1,t);return this.shadow=o,this.canvas=m,r&&(this.group=r),this.set(i).setCoords(),v._objects=[],v.dispose(),v=null,y},toDataURL:function(t){return t||(t={}),e.util.toDataURL(this.toCanvasElement(t),t.format||"png",t.quality||1)},isType:function(t){return this.type===t},complexity:function(){return 1},toJSON:function(t){return this.toObject(t)},setGradient:function(t,n){n||(n={});var i={colorStops:[]};return i.type=n.type||(n.r1||n.r2?"radial":"linear"),i.coords={x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2},i.gradientUnits=n.gradientUnits||"pixels",(n.r1||n.r2)&&(i.coords.r1=n.r1,i.coords.r2=n.r2),i.gradientTransform=n.gradientTransform,e.Gradient.prototype.addColorStop.call(i,n.colorStops),this.set(t,e.Gradient.forObject(this,i))},setPatternFill:function(t,n){return this.set("fill",new e.Pattern(t,n))},setShadow:function(t){return this.set("shadow",t?new e.Shadow(t):null)},setColor:function(t){return this.set("fill",t),this},rotate:function(t){var e=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return e&&this._setOriginToCenter(),this.set("angle",t),e&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(t,n){n=n||this.canvas.getPointer(t);var i=new e.Point(n.x,n.y),r=this._getLeftTopCoords();return this.angle&&(i=e.util.rotatePoint(i,r,a(-this.angle))),{x:i.x-r.x,y:i.y-r.y}},_setupCompositeOperation:function(t){this.globalCompositeOperation&&(t.globalCompositeOperation=this.globalCompositeOperation)}}),e.util.createAccessors&&e.util.createAccessors(e.Object),n(e.Object.prototype,e.Observable),e.Object.NUM_FRACTION_DIGITS=2,e.Object._fromObject=function(t,n,r,o){var s=e[t];n=i(n,!0),e.util.enlivenPatterns([n.fill,n.stroke],(function(t){void 0!==t[0]&&(n.fill=t[0]),void 0!==t[1]&&(n.stroke=t[1]),e.util.enlivenObjects([n.clipPath],(function(t){n.clipPath=t[0];var e=o?new s(n[o],n):new s(n);r&&r(e)}))}))},e.Object.__uid=0)}(e),w=D.util.degreesToRadians,_={left:-.5,center:0,right:.5},A={top:-.5,center:0,bottom:.5},D.util.object.extend(D.Object.prototype,{translateToGivenOrigin:function(t,e,n,i,r){var o,s,a,u=t.x,l=t.y;return"string"==typeof e?e=_[e]:e-=.5,"string"==typeof i?i=_[i]:i-=.5,"string"==typeof n?n=A[n]:n-=.5,"string"==typeof r?r=A[r]:r-=.5,s=r-n,((o=i-e)||s)&&(a=this._getTransformedDimensions(),u=t.x+o*a.x,l=t.y+s*a.y),new D.Point(u,l)},translateToCenterPoint:function(t,e,n){var i=this.translateToGivenOrigin(t,e,n,"center","center");return this.angle?D.util.rotatePoint(i,t,w(this.angle)):i},translateToOriginPoint:function(t,e,n){var i=this.translateToGivenOrigin(t,"center","center",e,n);return this.angle?D.util.rotatePoint(i,t,w(this.angle)):i},getCenterPoint:function(){var t=new D.Point(this.left,this.top);return this.translateToCenterPoint(t,this.originX,this.originY)},getPointByOrigin:function(t,e){var n=this.getCenterPoint();return this.translateToOriginPoint(n,t,e)},toLocalPoint:function(t,e,n){var i,r,o=this.getCenterPoint();return i=void 0!==e&&void 0!==n?this.translateToGivenOrigin(o,"center","center",e,n):new D.Point(this.left,this.top),r=new D.Point(t.x,t.y),this.angle&&(r=D.util.rotatePoint(r,o,-w(this.angle))),r.subtractEquals(i)},setPositionByOrigin:function(t,e,n){var i=this.translateToCenterPoint(t,e,n),r=this.translateToOriginPoint(i,this.originX,this.originY);this.set("left",r.x),this.set("top",r.y)},adjustPosition:function(t){var e,n,i=w(this.angle),r=this.getScaledWidth(),o=D.util.cos(i)*r,s=D.util.sin(i)*r;e="string"==typeof this.originX?_[this.originX]:this.originX-.5,n="string"==typeof t?_[t]:t-.5,this.left+=o*(n-e),this.top+=s*(n-e),this.setCoords(),this.originX=t},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var t=this.getCenterPoint();this.originX="center",this.originY="center",this.left=t.x,this.top=t.y},_resetOrigin:function(){var t=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=t.x,this.top=t.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}}),function(){var t=D.util.degreesToRadians,e=D.util.multiplyTransformMatrices,n=D.util.transformPoint;D.util.object.extend(D.Object.prototype,{oCoords:null,aCoords:null,ownMatrixCache:null,matrixCache:null,getCoords:function(t,e){this.oCoords||this.setCoords();var n=t?this.aCoords:this.oCoords;return function(t){return[new D.Point(t.tl.x,t.tl.y),new D.Point(t.tr.x,t.tr.y),new D.Point(t.br.x,t.br.y),new D.Point(t.bl.x,t.bl.y)]}(e?this.calcCoords(t):n)},intersectsWithRect:function(t,e,n,i){var r=this.getCoords(n,i);return"Intersection"===D.Intersection.intersectPolygonRectangle(r,t,e).status},intersectsWithObject:function(t,e,n){return"Intersection"===D.Intersection.intersectPolygonPolygon(this.getCoords(e,n),t.getCoords(e,n)).status||t.isContainedWithinObject(this,e,n)||this.isContainedWithinObject(t,e,n)},isContainedWithinObject:function(t,e,n){for(var i=this.getCoords(e,n),r=0,o=t._getImageLines(n?t.calcCoords(e):e?t.aCoords:t.oCoords);r<4;r++)if(!t.containsPoint(i[r],o))return!1;return!0},isContainedWithinRect:function(t,e,n,i){var r=this.getBoundingRect(n,i);return r.left>=t.x&&r.left+r.width<=e.x&&r.top>=t.y&&r.top+r.height<=e.y},containsPoint:function(t,e,n,i){e=e||this._getImageLines(i?this.calcCoords(n):n?this.aCoords:this.oCoords);var r=this._findCrossPoints(t,e);return 0!==r&&r%2==1},isOnScreen:function(t){if(!this.canvas)return!1;for(var e,n=this.canvas.vptCoords.tl,i=this.canvas.vptCoords.br,r=this.getCoords(!0,t),o=0;o<4;o++)if((e=r[o]).x<=i.x&&e.x>=n.x&&e.y<=i.y&&e.y>=n.y)return!0;return!!this.intersectsWithRect(n,i,!0,t)||this._containsCenterOfCanvas(n,i,t)},_containsCenterOfCanvas:function(t,e,n){var i={x:(t.x+e.x)/2,y:(t.y+e.y)/2};return!!this.containsPoint(i,null,!0,n)},isPartiallyOnScreen:function(t){if(!this.canvas)return!1;var e=this.canvas.vptCoords.tl,n=this.canvas.vptCoords.br;return!!this.intersectsWithRect(e,n,!0,t)||this._containsCenterOfCanvas(e,n,t)},_getImageLines:function(t){return{topline:{o:t.tl,d:t.tr},rightline:{o:t.tr,d:t.br},bottomline:{o:t.br,d:t.bl},leftline:{o:t.bl,d:t.tl}}},_findCrossPoints:function(t,e){var n,i,r,o=0;for(var s in e)if(!((r=e[s]).o.y<t.y&&r.d.y<t.y||r.o.y>=t.y&&r.d.y>=t.y||(r.o.x===r.d.x&&r.o.x>=t.x?i=r.o.x:(0,n=(r.d.y-r.o.y)/(r.d.x-r.o.x),i=-(t.y-0*t.x-(r.o.y-n*r.o.x))/(0-n)),i>=t.x&&(o+=1),2!==o)))break;return o},getBoundingRect:function(t,e){var n=this.getCoords(t,e);return D.util.makeBoundingBoxFromPoints(n)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(t){return Math.abs(t)<this.minScaleLimit?t<0?-this.minScaleLimit:this.minScaleLimit:0===t?1e-4:t},scale:function(t){return this._set("scaleX",t),this._set("scaleY",t),this.setCoords()},scaleToWidth:function(t,e){var n=this.getBoundingRect(e).width/this.getScaledWidth();return this.scale(t/this.width/n)},scaleToHeight:function(t,e){var n=this.getBoundingRect(e).height/this.getScaledHeight();return this.scale(t/this.height/n)},calcCoords:function(i){var r=this._calcRotateMatrix(),o=this._calcTranslateMatrix(),s=e(o,r),a=this.getViewportTransform(),u=i?s:e(a,s),l=this._getTransformedDimensions(),c=l.x/2,h=l.y/2,f=n({x:-c,y:-h},u),d=n({x:c,y:-h},u),p=n({x:-c,y:h},u),g=n({x:c,y:h},u);if(!i){var v=this.padding,m=t(this.angle),y=D.util.cos(m),x=D.util.sin(m),E=y*v,b=x*v,C=E+b,w=E-b;v&&(f.x-=w,f.y-=C,d.x+=C,d.y-=w,p.x-=C,p.y+=w,g.x+=w,g.y+=C);var _=new D.Point((f.x+p.x)/2,(f.y+p.y)/2),A=new D.Point((d.x+f.x)/2,(d.y+f.y)/2),S=new D.Point((g.x+d.x)/2,(g.y+d.y)/2),L=new D.Point((g.x+p.x)/2,(g.y+p.y)/2),F=new D.Point(A.x+x*this.rotatingPointOffset,A.y-y*this.rotatingPointOffset)}var T={tl:f,tr:d,br:g,bl:p};return i||(T.ml=_,T.mt=A,T.mr=S,T.mb=L,T.mtr=F),T},setCoords:function(t,e){return this.oCoords=this.calcCoords(t),e||(this.aCoords=this.calcCoords(!0)),t||this._setCornerCoords&&this._setCornerCoords(),this},_calcRotateMatrix:function(){return D.util.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var t=this.getCenterPoint();return[1,0,0,1,t.x,t.y]},transformMatrixKey:function(t){var e="";return!t&&this.group&&(e=this.group.transformMatrixKey(t)+"_"),e+this.top+"_"+this.left+"_"+this.scaleX+"_"+this.scaleY+"_"+this.skewX+"_"+this.skewY+"_"+this.angle+"_"+this.originX+"_"+this.originY+"_"+this.width+"_"+this.height+"_"+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(t){if(t)return this.calcOwnMatrix();var n=this.transformMatrixKey(),i=this.matrixCache||(this.matrixCache={});if(i.key===n)return i.value;var r=this.calcOwnMatrix();return this.group&&(r=e(this.group.calcTransformMatrix(),r)),i.key=n,i.value=r,r},calcOwnMatrix:function(){var t=this.transformMatrixKey(!0),e=this.ownMatrixCache||(this.ownMatrixCache={});if(e.key===t)return e.value;var n=this._calcTranslateMatrix();return this.translateX=n[4],this.translateY=n[5],e.key=t,e.value=D.util.composeMatrix(this),e.value},_calcDimensionsTransformMatrix:function(t,e,n){return D.util.calcDimensionsMatrix({skewX:t,skewY:e,scaleX:this.scaleX*(n&&this.flipX?-1:1),scaleY:this.scaleY*(n&&this.flipY?-1:1)})},_getNonTransformedDimensions:function(){var t=this.strokeWidth;return{x:this.width+t,y:this.height+t}},_getTransformedDimensions:function(t,e){void 0===t&&(t=this.skewX),void 0===e&&(e=this.skewY);var n,i,r=this._getNonTransformedDimensions(),o=0===t&&0===e;if(this.strokeUniform?(n=this.width,i=this.height):(n=r.x,i=r.y),o)return this._finalizeDimensions(n*this.scaleX,i*this.scaleY);var s=[{x:-(n/=2),y:-(i/=2)},{x:n,y:-i},{x:-n,y:i},{x:n,y:i}],a=D.util.calcDimensionsMatrix({scaleX:this.scaleX,scaleY:this.scaleY,skewX:t,skewY:e}),u=D.util.makeBoundingBoxFromPoints(s,a);return this._finalizeDimensions(u.width,u.height)},_finalizeDimensions:function(t,e){return this.strokeUniform?{x:t+this.strokeWidth,y:e+this.strokeWidth}:{x:t,y:e}},_calculateCurrentDimensions:function(){var t=this.getViewportTransform(),e=this._getTransformedDimensions();return D.util.transformPoint(e,t,!0).scalarAdd(2*this.padding)}})}(),D.util.object.extend(D.Object.prototype,{sendToBack:function(){return this.group?D.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?D.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas.bringToFront(this),this},sendBackwards:function(t){return this.group?D.StaticCanvas.prototype.sendBackwards.call(this.group,this,t):this.canvas.sendBackwards(this,t),this},bringForward:function(t){return this.group?D.StaticCanvas.prototype.bringForward.call(this.group,this,t):this.canvas.bringForward(this,t),this},moveTo:function(t){return this.group&&"activeSelection"!==this.group.type?D.StaticCanvas.prototype.moveTo.call(this.group,this,t):this.canvas.moveTo(this,t),this}}),function(){function t(t,e){if(e){if(e.toLive)return t+": url(#SVGID_"+e.id+"); ";var n=new D.Color(e),i=t+": "+n.toRgb()+"; ",r=n.getAlpha();return 1!==r&&(i+=t+"-opacity: "+r.toString()+"; "),i}return t+": none; "}var e=D.util.toFixed;D.util.object.extend(D.Object.prototype,{getSvgStyles:function(e){var n=this.fillRule?this.fillRule:"nonzero",i=this.strokeWidth?this.strokeWidth:"0",r=this.strokeDashArray?this.strokeDashArray.join(" "):"none",o=this.strokeDashOffset?this.strokeDashOffset:"0",s=this.strokeLineCap?this.strokeLineCap:"butt",a=this.strokeLineJoin?this.strokeLineJoin:"miter",u=this.strokeMiterLimit?this.strokeMiterLimit:"4",l=void 0!==this.opacity?this.opacity:"1",c=this.visible?"":" visibility: hidden;",h=e?"":this.getSvgFilter(),f=t("fill",this.fill);return[t("stroke",this.stroke),"stroke-width: ",i,"; ","stroke-dasharray: ",r,"; ","stroke-linecap: ",s,"; ","stroke-dashoffset: ",o,"; ","stroke-linejoin: ",a,"; ","stroke-miterlimit: ",u,"; ",f,"fill-rule: ",n,"; ","opacity: ",l,";",h,c].join("")},getSvgSpanStyles:function(e,n){var i=e.fontFamily?"font-family: "+(-1===e.fontFamily.indexOf("'")&&-1===e.fontFamily.indexOf('"')?"'"+e.fontFamily+"'":e.fontFamily)+"; ":"",r=e.strokeWidth?"stroke-width: "+e.strokeWidth+"; ":"",o=(i=i,e.fontSize?"font-size: "+e.fontSize+"px; ":""),s=e.fontStyle?"font-style: "+e.fontStyle+"; ":"",a=e.fontWeight?"font-weight: "+e.fontWeight+"; ":"",u=e.fill?t("fill",e.fill):"",l=e.stroke?t("stroke",e.stroke):"",c=this.getSvgTextDecoration(e);return c&&(c="text-decoration: "+c+"; "),[l,r,i,o,s,a,c,u,e.deltaY?"baseline-shift: "+-e.deltaY+"; ":"",n?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(t){return"overline"in t||"underline"in t||"linethrough"in t?(t.overline?"overline ":"")+(t.underline?"underline ":"")+(t.linethrough?"line-through ":""):""},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(t,e){var n=t?this.calcTransformMatrix():this.calcOwnMatrix();return'transform="'+D.util.matrixToSVG(n)+(e||"")+this.getSvgTransformMatrix()+'" '},getSvgTransformMatrix:function(){return this.transformMatrix?" "+D.util.matrixToSVG(this.transformMatrix):""},_setSVGBg:function(t){if(this.backgroundColor){var n=D.Object.NUM_FRACTION_DIGITS;t.push("\t\t<rect ",this._getFillAttributes(this.backgroundColor),' x="',e(-this.width/2,n),'" y="',e(-this.height/2,n),'" width="',e(this.width,n),'" height="',e(this.height,n),'"></rect>\n')}},toSVG:function(t){return this._createBaseSVGMarkup(this._toSVG(t),{reviver:t})},toClipPathSVG:function(t){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(t),{reviver:t})},_createBaseClipPathSVGMarkup:function(t,e){var n=(e=e||{}).reviver,i=e.additionalTransform||"",r=[this.getSvgTransform(!0,i),this.getSvgCommons()].join(""),o=t.indexOf("COMMON_PARTS");return t[o]=r,n?n(t.join("")):t.join("")},_createBaseSVGMarkup:function(t,e){var n,i,r=(e=e||{}).noStyle,o=e.reviver,s=r?"":'style="'+this.getSvgStyles()+'" ',a=e.withShadow?'style="'+this.getSvgFilter()+'" ':"",u=this.clipPath,l=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",c=u&&u.absolutePositioned,h=this.stroke,f=this.fill,d=this.shadow,p=[],g=t.indexOf("COMMON_PARTS"),v=e.additionalTransform;return u&&(u.clipPathId="CLIPPATH_"+D.Object.__uid++,i='<clipPath id="'+u.clipPathId+'" >\n'+u.toClipPathSVG(o)+"</clipPath>\n"),c&&p.push("<g ",a,this.getSvgCommons()," >\n"),p.push("<g ",this.getSvgTransform(!1),c?"":a+this.getSvgCommons()," >\n"),n=[s,l,r?"":this.addPaintOrder()," ",v?'transform="'+v+'" ':""].join(""),t[g]=n,f&&f.toLive&&p.push(f.toSVG(this)),h&&h.toLive&&p.push(h.toSVG(this)),d&&p.push(d.toSVG(this)),u&&p.push(i),p.push(t.join("")),p.push("</g>\n"),c&&p.push("</g>\n"),o?o(p.join("")):p.join("")},addPaintOrder:function(){return"fill"!==this.paintFirst?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var t=D.util.object.extend;function e(e,n,i){var r={};i.forEach((function(t){r[t]=e[t]})),t(e[n],r,!0)}D.util.object.extend(D.Object.prototype,{hasStateChanged:function(t){var e="_"+(t=t||"stateProperties");return(0,r.default)(this[e]).length<this[t].length||!function t(e,n,i){if(e===n)return!0;if(Array.isArray(e)){if(!Array.isArray(n)||e.length!==n.length)return!1;for(var s=0,a=e.length;s<a;s++)if(!t(e[s],n[s]))return!1;return!0}if(e&&"object"===(void 0===e?"undefined":(0,o.default)(e))){var u,l=(0,r.default)(e);if(!n||"object"!==(void 0===n?"undefined":(0,o.default)(n))||!i&&l.length!==(0,r.default)(n).length)return!1;for(s=0,a=l.length;s<a;s++)if("canvas"!==(u=l[s])&&!t(e[u],n[u]))return!1;return!0}}(this[e],this,!0)},saveState:function(t){var n=t&&t.propertySet||"stateProperties",i="_"+n;return this[i]?(e(this,i,this[n]),t&&t.stateProperties&&e(this,i,t.stateProperties),this):this.setupState(t)},setupState:function(t){var e=(t=t||{}).propertySet||"stateProperties";return t.propertySet=e,this["_"+e]={},this.saveState(t),this}})}(),function(){var t=D.util.degreesToRadians;D.util.object.extend(D.Object.prototype,{_controlsVisibility:null,_findTargetCorner:function(t){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var e,n,i=t.x,r=t.y;for(var o in this.__corner=0,this.oCoords)if(this.isControlVisible(o)&&("mtr"!==o||this.hasRotatingPoint)&&(!this.get("lockUniScaling")||"mt"!==o&&"mr"!==o&&"mb"!==o&&"ml"!==o)&&(n=this._getImageLines(this.oCoords[o].corner),0!==(e=this._findCrossPoints({x:i,y:r},n))&&e%2==1))return this.__corner=o,o;return!1},_setCornerCoords:function(){var e,n,i=this.oCoords,r=t(45-this.angle),o=.707106*this.cornerSize,s=o*D.util.cos(r),a=o*D.util.sin(r);for(var u in i)e=i[u].x,n=i[u].y,i[u].corner={tl:{x:e-a,y:n-s},tr:{x:e+s,y:n-a},bl:{x:e-s,y:n+a},br:{x:e+a,y:n+s}}},drawSelectionBackground:function(e){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;e.save();var n=this.getCenterPoint(),i=this._calculateCurrentDimensions(),r=this.canvas.viewportTransform;return e.translate(n.x,n.y),e.scale(1/r[0],1/r[3]),e.rotate(t(this.angle)),e.fillStyle=this.selectionBackgroundColor,e.fillRect(-i.x/2,-i.y/2,i.x,i.y),e.restore(),this},drawBorders:function(t,e){e=e||{};var n=this._calculateCurrentDimensions(),i=1/this.borderScaleFactor,r=n.x+i,o=n.y+i,s=void 0!==e.hasRotatingPoint?e.hasRotatingPoint:this.hasRotatingPoint,a=void 0!==e.hasControls?e.hasControls:this.hasControls,u=void 0!==e.rotatingPointOffset?e.rotatingPointOffset:this.rotatingPointOffset;if(t.save(),t.strokeStyle=e.borderColor||this.borderColor,this._setLineDash(t,e.borderDashArray||this.borderDashArray,null),t.strokeRect(-r/2,-o/2,r,o),s&&this.isControlVisible("mtr")&&a){var l=-o/2;t.beginPath(),t.moveTo(0,l),t.lineTo(0,l-u),t.stroke()}return t.restore(),this},drawBordersInGroup:function(t,e,n){n=n||{};var i=this._getNonTransformedDimensions(),r=D.util.composeMatrix({scaleX:e.scaleX,scaleY:e.scaleY,skewX:e.skewX}),o=D.util.transformPoint(i,r),s=1/this.borderScaleFactor,a=o.x+s,u=o.y+s;return t.save(),this._setLineDash(t,n.borderDashArray||this.borderDashArray,null),t.strokeStyle=n.borderColor||this.borderColor,t.strokeRect(-a/2,-u/2,a,u),t.restore(),this},drawControls:function(t,e){e=e||{};var n=this._calculateCurrentDimensions(),i=n.x,r=n.y,o=e.cornerSize||this.cornerSize,s=-(i+o)/2,a=-(r+o)/2,u=void 0!==e.transparentCorners?e.transparentCorners:this.transparentCorners,l=void 0!==e.hasRotatingPoint?e.hasRotatingPoint:this.hasRotatingPoint,c=u?"stroke":"fill";return t.save(),t.strokeStyle=t.fillStyle=e.cornerColor||this.cornerColor,this.transparentCorners||(t.strokeStyle=e.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(t,e.cornerDashArray||this.cornerDashArray,null),this._drawControl("tl",t,c,s,a,e),this._drawControl("tr",t,c,s+i,a,e),this._drawControl("bl",t,c,s,a+r,e),this._drawControl("br",t,c,s+i,a+r,e),this.get("lockUniScaling")||(this._drawControl("mt",t,c,s+i/2,a,e),this._drawControl("mb",t,c,s+i/2,a+r,e),this._drawControl("mr",t,c,s+i,a+r/2,e),this._drawControl("ml",t,c,s,a+r/2,e)),l&&this._drawControl("mtr",t,c,s+i/2,a-this.rotatingPointOffset,e),t.restore(),this},_drawControl:function(t,e,n,i,r,o){if(o=o||{},this.isControlVisible(t)){var s=this.cornerSize,a=!this.transparentCorners&&this.cornerStrokeColor;switch(o.cornerStyle||this.cornerStyle){case"circle":e.beginPath(),e.arc(i+s/2,r+s/2,s/2,0,2*Math.PI,!1),e[n](),a&&e.stroke();break;default:this.transparentCorners||e.clearRect(i,r,s,s),e[n+"Rect"](i,r,s,s),a&&e.strokeRect(i,r,s,s)}}},isControlVisible:function(t){return this._getControlsVisibility()[t]},setControlVisible:function(t,e){return this._getControlsVisibility()[t]=e,this},setControlsVisibility:function(t){for(var e in t||(t={}),t)this.setControlVisible(e,t[e]);return this},_getControlsVisibility:function(){return this._controlsVisibility||(this._controlsVisibility={tl:!0,tr:!0,br:!0,bl:!0,ml:!0,mt:!0,mr:!0,mb:!0,mtr:!0}),this._controlsVisibility},onDeselect:function(){},onSelect:function(){}})}(),D.util.object.extend(D.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(t,e){var n=function(){},i=(e=e||{}).onComplete||n,r=e.onChange||n,o=this;return D.util.animate({startValue:t.left,endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(e){t.set("left",e),o.requestRenderAll(),r()},onComplete:function(){t.setCoords(),i()}}),this},fxCenterObjectV:function(t,e){var n=function(){},i=(e=e||{}).onComplete||n,r=e.onChange||n,o=this;return D.util.animate({startValue:t.top,endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(e){t.set("top",e),o.requestRenderAll(),r()},onComplete:function(){t.setCoords(),i()}}),this},fxRemove:function(t,e){var n=function(){},i=(e=e||{}).onComplete||n,r=e.onChange||n,o=this;return D.util.animate({startValue:t.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(e){t.set("opacity",e),o.requestRenderAll(),r()},onComplete:function(){o.remove(t),i()}}),this}}),D.util.object.extend(D.Object.prototype,{animate:function(){if(arguments[0]&&"object"===(0,o.default)(arguments[0])){var t,e,n=[];for(t in arguments[0])n.push(t);for(var i=0,r=n.length;i<r;i++)t=n[i],e=i!==r-1,this._animate(t,arguments[0][t],arguments[1],e)}else this._animate.apply(this,arguments);return this},_animate:function(t,e,n,i){var r,o=this;e=e.toString(),n=n?D.util.object.clone(n):{},~t.indexOf(".")&&(r=t.split("."));var s=r?this.get(r[0])[r[1]]:this.get(t);"from"in n||(n.from=s),e=~e.indexOf("=")?s+parseFloat(e.replace("=","")):parseFloat(e),D.util.animate({startValue:n.from,endValue:e,byValue:n.by,easing:n.easing,duration:n.duration,abort:n.abort&&function(){return n.abort.call(o)},onChange:function(e,s,a){r?o[r[0]][r[1]]=e:o.set(t,e),i||n.onChange&&n.onChange(e,s,a)},onComplete:function(t,e,r){i||(o.setCoords(),n.onComplete&&n.onComplete(t,e,r))}})}}),function(t){var e=t.fabric||(t.fabric={}),n=e.util.object.extend,i=e.util.object.clone,r={x1:1,x2:1,y1:1,y2:1},o=e.StaticCanvas.supports("setLineDash");function s(t,e){var n=t.origin,i=t.axis1,r=t.axis2,o=t.dimension,s=e.nearest,a=e.center,u=e.farthest;return function(){switch(this.get(n)){case s:return Math.min(this.get(i),this.get(r));case a:return Math.min(this.get(i),this.get(r))+.5*this.get(o);case u:return Math.max(this.get(i),this.get(r))}}}e.Line?e.warn("fabric.Line is already defined"):(e.Line=e.util.createClass(e.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:e.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(t,e){t||(t=[0,0,0,0]),this.callSuper("initialize",e),this.set("x1",t[0]),this.set("y1",t[1]),this.set("x2",t[2]),this.set("y2",t[3]),this._setWidthHeight(e)},_setWidthHeight:function(t){t||(t={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in t?t.left:this._getLeftToOriginX(),this.top="top"in t?t.top:this._getTopToOriginY()},_set:function(t,e){return this.callSuper("_set",t,e),void 0!==r[t]&&this._setWidthHeight(),this},_getLeftToOriginX:s({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:s({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(t){if(t.beginPath(),!this.strokeDashArray||this.strokeDashArray&&o){var e=this.calcLinePoints();t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2)}t.lineWidth=this.strokeWidth;var n=t.strokeStyle;t.strokeStyle=this.stroke||t.fillStyle,this.stroke&&this._renderStroke(t),t.strokeStyle=n},_renderDashedStroke:function(t){var n=this.calcLinePoints();t.beginPath(),e.util.drawDashedLine(t,n.x1,n.y1,n.x2,n.y2,this.strokeDashArray),t.closePath()},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(t){return n(this.callSuper("toObject",t),this.calcLinePoints())},_getNonTransformedDimensions:function(){var t=this.callSuper("_getNonTransformedDimensions");return"butt"===this.strokeLineCap&&(0===this.width&&(t.y-=this.strokeWidth),0===this.height&&(t.x-=this.strokeWidth)),t},calcLinePoints:function(){var t=this.x1<=this.x2?-1:1,e=this.y1<=this.y2?-1:1,n=t*this.width*.5,i=e*this.height*.5;return{x1:n,x2:t*this.width*-.5,y1:i,y2:e*this.height*-.5}},_toSVG:function(){var t=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',t.x1,'" y1="',t.y1,'" x2="',t.x2,'" y2="',t.y2,'" />\n']}}),e.Line.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),e.Line.fromElement=function(t,i,r){r=r||{};var o=e.parseAttributes(t,e.Line.ATTRIBUTE_NAMES),s=[o.x1||0,o.y1||0,o.x2||0,o.y2||0];i(new e.Line(s,n(o,r)))},e.Line.fromObject=function(t,n){var r=i(t,!0);r.points=[t.x1,t.y1,t.x2,t.y2],e.Object._fromObject("Line",r,(function(t){delete t.points,n&&n(t)}),"points")})}(e),function(t){var e=t.fabric||(t.fabric={}),n=Math.PI;e.Circle?e.warn("fabric.Circle is already defined."):(e.Circle=e.util.createClass(e.Object,{type:"circle",radius:0,startAngle:0,endAngle:2*n,cacheProperties:e.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(t,e){return this.callSuper("_set",t,e),"radius"===t&&this.setRadius(e),this},toObject:function(t){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(t))},_toSVG:function(){var t,i=(this.endAngle-this.startAngle)%(2*n);if(0===i)t=["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',this.radius,'" />\n'];else{var r=e.util.cos(this.startAngle)*this.radius,o=e.util.sin(this.startAngle)*this.radius,s=e.util.cos(this.endAngle)*this.radius,a=e.util.sin(this.endAngle)*this.radius,u=i>n?"1":"0";t=['<path d="M '+r+" "+o," A "+this.radius+" "+this.radius," 0 ",+u+" 1"," "+s+" "+a,'" ',"COMMON_PARTS"," />\n"]}return t},_render:function(t){t.beginPath(),t.arc(0,0,this.radius,this.startAngle,this.endAngle,!1),this._renderPaintInOrder(t)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(t){return this.radius=t,this.set("width",2*t).set("height",2*t)}}),e.Circle.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),e.Circle.fromElement=function(t,n){var i,r=e.parseAttributes(t,e.Circle.ATTRIBUTE_NAMES);if(!("radius"in(i=r)&&i.radius>=0))throw new Error("value of `r` attribute is required and can not be negative");r.left=(r.left||0)-r.radius,r.top=(r.top||0)-r.radius,n(new e.Circle(r))},e.Circle.fromObject=function(t,n){return e.Object._fromObject("Circle",t,n)})}(e),function(t){var e=t.fabric||(t.fabric={});e.Triangle?e.warn("fabric.Triangle is already defined"):(e.Triangle=e.util.createClass(e.Object,{type:"triangle",width:100,height:100,_render:function(t){var e=this.width/2,n=this.height/2;t.beginPath(),t.moveTo(-e,n),t.lineTo(0,-n),t.lineTo(e,n),t.closePath(),this._renderPaintInOrder(t)},_renderDashedStroke:function(t){var n=this.width/2,i=this.height/2;t.beginPath(),e.util.drawDashedLine(t,-n,i,0,-i,this.strokeDashArray),e.util.drawDashedLine(t,0,-i,n,i,this.strokeDashArray),e.util.drawDashedLine(t,n,i,-n,i,this.strokeDashArray),t.closePath()},_toSVG:function(){var t=this.width/2,e=this.height/2;return["<polygon ","COMMON_PARTS",'points="',[-t+" "+e,"0 "+-e,t+" "+e].join(","),'" />']}}),e.Triangle.fromObject=function(t,n){return e.Object._fromObject("Triangle",t,n)})}(e),function(t){var e=t.fabric||(t.fabric={}),n=2*Math.PI;e.Ellipse?e.warn("fabric.Ellipse is already defined."):(e.Ellipse=e.util.createClass(e.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:e.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(t){this.callSuper("initialize",t),this.set("rx",t&&t.rx||0),this.set("ry",t&&t.ry||0)},_set:function(t,e){switch(this.callSuper("_set",t,e),t){case"rx":this.rx=e,this.set("width",2*e);break;case"ry":this.ry=e,this.set("height",2*e)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(t){return this.callSuper("toObject",["rx","ry"].concat(t))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,'" />\n']},_render:function(t){t.beginPath(),t.save(),t.transform(1,0,0,this.ry/this.rx,0,0),t.arc(0,0,this.rx,0,n,!1),t.restore(),this._renderPaintInOrder(t)}}),e.Ellipse.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),e.Ellipse.fromElement=function(t,n){var i=e.parseAttributes(t,e.Ellipse.ATTRIBUTE_NAMES);i.left=(i.left||0)-i.rx,i.top=(i.top||0)-i.ry,n(new e.Ellipse(i))},e.Ellipse.fromObject=function(t,n){return e.Object._fromObject("Ellipse",t,n)})}(e),function(t){var e=t.fabric||(t.fabric={}),n=e.util.object.extend;e.Rect?e.warn("fabric.Rect is already defined"):(e.Rect=e.util.createClass(e.Object,{stateProperties:e.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:e.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(t){this.callSuper("initialize",t),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(t){var e=this.rx?Math.min(this.rx,this.width/2):0,n=this.ry?Math.min(this.ry,this.height/2):0,i=this.width,r=this.height,o=-this.width/2,s=-this.height/2,a=0!==e||0!==n,u=.4477152502;t.beginPath(),t.moveTo(o+e,s),t.lineTo(o+i-e,s),a&&t.bezierCurveTo(o+i-u*e,s,o+i,s+u*n,o+i,s+n),t.lineTo(o+i,s+r-n),a&&t.bezierCurveTo(o+i,s+r-u*n,o+i-u*e,s+r,o+i-e,s+r),t.lineTo(o+e,s+r),a&&t.bezierCurveTo(o+u*e,s+r,o,s+r-u*n,o,s+r-n),t.lineTo(o,s+n),a&&t.bezierCurveTo(o,s+u*n,o+u*e,s,o+e,s),t.closePath(),this._renderPaintInOrder(t)},_renderDashedStroke:function(t){var n=-this.width/2,i=-this.height/2,r=this.width,o=this.height;t.beginPath(),e.util.drawDashedLine(t,n,i,n+r,i,this.strokeDashArray),e.util.drawDashedLine(t,n+r,i,n+r,i+o,this.strokeDashArray),e.util.drawDashedLine(t,n+r,i+o,n,i+o,this.strokeDashArray),e.util.drawDashedLine(t,n,i+o,n,i,this.strokeDashArray),t.closePath()},toObject:function(t){return this.callSuper("toObject",["rx","ry"].concat(t))},_toSVG:function(){return["<rect ","COMMON_PARTS",'x="',-this.width/2,'" y="',-this.height/2,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,'" />\n']}}),e.Rect.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),e.Rect.fromElement=function(t,i,r){if(!t)return i(null);r=r||{};var o=e.parseAttributes(t,e.Rect.ATTRIBUTE_NAMES);o.left=o.left||0,o.top=o.top||0,o.height=o.height||0,o.width=o.width||0;var s=new e.Rect(n(r?e.util.object.clone(r):{},o));s.visible=s.visible&&s.width>0&&s.height>0,i(s)},e.Rect.fromObject=function(t,n){return e.Object._fromObject("Rect",t,n)})}(e),function(t){var e=t.fabric||(t.fabric={}),n=e.util.object.extend,i=e.util.array.min,r=e.util.array.max,o=e.util.toFixed;e.Polyline?e.warn("fabric.Polyline is already defined"):(e.Polyline=e.util.createClass(e.Object,{type:"polyline",points:null,cacheProperties:e.Object.prototype.cacheProperties.concat("points"),initialize:function(t,e){e=e||{},this.points=t||[],this.callSuper("initialize",e),this._setPositionDimensions(e)},_setPositionDimensions:function(t){var e,n=this._calcDimensions(t);this.width=n.width,this.height=n.height,t.fromSVG||(e=this.translateToGivenOrigin({x:n.left-this.strokeWidth/2,y:n.top-this.strokeWidth/2},"left","top",this.originX,this.originY)),void 0===t.left&&(this.left=t.fromSVG?n.left:e.x),void 0===t.top&&(this.top=t.fromSVG?n.top:e.y),this.pathOffset={x:n.left+this.width/2,y:n.top+this.height/2}},_calcDimensions:function(){var t=this.points,e=i(t,"x")||0,n=i(t,"y")||0;return{left:e,top:n,width:(r(t,"x")||0)-e,height:(r(t,"y")||0)-n}},toObject:function(t){return n(this.callSuper("toObject",t),{points:this.points.concat()})},_toSVG:function(){for(var t=[],n=this.pathOffset.x,i=this.pathOffset.y,r=e.Object.NUM_FRACTION_DIGITS,s=0,a=this.points.length;s<a;s++)t.push(o(this.points[s].x-n,r),",",o(this.points[s].y-i,r)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',t.join(""),'" />\n']},commonRender:function(t){var e,n=this.points.length,i=this.pathOffset.x,r=this.pathOffset.y;if(!n||isNaN(this.points[n-1].y))return!1;t.beginPath(),t.moveTo(this.points[0].x-i,this.points[0].y-r);for(var o=0;o<n;o++)e=this.points[o],t.lineTo(e.x-i,e.y-r);return!0},_render:function(t){this.commonRender(t)&&this._renderPaintInOrder(t)},_renderDashedStroke:function(t){var n,i;t.beginPath();for(var r=0,o=this.points.length;r<o;r++)n=this.points[r],i=this.points[r+1]||n,e.util.drawDashedLine(t,n.x,n.y,i.x,i.y,this.strokeDashArray)},complexity:function(){return this.get("points").length}}),e.Polyline.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polyline.fromElementGenerator=function(t){return function(i,r,o){if(!i)return r(null);o||(o={});var s=e.parsePointsAttribute(i.getAttribute("points")),a=e.parseAttributes(i,e[t].ATTRIBUTE_NAMES);a.fromSVG=!0,r(new e[t](s,n(a,o)))}},e.Polyline.fromElement=e.Polyline.fromElementGenerator("Polyline"),e.Polyline.fromObject=function(t,n){return e.Object._fromObject("Polyline",t,n,"points")})}(e),function(t){var e=t.fabric||(t.fabric={});e.Polygon?e.warn("fabric.Polygon is already defined"):(e.Polygon=e.util.createClass(e.Polyline,{type:"polygon",_render:function(t){this.commonRender(t)&&(t.closePath(),this._renderPaintInOrder(t))},_renderDashedStroke:function(t){this.callSuper("_renderDashedStroke",t),t.closePath()}}),e.Polygon.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polygon.fromElement=e.Polyline.fromElementGenerator("Polygon"),e.Polygon.fromObject=function(t,n){return e.Object._fromObject("Polygon",t,n,"points")})}(e),function(t){var e=t.fabric||(t.fabric={}),n=e.util.array.min,i=e.util.array.max,r=e.util.object.extend,o=Object.prototype.toString,s=e.util.drawArc,a=e.util.toFixed,u={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},l={m:"l",M:"L"};e.Path?e.warn("fabric.Path is already defined"):(e.Path=e.util.createClass(e.Object,{type:"path",path:null,cacheProperties:e.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:e.Object.prototype.stateProperties.concat("path"),initialize:function(t,n){n=n||{},this.callSuper("initialize",n),t||(t=[]);var i="[object Array]"===o.call(t);this.path=i?t:t.match&&t.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi),this.path&&(i||(this.path=this._parsePath()),e.Polyline.prototype._setPositionDimensions.call(this,n))},_renderPathCommands:function(t){var e,n,i,r=null,o=0,a=0,u=0,l=0,c=0,h=0,f=-this.pathOffset.x,d=-this.pathOffset.y;t.beginPath();for(var p=0,g=this.path.length;p<g;++p){switch((e=this.path[p])[0]){case"l":u+=e[1],l+=e[2],t.lineTo(u+f,l+d);break;case"L":u=e[1],l=e[2],t.lineTo(u+f,l+d);break;case"h":u+=e[1],t.lineTo(u+f,l+d);break;case"H":u=e[1],t.lineTo(u+f,l+d);break;case"v":l+=e[1],t.lineTo(u+f,l+d);break;case"V":l=e[1],t.lineTo(u+f,l+d);break;case"m":o=u+=e[1],a=l+=e[2],t.moveTo(u+f,l+d);break;case"M":o=u=e[1],a=l=e[2],t.moveTo(u+f,l+d);break;case"c":n=u+e[5],i=l+e[6],c=u+e[3],h=l+e[4],t.bezierCurveTo(u+e[1]+f,l+e[2]+d,c+f,h+d,n+f,i+d),u=n,l=i;break;case"C":u=e[5],l=e[6],c=e[3],h=e[4],t.bezierCurveTo(e[1]+f,e[2]+d,c+f,h+d,u+f,l+d);break;case"s":n=u+e[3],i=l+e[4],null===r[0].match(/[CcSs]/)?(c=u,h=l):(c=2*u-c,h=2*l-h),t.bezierCurveTo(c+f,h+d,u+e[1]+f,l+e[2]+d,n+f,i+d),c=u+e[1],h=l+e[2],u=n,l=i;break;case"S":n=e[3],i=e[4],null===r[0].match(/[CcSs]/)?(c=u,h=l):(c=2*u-c,h=2*l-h),t.bezierCurveTo(c+f,h+d,e[1]+f,e[2]+d,n+f,i+d),u=n,l=i,c=e[1],h=e[2];break;case"q":n=u+e[3],i=l+e[4],c=u+e[1],h=l+e[2],t.quadraticCurveTo(c+f,h+d,n+f,i+d),u=n,l=i;break;case"Q":n=e[3],i=e[4],t.quadraticCurveTo(e[1]+f,e[2]+d,n+f,i+d),u=n,l=i,c=e[1],h=e[2];break;case"t":n=u+e[1],i=l+e[2],null===r[0].match(/[QqTt]/)?(c=u,h=l):(c=2*u-c,h=2*l-h),t.quadraticCurveTo(c+f,h+d,n+f,i+d),u=n,l=i;break;case"T":n=e[1],i=e[2],null===r[0].match(/[QqTt]/)?(c=u,h=l):(c=2*u-c,h=2*l-h),t.quadraticCurveTo(c+f,h+d,n+f,i+d),u=n,l=i;break;case"a":s(t,u+f,l+d,[e[1],e[2],e[3],e[4],e[5],e[6]+u+f,e[7]+l+d]),u+=e[6],l+=e[7];break;case"A":s(t,u+f,l+d,[e[1],e[2],e[3],e[4],e[5],e[6]+f,e[7]+d]),u=e[6],l=e[7];break;case"z":case"Z":u=o,l=a,t.closePath()}r=e}},_render:function(t){this._renderPathCommands(t),this._renderPaintInOrder(t)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(t){return r(this.callSuper("toObject",t),{path:this.path.map((function(t){return t.slice()}))})},toDatalessObject:function(t){var e=this.toObject(["sourcePath"].concat(t));return e.sourcePath&&delete e.path,e},_toSVG:function(){return["<path ","COMMON_PARTS",'d="',this.path.map((function(t){return t.join(" ")})).join(" "),'" stroke-linecap="round" ',"/>\n"]},_getOffsetTransform:function(){var t=e.Object.NUM_FRACTION_DIGITS;return" translate("+a(-this.pathOffset.x,t)+", "+a(-this.pathOffset.y,t)+")"},toClipPathSVG:function(t){var e=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})},toSVG:function(t){var e=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})},complexity:function(){return this.path.length},_parsePath:function(){for(var t,n,i,r,o,s=[],a=[],c=e.rePathCommand,h=0,f=this.path.length;h<f;h++){for(r=(t=this.path[h]).slice(1).trim(),a.length=0;i=c.exec(r);)a.push(i[0]);o=[t.charAt(0)];for(var d=0,p=a.length;d<p;d++)n=parseFloat(a[d]),isNaN(n)||o.push(n);var g=o[0],v=u[g.toLowerCase()],m=l[g]||g;if(o.length-1>v)for(var y=1,x=o.length;y<x;y+=v)s.push([g].concat(o.slice(y,y+v))),g=m;else s.push(o)}return s},_calcDimensions:function(){for(var t,r,o,s,a=[],u=[],l=null,c=0,h=0,f=0,d=0,p=0,g=0,v=0,m=this.path.length;v<m;++v){switch((t=this.path[v])[0]){case"l":f+=t[1],d+=t[2],s=[];break;case"L":f=t[1],d=t[2],s=[];break;case"h":f+=t[1],s=[];break;case"H":f=t[1],s=[];break;case"v":d+=t[1],s=[];break;case"V":d=t[1],s=[];break;case"m":c=f+=t[1],h=d+=t[2],s=[];break;case"M":c=f=t[1],h=d=t[2],s=[];break;case"c":r=f+t[5],o=d+t[6],p=f+t[3],g=d+t[4],s=e.util.getBoundsOfCurve(f,d,f+t[1],d+t[2],p,g,r,o),f=r,d=o;break;case"C":p=t[3],g=t[4],s=e.util.getBoundsOfCurve(f,d,t[1],t[2],p,g,t[5],t[6]),f=t[5],d=t[6];break;case"s":r=f+t[3],o=d+t[4],null===l[0].match(/[CcSs]/)?(p=f,g=d):(p=2*f-p,g=2*d-g),s=e.util.getBoundsOfCurve(f,d,p,g,f+t[1],d+t[2],r,o),p=f+t[1],g=d+t[2],f=r,d=o;break;case"S":r=t[3],o=t[4],null===l[0].match(/[CcSs]/)?(p=f,g=d):(p=2*f-p,g=2*d-g),s=e.util.getBoundsOfCurve(f,d,p,g,t[1],t[2],r,o),f=r,d=o,p=t[1],g=t[2];break;case"q":r=f+t[3],o=d+t[4],p=f+t[1],g=d+t[2],s=e.util.getBoundsOfCurve(f,d,p,g,p,g,r,o),f=r,d=o;break;case"Q":p=t[1],g=t[2],s=e.util.getBoundsOfCurve(f,d,p,g,p,g,t[3],t[4]),f=t[3],d=t[4];break;case"t":r=f+t[1],o=d+t[2],null===l[0].match(/[QqTt]/)?(p=f,g=d):(p=2*f-p,g=2*d-g),s=e.util.getBoundsOfCurve(f,d,p,g,p,g,r,o),f=r,d=o;break;case"T":r=t[1],o=t[2],null===l[0].match(/[QqTt]/)?(p=f,g=d):(p=2*f-p,g=2*d-g),s=e.util.getBoundsOfCurve(f,d,p,g,p,g,r,o),f=r,d=o;break;case"a":s=e.util.getBoundsOfArc(f,d,t[1],t[2],t[3],t[4],t[5],t[6]+f,t[7]+d),f+=t[6],d+=t[7];break;case"A":s=e.util.getBoundsOfArc(f,d,t[1],t[2],t[3],t[4],t[5],t[6],t[7]),f=t[6],d=t[7];break;case"z":case"Z":f=c,d=h}l=t,s.forEach((function(t){a.push(t.x),u.push(t.y)})),a.push(f),u.push(d)}var y=n(a)||0,x=n(u)||0;return{left:y,top:x,width:(i(a)||0)-y,height:(i(u)||0)-x}}}),e.Path.fromObject=function(t,n){if("string"==typeof t.sourcePath){var i=t.sourcePath;e.loadSVGFromURL(i,(function(e){var i=e[0];i.setOptions(t),n&&n(i)}))}else e.Object._fromObject("Path",t,n,"path")},e.Path.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(["d"]),e.Path.fromElement=function(t,n,i){var o=e.parseAttributes(t,e.Path.ATTRIBUTE_NAMES);o.fromSVG=!0,n(new e.Path(o.d,r(o,i)))})}(e),function(t){var e=t.fabric||(t.fabric={}),n=e.util.array.min,i=e.util.array.max;e.Group||(e.Group=e.util.createClass(e.Object,e.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(t,e,n){e=e||{},this._objects=[],n&&this.callSuper("initialize",e),this._objects=t||[];for(var i=this._objects.length;i--;)this._objects[i].group=this;if(n)this._updateObjectsACoords();else{var r=e&&e.centerPoint;void 0!==e.originX&&(this.originX=e.originX),void 0!==e.originY&&(this.originY=e.originY),r||this._calcBounds(),this._updateObjectsCoords(r),delete e.centerPoint,this.callSuper("initialize",e)}this.setCoords()},_updateObjectsACoords:function(){for(var t=this._objects.length;t--;)this._objects[t].setCoords(!0,!0)},_updateObjectsCoords:function(t){t=t||this.getCenterPoint();for(var e=this._objects.length;e--;)this._updateObjectCoords(this._objects[e],t)},_updateObjectCoords:function(t,e){var n=t.left,i=t.top;t.set({left:n-e.x,top:i-e.y}),t.group=this,t.setCoords(!0,!0)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(t){return this._restoreObjectsState(),e.util.resetObjectTransform(this),t&&(this._objects.push(t),t.group=this,t._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},removeWithUpdate:function(t){return this._restoreObjectsState(),e.util.resetObjectTransform(this),this.remove(t),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(t){this.dirty=!0,t.group=this,t._set("canvas",this.canvas)},_onObjectRemoved:function(t){this.dirty=!0,delete t.group},_set:function(t,n){var i=this._objects.length;if(this.useSetOnGroup)for(;i--;)this._objects[i].setOnGroup(t,n);if("canvas"===t)for(;i--;)this._objects[i]._set(t,n);e.Object.prototype._set.call(this,t,n)},toObject:function(t){var n=this.includeDefaultValues,i=this._objects.map((function(e){var i=e.includeDefaultValues;e.includeDefaultValues=n;var r=e.toObject(t);return e.includeDefaultValues=i,r})),r=e.Object.prototype.toObject.call(this,t);return r.objects=i,r},toDatalessObject:function(t){var n,i=this.sourcePath;if(i)n=i;else{var r=this.includeDefaultValues;n=this._objects.map((function(e){var n=e.includeDefaultValues;e.includeDefaultValues=r;var i=e.toDatalessObject(t);return e.includeDefaultValues=n,i}))}var o=e.Object.prototype.toDatalessObject.call(this,t);return o.objects=n,o},render:function(t){this._transformDone=!0,this.callSuper("render",t),this._transformDone=!1},shouldCache:function(){var t=e.Object.prototype.shouldCache.call(this);if(t)for(var n=0,i=this._objects.length;n<i;n++)if(this._objects[n].willDrawShadow())return this.ownCaching=!1,!1;return t},willDrawShadow:function(){if(this.shadow)return e.Object.prototype.willDrawShadow.call(this);for(var t=0,n=this._objects.length;t<n;t++)if(this._objects[t].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(t){for(var e=0,n=this._objects.length;e<n;e++)this._objects[e].render(t);this._drawClipPath(t)},isCacheDirty:function(t){if(this.callSuper("isCacheDirty",t))return!0;if(!this.statefullCache)return!1;for(var e=0,n=this._objects.length;e<n;e++)if(this._objects[e].isCacheDirty(!0)){if(this._cacheCanvas){var i=this.cacheWidth/this.zoomX,r=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-i/2,-r/2,i,r)}return!0}return!1},_restoreObjectsState:function(){return this._objects.forEach(this._restoreObjectState,this),this},realizeTransform:function(t){var n=t.calcTransformMatrix(),i=e.util.qrDecompose(n),r=new e.Point(i.translateX,i.translateY);return t.flipX=!1,t.flipY=!1,t.set("scaleX",i.scaleX),t.set("scaleY",i.scaleY),t.skewX=i.skewX,t.skewY=i.skewY,t.angle=i.angle,t.setPositionByOrigin(r,"center","center"),t},_restoreObjectState:function(t){return this.realizeTransform(t),t.setCoords(),delete t.group,this},destroy:function(){return this._objects.forEach((function(t){t.set("dirty",!0)})),this._restoreObjectsState()},toActiveSelection:function(){if(this.canvas){var t=this._objects,n=this.canvas;this._objects=[];var i=this.toObject();delete i.objects;var r=new e.ActiveSelection([]);return r.set(i),r.type="activeSelection",n.remove(this),t.forEach((function(t){t.group=r,t.dirty=!0,n.add(t)})),r.canvas=n,r._objects=t,n._activeObject=r,r.setCoords(),r}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){return this.forEachObject((function(t){t.setCoords(!0,!0)})),this},_calcBounds:function(t){for(var e,n,i,r=[],o=[],s=["tr","br","bl","tl"],a=0,u=this._objects.length,l=s.length;a<u;++a)for((e=this._objects[a]).setCoords(!0),i=0;i<l;i++)n=s[i],r.push(e.oCoords[n].x),o.push(e.oCoords[n].y);this._getBounds(r,o,t)},_getBounds:function(t,r,o){var s=new e.Point(n(t),n(r)),a=new e.Point(i(t),i(r)),u=s.y||0,l=s.x||0,c=a.x-s.x||0,h=a.y-s.y||0;this.width=c,this.height=h,o||this.setPositionByOrigin({x:l,y:u},"left","top")},_toSVG:function(t){for(var e=["<g ","COMMON_PARTS"," >\n"],n=0,i=this._objects.length;n<i;n++)e.push("\t\t",this._objects[n].toSVG(t));return e.push("</g>\n"),e},getSvgStyles:function(){var t=void 0!==this.opacity&&1!==this.opacity?"opacity: "+this.opacity+";":"",e=this.visible?"":" visibility: hidden;";return[t,this.getSvgFilter(),e].join("")},toClipPathSVG:function(t){for(var e=[],n=0,i=this._objects.length;n<i;n++)e.push("\t",this._objects[n].toClipPathSVG(t));return this._createBaseClipPathSVGMarkup(e,{reviver:t})}}),e.Group.fromObject=function(t,n){var i=t.objects,r=e.util.object.clone(t,!0);delete r.objects,"string"!=typeof i?e.util.enlivenObjects(i,(function(i){e.util.enlivenObjects([t.clipPath],(function(r){var o=e.util.object.clone(t,!0);o.clipPath=r[0],delete o.objects,n&&n(new e.Group(i,o,!0))}))})):e.loadSVGFromURL(i,(function(o){var s=e.util.groupSVGElements(o,t,i);s.set(r),n&&n(s)}))})}(e),function(t){var e=t.fabric||(t.fabric={});e.ActiveSelection||(e.ActiveSelection=e.util.createClass(e.Group,{type:"activeSelection",initialize:function(t,n){n=n||{},this._objects=t||[];for(var i=this._objects.length;i--;)this._objects[i].group=this;n.originX&&(this.originX=n.originX),n.originY&&(this.originY=n.originY),this._calcBounds(),this._updateObjectsCoords(),e.Object.prototype.initialize.call(this,n),this.setCoords()},toGroup:function(){var t=this._objects.concat();this._objects=[];var n=e.Object.prototype.toObject.call(this),i=new e.Group([]);if(delete n.type,i.set(n),t.forEach((function(t){t.canvas.remove(t),t.group=i})),i._objects=t,!this.canvas)return i;var r=this.canvas;return r.add(i),r._activeObject=i,i.setCoords(),i},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(t,e,n){t.save(),t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",t,e),void 0===(n=n||{}).hasControls&&(n.hasControls=!1),void 0===n.hasRotatingPoint&&(n.hasRotatingPoint=!1),n.forActiveSelection=!0;for(var i=0,r=this._objects.length;i<r;i++)this._objects[i]._renderControls(t,n);t.restore()}}),e.ActiveSelection.fromObject=function(t,n){e.util.enlivenObjects(t.objects,(function(i){delete t.objects,n&&n(new e.ActiveSelection(i,t,!0))}))})}(e),function(t){var e=D.util.object.extend;t.fabric||(t.fabric={}),t.fabric.Image?D.warn("fabric.Image is already defined."):(D.Image=D.util.createClass(D.Object,{type:"image",crossOrigin:"",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:D.Object.prototype.stateProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,initialize:function(t,e){e||(e={}),this.filters=[],this.cacheKey="texture"+D.Object.__uid++,this.callSuper("initialize",e),this._initElement(t,e)},getElement:function(){return this._element||{}},setElement:function(t,e){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=t,this._originalElement=t,this._initConfig(e),0!==this.filters.length&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(t){var e=D.filterBackend;e&&e.evictCachesForKey&&e.evictCachesForKey(t)},dispose:function(){this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(t){D.util.cleanUpJsdomNode(this[t]),this[t]=void 0}.bind(this))},setCrossOrigin:function(t){return this.crossOrigin=t,this._element.crossOrigin=t,this},getOriginalSize:function(){var t=this.getElement();return{width:t.naturalWidth||t.width,height:t.naturalHeight||t.height}},_stroke:function(t){if(this.stroke&&0!==this.strokeWidth){var e=this.width/2,n=this.height/2;t.beginPath(),t.moveTo(-e,-n),t.lineTo(e,-n),t.lineTo(e,n),t.lineTo(-e,n),t.lineTo(-e,-n),t.closePath()}},_renderDashedStroke:function(t){var e=-this.width/2,n=-this.height/2,i=this.width,r=this.height;t.save(),this._setStrokeStyles(t,this),t.beginPath(),D.util.drawDashedLine(t,e,n,e+i,n,this.strokeDashArray),D.util.drawDashedLine(t,e+i,n,e+i,n+r,this.strokeDashArray),D.util.drawDashedLine(t,e+i,n+r,e,n+r,this.strokeDashArray),D.util.drawDashedLine(t,e,n+r,e,n,this.strokeDashArray),t.closePath(),t.restore()},toObject:function(t){var n=[];this.filters.forEach((function(t){t&&n.push(t.toObject())}));var i=e(this.callSuper("toObject",["crossOrigin","cropX","cropY"].concat(t)),{src:this.getSrc(),filters:n});return this.resizeFilter&&(i.resizeFilter=this.resizeFilter.toObject()),i},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var t,e=[],n=[],i=-this.width/2,r=-this.height/2,o="";if(this.hasCrop()){var s=D.Object.__uid++;e.push('<clipPath id="imageCrop_'+s+'">\n','\t<rect x="'+i+'" y="'+r+'" width="'+this.width+'" height="'+this.height+'" />\n',"</clipPath>\n"),o=' clip-path="url(#imageCrop_'+s+')" '}if(n.push("\t<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',i-this.cropX,'" y="',r-this.cropY,'" width="',this._element.width||this._element.naturalWidth,'" height="',this._element.height||this._element.height,'"',o,"></image>\n"),this.stroke||this.strokeDashArray){var a=this.fill;this.fill=null,t=["\t<rect ",'x="',i,'" y="',r,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'],this.fill=a}return e="fill"!==this.paintFirst?e.concat(t,n):e.concat(n,t)},getSrc:function(t){var e=t?this._element:this._originalElement;return e?e.toDataURL?e.toDataURL():this.srcFromAttribute?e.getAttribute("src"):e.src:this.src||""},setSrc:function(t,e,n){return D.util.loadImage(t,(function(t){this.setElement(t,n),this._setWidthHeight(),e&&e(this)}),this,n&&n.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var t=this.resizeFilter,e=this.minimumScaleTrigger,n=this.getTotalObjectScaling(),i=n.scaleX,r=n.scaleY,o=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!t||i>e&&r>e)return this._element=o,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=i,void(this._lastScaleY=r);D.filterBackend||(D.filterBackend=D.initFilterBackend());var s=D.util.createCanvasElement(),a=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,u=o.width,l=o.height;s.width=u,s.height=l,this._element=s,this._lastScaleX=t.scaleX=i,this._lastScaleY=t.scaleY=r,D.filterBackend.applyFilters([t],o,u,l,this._element,a),this._filterScalingX=s.width/this._originalElement.width,this._filterScalingY=s.height/this._originalElement.height},applyFilters:function(t){if(t=(t=t||this.filters||[]).filter((function(t){return t&&!t.isNeutralState()})),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),0===t.length)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var e=this._originalElement,n=e.naturalWidth||e.width,i=e.naturalHeight||e.height;if(this._element===this._originalElement){var r=D.util.createCanvasElement();r.width=n,r.height=i,this._element=r,this._filteredEl=r}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,n,i),this._lastScaleX=1,this._lastScaleY=1;return D.filterBackend||(D.filterBackend=D.initFilterBackend()),D.filterBackend.applyFilters(t,this._originalElement,n,i,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(t){!0!==this.isMoving&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(t),this._renderPaintInOrder(t)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(t){var e=this._element,n=this.width,i=this.height,r=Math.min(e.naturalWidth||e.width,n*this._filterScalingX),o=Math.min(e.naturalHeight||e.height,i*this._filterScalingY),s=-n/2,a=-i/2,u=Math.max(0,this.cropX*this._filterScalingX),l=Math.max(0,this.cropY*this._filterScalingY);e&&t.drawImage(e,u,l,r,o,s,a,n,i)},_needsResize:function(){var t=this.getTotalObjectScaling();return t.scaleX!==this._lastScaleX||t.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(t,e){this.setElement(D.util.getById(t),e),D.util.addClass(this.getElement(),D.Image.CSS_CANVAS)},_initConfig:function(t){t||(t={}),this.setOptions(t),this._setWidthHeight(t),this._element&&this.crossOrigin&&(this._element.crossOrigin=this.crossOrigin)},_initFilters:function(t,e){t&&t.length?D.util.enlivenObjects(t,(function(t){e&&e(t)}),"fabric.Image.filters"):e&&e()},_setWidthHeight:function(t){t||(t={});var e=this.getElement();this.width=t.width||e.naturalWidth||e.width||0,this.height=t.height||e.naturalHeight||e.height||0},parsePreserveAspectRatioAttribute:function(){var t,e=D.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),n=this._element.width,i=this._element.height,r=1,o=1,s=0,a=0,u=0,l=0,c=this.width,h=this.height,f={width:c,height:h};return!e||"none"===e.alignX&&"none"===e.alignY?(r=c/n,o=h/i):("meet"===e.meetOrSlice&&(t=(c-n*(r=o=D.util.findScaleToFit(this._element,f)))/2,"Min"===e.alignX&&(s=-t),"Max"===e.alignX&&(s=t),t=(h-i*o)/2,"Min"===e.alignY&&(a=-t),"Max"===e.alignY&&(a=t)),"slice"===e.meetOrSlice&&(t=n-c/(r=o=D.util.findScaleToCover(this._element,f)),"Mid"===e.alignX&&(u=t/2),"Max"===e.alignX&&(u=t),t=i-h/o,"Mid"===e.alignY&&(l=t/2),"Max"===e.alignY&&(l=t),n=c/r,i=h/o)),{width:n,height:i,scaleX:r,scaleY:o,offsetLeft:s,offsetTop:a,cropX:u,cropY:l}}}),D.Image.CSS_CANVAS="canvas-img",D.Image.prototype.getSvgSrc=D.Image.prototype.getSrc,D.Image.fromObject=function(t,e){var n=D.util.object.clone(t);D.util.loadImage(n.src,(function(t,i){i?e&&e(null,i):D.Image.prototype._initFilters.call(n,n.filters,(function(i){n.filters=i||[],D.Image.prototype._initFilters.call(n,[n.resizeFilter],(function(i){n.resizeFilter=i[0],D.util.enlivenObjects([n.clipPath],(function(i){n.clipPath=i[0];var r=new D.Image(t,n);e(r)}))}))}))}),null,n.crossOrigin)},D.Image.fromURL=function(t,e,n){D.util.loadImage(t,(function(t){e&&e(new D.Image(t,n))}),null,n&&n.crossOrigin)},D.Image.ATTRIBUTE_NAMES=D.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin".split(" ")),D.Image.fromElement=function(t,n,i){var r=D.parseAttributes(t,D.Image.ATTRIBUTE_NAMES);D.Image.fromURL(r["xlink:href"],n,e(i?D.util.object.clone(i):{},r))})}(e),D.util.object.extend(D.Object.prototype,{_getAngleValueForStraighten:function(){var t=this.angle%360;return t>0?90*Math.round((t-1)/90):90*Math.round(t/90)},straighten:function(){return this.rotate(this._getAngleValueForStraighten()),this},fxStraighten:function(t){var e=function(){},n=(t=t||{}).onComplete||e,i=t.onChange||e,r=this;return D.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(t){r.rotate(t),i()},onComplete:function(){r.setCoords(),n()}}),this}}),D.util.object.extend(D.StaticCanvas.prototype,{straightenObject:function(t){return t.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(t){return t.fxStraighten({onChange:this.requestRenderAllBound}),this}}),function(){function t(t,e){var n="precision "+e+" float;\nvoid main(){}",i=t.createShader(t.FRAGMENT_SHADER);return t.shaderSource(i,n),t.compileShader(i),!!t.getShaderParameter(i,t.COMPILE_STATUS)}function e(t){t&&t.tileSize&&(this.tileSize=t.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}D.isWebglSupported=function(e){if(D.isLikelyNode)return!1;e=e||D.WebglFilterBackend.prototype.tileSize;var n=document.createElement("canvas"),i=n.getContext("webgl")||n.getContext("experimental-webgl"),r=!1;if(i){D.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE),r=D.maxTextureSize>=e;for(var o=["highp","mediump","lowp"],s=0;s<3;s++)if(t(i,o[s])){D.webGlPrecision=o[s];break}}return this.isSupported=r,r},D.WebglFilterBackend=e,e.prototype={tileSize:2048,resources:{},setupGLContext:function(t,e){this.dispose(),this.createWebGLCanvas(t,e),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(t,e)},chooseFastestCopyGLTo2DMethod:function(t,e){var n,i=void 0!==window.performance;try{new ImageData(1,1),n=!0}catch(t){n=!1}var r="undefined"!=typeof ArrayBuffer,o="undefined"!=typeof Uint8ClampedArray;if(i&&n&&r&&o){var s=D.util.createCanvasElement(),a=new ArrayBuffer(t*e*4);if(D.forceGLPutImageData)return this.imageBuffer=a,void(this.copyGLTo2D=T);var u,l,c={imageBuffer:a,destinationWidth:t,destinationHeight:e,targetCanvas:s};s.width=t,s.height=e,u=window.performance.now(),F.call(c,this.gl,c),l=window.performance.now()-u,u=window.performance.now(),T.call(c,this.gl,c),l>window.performance.now()-u?(this.imageBuffer=a,this.copyGLTo2D=T):this.copyGLTo2D=F}},createWebGLCanvas:function(t,e){var n=D.util.createCanvasElement();n.width=t,n.height=e;var i={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},r=n.getContext("webgl",i);r||(r=n.getContext("experimental-webgl",i)),r&&(r.clearColor(0,0,0,0),this.canvas=n,this.gl=r)},applyFilters:function(t,e,n,i,r,o){var s,a=this.gl;o&&(s=this.getCachedTexture(o,e));var u={originalWidth:e.width||e.originalWidth,originalHeight:e.height||e.originalHeight,sourceWidth:n,sourceHeight:i,destinationWidth:n,destinationHeight:i,context:a,sourceTexture:this.createTexture(a,n,i,!s&&e),targetTexture:this.createTexture(a,n,i),originalTexture:s||this.createTexture(a,n,i,!s&&e),passes:t.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:r},l=a.createFramebuffer();return a.bindFramebuffer(a.FRAMEBUFFER,l),t.forEach((function(t){t&&t.applyTo(u)})),function(t){var e=t.targetCanvas,n=e.width,i=e.height,r=t.destinationWidth,o=t.destinationHeight;n===r&&i===o||(e.width=r,e.height=o)}(u),this.copyGLTo2D(a,u),a.bindTexture(a.TEXTURE_2D,null),a.deleteTexture(u.sourceTexture),a.deleteTexture(u.targetTexture),a.deleteFramebuffer(l),r.getContext("2d").setTransform(1,0,0,1,0,0),u},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(t,e,n,i){var r=t.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),i?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,i):t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,n,0,t.RGBA,t.UNSIGNED_BYTE,null),r},getCachedTexture:function(t,e){if(this.textureCache[t])return this.textureCache[t];var n=this.createTexture(this.gl,e.width,e.height,e);return this.textureCache[t]=n,n},evictCachesForKey:function(t){this.textureCache[t]&&(this.gl.deleteTexture(this.textureCache[t]),delete this.textureCache[t])},copyGLTo2D:F,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var t=this.gl,e={renderer:"",vendor:""};if(!t)return e;var n=t.getExtension("WEBGL_debug_renderer_info");if(n){var i=t.getParameter(n.UNMASKED_RENDERER_WEBGL),r=t.getParameter(n.UNMASKED_VENDOR_WEBGL);i&&(e.renderer=i.toLowerCase()),r&&(e.vendor=r.toLowerCase())}return this.gpuInfo=e,e}}}(),function(){var t=function(){};function e(){}D.Canvas2dFilterBackend=e,e.prototype={evictCachesForKey:t,dispose:t,clearWebGLCaches:t,resources:{},applyFilters:function(t,e,n,i,r){var o=r.getContext("2d");o.drawImage(e,0,0,n,i);var s={sourceWidth:n,sourceHeight:i,imageData:o.getImageData(0,0,n,i),originalEl:e,originalImageData:o.getImageData(0,0,n,i),canvasEl:r,ctx:o,filterBackend:this};return t.forEach((function(t){t.applyTo(s)})),s.imageData.width===n&&s.imageData.height===i||(r.width=s.imageData.width,r.height=s.imageData.height),o.putImageData(s.imageData,0,0),s}}}(),D.Image=D.Image||{},D.Image.filters=D.Image.filters||{},D.Image.filters.BaseFilter=D.util.createClass({type:"BaseFilter",vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvoid main() {\nvTexCoord = aPosition;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:"precision highp float;\nvarying vec2 vTexCoord;\nuniform sampler2D uTexture;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\n}",initialize:function(t){t&&this.setOptions(t)},setOptions:function(t){for(var e in t)this[e]=t[e]},createProgram:function(t,e,n){e=e||this.fragmentSource,n=n||this.vertexSource,"highp"!==D.webGlPrecision&&(e=e.replace(/precision highp float/g,"precision "+D.webGlPrecision+" float"));var i=t.createShader(t.VERTEX_SHADER);if(t.shaderSource(i,n),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+t.getShaderInfoLog(i));var r=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(r,e),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+t.getShaderInfoLog(r));var o=t.createProgram();if(t.attachShader(o,i),t.attachShader(o,r),t.linkProgram(o),!t.getProgramParameter(o,t.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+t.getProgramInfoLog(o));var s=this.getAttributeLocations(t,o),a=this.getUniformLocations(t,o)||{};return a.uStepW=t.getUniformLocation(o,"uStepW"),a.uStepH=t.getUniformLocation(o,"uStepH"),{program:o,attributeLocations:s,uniformLocations:a}},getAttributeLocations:function(t,e){return{aPosition:t.getAttribLocation(e,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(t,e,n){var i=e.aPosition,r=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,r),t.enableVertexAttribArray(i),t.vertexAttribPointer(i,2,t.FLOAT,!1,0,0),t.bufferData(t.ARRAY_BUFFER,n,t.STATIC_DRAW)},_setupFrameBuffer:function(t){var e,n,i=t.context;t.passes>1?(e=t.destinationWidth,n=t.destinationHeight,t.sourceWidth===e&&t.sourceHeight===n||(i.deleteTexture(t.targetTexture),t.targetTexture=t.filterBackend.createTexture(i,e,n)),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,t.targetTexture,0)):(i.bindFramebuffer(i.FRAMEBUFFER,null),i.finish())},_swapTextures:function(t){t.passes--,t.pass++;var e=t.targetTexture;t.targetTexture=t.sourceTexture,t.sourceTexture=e},isNeutralState:function(){var t=this.mainParameter,e=D.Image.filters[this.type].prototype;if(t){if(Array.isArray(e[t])){for(var n=e[t].length;n--;)if(this[t][n]!==e[t][n])return!1;return!0}return e[t]===this[t]}return!1},applyTo:function(t){t.webgl?(this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)},retrieveShader:function(t){return t.programCache.hasOwnProperty(this.type)||(t.programCache[this.type]=this.createProgram(t.context)),t.programCache[this.type]},applyToWebGL:function(t){var e=t.context,n=this.retrieveShader(t);0===t.pass&&t.originalTexture?e.bindTexture(e.TEXTURE_2D,t.originalTexture):e.bindTexture(e.TEXTURE_2D,t.sourceTexture),e.useProgram(n.program),this.sendAttributeData(e,n.attributeLocations,t.aPosition),e.uniform1f(n.uniformLocations.uStepW,1/t.sourceWidth),e.uniform1f(n.uniformLocations.uStepH,1/t.sourceHeight),this.sendUniformData(e,n.uniformLocations),e.viewport(0,0,t.destinationWidth,t.destinationHeight),e.drawArrays(e.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(t,e,n){t.activeTexture(n),t.bindTexture(t.TEXTURE_2D,e),t.activeTexture(t.TEXTURE0)},unbindAdditionalTexture:function(t,e){t.activeTexture(e),t.bindTexture(t.TEXTURE_2D,null),t.activeTexture(t.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(t){this[this.mainParameter]=t},sendUniformData:function(){},createHelpLayer:function(t){if(!t.helpLayer){var e=document.createElement("canvas");e.width=t.sourceWidth,e.height=t.sourceHeight,t.helpLayer=e}},toObject:function(){var t={type:this.type},e=this.mainParameter;return e&&(t[e]=this[e]),t},toJSON:function(){return this.toObject()}}),D.Image.filters.BaseFilter.fromObject=function(t,e){var n=new D.Image.filters[t.type](t);return e&&e(n),n},function(t){var e=t.fabric||(t.fabric={}),n=e.Image.filters,i=e.util.createClass;n.ColorMatrix=i(n.BaseFilter,{type:"ColorMatrix",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nuniform mat4 uColorMatrix;\nuniform vec4 uConstants;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor *= uColorMatrix;\ncolor += uConstants;\ngl_FragColor = color;\n}",matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(t){this.callSuper("initialize",t),this.matrix=this.matrix.slice(0)},applyTo2d:function(t){var e,n,i,r,o,s=t.imageData.data,a=s.length,u=this.matrix,l=this.colorsOnly;for(o=0;o<a;o+=4)e=s[o],n=s[o+1],i=s[o+2],l?(s[o]=e*u[0]+n*u[1]+i*u[2]+255*u[4],s[o+1]=e*u[5]+n*u[6]+i*u[7]+255*u[9],s[o+2]=e*u[10]+n*u[11]+i*u[12]+255*u[14]):(r=s[o+3],s[o]=e*u[0]+n*u[1]+i*u[2]+r*u[3]+255*u[4],s[o+1]=e*u[5]+n*u[6]+i*u[7]+r*u[8]+255*u[9],s[o+2]=e*u[10]+n*u[11]+i*u[12]+r*u[13]+255*u[14],s[o+3]=e*u[15]+n*u[16]+i*u[17]+r*u[18]+255*u[19])},getUniformLocations:function(t,e){return{uColorMatrix:t.getUniformLocation(e,"uColorMatrix"),uConstants:t.getUniformLocation(e,"uConstants")}},sendUniformData:function(t,e){var n=this.matrix,i=[n[0],n[1],n[2],n[3],n[5],n[6],n[7],n[8],n[10],n[11],n[12],n[13],n[15],n[16],n[17],n[18]],r=[n[4],n[9],n[14],n[19]];t.uniformMatrix4fv(e.uColorMatrix,!1,i),t.uniform4fv(e.uConstants,r)}}),e.Image.filters.ColorMatrix.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){var e=t.fabric||(t.fabric={}),n=e.Image.filters,i=e.util.createClass;n.Brightness=i(n.BaseFilter,{type:"Brightness",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBrightness;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += uBrightness;\ngl_FragColor = color;\n}",brightness:0,mainParameter:"brightness",applyTo2d:function(t){if(0!==this.brightness){var e,n=t.imageData.data,i=n.length,r=Math.round(255*this.brightness);for(e=0;e<i;e+=4)n[e]=n[e]+r,n[e+1]=n[e+1]+r,n[e+2]=n[e+2]+r}},getUniformLocations:function(t,e){return{uBrightness:t.getUniformLocation(e,"uBrightness")}},sendUniformData:function(t,e){t.uniform1f(e.uBrightness,this.brightness)}}),e.Image.filters.Brightness.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){var e=t.fabric||(t.fabric={}),n=e.util.object.extend,i=e.Image.filters,r=e.util.createClass;i.Convolute=r(i.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_3_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_5_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_5_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_7_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_7_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_9_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_9_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}"},retrieveShader:function(t){var e=Math.sqrt(this.matrix.length),n=this.type+"_"+e+"_"+(this.opaque?1:0),i=this.fragmentSource[n];return t.programCache.hasOwnProperty(n)||(t.programCache[n]=this.createProgram(t.context,i)),t.programCache[n]},applyTo2d:function(t){var e,n,i,r,o,s,a,u,l,c,h,f,d,p=t.imageData,g=p.data,v=this.matrix,m=Math.round(Math.sqrt(v.length)),y=Math.floor(m/2),x=p.width,E=p.height,b=t.ctx.createImageData(x,E),C=b.data,w=this.opaque?1:0;for(h=0;h<E;h++)for(c=0;c<x;c++){for(o=4*(h*x+c),e=0,n=0,i=0,r=0,d=0;d<m;d++)for(f=0;f<m;f++)s=c+f-y,(a=h+d-y)<0||a>=E||s<0||s>=x||(u=4*(a*x+s),l=v[d*m+f],e+=g[u]*l,n+=g[u+1]*l,i+=g[u+2]*l,w||(r+=g[u+3]*l));C[o]=e,C[o+1]=n,C[o+2]=i,C[o+3]=w?g[o+3]:r}t.imageData=b},getUniformLocations:function(t,e){return{uMatrix:t.getUniformLocation(e,"uMatrix"),uOpaque:t.getUniformLocation(e,"uOpaque"),uHalfSize:t.getUniformLocation(e,"uHalfSize"),uSize:t.getUniformLocation(e,"uSize")}},sendUniformData:function(t,e){t.uniform1fv(e.uMatrix,this.matrix)},toObject:function(){return n(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),e.Image.filters.Convolute.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){var e=t.fabric||(t.fabric={}),n=e.Image.filters,i=e.util.createClass;n.Grayscale=i(n.BaseFilter,{type:"Grayscale",fragmentSource:{average:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat average = (color.r + color.b + color.g) / 3.0;\ngl_FragColor = vec4(average, average, average, color.a);\n}",lightness:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\ngl_FragColor = vec4(average, average, average, col.a);\n}",luminosity:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\ngl_FragColor = vec4(average, average, average, col.a);\n}"},mode:"average",mainParameter:"mode",applyTo2d:function(t){var e,n,i=t.imageData.data,r=i.length,o=this.mode;for(e=0;e<r;e+=4)"average"===o?n=(i[e]+i[e+1]+i[e+2])/3:"lightness"===o?n=(Math.min(i[e],i[e+1],i[e+2])+Math.max(i[e],i[e+1],i[e+2]))/2:"luminosity"===o&&(n=.21*i[e]+.72*i[e+1]+.07*i[e+2]),i[e]=n,i[e+1]=n,i[e+2]=n},retrieveShader:function(t){var e=this.type+"_"+this.mode;if(!t.programCache.hasOwnProperty(e)){var n=this.fragmentSource[this.mode];t.programCache[e]=this.createProgram(t.context,n)}return t.programCache[e]},getUniformLocations:function(t,e){return{uMode:t.getUniformLocation(e,"uMode")}},sendUniformData:function(t,e){t.uniform1i(e.uMode,1)},isNeutralState:function(){return!1}}),e.Image.filters.Grayscale.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){var e=t.fabric||(t.fabric={}),n=e.Image.filters,i=e.util.createClass;n.Invert=i(n.BaseFilter,{type:"Invert",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uInvert;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nif (uInvert == 1) {\ngl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n} else {\ngl_FragColor = color;\n}\n}",invert:!0,mainParameter:"invert",applyTo2d:function(t){var e,n=t.imageData.data,i=n.length;for(e=0;e<i;e+=4)n[e]=255-n[e],n[e+1]=255-n[e+1],n[e+2]=255-n[e+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(t,e){return{uInvert:t.getUniformLocation(e,"uInvert")}},sendUniformData:function(t,e){t.uniform1i(e.uInvert,this.invert)}}),e.Image.filters.Invert.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){var e=t.fabric||(t.fabric={}),n=e.util.object.extend,i=e.Image.filters,r=e.util.createClass;i.Noise=r(i.BaseFilter,{type:"Noise",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uStepH;\nuniform float uNoise;\nuniform float uSeed;\nvarying vec2 vTexCoord;\nfloat rand(vec2 co, float seed, float vScale) {\nreturn fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n}\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\ngl_FragColor = color;\n}",mainParameter:"noise",noise:0,applyTo2d:function(t){if(0!==this.noise){var e,n,i=t.imageData.data,r=i.length,o=this.noise;for(e=0,r=i.length;e<r;e+=4)n=(.5-Math.random())*o,i[e]+=n,i[e+1]+=n,i[e+2]+=n}},getUniformLocations:function(t,e){return{uNoise:t.getUniformLocation(e,"uNoise"),uSeed:t.getUniformLocation(e,"uSeed")}},sendUniformData:function(t,e){t.uniform1f(e.uNoise,this.noise/255),t.uniform1f(e.uSeed,Math.random())},toObject:function(){return n(this.callSuper("toObject"),{noise:this.noise})}}),e.Image.filters.Noise.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){var e=t.fabric||(t.fabric={}),n=e.Image.filters,i=e.util.createClass;n.Pixelate=i(n.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBlocksize;\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nfloat blockW = uBlocksize * uStepW;\nfloat blockH = uBlocksize * uStepW;\nint posX = int(vTexCoord.x / blockW);\nint posY = int(vTexCoord.y / blockH);\nfloat fposX = float(posX);\nfloat fposY = float(posY);\nvec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\nvec4 color = texture2D(uTexture, squareCoords);\ngl_FragColor = color;\n}",applyTo2d:function(t){var e,n,i,r,o,s,a,u,l,c,h,f=t.imageData,d=f.data,p=f.height,g=f.width;for(n=0;n<p;n+=this.blocksize)for(i=0;i<g;i+=this.blocksize)for(r=d[e=4*n*g+4*i],o=d[e+1],s=d[e+2],a=d[e+3],c=Math.min(n+this.blocksize,p),h=Math.min(i+this.blocksize,g),u=n;u<c;u++)for(l=i;l<h;l++)d[e=4*u*g+4*l]=r,d[e+1]=o,d[e+2]=s,d[e+3]=a},isNeutralState:function(){return 1===this.blocksize},getUniformLocations:function(t,e){return{uBlocksize:t.getUniformLocation(e,"uBlocksize"),uStepW:t.getUniformLocation(e,"uStepW"),uStepH:t.getUniformLocation(e,"uStepH")}},sendUniformData:function(t,e){t.uniform1f(e.uBlocksize,this.blocksize)}}),e.Image.filters.Pixelate.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){var e=t.fabric||(t.fabric={}),n=e.util.object.extend,i=e.Image.filters,r=e.util.createClass;i.RemoveColor=r(i.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\nif(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\ngl_FragColor.a = 0.0;\n}\n}",distance:.02,useAlpha:!1,applyTo2d:function(t){var n,i,r,o,s=t.imageData.data,a=255*this.distance,u=new e.Color(this.color).getSource(),l=[u[0]-a,u[1]-a,u[2]-a],c=[u[0]+a,u[1]+a,u[2]+a];for(n=0;n<s.length;n+=4)i=s[n],r=s[n+1],o=s[n+2],i>l[0]&&r>l[1]&&o>l[2]&&i<c[0]&&r<c[1]&&o<c[2]&&(s[n+3]=0)},getUniformLocations:function(t,e){return{uLow:t.getUniformLocation(e,"uLow"),uHigh:t.getUniformLocation(e,"uHigh")}},sendUniformData:function(t,n){var i=new e.Color(this.color).getSource(),r=parseFloat(this.distance),o=[0+i[0]/255-r,0+i[1]/255-r,0+i[2]/255-r,1],s=[i[0]/255+r,i[1]/255+r,i[2]/255+r,1];t.uniform4fv(n.uLow,o),t.uniform4fv(n.uHigh,s)},toObject:function(){return n(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),e.Image.filters.RemoveColor.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){var e=t.fabric||(t.fabric={}),n=e.Image.filters,i=e.util.createClass,r={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var o in r)n[o]=i(n.ColorMatrix,{type:o,matrix:r[o],mainParameter:!1,colorsOnly:!0}),e.Image.filters[o].fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){var e=t.fabric,n=e.Image.filters,i=e.util.createClass;n.BlendColor=i(n.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:"gl_FragColor.rgb *= uColor.rgb;\n",screen:"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",add:"gl_FragColor.rgb += uColor.rgb;\n",diff:"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",subtract:"gl_FragColor.rgb -= uColor.rgb;\n",lighten:"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",darken:"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",exclusion:"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",overlay:"if (uColor.r < 0.5) {\ngl_FragColor.r *= 2.0 * uColor.r;\n} else {\ngl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n}\nif (uColor.g < 0.5) {\ngl_FragColor.g *= 2.0 * uColor.g;\n} else {\ngl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n}\nif (uColor.b < 0.5) {\ngl_FragColor.b *= 2.0 * uColor.b;\n} else {\ngl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n}\n",tint:"gl_FragColor.rgb *= (1.0 - uColor.a);\ngl_FragColor.rgb += uColor.rgb;\n"},buildSource:function(t){return"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ngl_FragColor = color;\nif (color.a > 0.0) {\n"+this.fragmentSource[t]+"}\n}"},retrieveShader:function(t){var e,n=this.type+"_"+this.mode;return t.programCache.hasOwnProperty(n)||(e=this.buildSource(this.mode),t.programCache[n]=this.createProgram(t.context,e)),t.programCache[n]},applyTo2d:function(t){var n,i,r,o,s,a,u,l=t.imageData.data,c=l.length,h=1-this.alpha;n=(u=new e.Color(this.color).getSource())[0]*this.alpha,i=u[1]*this.alpha,r=u[2]*this.alpha;for(var f=0;f<c;f+=4)switch(o=l[f],s=l[f+1],a=l[f+2],this.mode){case"multiply":l[f]=o*n/255,l[f+1]=s*i/255,l[f+2]=a*r/255;break;case"screen":l[f]=255-(255-o)*(255-n)/255,l[f+1]=255-(255-s)*(255-i)/255,l[f+2]=255-(255-a)*(255-r)/255;break;case"add":l[f]=o+n,l[f+1]=s+i,l[f+2]=a+r;break;case"diff":case"difference":l[f]=Math.abs(o-n),l[f+1]=Math.abs(s-i),l[f+2]=Math.abs(a-r);break;case"subtract":l[f]=o-n,l[f+1]=s-i,l[f+2]=a-r;break;case"darken":l[f]=Math.min(o,n),l[f+1]=Math.min(s,i),l[f+2]=Math.min(a,r);break;case"lighten":l[f]=Math.max(o,n),l[f+1]=Math.max(s,i),l[f+2]=Math.max(a,r);break;case"overlay":l[f]=n<128?2*o*n/255:255-2*(255-o)*(255-n)/255,l[f+1]=i<128?2*s*i/255:255-2*(255-s)*(255-i)/255,l[f+2]=r<128?2*a*r/255:255-2*(255-a)*(255-r)/255;break;case"exclusion":l[f]=n+o-2*n*o/255,l[f+1]=i+s-2*i*s/255,l[f+2]=r+a-2*r*a/255;break;case"tint":l[f]=n+o*h,l[f+1]=i+s*h,l[f+2]=r+a*h}},getUniformLocations:function(t,e){return{uColor:t.getUniformLocation(e,"uColor")}},sendUniformData:function(t,n){var i=new e.Color(this.color).getSource();i[0]=this.alpha*i[0]/255,i[1]=this.alpha*i[1]/255,i[2]=this.alpha*i[2]/255,i[3]=this.alpha,t.uniform4fv(n.uColor,i)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),e.Image.filters.BlendColor.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){var e=t.fabric,n=e.Image.filters,i=e.util.createClass;n.BlendImage=i(n.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nuniform mat3 uTransformMatrix;\nvoid main() {\nvTexCoord = aPosition;\nvTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:{multiply:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.rgba *= color2.rgba;\ngl_FragColor = color;\n}",mask:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.a = color2.a;\ngl_FragColor = color;\n}"},retrieveShader:function(t){var e=this.type+"_"+this.mode,n=this.fragmentSource[this.mode];return t.programCache.hasOwnProperty(e)||(t.programCache[e]=this.createProgram(t.context,n)),t.programCache[e]},applyToWebGL:function(t){var e=t.context,n=this.createTexture(t.filterBackend,this.image);this.bindAdditionalTexture(e,n,e.TEXTURE1),this.callSuper("applyToWebGL",t),this.unbindAdditionalTexture(e,e.TEXTURE1)},createTexture:function(t,e){return t.getCachedTexture(e.cacheKey,e._element)},calculateMatrix:function(){var t=this.image,e=t._element.width,n=t._element.height;return[1/t.scaleX,0,0,0,1/t.scaleY,0,-t.left/e,-t.top/n,1]},applyTo2d:function(t){var n,i,r,o,s,a,u,l,c,h,f,d=t.imageData,p=t.filterBackend.resources,g=d.data,v=g.length,m=d.width,y=d.height,x=this.image;p.blendImage||(p.blendImage=e.util.createCanvasElement()),h=(c=p.blendImage).getContext("2d"),c.width!==m||c.height!==y?(c.width=m,c.height=y):h.clearRect(0,0,m,y),h.setTransform(x.scaleX,0,0,x.scaleY,x.left,x.top),h.drawImage(x._element,0,0,m,y),f=h.getImageData(0,0,m,y).data;for(var E=0;E<v;E+=4)switch(s=g[E],a=g[E+1],u=g[E+2],l=g[E+3],n=f[E],i=f[E+1],r=f[E+2],o=f[E+3],this.mode){case"multiply":g[E]=s*n/255,g[E+1]=a*i/255,g[E+2]=u*r/255,g[E+3]=l*o/255;break;case"mask":g[E+3]=o}},getUniformLocations:function(t,e){return{uTransformMatrix:t.getUniformLocation(e,"uTransformMatrix"),uImage:t.getUniformLocation(e,"uImage")}},sendUniformData:function(t,e){var n=this.calculateMatrix();t.uniform1i(e.uImage,1),t.uniformMatrix3fv(e.uTransformMatrix,!1,n)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),e.Image.filters.BlendImage.fromObject=function(t,n){e.Image.fromObject(t.image,(function(i){var r=e.util.object.clone(t);r.image=i,n(new e.Image.filters.BlendImage(r))}))}}(e),function(t){var e=t.fabric||(t.fabric={}),n=Math.pow,i=Math.floor,r=Math.sqrt,o=Math.abs,s=Math.round,a=Math.sin,u=Math.ceil,l=e.Image.filters,c=e.util.createClass;l.Resize=c(l.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(t,e){return{uDelta:t.getUniformLocation(e,"uDelta"),uTaps:t.getUniformLocation(e,"uTaps")}},sendUniformData:function(t,e){t.uniform2fv(e.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),t.uniform1fv(e.uTaps,this.taps)},retrieveShader:function(t){var e=this.getFilterWindow(),n=this.type+"_"+e;if(!t.programCache.hasOwnProperty(n)){var i=this.generateShader(e);t.programCache[n]=this.createProgram(t.context,i)}return t.programCache[n]},getFilterWindow:function(){var t=this.tempScale;return Math.ceil(this.lanczosLobes/t)},getTaps:function(){for(var t=this.lanczosCreate(this.lanczosLobes),e=this.tempScale,n=this.getFilterWindow(),i=new Array(n),r=1;r<=n;r++)i[r-1]=t(r*e);return i},generateShader:function(t){for(var e=new Array(t),n=this.fragmentSourceTOP,i=1;i<=t;i++)e[i-1]=i+".0 * uDelta";return n+="uniform float uTaps["+t+"];\n",n+="void main() {\n",n+="  vec4 color = texture2D(uTexture, vTexCoord);\n",n+="  float sum = 1.0;\n",e.forEach((function(t,e){n+="  color += texture2D(uTexture, vTexCoord + "+t+") * uTaps["+e+"];\n",n+="  color += texture2D(uTexture, vTexCoord - "+t+") * uTaps["+e+"];\n",n+="  sum += 2.0 * uTaps["+e+"];\n"})),n+="  gl_FragColor = color / sum;\n",n+="}"},fragmentSourceTOP:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\n",applyTo:function(t){t.webgl?(t.passes++,this.width=t.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=t.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),t.destinationWidth=this.dW,this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t),t.sourceWidth=t.destinationWidth,this.height=t.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),t.destinationHeight=this.dH,this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t),t.sourceHeight=t.destinationHeight):this.applyTo2d(t)},isNeutralState:function(){return 1===this.scaleX&&1===this.scaleY},lanczosCreate:function(t){return function(e){if(e>=t||e<=-t)return 0;if(e<1.1920929e-7&&e>-1.1920929e-7)return 1;var n=(e*=Math.PI)/t;return a(e)/e*a(n)/n}},applyTo2d:function(t){var e=t.imageData,n=this.scaleX,i=this.scaleY;this.rcpScaleX=1/n,this.rcpScaleY=1/i;var r,o=e.width,a=e.height,u=s(o*n),l=s(a*i);"sliceHack"===this.resizeType?r=this.sliceByTwo(t,o,a,u,l):"hermite"===this.resizeType?r=this.hermiteFastResize(t,o,a,u,l):"bilinear"===this.resizeType?r=this.bilinearFiltering(t,o,a,u,l):"lanczos"===this.resizeType&&(r=this.lanczosResize(t,o,a,u,l)),t.imageData=r},sliceByTwo:function(t,n,r,o,s){var a,u,l=t.imageData,c=!1,h=!1,f=.5*n,d=.5*r,p=e.filterBackend.resources,g=0,v=0,m=n,y=0;for(p.sliceByTwo||(p.sliceByTwo=document.createElement("canvas")),((a=p.sliceByTwo).width<1.5*n||a.height<r)&&(a.width=1.5*n,a.height=r),(u=a.getContext("2d")).clearRect(0,0,1.5*n,r),u.putImageData(l,0,0),o=i(o),s=i(s);!c||!h;)n=f,r=d,o<i(.5*f)?f=i(.5*f):(f=o,c=!0),s<i(.5*d)?d=i(.5*d):(d=s,h=!0),u.drawImage(a,g,v,n,r,m,y,f,d),g=m,v=y,y+=d;return u.getImageData(g,v,o,s)},lanczosResize:function(t,e,s,a,l){var c=t.imageData.data,h=t.ctx.createImageData(a,l),f=h.data,d=this.lanczosCreate(this.lanczosLobes),p=this.rcpScaleX,g=this.rcpScaleY,v=2/this.rcpScaleX,m=2/this.rcpScaleY,y=u(p*this.lanczosLobes/2),x=u(g*this.lanczosLobes/2),E={},b={},C={};return function t(u){var w,_,A,S,D,L,F,T,M,I,P;for(b.x=(u+.5)*p,C.x=i(b.x),w=0;w<l;w++){for(b.y=(w+.5)*g,C.y=i(b.y),D=0,L=0,F=0,T=0,M=0,_=C.x-y;_<=C.x+y;_++)if(!(_<0||_>=e)){I=i(1e3*o(_-b.x)),E[I]||(E[I]={});for(var O=C.y-x;O<=C.y+x;O++)O<0||O>=s||(P=i(1e3*o(O-b.y)),E[I][P]||(E[I][P]=d(r(n(I*v,2)+n(P*m,2))/1e3)),(A=E[I][P])>0&&(D+=A,L+=A*c[S=4*(O*e+_)],F+=A*c[S+1],T+=A*c[S+2],M+=A*c[S+3]))}f[S=4*(w*a+u)]=L/D,f[S+1]=F/D,f[S+2]=T/D,f[S+3]=M/D}return++u<a?t(u):h}(0)},bilinearFiltering:function(t,e,n,r,o){var s,a,u,l,c,h,f,d,p,g=0,v=this.rcpScaleX,m=this.rcpScaleY,y=4*(e-1),x=t.imageData.data,E=t.ctx.createImageData(r,o),b=E.data;for(u=0;u<o;u++)for(l=0;l<r;l++)for(c=v*l-(s=i(v*l)),h=m*u-(a=i(m*u)),p=4*(a*e+s),f=0;f<4;f++)d=x[p+f]*(1-c)*(1-h)+x[p+4+f]*c*(1-h)+x[p+y+f]*h*(1-c)+x[p+y+4+f]*c*h,b[g++]=d;return E},hermiteFastResize:function(t,e,n,s,a){for(var l=this.rcpScaleX,c=this.rcpScaleY,h=u(l/2),f=u(c/2),d=t.imageData.data,p=t.ctx.createImageData(s,a),g=p.data,v=0;v<a;v++)for(var m=0;m<s;m++){for(var y=4*(m+v*s),x=0,E=0,b=0,C=0,w=0,_=0,A=0,S=(v+.5)*c,D=i(v*c);D<(v+1)*c;D++)for(var L=o(S-(D+.5))/f,F=(m+.5)*l,T=L*L,M=i(m*l);M<(m+1)*l;M++){var I=o(F-(M+.5))/h,P=r(T+I*I);P>1&&P<-1||(x=2*P*P*P-3*P*P+1)>0&&(A+=x*d[(I=4*(M+D*e))+3],b+=x,d[I+3]<255&&(x=x*d[I+3]/250),C+=x*d[I],w+=x*d[I+1],_+=x*d[I+2],E+=x)}g[y]=C/E,g[y+1]=w/E,g[y+2]=_/E,g[y+3]=A/b}return p},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),e.Image.filters.Resize.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){var e=t.fabric||(t.fabric={}),n=e.Image.filters,i=e.util.createClass;n.Contrast=i(n.BaseFilter,{type:"Contrast",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uContrast;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\ncolor.rgb = contrastF * (color.rgb - 0.5) + 0.5;\ngl_FragColor = color;\n}",contrast:0,mainParameter:"contrast",applyTo2d:function(t){if(0!==this.contrast){var e,n=t.imageData.data,i=n.length,r=Math.floor(255*this.contrast),o=259*(r+255)/(255*(259-r));for(e=0;e<i;e+=4)n[e]=o*(n[e]-128)+128,n[e+1]=o*(n[e+1]-128)+128,n[e+2]=o*(n[e+2]-128)+128}},getUniformLocations:function(t,e){return{uContrast:t.getUniformLocation(e,"uContrast")}},sendUniformData:function(t,e){t.uniform1f(e.uContrast,this.contrast)}}),e.Image.filters.Contrast.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){var e=t.fabric||(t.fabric={}),n=e.Image.filters,i=e.util.createClass;n.Saturation=i(n.BaseFilter,{type:"Saturation",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uSaturation;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat rgMax = max(color.r, color.g);\nfloat rgbMax = max(rgMax, color.b);\ncolor.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\ncolor.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\ncolor.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\ngl_FragColor = color;\n}",saturation:0,mainParameter:"saturation",applyTo2d:function(t){if(0!==this.saturation){var e,n,i=t.imageData.data,r=i.length,o=-this.saturation;for(e=0;e<r;e+=4)n=Math.max(i[e],i[e+1],i[e+2]),i[e]+=n!==i[e]?(n-i[e])*o:0,i[e+1]+=n!==i[e+1]?(n-i[e+1])*o:0,i[e+2]+=n!==i[e+2]?(n-i[e+2])*o:0}},getUniformLocations:function(t,e){return{uSaturation:t.getUniformLocation(e,"uSaturation")}},sendUniformData:function(t,e){t.uniform1f(e.uSaturation,-this.saturation)}}),e.Image.filters.Saturation.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){var e=t.fabric||(t.fabric={}),n=e.Image.filters,i=e.util.createClass;n.Blur=i(n.BaseFilter,{type:"Blur",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\nconst float nSamples = 15.0;\nvec3 v3offset = vec3(12.9898, 78.233, 151.7182);\nfloat random(vec3 scale) {\nreturn fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n}\nvoid main() {\nvec4 color = vec4(0.0);\nfloat total = 0.0;\nfloat offset = random(v3offset);\nfor (float t = -nSamples; t <= nSamples; t++) {\nfloat percent = (t + offset - 0.5) / nSamples;\nfloat weight = 1.0 - abs(percent);\ncolor += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\ntotal += weight;\n}\ngl_FragColor = color / total;\n}",blur:0,mainParameter:"blur",applyTo:function(t){t.webgl?(this.aspectRatio=t.sourceWidth/t.sourceHeight,t.passes++,this._setupFrameBuffer(t),this.horizontal=!0,this.applyToWebGL(t),this._swapTextures(t),this._setupFrameBuffer(t),this.horizontal=!1,this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)},applyTo2d:function(t){t.imageData=this.simpleBlur(t)},simpleBlur:function(t){var n,i,r=t.filterBackend.resources,o=t.imageData.width,s=t.imageData.height;r.blurLayer1||(r.blurLayer1=e.util.createCanvasElement(),r.blurLayer2=e.util.createCanvasElement()),n=r.blurLayer1,i=r.blurLayer2,n.width===o&&n.height===s||(i.width=n.width=o,i.height=n.height=s);var a,u,l,c,h=n.getContext("2d"),f=i.getContext("2d"),d=.06*this.blur*.5;for(h.putImageData(t.imageData,0,0),f.clearRect(0,0,o,s),c=-15;c<=15;c++)l=d*(u=c/15)*o+(a=(Math.random()-.5)/4),f.globalAlpha=1-Math.abs(u),f.drawImage(n,l,a),h.drawImage(i,0,0),f.globalAlpha=1,f.clearRect(0,0,i.width,i.height);for(c=-15;c<=15;c++)l=d*(u=c/15)*s+(a=(Math.random()-.5)/4),f.globalAlpha=1-Math.abs(u),f.drawImage(n,a,l),h.drawImage(i,0,0),f.globalAlpha=1,f.clearRect(0,0,i.width,i.height);t.ctx.drawImage(n,0,0);var p=t.ctx.getImageData(0,0,n.width,n.height);return h.globalAlpha=1,h.clearRect(0,0,n.width,n.height),p},getUniformLocations:function(t,e){return{delta:t.getUniformLocation(e,"uDelta")}},sendUniformData:function(t,e){var n=this.chooseRightDelta();t.uniform2fv(e.delta,n)},chooseRightDelta:function(){var t,e=1,n=[0,0];return this.horizontal?this.aspectRatio>1&&(e=1/this.aspectRatio):this.aspectRatio<1&&(e=this.aspectRatio),t=e*this.blur*.12,this.horizontal?n[0]=t:n[1]=t,n}}),n.Blur.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){var e=t.fabric||(t.fabric={}),n=e.Image.filters,i=e.util.createClass;n.Gamma=i(n.BaseFilter,{type:"Gamma",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec3 uGamma;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec3 correction = (1.0 / uGamma);\ncolor.r = pow(color.r, correction.r);\ncolor.g = pow(color.g, correction.g);\ncolor.b = pow(color.b, correction.b);\ngl_FragColor = color;\ngl_FragColor.rgb *= color.a;\n}",gamma:[1,1,1],mainParameter:"gamma",initialize:function(t){this.gamma=[1,1,1],n.BaseFilter.prototype.initialize.call(this,t)},applyTo2d:function(t){var e,n=t.imageData.data,i=this.gamma,r=n.length,o=1/i[0],s=1/i[1],a=1/i[2];for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),e=0,r=256;e<r;e++)this.rVals[e]=255*Math.pow(e/255,o),this.gVals[e]=255*Math.pow(e/255,s),this.bVals[e]=255*Math.pow(e/255,a);for(e=0,r=n.length;e<r;e+=4)n[e]=this.rVals[n[e]],n[e+1]=this.gVals[n[e+1]],n[e+2]=this.bVals[n[e+2]]},getUniformLocations:function(t,e){return{uGamma:t.getUniformLocation(e,"uGamma")}},sendUniformData:function(t,e){t.uniform3fv(e.uGamma,this.gamma)}}),e.Image.filters.Gamma.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){var e=t.fabric||(t.fabric={}),n=e.Image.filters,i=e.util.createClass;n.Composed=i(n.BaseFilter,{type:"Composed",subFilters:[],initialize:function(t){this.callSuper("initialize",t),this.subFilters=this.subFilters.slice(0)},applyTo:function(t){t.passes+=this.subFilters.length-1,this.subFilters.forEach((function(e){e.applyTo(t)}))},toObject:function(){return e.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map((function(t){return t.toObject()}))})},isNeutralState:function(){return!this.subFilters.some((function(t){return!t.isNeutralState()}))}}),e.Image.filters.Composed.fromObject=function(t,n){var i=(t.subFilters||[]).map((function(t){return new e.Image.filters[t.type](t)})),r=new e.Image.filters.Composed({subFilters:i});return n&&n(r),r}}(e),function(t){var e=t.fabric||(t.fabric={}),n=e.Image.filters,i=e.util.createClass;n.HueRotation=i(n.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var t=this.rotation*Math.PI,n=e.util.cos(t),i=e.util.sin(t),r=Math.sqrt(1/3)*i,o=1-n;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=n+o/3,this.matrix[1]=1/3*o-r,this.matrix[2]=1/3*o+r,this.matrix[5]=1/3*o+r,this.matrix[6]=n+1/3*o,this.matrix[7]=1/3*o-r,this.matrix[10]=1/3*o-r,this.matrix[11]=1/3*o+r,this.matrix[12]=n+1/3*o},isNeutralState:function(t){return this.calculateMatrix(),n.BaseFilter.prototype.isNeutralState.call(this,t)},applyTo:function(t){this.calculateMatrix(),n.BaseFilter.prototype.applyTo.call(this,t)}}),e.Image.filters.HueRotation.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){var e=t.fabric||(t.fabric={}),n=e.util.object.clone;e.Text?e.warn("fabric.Text is already defined"):(e.Text=e.util.createClass(e.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:e.Object.prototype.stateProperties.concat("fontFamily","fontWeight","fontSize","text","underline","overline","linethrough","textAlign","fontStyle","lineHeight","textBackgroundColor","charSpacing","styles"),cacheProperties:e.Object.prototype.cacheProperties.concat("fontFamily","fontWeight","fontSize","text","underline","overline","linethrough","textAlign","fontStyle","lineHeight","textBackgroundColor","charSpacing","styles"),stroke:null,shadow:null,_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(t,e){this.styles=e&&e.styles||{},this.text=t,this.__skipDimension=!0,this.callSuper("initialize",e),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},getMeasuringContext:function(){return e._measuringContext||(e._measuringContext=this.canvas&&this.canvas.contextCache||e.util.createCanvasElement().getContext("2d")),e._measuringContext},_splitText:function(){var t=this._splitTextIntoLines(this.text);return this.textLines=t.lines,this._textLines=t.graphemeLines,this._unwrappedTextLines=t._unwrappedLines,this._text=t.graphemeText,t},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var t,e,n,i,r,o,s,a=0,u=this._textLines.length;a<u;a++)if(("justify"===this.textAlign||a!==u-1&&!this.isEndOfWrapping(a))&&(i=0,r=this._textLines[a],(e=this.getLineWidth(a))<this.width&&(s=this.textLines[a].match(this._reSpacesAndTabs)))){n=s.length,t=(this.width-e)/n;for(var l=0,c=r.length;l<=c;l++)o=this.__charBounds[a][l],this._reSpaceAndTab.test(r[l])?(o.width+=t,o.kernedWidth+=t,o.left+=i,i+=t):o.left+=i}},isEndOfWrapping:function(t){return t===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var t=this.callSuper("_getCacheCanvasDimensions"),e=this.fontSize;return t.width+=e*t.zoomX,t.height+=e*t.zoomY,t},_render:function(t){this._setTextStyles(t),this._renderTextLinesBackground(t),this._renderTextDecoration(t,"underline"),this._renderText(t),this._renderTextDecoration(t,"overline"),this._renderTextDecoration(t,"linethrough")},_renderText:function(t){"stroke"===this.paintFirst?(this._renderTextStroke(t),this._renderTextFill(t)):(this._renderTextFill(t),this._renderTextStroke(t))},_setTextStyles:function(t,e,n){t.textBaseline="alphabetic",t.font=this._getFontDeclaration(e,n)},calcTextWidth:function(){for(var t=this.getLineWidth(0),e=1,n=this._textLines.length;e<n;e++){var i=this.getLineWidth(e);i>t&&(t=i)}return t},_renderTextLine:function(t,e,n,i,r,o){this._renderChars(t,e,n,i,r,o)},_renderTextLinesBackground:function(t){if(this.textBackgroundColor||this.styleHas("textBackgroundColor")){for(var e,n,i,r,o,s,a=0,u=t.fillStyle,l=this._getLeftOffset(),c=this._getTopOffset(),h=0,f=0,d=0,p=this._textLines.length;d<p;d++)if(e=this.getHeightOfLine(d),this.textBackgroundColor||this.styleHas("textBackgroundColor",d)){i=this._textLines[d],n=this._getLineLeftOffset(d),f=0,h=0,r=this.getValueOfPropertyAt(d,0,"textBackgroundColor");for(var g=0,v=i.length;g<v;g++)o=this.__charBounds[d][g],(s=this.getValueOfPropertyAt(d,g,"textBackgroundColor"))!==r?(t.fillStyle=r,r&&t.fillRect(l+n+h,c+a,f,e/this.lineHeight),h=o.left,f=o.width,r=s):f+=o.kernedWidth;s&&(t.fillStyle=s,t.fillRect(l+n+h,c+a,f,e/this.lineHeight)),a+=e}else a+=e;t.fillStyle=u,this._removeShadow(t)}},getFontCache:function(t){var n=t.fontFamily.toLowerCase();e.charWidthsCache[n]||(e.charWidthsCache[n]={});var i=e.charWidthsCache[n],r=t.fontStyle.toLowerCase()+"_"+(t.fontWeight+"").toLowerCase();return i[r]||(i[r]={}),i[r]},_applyCharStyles:function(t,e,n,i,r){this._setFillStyles(e,r),this._setStrokeStyles(e,r),e.font=this._getFontDeclaration(r)},_measureChar:function(t,e,n,i){var r,o,s,a,u=this.getFontCache(e),l=n+t,c=this._getFontDeclaration(e)===this._getFontDeclaration(i),h=e.fontSize/this.CACHE_FONT_SIZE;if(n&&void 0!==u[n]&&(s=u[n]),void 0!==u[t]&&(a=r=u[t]),c&&void 0!==u[l]&&(a=(o=u[l])-s),void 0===r||void 0===s||void 0===o){var f=this.getMeasuringContext();this._setTextStyles(f,e,!0)}return void 0===r&&(a=r=f.measureText(t).width,u[t]=r),void 0===s&&c&&n&&(s=f.measureText(n).width,u[n]=s),c&&void 0===o&&(o=f.measureText(l).width,u[l]=o,a=o-s),{width:r*h,kernedWidth:a*h}},getHeightOfChar:function(t,e){return this.getValueOfPropertyAt(t,e,"fontSize")},measureLine:function(t){var e=this._measureLine(t);return 0!==this.charSpacing&&(e.width-=this._getWidthOfCharSpacing()),e.width<0&&(e.width=0),e},_measureLine:function(t){var e,n,i,r,o=0,s=this._textLines[t],a=new Array(s.length);for(this.__charBounds[t]=a,e=0;e<s.length;e++)n=s[e],r=this._getGraphemeBox(n,t,e,i),a[e]=r,o+=r.kernedWidth,i=n;return a[e]={left:r?r.left+r.width:0,width:0,kernedWidth:0,height:this.fontSize},{width:o,numOfSpaces:0}},_getGraphemeBox:function(t,e,n,i,r){var o,s=this.getCompleteStyleDeclaration(e,n),a=i?this.getCompleteStyleDeclaration(e,n-1):{},u=this._measureChar(t,s,i,a),l=u.kernedWidth,c=u.width;0!==this.charSpacing&&(c+=o=this._getWidthOfCharSpacing(),l+=o);var h={width:c,left:0,height:s.fontSize,kernedWidth:l,deltaY:s.deltaY};if(n>0&&!r){var f=this.__charBounds[e][n-1];h.left=f.left+f.width+u.kernedWidth-u.width}return h},getHeightOfLine:function(t){if(this.__lineHeights[t])return this.__lineHeights[t];for(var e=this._textLines[t],n=this.getHeightOfChar(t,0),i=1,r=e.length;i<r;i++)n=Math.max(this.getHeightOfChar(t,i),n);return this.__lineHeights[t]=n*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var t,e=0,n=0,i=this._textLines.length;n<i;n++)t=this.getHeightOfLine(n),e+=n===i-1?t/this.lineHeight:t;return e},_getLeftOffset:function(){return-this.width/2},_getTopOffset:function(){return-this.height/2},_applyPatternGradientTransform:function(t,e){if(!e||!e.toLive)return{offsetX:0,offsetY:0};var n=-this.width/2+e.offsetX||0,i=-this.height/2+e.offsetY||0;return t.transform(1,0,0,1,n,i),{offsetX:n,offsetY:i}},_renderTextCommon:function(t,e){t.save();for(var n=0,i=this._getLeftOffset(),r=this._getTopOffset(),o=this._applyPatternGradientTransform(t,"fillText"===e?this.fill:this.stroke),s=0,a=this._textLines.length;s<a;s++){var u=this.getHeightOfLine(s),l=u/this.lineHeight,c=this._getLineLeftOffset(s);this._renderTextLine(e,t,this._textLines[s],i+c-o.offsetX,r+n+l-o.offsetY,s),n+=u}t.restore()},_renderTextFill:function(t){(this.fill||this.styleHas("fill"))&&this._renderTextCommon(t,"fillText")},_renderTextStroke:function(t){(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this._setLineDash(t,this.strokeDashArray),t.beginPath(),this._renderTextCommon(t,"strokeText"),t.closePath(),t.restore())},_renderChars:function(t,e,n,i,r,o){var s,a,u,l,c=this.getHeightOfLine(o),h=-1!==this.textAlign.indexOf("justify"),f="",d=0,p=!h&&0===this.charSpacing&&this.isEmptyStyles(o);if(e.save(),r-=c*this._fontSizeFraction/this.lineHeight,p)return this._renderChar(t,e,o,0,this.textLines[o],i,r,c),void e.restore();for(var g=0,v=n.length-1;g<=v;g++)l=g===v||this.charSpacing,f+=n[g],u=this.__charBounds[o][g],0===d?(i+=u.kernedWidth-u.width,d+=u.width):d+=u.kernedWidth,h&&!l&&this._reSpaceAndTab.test(n[g])&&(l=!0),l||(s=s||this.getCompleteStyleDeclaration(o,g),a=this.getCompleteStyleDeclaration(o,g+1),l=this._hasStyleChanged(s,a)),l&&(this._renderChar(t,e,o,g,f,i,r,c),f="",s=a,i+=d,d=0);e.restore()},_renderChar:function(t,e,n,i,r,o,s){var a=this._getStyleDeclaration(n,i),u=this.getCompleteStyleDeclaration(n,i),l="fillText"===t&&u.fill,c="strokeText"===t&&u.stroke&&u.strokeWidth;(c||l)&&(a&&e.save(),this._applyCharStyles(t,e,n,i,u),a&&a.textBackgroundColor&&this._removeShadow(e),a&&a.deltaY&&(s+=a.deltaY),l&&e.fillText(r,o,s),c&&e.strokeText(r,o,s),a&&e.restore())},setSuperscript:function(t,e){return this._setScript(t,e,this.superscript)},setSubscript:function(t,e){return this._setScript(t,e,this.subscript)},_setScript:function(t,e,n){var i=this.get2DCursorLocation(t,!0),r=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"fontSize"),o=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"deltaY"),s={fontSize:r*n.size,deltaY:o+r*n.baseline};return this.setSelectionStyles(s,t,e),this},_hasStyleChanged:function(t,e){return t.fill!==e.fill||t.stroke!==e.stroke||t.strokeWidth!==e.strokeWidth||t.fontSize!==e.fontSize||t.fontFamily!==e.fontFamily||t.fontWeight!==e.fontWeight||t.fontStyle!==e.fontStyle||t.deltaY!==e.deltaY},_hasStyleChangedForSvg:function(t,e){return this._hasStyleChanged(t,e)||t.overline!==e.overline||t.underline!==e.underline||t.linethrough!==e.linethrough},_getLineLeftOffset:function(t){var e=this.getLineWidth(t);return"center"===this.textAlign?(this.width-e)/2:"right"===this.textAlign?this.width-e:"justify-center"===this.textAlign&&this.isEndOfWrapping(t)?(this.width-e)/2:"justify-right"===this.textAlign&&this.isEndOfWrapping(t)?this.width-e:0},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var t=this._forceClearCache;return t||(t=this.hasStateChanged("_dimensionAffectingProps")),t&&(this.dirty=!0,this._forceClearCache=!1),t},getLineWidth:function(t){return this.__lineWidths[t]?this.__lineWidths[t]:(e=""===this._textLines[t]?0:this.measureLine(t).width,this.__lineWidths[t]=e,e);var e},_getWidthOfCharSpacing:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(t,e,n){var i=this._getStyleDeclaration(t,e);return i&&void 0!==i[n]?i[n]:this[n]},_renderTextDecoration:function(t,e){if(this[e]||this.styleHas(e)){for(var n,i,r,o,s,a,u,l,c,h,f,d,p,g,v,m,y=this._getLeftOffset(),x=this._getTopOffset(),E=this._getWidthOfCharSpacing(),b=0,C=this._textLines.length;b<C;b++)if(n=this.getHeightOfLine(b),this[e]||this.styleHas(e,b)){u=this._textLines[b],g=n/this.lineHeight,o=this._getLineLeftOffset(b),h=0,f=0,l=this.getValueOfPropertyAt(b,0,e),m=this.getValueOfPropertyAt(b,0,"fill"),c=x+g*(1-this._fontSizeFraction),i=this.getHeightOfChar(b,0),s=this.getValueOfPropertyAt(b,0,"deltaY");for(var w=0,_=u.length;w<_;w++)d=this.__charBounds[b][w],p=this.getValueOfPropertyAt(b,w,e),v=this.getValueOfPropertyAt(b,w,"fill"),r=this.getHeightOfChar(b,w),a=this.getValueOfPropertyAt(b,w,"deltaY"),(p!==l||v!==m||r!==i||a!==s)&&f>0?(t.fillStyle=m,l&&m&&t.fillRect(y+o+h,c+this.offsets[e]*i+s,f,this.fontSize/15),h=d.left,f=d.width,l=p,m=v,i=r,s=a):f+=d.kernedWidth;t.fillStyle=v,p&&v&&t.fillRect(y+o+h,c+this.offsets[e]*i+s,f-E,this.fontSize/15),x+=n}else x+=n;this._removeShadow(t)}},_getFontDeclaration:function(t,n){var i=t||this,r=this.fontFamily,o=e.Text.genericFonts.indexOf(r.toLowerCase())>-1,s=void 0===r||r.indexOf("'")>-1||r.indexOf(",")>-1||r.indexOf('"')>-1||o?i.fontFamily:'"'+i.fontFamily+'"';return[e.isLikelyNode?i.fontWeight:i.fontStyle,e.isLikelyNode?i.fontStyle:i.fontWeight,n?this.CACHE_FONT_SIZE+"px":i.fontSize+"px",s].join(" ")},render:function(t){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",t)))},_splitTextIntoLines:function(t){for(var n=t.split(this._reNewline),i=new Array(n.length),r=["\n"],o=[],s=0;s<n.length;s++)i[s]=e.util.string.graphemeSplit(n[s]),o=o.concat(i[s],r);return o.pop(),{_unwrappedLines:i,lines:n,graphemeText:o,graphemeLines:i}},toObject:function(t){var e=["text","fontSize","fontWeight","fontFamily","fontStyle","lineHeight","underline","overline","linethrough","textAlign","textBackgroundColor","charSpacing"].concat(t),i=this.callSuper("toObject",e);return i.styles=n(this.styles,!0),i},set:function(t,e){this.callSuper("set",t,e);var n=!1;if("object"===(void 0===t?"undefined":(0,o.default)(t)))for(var i in t)n=n||-1!==this._dimensionAffectingProps.indexOf(i);else n=-1!==this._dimensionAffectingProps.indexOf(t);return n&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),e.Text.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),e.Text.DEFAULT_SVG_FONT_SIZE=16,e.Text.fromElement=function(t,i,r){if(!t)return i(null);var o=e.parseAttributes(t,e.Text.ATTRIBUTE_NAMES),s=o.textAnchor||"left";if((r=e.util.object.extend(r?n(r):{},o)).top=r.top||0,r.left=r.left||0,o.textDecoration){var a=o.textDecoration;-1!==a.indexOf("underline")&&(r.underline=!0),-1!==a.indexOf("overline")&&(r.overline=!0),-1!==a.indexOf("line-through")&&(r.linethrough=!0),delete r.textDecoration}"dx"in o&&(r.left+=o.dx),"dy"in o&&(r.top+=o.dy),"fontSize"in r||(r.fontSize=e.Text.DEFAULT_SVG_FONT_SIZE);var u="";"textContent"in t?u=t.textContent:"firstChild"in t&&null!==t.firstChild&&"data"in t.firstChild&&null!==t.firstChild.data&&(u=t.firstChild.data),u=u.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var l=r.strokeWidth;r.strokeWidth=0;var c=new e.Text(u,r),h=c.getScaledHeight()/c.height,f=((c.height+c.strokeWidth)*c.lineHeight-c.height)*h,d=c.getScaledHeight()+f,p=0;"center"===s&&(p=c.getScaledWidth()/2),"right"===s&&(p=c.getScaledWidth()),c.set({left:c.left-p,top:c.top-(d-c.fontSize*(.07+c._fontSizeFraction))/c.lineHeight,strokeWidth:void 0!==l?l:1}),i(c)},e.Text.fromObject=function(t,n){return e.Object._fromObject("Text",t,n,"text")},e.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],e.util.createAccessors&&e.util.createAccessors(e.Text))}(e),D.util.object.extend(D.Text.prototype,{isEmptyStyles:function(t){if(!this.styles)return!0;if(void 0!==t&&!this.styles[t])return!0;var e=void 0===t?this.styles:{line:this.styles[t]};for(var n in e)for(var i in e[n])for(var r in e[n][i])return!1;return!0},styleHas:function(t,e){if(!this.styles||!t||""===t)return!1;if(void 0!==e&&!this.styles[e])return!1;var n=void 0===e?this.styles:{0:this.styles[e]};for(var i in n)for(var r in n[i])if(void 0!==n[i][r][t])return!0;return!1},cleanStyle:function(t){if(!this.styles||!t||""===t)return!1;var e,n,i=this.styles,o=0,s=!0,a=0;for(var u in i){for(var l in e=0,i[u]){var c;o++,(c=i[u][l]).hasOwnProperty(t)?(n?c[t]!==n&&(s=!1):n=c[t],c[t]===this[t]&&delete c[t]):s=!1,0!==(0,r.default)(c).length?e++:delete i[u][l]}0===e&&delete i[u]}for(var h=0;h<this._textLines.length;h++)a+=this._textLines[h].length;s&&o===a&&(this[t]=n,this.removeStyle(t))},removeStyle:function(t){if(this.styles&&t&&""!==t){var e,n,i,o=this.styles;for(n in o){for(i in e=o[n])delete e[i][t],0===(0,r.default)(e[i]).length&&delete e[i];0===(0,r.default)(e).length&&delete o[n]}}},_extendStyles:function(t,e){var n=this.get2DCursorLocation(t);this._getLineStyle(n.lineIndex)||this._setLineStyle(n.lineIndex),this._getStyleDeclaration(n.lineIndex,n.charIndex)||this._setStyleDeclaration(n.lineIndex,n.charIndex,{}),D.util.object.extend(this._getStyleDeclaration(n.lineIndex,n.charIndex),e)},get2DCursorLocation:function(t,e){void 0===t&&(t=this.selectionStart);for(var n=e?this._unwrappedTextLines:this._textLines,i=n.length,r=0;r<i;r++){if(t<=n[r].length)return{lineIndex:r,charIndex:t};t-=n[r].length+this.missingNewlineOffset(r)}return{lineIndex:r-1,charIndex:n[r-1].length<t?n[r-1].length:t}},getSelectionStyles:function(t,e,n){void 0===t&&(t=this.selectionStart||0),void 0===e&&(e=this.selectionEnd||t);for(var i=[],r=t;r<e;r++)i.push(this.getStyleAtPosition(r,n));return i},getStyleAtPosition:function(t,e){var n=this.get2DCursorLocation(t);return(e?this.getCompleteStyleDeclaration(n.lineIndex,n.charIndex):this._getStyleDeclaration(n.lineIndex,n.charIndex))||{}},setSelectionStyles:function(t,e,n){void 0===e&&(e=this.selectionStart||0),void 0===n&&(n=this.selectionEnd||e);for(var i=e;i<n;i++)this._extendStyles(i,t);return this._forceClearCache=!0,this},_getStyleDeclaration:function(t,e){var n=this.styles&&this.styles[t];return n?n[e]:null},getCompleteStyleDeclaration:function(t,e){for(var n,i=this._getStyleDeclaration(t,e)||{},r={},o=0;o<this._styleProperties.length;o++)r[n=this._styleProperties[o]]=void 0===i[n]?this[n]:i[n];return r},_setStyleDeclaration:function(t,e,n){this.styles[t][e]=n},_deleteStyleDeclaration:function(t,e){delete this.styles[t][e]},_getLineStyle:function(t){return!!this.styles[t]},_setLineStyle:function(t){this.styles[t]={}},_deleteLineStyle:function(t){delete this.styles[t]}}),function(){function t(t){t.textDecoration&&(t.textDecoration.indexOf("underline")>-1&&(t.underline=!0),t.textDecoration.indexOf("line-through")>-1&&(t.linethrough=!0),t.textDecoration.indexOf("overline")>-1&&(t.overline=!0),delete t.textDecoration)}D.IText=D.util.createClass(D.Text,D.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"#333",cursorDelay:1e3,cursorDuration:600,caching:!0,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(t,e){this.callSuper("initialize",t,e),this.initBehavior()},setSelectionStart:function(t){t=Math.max(t,0),this._updateAndFire("selectionStart",t)},setSelectionEnd:function(t){t=Math.min(t,this.text.length),this._updateAndFire("selectionEnd",t)},_updateAndFire:function(t,e){this[t]!==e&&(this._fireSelectionChanged(),this[t]=e),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(t){this.clearContextTop(),this.callSuper("render",t),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(t){this.callSuper("_render",t)},clearContextTop:function(t){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var e=this.canvas.contextTop,n=this.canvas.viewportTransform;e.save(),e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this.transform(e),this.transformMatrix&&e.transform.apply(e,this.transformMatrix),this._clearTextArea(e),t||e.restore()}},renderCursorOrSelection:function(){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var t=this._getCursorBoundaries(),e=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(t,e):this.renderSelection(t,e),e.restore()}},_clearTextArea:function(t){var e=this.width+4,n=this.height+4;t.clearRect(-e/2,-n/2,e,n)},_getCursorBoundaries:function(t){void 0===t&&(t=this.selectionStart);var e=this._getLeftOffset(),n=this._getTopOffset(),i=this._getCursorBoundariesOffsets(t);return{left:e,top:n,leftOffset:i.left,topOffset:i.top}},_getCursorBoundariesOffsets:function(t){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var e,n,i,r,o=0,s=0,a=this.get2DCursorLocation(t);i=a.charIndex,n=a.lineIndex;for(var u=0;u<n;u++)o+=this.getHeightOfLine(u);e=this._getLineLeftOffset(n);var l=this.__charBounds[n][i];return l&&(s=l.left),0!==this.charSpacing&&i===this._textLines[n].length&&(s-=this._getWidthOfCharSpacing()),r={top:o,left:e+(s>0?s:0)},this.cursorOffsetCache=r,this.cursorOffsetCache},renderCursor:function(t,e){var n=this.get2DCursorLocation(),i=n.lineIndex,r=n.charIndex>0?n.charIndex-1:0,o=this.getValueOfPropertyAt(i,r,"fontSize"),s=this.scaleX*this.canvas.getZoom(),a=this.cursorWidth/s,u=t.topOffset,l=this.getValueOfPropertyAt(i,r,"deltaY");u+=(1-this._fontSizeFraction)*this.getHeightOfLine(i)/this.lineHeight-o*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(t,e),e.fillStyle=this.getValueOfPropertyAt(i,r,"fill"),e.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,e.fillRect(t.left+t.leftOffset-a/2,u+t.top+l,a,o)},renderSelection:function(t,e){for(var n=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,i=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,r=-1!==this.textAlign.indexOf("justify"),o=this.get2DCursorLocation(n),s=this.get2DCursorLocation(i),a=o.lineIndex,u=s.lineIndex,l=o.charIndex<0?0:o.charIndex,c=s.charIndex<0?0:s.charIndex,h=a;h<=u;h++){var f,d=this._getLineLeftOffset(h)||0,p=this.getHeightOfLine(h),g=0,v=0;if(h===a&&(g=this.__charBounds[a][l].left),h>=a&&h<u)v=r&&!this.isEndOfWrapping(h)?this.width:this.getLineWidth(h)||5;else if(h===u)if(0===c)v=this.__charBounds[u][c].left;else{var m=this._getWidthOfCharSpacing();v=this.__charBounds[u][c-1].left+this.__charBounds[u][c-1].width-m}f=p,(this.lineHeight<1||h===u&&this.lineHeight>1)&&(p/=this.lineHeight),this.inCompositionMode?(e.fillStyle=this.compositionColor||"black",e.fillRect(t.left+d+g,t.top+t.topOffset+p,v-g,1)):(e.fillStyle=this.selectionColor,e.fillRect(t.left+d+g,t.top+t.topOffset,v-g,p)),t.topOffset+=f}},getCurrentCharFontSize:function(){var t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fontSize")},getCurrentCharColor:function(){var t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fill")},_getCurrentCharIndex:function(){var t=this.get2DCursorLocation(this.selectionStart,!0),e=t.charIndex>0?t.charIndex-1:0;return{l:t.lineIndex,c:e}}}),D.IText.fromObject=function(e,n){if(t(e),e.styles)for(var i in e.styles)for(var r in e.styles[i])t(e.styles[i][r]);D.Object._fromObject("IText",e,n,"text")}}(),S=D.util.object.clone,D.util.object.extend(D.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var t=this;this.on("added",(function(){var e=t.canvas;e&&(e._hasITextHandlers||(e._hasITextHandlers=!0,t._initCanvasHandlers(e)),e._iTextInstances=e._iTextInstances||[],e._iTextInstances.push(t))}))},initRemovedHandler:function(){var t=this;this.on("removed",(function(){var e=t.canvas;e&&(e._iTextInstances=e._iTextInstances||[],D.util.removeFromArray(e._iTextInstances,t),0===e._iTextInstances.length&&(e._hasITextHandlers=!1,t._removeCanvasHandlers(e)))}))},_initCanvasHandlers:function(t){t._mouseUpITextHandler=function(){t._iTextInstances&&t._iTextInstances.forEach((function(t){t.__isMousedown=!1}))},t.on("mouse:up",t._mouseUpITextHandler)},_removeCanvasHandlers:function(t){t.off("mouse:up",t._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(t,e,n,i){var r;return r={isAborted:!1,abort:function(){this.isAborted=!0}},t.animate("_currentCursorOpacity",e,{duration:n,onComplete:function(){r.isAborted||t[i]()},onChange:function(){t.canvas&&t.selectionStart===t.selectionEnd&&t.renderCursorOrSelection()},abort:function(){return r.isAborted}}),r},_onTickComplete:function(){var t=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout((function(){t._currentTickCompleteState=t._animateCursor(t,0,this.cursorDuration/2,"_tick")}),100)},initDelayedCursor:function(t){var e=this,n=t?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout((function(){e._tick()}),n)},abortCursorAnimation:function(){var t=this._currentTickState||this._currentTickCompleteState,e=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,t&&e&&e.clearContext(e.contextTop||e.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(t){var e=0,n=t-1;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)e++,n--;for(;/\S/.test(this._text[n])&&n>-1;)e++,n--;return t-e},findWordBoundaryRight:function(t){var e=0,n=t;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)e++,n++;for(;/\S/.test(this._text[n])&&n<this._text.length;)e++,n++;return t+e},findLineBoundaryLeft:function(t){for(var e=0,n=t-1;!/\n/.test(this._text[n])&&n>-1;)e++,n--;return t-e},findLineBoundaryRight:function(t){for(var e=0,n=t;!/\n/.test(this._text[n])&&n<this._text.length;)e++,n++;return t+e},searchWordBoundary:function(t,e){for(var n=this._text,i=this._reSpace.test(n[t])?t-1:t,r=n[i],o=D.reNonWord;!o.test(r)&&i>0&&i<n.length;)r=n[i+=e];return o.test(r)&&(i+=1===e?0:1),i},selectWord:function(t){t=t||this.selectionStart;var e=this.searchWordBoundary(t,-1),n=this.searchWordBoundary(t,1);this.selectionStart=e,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(t){t=t||this.selectionStart;var e=this.findLineBoundaryLeft(t),n=this.findLineBoundaryRight(t);return this.selectionStart=e,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(t){if(!this.isEditing&&this.editable)return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(t),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(t){t._iTextInstances&&t._iTextInstances.forEach((function(t){t.selected=!1,t.isEditing&&t.exitEditing()}))},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(t){if(this.__isMousedown&&this.isEditing){var e=this.getSelectionStartFromPointer(t.e),n=this.selectionStart,i=this.selectionEnd;(e===this.__selectionStartOnMouseDown&&n!==i||n!==e&&i!==e)&&(e>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=e):(this.selectionStart=e,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===n&&this.selectionEnd===i||(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(t,e,n){var i=n.slice(0,t),r=D.util.string.graphemeSplit(i).length;if(t===e)return{selectionStart:r,selectionEnd:r};var o=n.slice(t,e);return{selectionStart:r,selectionEnd:r+D.util.string.graphemeSplit(o).length}},fromGraphemeToStringSelection:function(t,e,n){var i=n.slice(0,t).join("").length;return t===e?{selectionStart:i,selectionEnd:i}:{selectionStart:i,selectionEnd:i+n.slice(t,e).join("").length}},_updateTextarea:function(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){var t=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=t.selectionStart,this.hiddenTextarea.selectionEnd=t.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var t=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=t.selectionEnd,this.inCompositionMode||(this.selectionStart=t.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var t=this._calcTextareaPosition();this.hiddenTextarea.style.left=t.left,this.hiddenTextarea.style.top=t.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var t=this.inCompositionMode?this.compositionStart:this.selectionStart,e=this._getCursorBoundaries(t),n=this.get2DCursorLocation(t),i=n.lineIndex,r=n.charIndex,o=this.getValueOfPropertyAt(i,r,"fontSize")*this.lineHeight,s=e.leftOffset,a=this.calcTransformMatrix(),u={x:e.left+s,y:e.top+e.topOffset+o},l=this.canvas.getRetinaScaling(),c=this.canvas.upperCanvasEl,h=c.width/l,f=c.height/l,d=h-o,p=f-o,g=c.clientWidth/h,v=c.clientHeight/f;return u=D.util.transformPoint(u,a),(u=D.util.transformPoint(u,this.canvas.viewportTransform)).x*=g,u.y*=v,u.x<0&&(u.x=0),u.x>d&&(u.x=d),u.y<0&&(u.y=0),u.y>p&&(u.y=p),u.x+=this.canvas._offset.left,u.y+=this.canvas._offset.top,{left:u.x+"px",top:u.y+"px",fontSize:o+"px",charHeight:o}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var t=this._textBeforeEdit!==this.text;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,this.hiddenTextarea&&(this.hiddenTextarea.blur&&this.hiddenTextarea.blur(),this.canvas&&this.hiddenTextarea.parentNode.removeChild(this.hiddenTextarea),this.hiddenTextarea=null),this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),t&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),t&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var t in this.styles)this._textLines[t]||delete this.styles[t]},removeStyleFromTo:function(t,e){var n,i,r=this.get2DCursorLocation(t,!0),o=this.get2DCursorLocation(e,!0),s=r.lineIndex,a=r.charIndex,u=o.lineIndex,l=o.charIndex;if(s!==u){if(this.styles[s])for(n=a;n<this._unwrappedTextLines[s].length;n++)delete this.styles[s][n];if(this.styles[u])for(n=l;n<this._unwrappedTextLines[u].length;n++)(i=this.styles[u][n])&&(this.styles[s]||(this.styles[s]={}),this.styles[s][a+n-l]=i);for(n=s+1;n<=u;n++)delete this.styles[n];this.shiftLineStyles(u,s-u)}else if(this.styles[s]){i=this.styles[s];var c,h,f=l-a;for(n=a;n<l;n++)delete i[n];for(h in this.styles[s])(c=parseInt(h,10))>=l&&(i[c-f]=i[h],delete i[h])}},shiftLineStyles:function(t,e){var n=S(this.styles);for(var i in this.styles){var r=parseInt(i,10);r>t&&(this.styles[r+e]=n[r],n[r-e]||delete this.styles[r])}},restartCursorIfNeeded:function(){this._currentTickState&&!this._currentTickState.isAborted&&this._currentTickCompleteState&&!this._currentTickCompleteState.isAborted||this.initDelayedCursor()},insertNewlineStyleObject:function(t,e,n,i){var r,o={},s=!1;for(var a in n||(n=1),this.shiftLineStyles(t,n),this.styles[t]&&(r=this.styles[t][0===e?e:e-1]),this.styles[t]){var u=parseInt(a,10);u>=e&&(s=!0,o[u-e]=this.styles[t][a],delete this.styles[t][a])}for(s?this.styles[t+n]=o:delete this.styles[t+n];n>1;)n--,i&&i[n]?this.styles[t+n]={0:S(i[n])}:r?this.styles[t+n]={0:S(r)}:delete this.styles[t+n];this._forceClearCache=!0},insertCharStyleObject:function(t,e,n,i){this.styles||(this.styles={});var o=this.styles[t],s=o?S(o):{};for(var a in n||(n=1),s){var u=parseInt(a,10);u>=e&&(o[u+n]=s[u],s[u-n]||delete o[u])}if(this._forceClearCache=!0,i)for(;n--;)(0,r.default)(i[n]).length&&(this.styles[t]||(this.styles[t]={}),this.styles[t][e+n]=S(i[n]));else if(o)for(var l=o[e?e-1:1];l&&n--;)this.styles[t][e+n]=S(l)},insertNewStyleBlock:function(t,e,n){for(var i=this.get2DCursorLocation(e,!0),r=[0],o=0,s=0;s<t.length;s++)"\n"===t[s]?r[++o]=0:r[o]++;for(r[0]>0&&(this.insertCharStyleObject(i.lineIndex,i.charIndex,r[0],n),n=n&&n.slice(r[0]+1)),o&&this.insertNewlineStyleObject(i.lineIndex,i.charIndex+r[0],o),s=1;s<o;s++)r[s]>0?this.insertCharStyleObject(i.lineIndex+s,0,r[s],n):n&&(this.styles[i.lineIndex+s][0]=n[0]),n=n&&n.slice(r[s]+1);r[s]>0&&this.insertCharStyleObject(i.lineIndex+s,0,r[s],n)},setSelectionStartEndWithShift:function(t,e,n){n<=t?(e===t?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=t),this.selectionStart=n):n>t&&n<e?"right"===this._selectionDirection?this.selectionEnd=n:this.selectionStart=n:(e===t?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=e),this.selectionEnd=n)},setSelectionInBoundaries:function(){var t=this.text.length;this.selectionStart>t?this.selectionStart=t:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>t?this.selectionEnd=t:this.selectionEnd<0&&(this.selectionEnd=0)}}),D.util.object.extend(D.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(t){if(this.canvas){this.__newClickTime=+new Date;var e=t.pointer;this.isTripleClick(e)&&(this.fire("tripleclick",t),this._stopEvent(t.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=e,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(t){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===t.x&&this.__lastPointer.y===t.y},_stopEvent:function(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(t){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(t.e))},tripleClickHandler:function(t){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(t.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(t){!this.canvas||!this.editable||t.e.button&&1!==t.e.button||(this.__isMousedown=!0,this.selected&&this.setCursorByClick(t.e),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(t){!this.canvas||!this.editable||t.e.button&&1!==t.e.button||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(t){if(this.__isMousedown=!1,!(!this.editable||this.group||t.transform&&t.transform.actionPerformed||t.e.button&&1!==t.e.button)){if(this.canvas){var e=this.canvas._activeObject;if(e&&e!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(t.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(t){var e=this.getSelectionStartFromPointer(t),n=this.selectionStart,i=this.selectionEnd;t.shiftKey?this.setSelectionStartEndWithShift(n,i,e):(this.selectionStart=e,this.selectionEnd=e),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(t){for(var e=this.getLocalPointer(t),n=0,i=0,r=0,o=0,s=0,a=0,u=this._textLines.length;a<u&&r<=e.y;a++)r+=this.getHeightOfLine(a)*this.scaleY,s=a,a>0&&(o+=this._textLines[a-1].length+this.missingNewlineOffset(a-1));i=this._getLineLeftOffset(s)*this.scaleX;for(var l=0,c=this._textLines[s].length;l<c&&(n=i,(i+=this.__charBounds[s][l].kernedWidth*this.scaleX)<=e.x);l++)o++;return this._getNewSelectionStartFromOffset(e,n,i,o,c)},_getNewSelectionStartFromOffset:function(t,e,n,i,r){var o=t.x-e,s=n-t.x,a=i+(s>o||s<0?0:1);return this.flipX&&(a=r-a),a>this._text.length&&(a=this._text.length),a}}),D.util.object.extend(D.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=D.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var t=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+t.top+"; left: "+t.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; paddingtop: "+t.fontSize+";",D.document.body.appendChild(this.hiddenTextarea),D.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),D.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),D.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),D.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),D.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),D.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),D.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),D.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),D.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(D.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(t){if(this.isEditing&&!this.inCompositionMode){if(t.keyCode in this.keysMap)this[this.keysMap[t.keyCode]](t);else{if(!(t.keyCode in this.ctrlKeysMapDown)||!t.ctrlKey&&!t.metaKey)return;this[this.ctrlKeysMapDown[t.keyCode]](t)}t.stopImmediatePropagation(),t.preventDefault(),t.keyCode>=33&&t.keyCode<=40?(this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(t){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:t.keyCode in this.ctrlKeysMapUp&&(t.ctrlKey||t.metaKey)&&(this[this.ctrlKeysMapUp[t.keyCode]](t),t.stopImmediatePropagation(),t.preventDefault(),this.canvas&&this.canvas.requestRenderAll())},onInput:function(t){var e=this.fromPaste;if(this.fromPaste=!1,t&&t.stopPropagation(),this.isEditing){var n,i,r=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,o=this._text.length,s=r.length,a=s-o;if(""===this.hiddenTextarea.value)return this.styles={},this.updateFromTextArea(),this.fire("changed"),void(this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll()));var u=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),l=this.selectionStart>u.selectionStart;this.selectionStart!==this.selectionEnd?(n=this._text.slice(this.selectionStart,this.selectionEnd),a+=this.selectionEnd-this.selectionStart):s<o&&(n=l?this._text.slice(this.selectionEnd+a,this.selectionEnd):this._text.slice(this.selectionStart,this.selectionStart-a)),i=r.slice(u.selectionEnd-a,u.selectionEnd),n&&n.length&&(this.selectionStart!==this.selectionEnd?this.removeStyleFromTo(this.selectionStart,this.selectionEnd):l?this.removeStyleFromTo(this.selectionEnd-n.length,this.selectionEnd):this.removeStyleFromTo(this.selectionEnd,this.selectionEnd+n.length)),i.length&&(e&&i.join("")===D.copiedText&&!D.disableStyleCopyPaste?this.insertNewStyleBlock(i,this.selectionStart,D.copiedTextStyle):this.insertNewStyleBlock(i,this.selectionStart)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(t){this.compositionStart=t.target.selectionStart,this.compositionEnd=t.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(D.copiedText=this.getSelectedText(),D.disableStyleCopyPaste?D.copiedTextStyle=null:D.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(t){return t&&t.clipboardData||D.window.clipboardData},_getWidthBeforeCursor:function(t,e){var n,i=this._getLineLeftOffset(t);return e>0&&(i+=(n=this.__charBounds[t][e-1]).left+n.width),i},getDownCursorOffset:function(t,e){var n=this._getSelectionForOffset(t,e),i=this.get2DCursorLocation(n),r=i.lineIndex;if(r===this._textLines.length-1||t.metaKey||34===t.keyCode)return this._text.length-n;var o=i.charIndex,s=this._getWidthBeforeCursor(r,o),a=this._getIndexOnLine(r+1,s);return this._textLines[r].slice(o).length+a+1+this.missingNewlineOffset(r)},_getSelectionForOffset:function(t,e){return t.shiftKey&&this.selectionStart!==this.selectionEnd&&e?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(t,e){var n=this._getSelectionForOffset(t,e),i=this.get2DCursorLocation(n),r=i.lineIndex;if(0===r||t.metaKey||33===t.keyCode)return-n;var o=i.charIndex,s=this._getWidthBeforeCursor(r,o),a=this._getIndexOnLine(r-1,s),u=this._textLines[r].slice(0,o),l=this.missingNewlineOffset(r-1);return-this._textLines[r-1].length+a-u.length+(1-l)},_getIndexOnLine:function(t,e){for(var n,i,r=this._textLines[t],o=this._getLineLeftOffset(t),s=0,a=0,u=r.length;a<u;a++)if((o+=n=this.__charBounds[t][a].width)>e){i=!0;var l=o-n,c=o,h=Math.abs(l-e);s=Math.abs(c-e)<h?a:a-1;break}return i||(s=r.length-1),s},moveCursorDown:function(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",t)},moveCursorUp:function(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",t)},_moveCursorUpOrDown:function(t,e){var n=this["get"+t+"CursorOffset"](e,"right"===this._selectionDirection);e.shiftKey?this.moveCursorWithShift(n):this.moveCursorWithoutShift(n),0!==n&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(t){var e="left"===this._selectionDirection?this.selectionStart+t:this.selectionEnd+t;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,e),0!==t},moveCursorWithoutShift:function(t){return t<0?(this.selectionStart+=t,this.selectionEnd=this.selectionStart):(this.selectionEnd+=t,this.selectionStart=this.selectionEnd),0!==t},moveCursorLeft:function(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",t)},_move:function(t,e,n){var i;if(t.altKey)i=this["findWordBoundary"+n](this[e]);else{if(!t.metaKey&&35!==t.keyCode&&36!==t.keyCode)return this[e]+="Left"===n?-1:1,!0;i=this["findLineBoundary"+n](this[e])}if(void 0!==(void 0===i?"undefined":(0,o.default)(i))&&this[e]!==i)return this[e]=i,!0},_moveLeft:function(t,e){return this._move(t,e,"Left")},_moveRight:function(t,e){return this._move(t,e,"Right")},moveCursorLeftWithoutShift:function(t){var e=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(e=this._moveLeft(t,"selectionStart")),this.selectionEnd=this.selectionStart,e},moveCursorLeftWithShift:function(t){return"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(t,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection="left",this._moveLeft(t,"selectionStart")):void 0},moveCursorRight:function(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",t)},_moveCursorLeftOrRight:function(t,e){var n="moveCursor"+t+"With";this._currentCursorOpacity=1,e.shiftKey?n+="Shift":n+="outShift",this[n](e)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(t){return"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(t,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection="right",this._moveRight(t,"selectionEnd")):void 0},moveCursorRightWithoutShift:function(t){var e=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(e=this._moveRight(t,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,e},removeChars:function(t,e){void 0===e&&(e=t+1),this.removeStyleFromTo(t,e),this._text.splice(t,e-t),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(t,e,n,i){void 0===i&&(i=n),i>n&&this.removeStyleFromTo(n,i);var r=D.util.string.graphemeSplit(t);this.insertNewStyleBlock(r,n,e),this._text=[].concat(this._text.slice(0,n),r,this._text.slice(i)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var t=D.util.toFixed,e=/  +/g;D.util.object.extend(D.Text.prototype,{_toSVG:function(){var t=this._getSVGLeftTopOffsets(),e=this._getSVGTextAndBg(t.textTop,t.textLeft);return this._wrapSVGTextAndBg(e)},toSVG:function(t){return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(t){var e=this.getSvgTextDecoration(this);return[t.textBgRects.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",e?'text-decoration="'+e+'" ':"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",t.textSpans.join(""),"</text>\n"]},_getSVGTextAndBg:function(t,e){var n,i=[],r=[],o=t;this._setSVGBg(r);for(var s=0,a=this._textLines.length;s<a;s++)n=this._getLineLeftOffset(s),(this.textBackgroundColor||this.styleHas("textBackgroundColor",s))&&this._setSVGTextLineBg(r,s,e+n,o),this._setSVGTextLineText(i,s,e+n,o),o+=this.getHeightOfLine(s);return{textSpans:i,textBgRects:r}},_createTextCharSpan:function(n,i,r,o){var s=n!==n.trim()||n.match(e),a=this.getSvgSpanStyles(i,s),u=a?'style="'+a+'"':"",l=i.deltaY,c="",h=D.Object.NUM_FRACTION_DIGITS;return l&&(c=' dy="'+t(l,h)+'" '),['<tspan x="',t(r,h),'" y="',t(o,h),'" ',c,u,">",D.util.string.escapeXml(n),"</tspan>"].join("")},_setSVGTextLineText:function(t,e,n,i){var r,o,s,a,u,l=this.getHeightOfLine(e),c=-1!==this.textAlign.indexOf("justify"),h="",f=0,d=this._textLines[e];i+=l*(1-this._fontSizeFraction)/this.lineHeight;for(var p=0,g=d.length-1;p<=g;p++)u=p===g||this.charSpacing,h+=d[p],s=this.__charBounds[e][p],0===f?(n+=s.kernedWidth-s.width,f+=s.width):f+=s.kernedWidth,c&&!u&&this._reSpaceAndTab.test(d[p])&&(u=!0),u||(r=r||this.getCompleteStyleDeclaration(e,p),o=this.getCompleteStyleDeclaration(e,p+1),u=this._hasStyleChangedForSvg(r,o)),u&&(a=this._getStyleDeclaration(e,p)||{},t.push(this._createTextCharSpan(h,a,n,i)),h="",r=o,n+=f,f=0)},_pushTextBgRect:function(e,n,i,r,o,s){var a=D.Object.NUM_FRACTION_DIGITS;e.push("\t\t<rect ",this._getFillAttributes(n),' x="',t(i,a),'" y="',t(r,a),'" width="',t(o,a),'" height="',t(s,a),'"></rect>\n')},_setSVGTextLineBg:function(t,e,n,i){for(var r,o,s=this._textLines[e],a=this.getHeightOfLine(e)/this.lineHeight,u=0,l=0,c=this.getValueOfPropertyAt(e,0,"textBackgroundColor"),h=0,f=s.length;h<f;h++)r=this.__charBounds[e][h],(o=this.getValueOfPropertyAt(e,h,"textBackgroundColor"))!==c?(c&&this._pushTextBgRect(t,c,n+l,i,u,a),l=r.left,u=r.width,c=o):u+=r.kernedWidth;o&&this._pushTextBgRect(t,o,n+l,i,u,a)},_getFillAttributes:function(t){var e=t&&"string"==typeof t?new D.Color(t):"";return e&&e.getSource()&&1!==e.getAlpha()?'opacity="'+e.getAlpha()+'" fill="'+e.setAlpha(1).toRgb()+'"':'fill="'+t+'"'},_getSVGLineTopOffset:function(t){for(var e,n=0,i=0;i<t;i++)n+=this.getHeightOfLine(i);return e=this.getHeightOfLine(i),{lineTop:n,offset:(this._fontSizeMult-this._fontSizeFraction)*e/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(t){return D.Object.prototype.getSvgStyles.call(this,t)+" white-space: pre;"}})}(),function(t){var e=t.fabric||(t.fabric={});e.Textbox=e.util.createClass(e.IText,e.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:e.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(t){for(var e=0,n=0,i=0,r={},o=0;o<t.graphemeLines.length;o++)"\n"===t.graphemeText[i]&&o>0?(n=0,i++,e++):!this.splitByGrapheme&&this._reSpaceAndTab.test(t.graphemeText[i])&&o>0&&(n++,i++),r[o]={line:e,offset:n},i+=t.graphemeLines[o].length,n+=t.graphemeLines[o].length;return r},styleHas:function(t,n){if(this._styleMap&&!this.isWrapping){var i=this._styleMap[n];i&&(n=i.line)}return e.Text.prototype.styleHas.call(this,t,n)},isEmptyStyles:function(t){if(!this.styles)return!0;var e,n,i=0,r=!1,o=this._styleMap[t],s=this._styleMap[t+1];for(var a in o&&(t=o.line,i=o.offset),s&&(r=s.line===t,e=s.offset),n=void 0===t?this.styles:{line:this.styles[t]})for(var u in n[a])if(u>=i&&(!r||u<e))for(var l in n[a][u])return!1;return!0},_getStyleDeclaration:function(t,e){if(this._styleMap&&!this.isWrapping){var n=this._styleMap[t];if(!n)return null;t=n.line,e=n.offset+e}return this.callSuper("_getStyleDeclaration",t,e)},_setStyleDeclaration:function(t,e,n){var i=this._styleMap[t];t=i.line,e=i.offset+e,this.styles[t][e]=n},_deleteStyleDeclaration:function(t,e){var n=this._styleMap[t];t=n.line,e=n.offset+e,delete this.styles[t][e]},_getLineStyle:function(t){var e=this._styleMap[t];return!!this.styles[e.line]},_setLineStyle:function(t){var e=this._styleMap[t];this.styles[e.line]={}},_wrapText:function(t,e){var n,i=[];for(this.isWrapping=!0,n=0;n<t.length;n++)i=i.concat(this._wrapLine(t[n],n,e));return this.isWrapping=!1,i},_measureWord:function(t,e,n){var i,r=0;n=n||0;for(var o=0,s=t.length;o<s;o++){r+=this._getGraphemeBox(t[o],e,o+n,i,!0).kernedWidth,i=t[o]}return r},_wrapLine:function(t,n,i,r){var o=0,s=this.splitByGrapheme,a=[],u=[],l=s?e.util.string.graphemeSplit(t):t.split(this._wordJoiners),c="",h=0,f=s?"":" ",d=0,p=0,g=0,v=!0,m=s?0:this._getWidthOfCharSpacing();r=r||0;0===l.length&&l.push([]),i-=r;for(var y=0;y<l.length;y++)c=s?l[y]:e.util.string.graphemeSplit(l[y]),d=this._measureWord(c,n,h),h+=c.length,(o+=p+d-m)>=i&&!v?(a.push(u),u=[],o=d,v=!0):o+=m,v||s||u.push(f),u=u.concat(c),p=this._measureWord([f],n,h),h++,v=!1,d>g&&(g=d);return y&&a.push(u),g+r>this.dynamicMinWidth&&(this.dynamicMinWidth=g-m+r),a},isEndOfWrapping:function(t){return!this._styleMap[t+1]||this._styleMap[t+1].line!==this._styleMap[t].line},missingNewlineOffset:function(t){return this.splitByGrapheme?this.isEndOfWrapping(t)?1:0:1},_splitTextIntoLines:function(t){for(var n=e.Text.prototype._splitTextIntoLines.call(this,t),i=this._wrapText(n.lines,this.width),r=new Array(i.length),o=0;o<i.length;o++)r[o]=i[o].join("");return n.lines=r,n.graphemeLines=i,n},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var t={};for(var e in this._styleMap)this._textLines[e]&&(t[this._styleMap[e].line]=1);for(var e in this.styles)t[e]||delete this.styles[e]},toObject:function(t){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(t))}}),e.Textbox.fromObject=function(t,n){return e.Object._fromObject("Textbox",t,n,"text")}}(e)},function(t,e,n){var i=n(20);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,n){t.exports=e},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(n(3)),r=n(13),o=a(n(114)),s=a(n(15));function a(t){return t&&t.__esModule?t:{default:t}}var u={canvasMaxNum:10},l=o.default.extend({initialize:function(t){t=(0,i.default)({},u,t),o.default.prototype.initialize.call(this,t)},_onMapResize:function(){o.default.prototype._onMapResize.call(this,this._map),this.fabrics.forEach((function(t){var e=t.contextContainer.canvas;t.setDimensions({width:e.width,height:e.height})}))},onAdd:function(t){window.map=t,o.default.prototype.onAdd.call(this,t),this.initFabrics()},onRemove:function(){this.disposeFabrics(this.lockedFabrics),this.disposeFabrics(this.fabrics),o.default.prototype.onRemove.call(this)},_lockAllCanvas:function(){o.default.prototype._lockAllCanvas.call(this),this.lockedFabrics=this.fabrics,this.lastFabricCanvas=void 0,this.fabrics=[]},_removeLockedCanvas:function(){o.default.prototype._removeLockedCanvas.call(this),this.disposeFabrics(this.lockedFabrics)},getFabric:function(){var t=void 0;t=this.lastFabricCanvas?this.fabrics.indexOf(this.lastFabricCanvas):0;var e=this.fabrics[t];return e||(e=this.createFabric(),this.fabrics[t]=e),this.lastFabricCanvas=e,this.lastFabricCanvas},createFabric:function(){var t=this.createCanvas();return new r.fabric.StaticCanvas(t,{renderOnAddRemove:!1,stateful:!1})},initFabrics:function(){this.fabrics=[],this.lockedFabrics=[]},disposeFabrics:function(t){t.forEach((function(t){t.dispose()}))},renderInSingleFrame:function(t,e,n,i,r){this.raf((function(){e.forEach((function(e){var o=r(e,n,i);null!=o&&(s.default.isArray(o)?o.forEach((function(e){return t.add(e)})):t.add(o))})),t.renderAll()}))},renderInMultiFrames:function(t,e,n){var i=this;if(!this._map)return null;this.renderLayerBounds=this.getRenderLayerBounds();var r=t.features.length/this.options.canvasMaxNum;r>n&&(n=r);var o=[];for(var s=this.getRenderContainerBounds(),a=this.getBufferedOffset(),u=0,l=t.features.length;u<l;u++){var c=t.features[u];o.push(c),o.length===n&&(this.renderInSingleFrame(this.getFabric(),o,s,a,e),o=[])}o.length>0&&this.renderInSingleFrame(this.getFabric(),o,s,a,e),this.raf((function(){i.fire("renderdone")}))}});e.default=l},function(t,e,n){t.exports=!n(32)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,n){var i=n(14),r=n(115),o=n(76),s=Object.defineProperty;e.f=n(17)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){t.exports={default:n(271),__esModule:!0}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports={default:n(229),__esModule:!0}},function(t,e,n){var i=n(2).getCoord,r=n(0),o=r.point,s=r.distanceToRadians;t.exports=function(t,e,n,r){var a=Math.PI/180,u=180/Math.PI,l=i(t),c=a*l[0],h=a*l[1],f=a*n,d=s(e,r),p=Math.asin(Math.sin(h)*Math.cos(d)+Math.cos(h)*Math.sin(d)*Math.cos(f)),g=c+Math.atan2(Math.sin(f)*Math.sin(d)*Math.cos(h),Math.cos(d)-Math.sin(h)*Math.sin(p));return o([u*g,u*p])}},function(t,e,n){var i=n(18),r=n(53);t.exports=n(17)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(117),r=n(77);t.exports=function(t){return i(r(t))}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";e.__esModule=!0;var i,r=n(231),o=(i=r)&&i.__esModule?i:{default:i};e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,o.default)(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}()},function(t,e,n){var i=n(2).getCoord;function r(t,e,n){if(!0===n)return function(t,e){var n=r(e,t);return n=(n+180)%360}(t,e);var o=Math.PI/180,s=180/Math.PI,a=i(t),u=i(e),l=o*a[0],c=o*u[0],h=o*a[1],f=o*u[1],d=Math.sin(c-l)*Math.cos(f),p=Math.cos(h)*Math.sin(f)-Math.sin(h)*Math.cos(f)*Math.cos(c-l);return s*Math.atan2(d,p)}t.exports=r},function(t,e,n){var i=n(1),r=n(99),o=n(0),s=n(2).getCoords,a=n(46),u=o.point,l=i.featureEach,c=o.featureCollection;function h(t,e){var n=s(t),i=s(e);if(2!==n.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==i.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var r=n[0][0],o=n[0][1],a=n[1][0],l=n[1][1],c=i[0][0],h=i[0][1],f=i[1][0],d=i[1][1],p=(d-h)*(a-r)-(f-c)*(l-o),g=(f-c)*(o-h)-(d-h)*(r-c),v=(a-r)*(o-h)-(l-o)*(r-c);if(0===p)return null;var m=g/p,y=v/p;return m>=0&&m<=1&&y>=0&&y<=1?u([r+m*(a-r),o+m*(l-o)]):null}t.exports=function(t,e){var n={},i=[];if("LineString"===t.type&&(t=o.feature(t)),"LineString"===e.type&&(e=o.feature(e)),"Feature"===t.type&&"Feature"===e.type&&"LineString"===t.geometry.type&&"LineString"===e.geometry.type&&2===t.geometry.coordinates.length&&2===e.geometry.coordinates.length){var u=h(t,e);return u&&i.push(u),c(i)}var f=r();return f.load(a(e)),l(a(t),(function(t){l(f.search(t),(function(e){var r=h(t,e);if(r){var o=s(r).join(",");n[o]||(n[o]=!0,i.push(r))}}))})),c(i)}},function(t,e,n){"use strict";e.__esModule=!0;var i,r=n(34),o=(i=r)&&i.__esModule?i:{default:i};e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,o.default)(e))&&"function"!=typeof e?t:e}},function(t,e,n){"use strict";e.__esModule=!0;var i=s(n(248)),r=s(n(252)),o=s(n(34));function s(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,o.default)(e)));t.prototype=(0,r.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(i.default?(0,i.default)(t,e):t.__proto__=e)}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports={}},function(t,e,n){"use strict";e.__esModule=!0;var i=s(n(234)),r=s(n(236)),o="function"==typeof r.default&&"symbol"==typeof i.default?function(t){return typeof t}:function(t){return t&&"function"==typeof r.default&&t.constructor===r.default&&t!==r.default.prototype?"symbol":typeof t};function s(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof r.default&&"symbol"===o(i.default)?function(t){return void 0===t?"undefined":o(t)}:function(t){return t&&"function"==typeof r.default&&t.constructor===r.default&&t!==r.default.prototype?"symbol":void 0===t?"undefined":o(t)}},function(t,e,n){"use strict";t.exports=r,t.exports.default=r;var i=n(349);function r(t,e){if(!(this instanceof r))return new r(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function o(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function s(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,i,r){r||(r=g(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o,s=e;s<n;s++)o=t.children[s],u(r,t.leaf?i(o):o);return r}function u(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function c(t,e){return t.minY-e.minY}function h(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function f(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function p(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function g(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function v(t,e,n,r,o){for(var s,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=r||(s=e+Math.ceil((n-e)/r/2)*r,i(t,s,e,n,o),a.push(e,s,s,n))}r.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],i=this.toBBox;if(!p(t,e))return n;for(var r,o,s,a,u=[];e;){for(r=0,o=e.children.length;r<o;r++)s=e.children[r],p(t,a=e.leaf?i(s):s)&&(e.leaf?n.push(s):d(t,a)?this._all(s,n):u.push(s));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!p(t,e))return!1;for(var i,r,o,s,a=[];e;){for(i=0,r=e.children.length;i<r;i++)if(o=e.children[i],p(t,s=e.leaf?n(o):o)){if(e.leaf||d(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var r=this.data;this.data=i,i=r}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=g([]),this},remove:function(t,e){if(!t)return this;for(var n,i,r,s,a=this.data,u=this.toBBox(t),l=[],c=[];a||l.length;){if(a||(a=l.pop(),i=l[l.length-1],n=c.pop(),s=!0),a.leaf&&-1!==(r=o(t,a.children,e)))return a.children.splice(r,1),l.push(a),this._condense(l),this;s||a.leaf||!d(a,u)?i?(n++,a=i.children[n],s=!1):a=null:(l.push(a),c.push(n),n=0,i=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:l,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,i){var r,o=n-e+1,a=this._maxEntries;if(o<=a)return s(r=g(t.slice(e,n+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,i-1))),(r=g([])).leaf=!1,r.height=i;var u,l,c,h,f=Math.ceil(o/a),d=f*Math.ceil(Math.sqrt(a));for(v(t,e,n,d,this.compareMinX),u=e;u<=n;u+=d)for(v(t,u,c=Math.min(u+d-1,n),f,this.compareMinY),l=u;l<=c;l+=f)h=Math.min(l+f-1,c),r.children.push(this._build(t,l,h,i-1));return s(r,this.toBBox),r},_chooseSubtree:function(t,e,n,i){for(var r,o,s,a,u,l,c,f,d,p;i.push(e),!e.leaf&&i.length-1!==n;){for(c=f=1/0,r=0,o=e.children.length;r<o;r++)u=h(s=e.children[r]),d=t,p=s,(l=(Math.max(p.maxX,d.maxX)-Math.min(p.minX,d.minX))*(Math.max(p.maxY,d.maxY)-Math.min(p.minY,d.minY))-u)<f?(f=l,c=u<c?u:c,a=s):l===f&&u<c&&(c=u,a=s);e=a||e.children[0]}return e},_insert:function(t,e,n){var i=this.toBBox,r=n?t:i(t),o=[],s=this._chooseSubtree(r,this.data,e,o);for(s.children.push(t),u(s,r);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(r,o,e)},_split:function(t,e){var n=t[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var o=this._chooseSplitIndex(n,r,i),a=g(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,s(n,this.toBBox),s(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(t,e){this.data=g([t,e]),this.data.height=t.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var i,r,o,s,u,l,c,f,d,p,g,v,m,y;for(l=c=1/0,i=e;i<=n-e;i++)r=a(t,0,i,this.toBBox),o=a(t,i,n,this.toBBox),d=r,p=o,g=void 0,v=void 0,m=void 0,y=void 0,g=Math.max(d.minX,p.minX),v=Math.max(d.minY,p.minY),m=Math.min(d.maxX,p.maxX),y=Math.min(d.maxY,p.maxY),s=Math.max(0,m-g)*Math.max(0,y-v),u=h(r)+h(o),s<l?(l=s,f=i,c=u<c?u:c):s===l&&u<c&&(c=u,f=i);return f},_chooseSplitAxis:function(t,e,n){var i=t.leaf?this.compareMinX:l,r=t.leaf?this.compareMinY:c;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,r)&&t.children.sort(i)},_allDistMargin:function(t,e,n,i){t.children.sort(i);var r,o,s=this.toBBox,l=a(t,0,e,s),c=a(t,n-e,n,s),h=f(l)+f(c);for(r=e;r<n-e;r++)o=t.children[r],u(l,t.leaf?s(o):o),h+=f(l);for(r=n-e-1;r>=e;r--)o=t.children[r],u(c,t.leaf?s(o):o),h+=f(c);return h},_adjustParentBBoxes:function(t,e,n){for(var i=n;i>=0;i--)u(e[i],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():s(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},function(t,e,n){var i=n(1).coordEach,r=n(0).point;t.exports=function(t,e){var n=0,o=0,s=0;return i(t,(function(t){n+=t[0],o+=t[1],s++}),!0),r([n/s,o/s],e)}},function(t,e,n){var i=n(55);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var i=n(77);t.exports=function(t){return Object(i(t))}},function(t,e,n){t.exports={default:n(221),__esModule:!0}},function(t,e,n){var i=n(116),r=n(81);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=!0},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=h(n(60)),r=h(n(3)),o=h(n(21)),s=h(n(26)),a=h(n(27)),u=h(n(30)),l=h(n(31)),c=(h(n(15)),h(n(61)),h(n(128)));n(89);function h(t){return t&&t.__esModule?t:{default:t}}var f=0,d=function(t){function e(t){(0,s.default)(this,e);var n=(0,u.default)(this,(e.__proto__||(0,o.default)(e)).call(this));return n.id=f++,n.requestCounter=0,n.props=(0,r.default)({},n.props,t),n}return(0,l.default)(e,t),(0,a.default)(e,[{key:"emitLoadStart",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.emit.apply(this,["loadstart",t].concat(n))}},{key:"emitLoadData",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.emit.apply(this,["loaddata",t].concat(n))}},{key:"emitLoad",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.emit.apply(this,["load",t].concat(n))}},{key:"emitLoadError",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.emit.apply(this,["loaderror",t].concat(n))}},{key:"getRid",value:function(){return this.id+"-"+this.requestCounter}},{key:"setProps",value:function(t){this.props=(0,r.default)({},this.props,t)}},{key:"request",value:function(){this.requestCounter++;var t=this.getRid();return i.default.resolve(this._request(t))}},{key:"_request",value:function(t){throw new Error("should overwrite _request interface")}},{key:"destroy",value:function(){this.isDestroy||(this.removeAllListeners(),this._destroy&&this._destroy(),this.isDestroy=!0)}}]),e}(c.default);e.default=d},function(t,e){function n(t,e,i){var r,o,s,a,u,l,c,h,f,d,p=0,g=0,v="FeatureCollection"===t.type,m="Feature"===t.type,y=v?t.features.length:1;for(r=0;r<y;r++)for(c=(d="GeometryCollection"===(f=v?t.features[r].geometry:m?t.geometry:t).type)?f.geometries.length:1,a=0;a<c;a++)if(h=(l=d?f.geometries[a]:f).coordinates,p=!i||"Polygon"!==l.type&&"MultiPolygon"!==l.type?0:1,"Point"===l.type)e(h,g),g++;else if("LineString"===l.type||"MultiPoint"===l.type)for(o=0;o<h.length;o++)e(h[o],g),g++;else if("Polygon"===l.type||"MultiLineString"===l.type)for(o=0;o<h.length;o++)for(s=0;s<h[o].length-p;s++)e(h[o][s],g),g++;else if("MultiPolygon"===l.type)for(o=0;o<h.length;o++)for(s=0;s<h[o].length;s++)for(u=0;u<h[o][s].length-p;u++)e(h[o][s][u],g),g++;else{if("GeometryCollection"!==l.type)throw new Error("Unknown Geometry Type");for(o=0;o<l.geometries.length;o++)n(l.geometries[o],e,i)}}function i(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length;n++)e(t.features[n].properties,n);break;case"Feature":e(t.properties,0)}}function r(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)e(t.features[n],n)}function o(t,e){var n,i,r,o,s,a,u,l=0,c="FeatureCollection"===t.type,h="Feature"===t.type,f=c?t.features.length:1;for(n=0;n<f;n++)for(s=(u="GeometryCollection"===(a=c?t.features[n].geometry:h?t.geometry:t).type)?a.geometries.length:1,r=0;r<s;r++)if("Point"===(o=u?a.geometries[r]:a).type||"LineString"===o.type||"MultiPoint"===o.type||"Polygon"===o.type||"MultiLineString"===o.type||"MultiPolygon"===o.type)e(o,l),l++;else{if("GeometryCollection"!==o.type)throw new Error("Unknown Geometry Type");for(i=0;i<o.geometries.length;i++)e(o.geometries[i],l),l++}}t.exports.coordEach=n,t.exports.coordReduce=function(t,e,i,r){var o=i;return n(t,(function(t,n){o=0===n&&void 0===i?t:e(o,t,n)}),r),o},t.exports.propEach=i,t.exports.propReduce=function(t,e,n){var r=n;return i(t,(function(t,i){r=0===i&&void 0===n?t:e(r,t,i)})),r},t.exports.featureEach=r,t.exports.featureReduce=function(t,e,n){var i=n;return r(t,(function(t,r){i=0===r&&void 0===n?t:e(i,t,r)})),i},t.exports.coordAll=function(t){var e=[];return n(t,(function(t){e.push(t)})),e},t.exports.geomEach=o,t.exports.geomReduce=function(t,e,n){var i=n;return o(t,(function(t,r){i=0===r&&void 0===n?t:e(i,t,r)})),i}},function(t,e,n){"use strict";var i=n(148),r="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,s=Array.prototype.concat,a=Object.defineProperty,u=a&&function(){var t={};try{for(var e in a(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}(),l=function(t,e,n,i){var r;(!(e in t)||"function"==typeof(r=i)&&"[object Function]"===o.call(r)&&i())&&(u?a(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0}):t[e]=n)},c=function(t,e){var n=arguments.length>2?arguments[2]:{},o=i(e);r&&(o=s.call(o,Object.getOwnPropertySymbols(e)));for(var a=0;a<o.length;a+=1)l(t,o[a],e[o[a]],n[o[a]])};c.supportsDescriptors=!!u,t.exports=c},function(t,e,n){var i=n(0),r=n(2).getCoords,o=n(1).flattenEach,s=i.lineString,a=i.featureCollection;t.exports=function(t){if(!t)throw new Error("geojson is required");var e=[];return o(t,(function(t){!function(t,e){var n=[],i=t.geometry;switch(i.type){case"Polygon":n=r(i);break;case"LineString":n=[r(i)]}n.forEach((function(n){(function(t,e){var n=[];return t.reduce((function(t,i){var r,o,a,u,l,c,h=s([t,i],e);return h.bbox=(o=i,a=(r=t)[0],u=r[1],l=o[0],c=o[1],[a<l?a:l,u<c?u:c,a>l?a:l,u>c?u:c]),n.push(h),i})),n})(n,t.properties).forEach((function(t){t.id=e.length,e.push(t)}))}))}(t,e)})),a(e)}},function(t,e,n){var i=n(1),r=n(0),o=n(28),s=n(5),a=n(2),u=n(22),l=n(29),c=r.point,h=a.getCoords,f=r.lineString,d=i.flattenEach;t.exports=function(t,e,n){var i=t.geometry?t.geometry.type:t.type;if("LineString"!==i&&"MultiLineString"!==i)throw new Error("lines must be LineString or MultiLineString");var r=c([1/0,1/0],{dist:1/0}),a=0;return d(t,(function(t){for(var i=h(t),d=0;d<i.length-1;d++){var p=c(i[d]);p.properties.dist=s(e,p,n);var g=c(i[d+1]);g.properties.dist=s(e,g,n);var v=s(p,g,n),m=Math.max(p.properties.dist,g.properties.dist),y=o(p,g),x=u(e,m,y+90,n),E=u(e,m,y-90,n),b=l(f([x.geometry.coordinates,E.geometry.coordinates]),f([p.geometry.coordinates,g.geometry.coordinates])),C=null;b.features.length>0&&((C=b.features[0]).properties.dist=s(e,C,n),C.properties.location=a+s(p,C,n)),p.properties.dist<r.properties.dist&&((r=p).properties.index=d,r.properties.location=a),g.properties.dist<r.properties.dist&&((r=g).properties.index=d+1,r.properties.location=a+v),C&&C.properties.dist<r.properties.dist&&((r=C).properties.index=d),a+=v}})),r}},function(t,e){function n(t){var e={type:"Feature"};return Object.keys(t).forEach((function(n){switch(n){case"type":case"properties":case"geometry":return;default:e[n]=t[n]}})),e.properties=function t(e){var n={};return e?(Object.keys(e).forEach((function(i){var r=e[i];"object"==typeof r?(r.length&&(n[i]=r.map((function(t){return t}))),n[i]=t(r)):n[i]=r})),n):n}(t.properties),e.geometry=i(t.geometry),e}function i(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),"GeometryCollection"===t.type?(e.geometries=t.geometries.map((function(t){return i(t)})),e):(e.coordinates=function t(e){if("object"!=typeof e[0])return e.slice();return e.map((function(e){return t(e)}))}(t.coordinates),e)}t.exports=function(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return n(t);case"FeatureCollection":return function(t){var e={type:"FeatureCollection"};return Object.keys(t).forEach((function(n){switch(n){case"type":case"features":return;default:e[n]=t[n]}})),e.features=t.features.map((function(t){return n(t)})),e}(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return i(t);default:throw new Error("unknown GeoJSON type")}}},function(t,e,n){var i=n(2).getCoord,r=n(108).LatLonSpherical;t.exports=function(t,e,n){if(!t)throw new Error("start point is required");if(!e)throw new Error("end point is required");var o,s=i(t),a=i(e),u=new r(s[1],s[0]),l=new r(a[1],a[0]);return(o=n?l.rhumbBearingTo(u):u.rhumbBearingTo(l))>180?-(360-o):o}},function(t,e,n){"use strict";if(t.exports)var i=n(109);if(t.exports)var r=n(72);function o(t,e,n){if(!(this instanceof o))return new o(t,e,n);void 0===n&&(n=o.datum.WGS84),this.lat=Number(t),this.lon=Number(e),this.datum=n}o.ellipsoid={WGS84:{a:6378137,b:6356752.314245,f:1/298.257223563},Airy1830:{a:6377563.396,b:6356256.909,f:1/299.3249646},AiryModified:{a:6377340.189,b:6356034.448,f:1/299.3249646},Bessel1841:{a:6377397.155,b:6356078.962818,f:1/299.1528128},Clarke1866:{a:6378206.4,b:6356583.8,f:1/294.978698214},Clarke1880IGN:{a:6378249.2,b:6356515,f:1/293.466021294},GRS80:{a:6378137,b:6356752.31414,f:1/298.257222101},Intl1924:{a:6378388,b:6356911.946,f:1/297},WGS72:{a:6378135,b:6356750.5,f:1/298.26}},o.datum={ED50:{ellipsoid:o.ellipsoid.Intl1924,transform:[89.5,93.8,123.1,-1.2,0,0,.156]},Irl1975:{ellipsoid:o.ellipsoid.AiryModified,transform:[-482.53,130.596,-564.557,-8.15,-1.042,-.214,-.631]},NAD27:{ellipsoid:o.ellipsoid.Clarke1866,transform:[8,-160,-176,0,0,0,0]},NAD83:{ellipsoid:o.ellipsoid.GRS80,transform:[1.004,-1.91,-.515,-.0015,.0267,34e-5,.011]},NTF:{ellipsoid:o.ellipsoid.Clarke1880IGN,transform:[168,60,-320,0,0,0,0]},OSGB36:{ellipsoid:o.ellipsoid.Airy1830,transform:[-446.448,125.157,-542.06,20.4894,-.1502,-.247,-.8421]},Potsdam:{ellipsoid:o.ellipsoid.Bessel1841,transform:[-582,-105,-414,-8.3,1.04,.35,-3.08]},TokyoJapan:{ellipsoid:o.ellipsoid.Bessel1841,transform:[148,-507,-685,0,0,0,0]},WGS72:{ellipsoid:o.ellipsoid.WGS72,transform:[0,0,-4.5,-.22,0,0,.554]},WGS84:{ellipsoid:o.ellipsoid.WGS84,transform:[0,0,0,0,0,0,0]}},o.prototype.convertDatum=function(t){var e=this,n=null;if(e.datum==o.datum.WGS84&&(n=t.transform),t==o.datum.WGS84){n=[];for(var i=0;i<7;i++)n[i]=-e.datum.transform[i]}return null==n&&(e=this.convertDatum(o.datum.WGS84),n=t.transform),e.toCartesian().applyTransform(n).toLatLonE(t)},o.prototype.toCartesian=function(){var t=this.lat.toRadians(),e=this.lon.toRadians(),n=this.datum.ellipsoid.a,r=this.datum.ellipsoid.f,o=Math.sin(t),s=Math.cos(t),a=Math.sin(e),u=Math.cos(e),l=2*r-r*r,c=n/Math.sqrt(1-l*o*o);return new i((c+0)*s*u,(c+0)*s*a,(c*(1-l)+0)*o)},i.prototype.toLatLonE=function(t){var e=this.x,n=this.y,i=this.z,r=t.ellipsoid.a,s=t.ellipsoid.b,a=t.ellipsoid.f,u=2*a-a*a,l=u/(1-u),c=Math.sqrt(e*e+n*n),h=s*i/(r*c)*(1+l*s/Math.sqrt(c*c+i*i)),f=h/Math.sqrt(1+h*h),d=f/h,p=isNaN(d)?0:Math.atan2(i+l*s*f*f*f,c-u*r*d*d*d),g=Math.atan2(n,e),v=Math.sin(p);Math.cos(p),Math.sqrt(1-u*v*v);return new o(p.toDegrees(),g.toDegrees(),t)},i.prototype.applyTransform=function(t){var e=this.x,n=this.y,r=this.z,o=t[0],s=t[1],a=t[2],u=t[3]/1e6+1,l=(t[4]/3600).toRadians(),c=(t[5]/3600).toRadians(),h=(t[6]/3600).toRadians();return new i(o+e*u-n*h+r*c,s+e*h+n*u-r*l,a-e*c+n*l+r*u)},o.prototype.toString=function(t,e){return r.toLat(this.lat,t,e)+", "+r.toLon(this.lon,t,e)},void 0===Number.prototype.toRadians&&(Number.prototype.toRadians=function(){return this*Math.PI/180}),void 0===Number.prototype.toDegrees&&(Number.prototype.toDegrees=function(){return 180*this/Math.PI}),t.exports&&(t.exports=o,t.exports.Vector3d=i)},function(t,e,n){var i=n(0),r=n(2).getCoord,o=n(108).LatLonSpherical,s=i.radiansToDistance,a=i.distanceToRadians;t.exports=function(t,e,n){if(!t)throw new Error("from point is required");if(!e)throw new Error("to point is required");n=n||"kilometers";var i=r(t),u=r(e),l=new o(i[1],i[0]),c=new o(u[1],u[0]);c[0]+=c[0]-l[0]>180?-360:l[0]-c[0]>180?360:0;var h=l.rhumbDistanceTo(c);return s(a(h,"meters"),n)}},function(t,e,n){var i=n(0),r=n(2).getCoord,o=n(108).LatLonSpherical,s=i.point,a=i.radiansToDistance,u=i.distanceToRadians;t.exports=function(t,e,n,i){if(!t)throw new Error("origin is required");if(null==e)throw new Error("distance is required");if(null==n)throw new Error("bearing is required");if(!(e>=0))throw new Error("distance must be greater than 0");var l=a(u(e,i=i||"kilometers"),"meters"),c=r(t),h=new o(c[1],c[0]).rhumbDestinationPoint(l,n);return h.lon+=h.lon-c[0]>180?-360:c[0]-h.lon>180?360:0,s([h.lon,h.lat])}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";var i=n(227)(!0);n(118)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})}))},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){n(222);for(var i=n(8),r=n(23),o=n(33),s=n(9)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<a.length;u++){var l=a[u],c=i[l],h=c&&c.prototype;h&&!h[s]&&r(h,s,l),o[l]=o.Array}},function(t,e,n){var i=n(18).f,r=n(24),o=n(9)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},function(t,e,n){t.exports={default:n(255),__esModule:!0}},function(t,e){t.exports=n},function(t,e,n){"use strict";const{isASCIIHex:i}=n(135);function r(t,e,n){let i=t.indexOf(e);for(;i>=0;)t[i]=n,i=t.indexOf(e,i+1);return t}function o(t){let e=t.toString(16).toUpperCase();return 1===e.length&&(e="0"+e),"%"+e}function s(t){const e=(void 0).alloc(t.byteLength);let n=0;for(let r=0;r<t.length;++r)37===t[r]&&i(t[r+1])&&i(t[r+2])?(e[n++]=parseInt(t.slice(r+1,r+3).toString(),16),r+=2):e[n++]=t[r];return e.slice(0,n)}function a(t){let e="";for(const n of t)e+=32===n?"+":42===n||45===n||46===n||n>=48&&n<=57||n>=65&&n<=90||95===n||n>=97&&n<=122?String.fromCodePoint(n):o(n);return e}t.exports={percentEncode:o,percentDecode:s,parseUrlencoded:t=>function(t){const e=function(t,e){const n=[];let i=0,r=t.indexOf(e);for(;r>=0;)n.push(t.slice(i,r)),i=r+1,r=t.indexOf(e,i);return i!==t.length&&n.push(t.slice(i)),n}(t,38),n=[];for(const t of e){if(0===t.length)continue;let e,i;const o=t.indexOf(61);o>=0?(e=t.slice(0,o),i=t.slice(o+1)):(e=t,i=(void 0).alloc(0)),e=r((void 0).from(e),43,32),i=r((void 0).from(i),43,32),n.push([s(e).toString(),s(i).toString()])}return n}((void 0).from(t)),serializeUrlencoded:function(t,e){let n="utf-8";void 0!==e&&(n=e);let i="";for(const[e,r]of t.entries()){const t=a((void 0).from(r[0]));let o=r[1];r.length>2&&void 0!==r[2]&&("hidden"===r[2]&&"_charset_"===t?o=n:"file"===r[2]&&(o=o.name)),o=a((void 0).from(o)),0!==e&&(i+="&"),i+=`${t}=${o}`}return i}}},function(t,e,n){!function(t){"use strict";function e(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function n(){}function i(){}function r(){}function o(){}function s(){}function a(){}function u(){}function l(t){this.name="RuntimeException",this.message=t,this.stack=(new Error).stack,Error.call(this,t)}function c(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}function h(){if(0===arguments.length)l.call(this);else if(1===arguments.length){var t=arguments[0];l.call(this,t)}}function f(){}function d(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)d.call(this,0,0);else if(1===arguments.length){var t=arguments[0];d.call(this,t.x,t.y,t.z)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];d.call(this,e,n,d.NULL_ORDINATE)}else if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this.x=i,this.y=r,this.z=o}}function p(){if(this.dimensionsToTest=2,0===arguments.length)p.call(this,2);else if(1===arguments.length){var t=arguments[0];if(2!==t&&3!==t)throw new i("only 2 or 3 dimensions may be specified");this.dimensionsToTest=t}}function g(){}function v(){}function m(t){this.message=t||""}function y(){}function x(t){this.message=t||""}function E(t){this.message=t||""}function b(){this.array_=[],arguments[0]instanceof v&&this.addAll(arguments[0])}function C(){if(b.apply(this),0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.ensureCapacity(t.length),this.add(t,!0)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.ensureCapacity(e.length),this.add(e,n)}}function w(){if(this.minx=null,this.maxx=null,this.miny=null,this.maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof d){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof w){var e=arguments[0];this.init(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.init(n.x,i.x,n.y,i.y)}else if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this.init(r,o,s,a)}}function _(){}function A(){_.call(this,"Projective point not representable on the Cartesian plane.")}function S(){}function D(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1}function L(){}function F(t){this.str=t}function T(t){this.value=t}function M(){}function I(){if(this.hi=0,this.lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this.init(t)}else if(arguments[0]instanceof I){var e=arguments[0];this.init(e)}else if("string"==typeof arguments[0]){var n=arguments[0];I.call(this,I.parse(n))}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.init(i,r)}}function P(){}function O(){}function B(){}function N(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var t=arguments[0];this.x=t.x,this.y=t.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],n=arguments[1];this.x=e,this.y=n,this.w=1}else if(arguments[0]instanceof N&&arguments[1]instanceof N){var i=arguments[0],r=arguments[1];this.x=i.y*r.w-r.y*i.w,this.y=r.x*i.w-i.x*r.w,this.w=i.x*r.y-r.x*i.y}else if(arguments[0]instanceof d&&arguments[1]instanceof d){var o=arguments[0],s=arguments[1];this.x=o.y-s.y,this.y=s.x-o.x,this.w=o.x*s.y-s.x*o.y}}else if(3===arguments.length){var a=arguments[0],u=arguments[1],l=arguments[2];this.x=a,this.y=u,this.w=l}else if(4===arguments.length){var c=arguments[0],h=arguments[1],f=arguments[2],p=arguments[3],g=c.y-h.y,v=h.x-c.x,m=c.x*h.y-h.x*c.y,y=f.y-p.y,x=p.x-f.x,E=f.x*p.y-p.x*f.y;this.x=v*E-x*m,this.y=y*m-g*E,this.w=g*x-y*v}}function k(){}function R(){}function j(){this.envelope=null,this.factory=null,this.SRID=null,this.userData=null;var t=arguments[0];this.factory=t,this.SRID=t.getSRID()}function V(){}function G(){}function z(){}function q(){}function U(){}function X(){}function H(){}function Y(){}function W(){}function J(){}function K(){}function Z(){}function $(){this.array_=[],arguments[0]instanceof v&&this.addAll(arguments[0])}function Q(t){return null==t?Go:t.color}function tt(t){return null==t?null:t.parent}function et(t,e){null!==t&&(t.color=e)}function nt(t){return null==t?null:t.left}function it(t){return null==t?null:t.right}function rt(){this.root_=null,this.size_=0}function ot(){}function st(){}function at(){this.array_=[],arguments[0]instanceof v&&this.addAll(arguments[0])}function ut(){}function lt(){}function ct(){}function ht(){}function ft(){this.geometries=null;var t=arguments[0],e=arguments[1];if(j.call(this,e),null===t&&(t=[]),j.hasNullElements(t))throw new i("geometries must not contain null elements");this.geometries=t}function dt(){var t=arguments[0],e=arguments[1];ft.call(this,t,e)}function pt(){if(this.geom=null,this.geomFact=null,this.bnRule=null,this.endpointMap=null,1===arguments.length){var t=arguments[0];pt.call(this,t,G.MOD2_BOUNDARY_RULE)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.geom=e,this.geomFact=e.getFactory(),this.bnRule=n}}function gt(){this.count=null}function vt(){}function mt(){}function yt(){}function xt(){}function Et(){}function bt(){}function Ct(){}function wt(){this.points=null;var t=arguments[0],e=arguments[1];j.call(this,e),this.init(t)}function _t(){}function At(){this.coordinates=null;var t=arguments[0],e=arguments[1];j.call(this,e),this.init(t)}function St(){}function Dt(){this.shell=null,this.holes=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(j.call(this,n),null===t&&(t=this.getFactory().createLinearRing()),null===e&&(e=[]),j.hasNullElements(e))throw new i("holes must not contain null elements");if(t.isEmpty()&&j.hasNonEmptyElements(e))throw new i("shell is empty but holes are not");this.shell=t,this.holes=e}function Lt(){var t=arguments[0],e=arguments[1];ft.call(this,t,e)}function Ft(){if(arguments[0]instanceof d&&arguments[1]instanceof Ht){var t=arguments[0],e=arguments[1];Ft.call(this,e.getCoordinateSequenceFactory().create(t),e)}else if(D(arguments[0],O)&&arguments[1]instanceof Ht){var n=arguments[0],i=arguments[1];wt.call(this,n,i),this.validateConstruction()}}function Tt(){var t=arguments[0],e=arguments[1];ft.call(this,t,e)}function Mt(){if(this.factory=null,this.isUserDataCopied=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.factory=t}}function It(){}function Pt(){}function Ot(){}function Bt(){}function Nt(){if(this.dimension=3,this.coordinates=null,1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];Nt.call(this,t,3)}else if(Number.isInteger(arguments[0])){var e=arguments[0];this.coordinates=new Array(e).fill(null);for(var n=0;n<e;n++)this.coordinates[n]=new d}else if(D(arguments[0],O)){var i=arguments[0];if(null===i)return this.coordinates=new Array(0).fill(null),null;for(this.dimension=i.getDimension(),this.coordinates=new Array(i.size()).fill(null),n=0;n<this.coordinates.length;n++)this.coordinates[n]=i.getCoordinateCopy(n)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var r=arguments[0],o=arguments[1];this.coordinates=r,this.dimension=o,null===r&&(this.coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var s=arguments[0],a=arguments[1];for(this.coordinates=new Array(s).fill(null),this.dimension=a,n=0;n<s;n++)this.coordinates[n]=new d}}function kt(){}function Rt(t,e){return t===e||t!=t&&e!=e}function jt(t){this.add?t.forEach(this.add,this):t.forEach((function(t){this.set(t[0],t[1])}),this)}function Vt(t,e){if(this.objectOnly&&e!==Object(e))throw new TypeError("Invalid value used as weak collection key");if(e!=e||0===e)for(qo=t.length;qo--&&!Rt(t[qo],e););else qo=t.indexOf(e);return qo>-1}function Gt(t,e,n){var i=[0],r=!1;return t.push(i),{next:function(){var o,s=i[0];return!r&&s<e.length?(o=n?[e[s],n[s]]:e[s],i[0]++):(r=!0,t.splice(t.indexOf(i),1)),{done:r,value:o}}}}function zt(){return this._values.length}function qt(){this.map_=new Ho}function Ut(){if(this.modelType=null,this.scale=null,0===arguments.length)this.modelType=Ut.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof Xt){var t=arguments[0];this.modelType=t,t===Ut.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var e=arguments[0];this.modelType=Ut.FIXED,this.setScale(e)}else if(arguments[0]instanceof Ut){var n=arguments[0];this.modelType=n.modelType,this.scale=n.scale}}function Xt(){this.name=null;var t=arguments[0];this.name=t,Xt.nameToTypeMap.put(t,this)}function Ht(){if(this.precisionModel=null,this.coordinateSequenceFactory=null,this.SRID=null,0===arguments.length)Ht.call(this,new Ut,0);else if(1===arguments.length){if(D(arguments[0],k)){var t=arguments[0];Ht.call(this,new Ut,0,t)}else if(arguments[0]instanceof Ut){var e=arguments[0];Ht.call(this,e,0,Ht.getDefaultCoordinateSequenceFactory())}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];Ht.call(this,n,i,Ht.getDefaultCoordinateSequenceFactory())}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];this.precisionModel=r,this.coordinateSequenceFactory=s,this.SRID=o}}function Yt(t){this.geometryFactory=t||new Ht}function Wt(t){this.parser=new Yt(t)}function Jt(){this.result=null,this.inputLines=Array(2).fill().map((function(){return Array(2)})),this.intPt=new Array(2).fill(null),this.intLineIndex=null,this._isProper=null,this.pa=null,this.pb=null,this.precisionModel=null,this.intPt[0]=new d,this.intPt[1]=new d,this.pa=this.intPt[0],this.pb=this.intPt[1],this.result=0}function Kt(){Jt.apply(this)}function Zt(){}function $t(){this.p=null,this.crossingCount=0,this.isPointOnSegment=!1;var t=arguments[0];this.p=t}function Qt(){}function te(){if(this.p0=null,this.p1=null,0===arguments.length)te.call(this,new d,new d);else if(1===arguments.length){var t=arguments[0];te.call(this,t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0=e,this.p1=n}else if(4===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3];te.call(this,new d(i,r),new d(o,s))}}function ee(){if(this.matrix=null,0===arguments.length)this.matrix=Array(3).fill().map((function(){return Array(3)})),this.setAll(lt.FALSE);else if(1===arguments.length)if("string"==typeof arguments[0]){var t=arguments[0];ee.call(this),this.set(t)}else if(arguments[0]instanceof ee){var e=arguments[0];ee.call(this),this.matrix[S.INTERIOR][S.INTERIOR]=e.matrix[S.INTERIOR][S.INTERIOR],this.matrix[S.INTERIOR][S.BOUNDARY]=e.matrix[S.INTERIOR][S.BOUNDARY],this.matrix[S.INTERIOR][S.EXTERIOR]=e.matrix[S.INTERIOR][S.EXTERIOR],this.matrix[S.BOUNDARY][S.INTERIOR]=e.matrix[S.BOUNDARY][S.INTERIOR],this.matrix[S.BOUNDARY][S.BOUNDARY]=e.matrix[S.BOUNDARY][S.BOUNDARY],this.matrix[S.BOUNDARY][S.EXTERIOR]=e.matrix[S.BOUNDARY][S.EXTERIOR],this.matrix[S.EXTERIOR][S.INTERIOR]=e.matrix[S.EXTERIOR][S.INTERIOR],this.matrix[S.EXTERIOR][S.BOUNDARY]=e.matrix[S.EXTERIOR][S.BOUNDARY],this.matrix[S.EXTERIOR][S.EXTERIOR]=e.matrix[S.EXTERIOR][S.EXTERIOR]}}function ne(){this.areaBasePt=null,this.triangleCent3=new d,this.areasum2=0,this.cg3=new d,this.lineCentSum=new d,this.totalLength=0,this.ptCount=0,this.ptCentSum=new d;var t=arguments[0];this.areaBasePt=null,this.add(t)}function ie(t){this.message=t||""}function re(){this.array_=[]}function oe(){this.treeSet=new at,this.list=new b}function se(){if(this.geomFactory=null,this.inputPts=null,1===arguments.length){var t=arguments[0];se.call(this,se.extractCoordinates(t),t.getFactory())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.inputPts=oe.filterCoordinates(e),this.geomFactory=n}}function ae(){this.origin=null;var t=arguments[0];this.origin=t}function ue(){this.inputGeom=null,this.factory=null,this.pruneEmptyGeometry=!0,this.preserveGeometryCollectionType=!0,this.preserveCollections=!1,this.preserveType=!1}function le(){if(this.snapTolerance=0,this.srcPts=null,this.seg=new te,this.allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof wt&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];le.call(this,t.getCoordinates(),e)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var n=arguments[0],i=arguments[1];this.srcPts=n,this._isClosed=le.isClosed(n),this.snapTolerance=i}}function ce(){this.srcGeom=null;var t=arguments[0];this.srcGeom=t}function he(){if(ue.apply(this),this.snapTolerance=null,this.snapPts=null,this.isSelfSnap=!1,2===arguments.length){var t=arguments[0],e=arguments[1];this.snapTolerance=t,this.snapPts=e}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.snapTolerance=n,this.snapPts=i,this.isSelfSnap=r}}function fe(){this.isFirst=!0,this.commonMantissaBitsCount=53,this.commonBits=0,this.commonSignExp=null}function de(){this.commonCoord=null,this.ccFilter=new pe}function pe(){this.commonBitsX=new fe,this.commonBitsY=new fe}function ge(){this.trans=null;var t=arguments[0];this.trans=t}function ve(){this.parent=null,this.atStart=null,this.max=null,this.index=null,this.subcollectionIterator=null;var t=arguments[0];this.parent=t,this.atStart=!0,this.index=0,this.max=t.getNumGeometries()}function me(){if(this.boundaryRule=G.OGC_SFS_BOUNDARY_RULE,this.isIn=null,this.numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new i("Rule must be non-null");this.boundaryRule=t}}function ye(){}function xe(){}function Ee(){this.pts=null,this.data=null;var t=arguments[0],e=arguments[1];this.pts=t,this.data=e}function be(){}function Ce(){this.bounds=null,this.item=null;var t=arguments[0],e=arguments[1];this.bounds=t,this.item=e}function we(){this._size=null,this.items=null,this._size=0,this.items=new b,this.items.add(null)}function _e(){}function Ae(){}function Se(){if(this.childBoundables=new b,this.bounds=null,this.level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.level=t}}function De(){this.boundable1=null,this.boundable2=null,this._distance=null,this.itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.boundable1=t,this.boundable2=e,this.itemDistance=n,this._distance=this.distance()}function Le(){if(this.root=null,this.built=!1,this.itemBoundables=new b,this.nodeCapacity=null,0===arguments.length)Le.call(this,Le.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var t=arguments[0];f.isTrue(t>1,"Node capacity must be greater than 1"),this.nodeCapacity=t}}function Fe(){}function Te(){if(0===arguments.length)Te.call(this,Te.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var t=arguments[0];Le.call(this,t)}}function Me(){var t=arguments[0];Se.call(this,t)}function Ie(){}function Pe(){this.segString=null,this.coord=null,this.segmentIndex=null,this.segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this.segString=t,this.coord=new d(e),this.segmentIndex=n,this.segmentOctant=i,this._isInterior=!e.equals2D(t.getCoordinate(n))}function Oe(){this.nodeMap=new rt,this.edge=null;var t=arguments[0];this.edge=t}function Be(){this.nodeList=null,this.edge=null,this.nodeIt=null,this.currNode=null,this.nextNode=null,this.currSegIndex=0;var t=arguments[0];this.nodeList=t,this.edge=t.getEdge(),this.nodeIt=t.iterator(),this.readNextNode()}function Ne(){}function ke(){this.nodeList=new Oe(this),this.pts=null,this.data=null;var t=arguments[0],e=arguments[1];this.pts=t,this.data=e}function Re(){this.tempEnv1=new w,this.tempEnv2=new w,this.overlapSeg1=new te,this.overlapSeg2=new te}function je(){this.pts=null,this.start=null,this.end=null,this.env=null,this.context=null,this.id=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this.pts=t,this.start=e,this.end=n,this.context=i}function Ve(){}function Ge(){}function ze(){}function qe(){if(this.segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}}function Ue(){if(this.monoChains=new b,this.index=new Te,this.idCounter=0,this.nodedSegStrings=null,this.nOverlaps=0,0===arguments.length);else if(1===arguments.length){var t=arguments[0];qe.call(this,t)}}function Xe(){Re.apply(this),this.si=null;var t=arguments[0];this.si=t}function He(){if(this.pt=null,1===arguments.length){var t=arguments[0];l.call(this,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];l.call(this,He.msgWithCoord(e,n)),this.name="TopologyException",this.pt=new d(n)}}function Ye(){}function We(){this.findAllIntersections=!1,this.isCheckEndSegmentsOnly=!1,this.li=null,this.interiorIntersection=null,this.intSegments=null,this.intersections=new b,this.intersectionCount=0,this.keepIntersections=!0;var t=arguments[0];this.li=t,this.interiorIntersection=null}function Je(){this.li=new Kt,this.segStrings=null,this.findAllIntersections=!1,this.segInt=null,this._isValid=!0;var t=arguments[0];this.segStrings=t}function Ke(){this.nv=null;var t=arguments[0];this.nv=new Je(Ke.toSegmentStrings(t))}function Ze(){this.mapOp=null;var t=arguments[0];this.mapOp=t}function $e(){}function Qe(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];this.init(t.length)}else if(Number.isInteger(arguments[0])){var e=arguments[0];this.init(1),this.location[$e.ON]=e}else if(arguments[0]instanceof Qe){var n=arguments[0];if(this.init(n.location.length),null!==n)for(var i=0;i<this.location.length;i++)this.location[i]=n.location[i]}}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];this.init(3),this.location[$e.ON]=r,this.location[$e.LEFT]=o,this.location[$e.RIGHT]=s}}function tn(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var t=arguments[0];this.elt[0]=new Qe(t),this.elt[1]=new Qe(t)}else if(arguments[0]instanceof tn){var e=arguments[0];this.elt[0]=new Qe(e.elt[0]),this.elt[1]=new Qe(e.elt[1])}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.elt[0]=new Qe(S.NONE),this.elt[1]=new Qe(S.NONE),this.elt[n].setLocation(i)}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];this.elt[0]=new Qe(r,o,s),this.elt[1]=new Qe(r,o,s)}else if(4===arguments.length){var a=arguments[0],u=arguments[1],l=arguments[2],c=arguments[3];this.elt[0]=new Qe(S.NONE,S.NONE,S.NONE),this.elt[1]=new Qe(S.NONE,S.NONE,S.NONE),this.elt[a].setLocations(u,l,c)}}function en(){this.startDe=null,this.maxNodeDegree=-1,this.edges=new b,this.pts=new b,this.label=new tn(S.NONE),this.ring=null,this._isHole=null,this.shell=null,this.holes=new b,this.geometryFactory=null;var t=arguments[0],e=arguments[1];this.geometryFactory=e,this.computePoints(t),this.computeRing()}function nn(){var t=arguments[0],e=arguments[1];en.call(this,t,e)}function rn(){var t=arguments[0],e=arguments[1];en.call(this,t,e)}function on(){if(this.label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.label=t}}function sn(){on.apply(this),this.coord=null,this.edges=null;var t=arguments[0],e=arguments[1];this.coord=t,this.edges=e,this.label=new tn(0,S.NONE)}function an(){this.nodeMap=new rt,this.nodeFact=null;var t=arguments[0];this.nodeFact=t}function un(){if(this.edge=null,this.label=null,this.node=null,this.p0=null,this.p1=null,this.dx=null,this.dy=null,this.quadrant=null,1===arguments.length){var t=arguments[0];this.edge=t}else if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2];un.call(this,e,n,i,null)}else if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];un.call(this,r),this.init(o,s),this.label=a}}function ln(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this.sym=null,this.next=null,this.nextMin=null,this.edgeRing=null,this.minEdgeRing=null,this.depth=[0,-999,-999];var t=arguments[0],e=arguments[1];if(un.call(this,t),this._isForward=e,e)this.init(t.getCoordinate(0),t.getCoordinate(1));else{var n=t.getNumPoints()-1;this.init(t.getCoordinate(n),t.getCoordinate(n-1))}this.computeDirectedLabel()}function cn(){}function hn(){if(this.edges=new b,this.nodes=null,this.edgeEndList=new b,0===arguments.length)this.nodes=new an(new cn);else if(1===arguments.length){var t=arguments[0];this.nodes=new an(t)}}function fn(){this.geometryFactory=null,this.shellList=new b;var t=arguments[0];this.geometryFactory=t}function dn(){this.op=null,this.geometryFactory=null,this.ptLocator=null,this.lineEdgesList=new b,this.resultLineList=new b;var t=arguments[0],e=arguments[1],n=arguments[2];this.op=t,this.geometryFactory=e,this.ptLocator=n}function pn(){this.op=null,this.geometryFactory=null,this.resultPointList=new b;var t=arguments[0],e=arguments[1];arguments[2],this.op=t,this.geometryFactory=e}function gn(){}function vn(){this.geom=null;var t=arguments[0];this.geom=t}function mn(){this.edgeMap=new rt,this.edgeList=null,this.ptInAreaLocation=[S.NONE,S.NONE]}function yn(){mn.apply(this),this.resultAreaEdgeList=null,this.label=null,this.SCANNING_FOR_INCOMING=1,this.LINKING_TO_OUTGOING=2}function xn(){cn.apply(this)}function En(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e}function bn(){if(this.label=null,this.xValue=null,this.eventType=null,this.insertEvent=null,this.deleteEventIndex=null,this.obj=null,2===arguments.length){var t=arguments[0],e=arguments[1];this.eventType=bn.DELETE,this.xValue=t,this.insertEvent=e}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.eventType=bn.INSERT,this.label=n,this.xValue=i,this.obj=r}}function Cn(){}function wn(){this._hasIntersection=!1,this.hasProper=!1,this.hasProperInterior=!1,this.properIntersectionPoint=null,this.li=null,this.includeProper=null,this.recordIsolated=null,this.isSelfIntersection=null,this.numIntersections=0,this.numTests=0,this.bdyNodes=null,this._isDone=!1,this.isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this.li=t,this.includeProper=e,this.recordIsolated=n}function _n(){Cn.apply(this),this.events=new b,this.nOverlaps=null}function An(){this.min=r.POSITIVE_INFINITY,this.max=r.NEGATIVE_INFINITY}function Sn(){}function Dn(){An.apply(this),this.item=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.min=t,this.max=e,this.item=n}function Ln(){An.apply(this),this.node1=null,this.node2=null;var t=arguments[0],e=arguments[1];this.node1=t,this.node2=e,this.buildExtent(this.node1,this.node2)}function Fn(){this.leaves=new b,this.root=null,this.level=0}function Tn(){if(this.lines=null,this.isForcedToLineString=!1,1===arguments.length){var t=arguments[0];this.lines=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.lines=e,this.isForcedToLineString=n}}function Mn(){this.items=new b}function In(){this.index=null;var t=arguments[0];if(!D(t,St))throw new i("Argument must be Polygonal");this.index=new On(t)}function Pn(){this.counter=null;var t=arguments[0];this.counter=t}function On(){this.index=new Fn;var t=arguments[0];this.init(t)}function Bn(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new d(t),this.segmentIndex=e,this.dist=n}function Nn(){this.nodeMap=new rt,this.edge=null;var t=arguments[0];this.edge=t}function kn(){}function Rn(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new w,this.env2=new w;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new kn;this.startIndex=e.getChainStartIndices(this.pts)}function jn(){this.depth=Array(2).fill().map((function(){return Array(3)}));for(var t=0;t<2;t++)for(var e=0;e<3;e++)this.depth[t][e]=jn.NULL_VALUE}function Vn(){if(on.apply(this),this.pts=null,this.env=null,this.eiList=new Nn(this),this.name=null,this.mce=null,this._isIsolated=!0,this.depth=new jn,this.depthDelta=0,1===arguments.length){var t=arguments[0];Vn.call(this,t,null)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.pts=e,this.label=n}}function Gn(){if(hn.apply(this),this.parentGeom=null,this.lineEdgeMap=new qt,this.boundaryNodeRule=null,this.useBoundaryDeterminationRule=!0,this.argIndex=null,this.boundaryNodes=null,this._hasTooFewPoints=!1,this.invalidPoint=null,this.areaPtLocator=null,this.ptLocator=new me,2===arguments.length){var t=arguments[0],e=arguments[1];Gn.call(this,t,e,G.OGC_SFS_BOUNDARY_RULE)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.argIndex=n,this.parentGeom=i,this.boundaryNodeRule=r,null!==i&&this.add(i)}}function zn(){if(this.li=new Kt,this.resultPrecisionModel=null,this.arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this.arg=new Array(1).fill(null),this.arg[0]=new Gn(0,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];zn.call(this,e,n,G.OGC_SFS_BOUNDARY_RULE)}else if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];i.getPrecisionModel().compareTo(r.getPrecisionModel())>=0?this.setComputationPrecision(i.getPrecisionModel()):this.setComputationPrecision(r.getPrecisionModel()),this.arg=new Array(2).fill(null),this.arg[0]=new Gn(0,i,o),this.arg[1]=new Gn(1,r,o)}}function qn(){this.pts=null,this._orientation=null;var t=arguments[0];this.pts=t,this._orientation=qn.orientation(t)}function Un(){this.edges=new b,this.ocaMap=new rt}function Xn(){this.ptLocator=new me,this.geomFact=null,this.resultGeom=null,this.graph=null,this.edgeList=new Un,this.resultPolyList=new b,this.resultLineList=new b,this.resultPointList=new b;var t=arguments[0],e=arguments[1];zn.call(this,t,e),this.graph=new hn(new xn),this.geomFact=t.getFactory()}function Hn(){this.geom=new Array(2).fill(null),this.snapTolerance=null,this.cbr=null;var t=arguments[0],e=arguments[1];this.geom[0]=t,this.geom[1]=e,this.computeSnapTolerance()}function Yn(){this.geom=new Array(2).fill(null);var t=arguments[0],e=arguments[1];this.geom[0]=t,this.geom[1]=e}function Wn(){this.factory=null,this.interiorPoint=null,this.maxWidth=0;var t=arguments[0];this.factory=t.getFactory(),this.add(t)}function Jn(){this.poly=null,this.centreY=null,this.hiY=r.MAX_VALUE,this.loY=-r.MAX_VALUE;var t=arguments[0];this.poly=t,this.hiY=t.getEnvelopeInternal().getMaxY(),this.loY=t.getEnvelopeInternal().getMinY(),this.centreY=Wn.avg(this.loY,this.hiY)}function Kn(){this.centroid=null,this.minDistance=r.MAX_VALUE,this.interiorPoint=null;var t=arguments[0];this.centroid=t.getCentroid().getCoordinate(),this.addInterior(t),null===this.interiorPoint&&this.addEndpoints(t)}function Zn(){this.centroid=null,this.minDistance=r.MAX_VALUE,this.interiorPoint=null;var t=arguments[0];this.centroid=t.getCentroid().getCoordinate(),this.add(t)}function $n(){this.tempEnv1=new w,this.selectedSegment=new te}function Qn(){this.items=new b,this.subnode=[null,null]}function ti(){if(this.min=null,this.max=null,0===arguments.length)this.min=0,this.max=0;else if(1===arguments.length){var t=arguments[0];this.init(t.min,t.max)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.init(e,n)}}function ei(){}function ni(){this.pt=0,this.level=0,this.interval=null;var t=arguments[0];this.computeKey(t)}function ii(){Qn.apply(this),this.interval=null,this.centre=null,this.level=null;var t=arguments[0],e=arguments[1];this.interval=t,this.level=e,this.centre=(t.getMin()+t.getMax())/2}function ri(){}function oi(){Qn.apply(this)}function si(){this.root=null,this.minExtent=1,this.root=new oi}function ai(){}function ui(){this.ring=null,this.tree=null,this.crossings=0,this.interval=new ti;var t=arguments[0];this.ring=t,this.buildIndex()}function li(){$n.apply(this),this.mcp=null,this.p=null;var t=arguments[0],e=arguments[1];this.mcp=t,this.p=e}function ci(){}function hi(){this.p0=null,this.p1=null,this.p2=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.p0=t,this.p1=e,this.p2=n}function fi(){this.input=null,this.extremalPts=null,this.centre=null,this.radius=0;var t=arguments[0];this.input=t}function di(){if(this.inputGeom=null,this.isConvex=null,this.convexHullPts=null,this.minBaseSeg=new te,this.minWidthPt=null,this.minPtIndex=null,this.minWidth=0,1===arguments.length){var t=arguments[0];di.call(this,t,!1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.inputGeom=e,this.isConvex=n}}function pi(){this.inputGeom=null,this.distanceTolerance=null;var t=arguments[0];this.inputGeom=t}function gi(){ue.apply(this),this.distanceTolerance=null;var t=arguments[0];this.distanceTolerance=t}function vi(){this._orig=null,this._sym=null,this._next=null;var t=arguments[0];this._orig=t}function mi(){this._isMarked=!1;var t=arguments[0];vi.call(this,t)}function yi(){this.vertexMap=new qt}function xi(){this._isStart=!1;var t=arguments[0];mi.call(this,t)}function Ei(){yi.apply(this)}function bi(){this.result=null,this.factory=null,this.graph=null,this.lines=new b,this.nodeEdgeStack=new re,this.ringStartEdge=null,this.graph=new Ei}function Ci(){this.items=new b,this.subnode=new Array(4).fill(null)}function wi(){this.pt=new d,this.level=0,this.env=null;var t=arguments[0];this.computeKey(t)}function _i(){Ci.apply(this),this.env=null,this.centrex=null,this.centrey=null,this.level=null;var t=arguments[0],e=arguments[1];this.env=t,this.level=e,this.centrex=(t.getMinX()+t.getMaxX())/2,this.centrey=(t.getMinY()+t.getMaxY())/2}function Ai(){Ci.apply(this)}function Si(){this.root=null,this.minExtent=1,this.root=new Ai}function Di(t){this.geometryFactory=t||new Ht}function Li(t){this.geometryFactory=t||new Ht,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Di(this.geometryFactory)}function Fi(){this.parser=new Di(this.geometryFactory)}function Ti(t){this.geometryFactory=t||new Ht,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Yt(this.geometryFactory)}function Mi(t){return[t.x,t.y]}function Ii(t,e){this.geometryFactory=t||new Ht,this.ol=e||"undefined"!=typeof ol&&ol}function Pi(){if(this.noder=null,this.scaleFactor=null,this.offsetX=null,this.offsetY=null,this.isScaled=!1,2===arguments.length){var t=arguments[0],e=arguments[1];Pi.call(this,t,e,0,0)}else if(4===arguments.length){var n=arguments[0],i=arguments[1];arguments[2],arguments[3],this.noder=n,this.scaleFactor=i,this.isScaled=!this.isIntegerPrecision()}}function Oi(){if(this.inputGeom=null,this.isClosedEndpointsInInterior=!0,this.nonSimpleLocation=null,1===arguments.length){var t=arguments[0];this.inputGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.inputGeom=e,this.isClosedEndpointsInInterior=!n.isInBoundary(2)}}function Bi(){this.pt=null,this.isClosed=null,this.degree=null;var t=arguments[0];this.pt=t,this.isClosed=!1,this.degree=0}function Ni(){if(this.quadrantSegments=Ni.DEFAULT_QUADRANT_SEGMENTS,this.endCapStyle=Ni.CAP_ROUND,this.joinStyle=Ni.JOIN_ROUND,this.mitreLimit=Ni.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this.simplifyFactor=Ni.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setQuadrantSegments(t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.setQuadrantSegments(e),this.setEndCapStyle(n)}else if(4===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3];this.setQuadrantSegments(i),this.setEndCapStyle(r),this.setJoinStyle(o),this.setMitreLimit(s)}}function ki(){this.minIndex=-1,this.minCoord=null,this.minDe=null,this.orientedDe=null}function Ri(){this.array_=[]}function ji(){this.finder=null,this.dirEdgeList=new b,this.nodes=new b,this.rightMostCoord=null,this.env=null,this.finder=new ki}function Vi(){this.inputLine=null,this.distanceTol=null,this.isDeleted=null,this.angleOrientation=Qt.COUNTERCLOCKWISE;var t=arguments[0];this.inputLine=t}function Gi(){this.ptList=null,this.precisionModel=null,this.minimimVertexDistance=0,this.ptList=new b}function zi(){this.maxCurveSegmentError=0,this.filletAngleQuantum=null,this.closingSegLengthFactor=1,this.segList=null,this.distance=0,this.precisionModel=null,this.bufParams=null,this.li=null,this.s0=null,this.s1=null,this.s2=null,this.seg0=new te,this.seg1=new te,this.offset0=new te,this.offset1=new te,this.side=0,this._hasNarrowConcaveAngle=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this.precisionModel=t,this.bufParams=e,this.li=new Kt,this.filletAngleQuantum=Math.PI/2/e.getQuadrantSegments(),e.getQuadrantSegments()>=8&&e.getJoinStyle()===Ni.JOIN_ROUND&&(this.closingSegLengthFactor=zi.MAX_CLOSING_SEG_LEN_FACTOR),this.init(n)}function qi(){this.distance=0,this.precisionModel=null,this.bufParams=null;var t=arguments[0],e=arguments[1];this.precisionModel=t,this.bufParams=e}function Ui(){this.subgraphs=null,this.seg=new te,this.cga=new Qt;var t=arguments[0];this.subgraphs=t}function Xi(){this.upwardSeg=null,this.leftDepth=null;var t=arguments[0],e=arguments[1];this.upwardSeg=new te(t),this.leftDepth=e}function Hi(){this.inputGeom=null,this.distance=null,this.curveBuilder=null,this.curveList=new b;var t=arguments[0],e=arguments[1],n=arguments[2];this.inputGeom=t,this.distance=e,this.curveBuilder=n}function Yi(){this._hasIntersection=!1,this.hasProper=!1,this.hasProperInterior=!1,this.hasInterior=!1,this.properIntersectionPoint=null,this.li=null,this.isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this.li=t}function Wi(){this.bufParams=null,this.workingPrecisionModel=null,this.workingNoder=null,this.geomFact=null,this.graph=null,this.edgeList=new Un;var t=arguments[0];this.bufParams=t}function Ji(){this.li=new Kt,this.segStrings=null;var t=arguments[0];this.segStrings=t}function Ki(){this.li=null,this.pt=null,this.originalPt=null,this.ptScaled=null,this.p0Scaled=null,this.p1Scaled=null,this.scaleFactor=null,this.minx=null,this.maxx=null,this.miny=null,this.maxy=null,this.corner=new Array(4).fill(null),this.safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this.originalPt=t,this.pt=t,this.scaleFactor=e,this.li=n,e<=0)throw new i("Scale factor must be non-zero");1!==e&&(this.pt=new d(this.scale(t.x),this.scale(t.y)),this.p0Scaled=new d,this.p1Scaled=new d),this.initCorners(this.pt)}function Zi(){this.index=null;var t=arguments[0];this.index=t}function $i(){$n.apply(this),this.hotPixel=null,this.parentEdge=null,this.hotPixelVertexIndex=null,this._isNodeAdded=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this.hotPixel=t,this.parentEdge=e,this.hotPixelVertexIndex=n}function Qi(){this.li=null,this.interiorIntersections=null;var t=arguments[0];this.li=t,this.interiorIntersections=new b}function tr(){this.pm=null,this.li=null,this.scaleFactor=null,this.noder=null,this.pointSnapper=null,this.nodedSegStrings=null;var t=arguments[0];this.pm=t,this.li=new Kt,this.li.setPrecisionModel(t),this.scaleFactor=t.getScale()}function er(){if(this.argGeom=null,this.distance=null,this.bufParams=new Ni,this.resultGeometry=null,this.saveException=null,1===arguments.length){var t=arguments[0];this.argGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.argGeom=e,this.bufParams=n}}function nr(){this.comps=null;var t=arguments[0];this.comps=t}function ir(){if(this.component=null,this.segIndex=null,this.pt=null,2===arguments.length){var t=arguments[0],e=arguments[1];ir.call(this,t,ir.INSIDE_AREA,e)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.component=n,this.segIndex=i,this.pt=r}}function rr(){this.pts=null;var t=arguments[0];this.pts=t}function or(){this.locations=null;var t=arguments[0];this.locations=t}function sr(){if(this.geom=null,this.terminateDistance=0,this.ptLocator=new me,this.minDistanceLocation=null,this.minDistance=r.MAX_VALUE,2===arguments.length){var t=arguments[0],e=arguments[1];sr.call(this,t,e,0)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],o=arguments[2];this.geom=new Array(2).fill(null),this.geom[0]=n,this.geom[1]=i,this.terminateDistance=o}}function ar(){this.factory=null,this.directedEdges=new b,this.coordinates=null;var t=arguments[0];this.factory=t}function ur(){this._isMarked=!1,this._isVisited=!1,this.data=null}function lr(){ur.apply(this),this.parentEdge=null,this.from=null,this.to=null,this.p0=null,this.p1=null,this.sym=null,this.edgeDirection=null,this.quadrant=null,this.angle=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this.from=t,this.to=e,this.edgeDirection=i,this.p0=t.getCoordinate(),this.p1=n;var r=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y;this.quadrant=Ve.quadrant(r,o),this.angle=Math.atan2(o,r)}function cr(){var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];lr.call(this,t,e,n,i)}function hr(){if(ur.apply(this),this.dirEdge=null,0===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];this.setDirectedEdges(t,e)}}function fr(){this.outEdges=new b,this.sorted=!1}function dr(){if(ur.apply(this),this.pt=null,this.deStar=null,1===arguments.length){var t=arguments[0];dr.call(this,t,new fr)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.pt=e,this.deStar=n}}function pr(){hr.apply(this),this.line=null;var t=arguments[0];this.line=t}function gr(){this.nodeMap=new rt}function vr(){this.edges=new $,this.dirEdges=new $,this.nodeMap=new gr}function mr(){vr.apply(this)}function yr(){this.graph=new mr,this.mergedLineStrings=null,this.factory=null,this.edgeStrings=null}function xr(){this.edgeRing=null,this.next=null,this.label=-1;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];lr.call(this,t,e,n,i)}function Er(){hr.apply(this),this.line=null;var t=arguments[0];this.line=t}function br(){this.geometryFactory=new Ht,this.geomGraph=null,this.disconnectedRingcoord=null;var t=arguments[0];this.geomGraph=t}function Cr(){}function wr(){if(this.edgeEnds=new b,1===arguments.length){var t=arguments[0];wr.call(this,null,t)}else if(2===arguments.length){var e=(arguments[0],arguments[1]);un.call(this,e.getEdge(),e.getCoordinate(),e.getDirectedCoordinate(),new tn(e.getLabel())),this.insert(e)}}function _r(){mn.apply(this)}function Ar(){var t=arguments[0],e=arguments[1];sn.call(this,t,e)}function Sr(){cn.apply(this)}function Dr(){this.nodes=new an(new Sr)}function Lr(){this.li=new Kt,this.geomGraph=null,this.nodeGraph=new Dr,this.invalidPoint=null;var t=arguments[0];this.geomGraph=t}function Fr(){this.graph=null,this.rings=new b,this.totalEnv=new w,this.index=null,this.nestedPt=null;var t=arguments[0];this.graph=t}function Tr(){if(this.errorType=null,this.pt=null,1===arguments.length){var t=arguments[0];Tr.call(this,t,null)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.errorType=e,null!==n&&(this.pt=n.copy())}}function Mr(){this.parentGeometry=null,this.isSelfTouchingRingFormingHoleValid=!1,this.validErr=null;var t=arguments[0];this.parentGeometry=t}function Ir(){this.factory=null,this.deList=new b,this.lowestEdge=null,this.ring=null,this.ringPts=null,this.holes=null,this.shell=null,this._isHole=null,this._isProcessed=!1,this._isIncludedSet=!1,this._isIncluded=!1;var t=arguments[0];this.factory=t}function Pr(){}function Or(){vr.apply(this),this.factory=null;var t=arguments[0];this.factory=t}function Br(){if(this.lineStringAdder=new Nr(this),this.graph=null,this.dangles=new b,this.cutEdges=new b,this.invalidRingLines=new b,this.holeList=null,this.shellList=null,this.polyList=null,this.isCheckingRingsValid=!0,this.extractOnlyPolygonal=null,this.geomFactory=null,0===arguments.length)Br.call(this,!1);else if(1===arguments.length){var t=arguments[0];this.extractOnlyPolygonal=t}}function Nr(){this.p=null;var t=arguments[0];this.p=t}function kr(){this.li=new Kt,this.ptLocator=new me,this.arg=null,this.nodes=new an(new Sr),this.im=null,this.isolatedEdges=new b,this.invalidPoint=null;var t=arguments[0];this.arg=t}function Rr(){this.rectEnv=null;var t=arguments[0];this.rectEnv=t.getEnvelopeInternal()}function jr(){this.li=new Kt,this.rectEnv=null,this.diagUp0=null,this.diagUp1=null,this.diagDown0=null,this.diagDown1=null;var t=arguments[0];this.rectEnv=t,this.diagUp0=new d(t.getMinX(),t.getMinY()),this.diagUp1=new d(t.getMaxX(),t.getMaxY()),this.diagDown0=new d(t.getMinX(),t.getMaxY()),this.diagDown1=new d(t.getMaxX(),t.getMinY())}function Vr(){this._isDone=!1}function Gr(){this.rectangle=null,this.rectEnv=null;var t=arguments[0];this.rectangle=t,this.rectEnv=t.getEnvelopeInternal()}function zr(){Vr.apply(this),this.rectEnv=null,this._intersects=!1;var t=arguments[0];this.rectEnv=t}function qr(){Vr.apply(this),this.rectSeq=null,this.rectEnv=null,this._containsPoint=!1;var t=arguments[0];this.rectSeq=t.getExteriorRing().getCoordinateSequence(),this.rectEnv=t.getEnvelopeInternal()}function Ur(){Vr.apply(this),this.rectEnv=null,this.rectIntersector=null,this.hasIntersection=!1,this.p0=new d,this.p1=new d;var t=arguments[0];this.rectEnv=t.getEnvelopeInternal(),this.rectIntersector=new jr(this.rectEnv)}function Xr(){if(this._relate=null,2===arguments.length){var t=arguments[0],e=arguments[1];zn.call(this,t,e),this._relate=new kr(this.arg)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];zn.call(this,n,i,r),this._relate=new kr(this.arg)}}function Hr(){this.geomFactory=null,this.skipEmpty=!1,this.inputGeoms=null;var t=arguments[0];this.geomFactory=Hr.extractFactory(t),this.inputGeoms=t}function Yr(){this.pointGeom=null,this.otherGeom=null,this.geomFact=null;var t=arguments[0],e=arguments[1];this.pointGeom=t,this.otherGeom=e,this.geomFact=e.getFactory()}function Wr(){this.sortIndex=-1,this.comps=null;var t=arguments[0],e=arguments[1];this.sortIndex=t,this.comps=e}function Jr(){this.inputPolys=null,this.geomFactory=null;var t=arguments[0];this.inputPolys=t,null===this.inputPolys&&(this.inputPolys=new b)}function Kr(){if(this.polygons=new b,this.lines=new b,this.points=new b,this.geomFact=null,1===arguments.length){if(D(arguments[0],v)){var t=arguments[0];this.extract(t)}else if(arguments[0]instanceof j){var e=arguments[0];this.extract(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.geomFact=i,this.extract(n)}}function Zr(){Mt.CoordinateOperation.apply(this),this.targetPM=null,this.removeCollapsed=!0;var t=arguments[0],e=arguments[1];this.targetPM=t,this.removeCollapsed=e}function $r(){this.targetPM=null,this.removeCollapsed=!0,this.changePrecisionModel=!1,this.isPointwise=!1;var t=arguments[0];this.targetPM=t}function Qr(){this.pts=null,this.usePt=null,this.distanceTolerance=null,this.seg=new te;var t=arguments[0];this.pts=t}function to(){this.inputGeom=null,this.distanceTolerance=null,this.isEnsureValidTopology=!0;var t=arguments[0];this.inputGeom=t}function eo(){ue.apply(this),this.isEnsureValidTopology=!0,this.distanceTolerance=null;var t=arguments[0],e=arguments[1];this.isEnsureValidTopology=t,this.distanceTolerance=e}function no(){if(this.parent=null,this.index=null,2===arguments.length){var t=arguments[0],e=arguments[1];no.call(this,t,e,null,-1)}else if(4===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=arguments[3];te.call(this,n,i),this.parent=r,this.index=o}}function io(){if(this.parentLine=null,this.segs=null,this.resultSegs=new b,this.minimumSize=null,1===arguments.length){var t=arguments[0];io.call(this,t,2)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.parentLine=e,this.minimumSize=n,this.init()}}function ro(){this.index=new Si}function oo(){this.querySeg=null,this.items=new b;var t=arguments[0];this.querySeg=t}function so(){this.li=new Kt,this.inputIndex=new ro,this.outputIndex=new ro,this.line=null,this.linePts=null,this.distanceTolerance=0;var t=arguments[0],e=arguments[1];this.inputIndex=t,this.outputIndex=e}function ao(){this.inputIndex=new ro,this.outputIndex=new ro,this.distanceTolerance=0}function uo(){this.inputGeom=null,this.lineSimplifier=new ao,this.linestringMap=null;var t=arguments[0];this.inputGeom=t}function lo(){ue.apply(this),this.linestringMap=null;var t=arguments[0];this.linestringMap=t}function co(){this.tps=null;var t=arguments[0];this.tps=t}function ho(){this.seg=null,this.segLen=null,this.splitPt=null,this.minimumLen=0;var t=arguments[0];this.seg=t,this.segLen=t.getLength()}function fo(){}function po(){}function go(){}function vo(){if(this.p=null,1===arguments.length){var t=arguments[0];this.p=new d(t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p=new d(e,n)}else if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this.p=new d(i,r,o)}}function mo(){this._isOnConstraint=null,this.constraint=null;var t=arguments[0];vo.call(this,t)}function yo(){this._rot=null,this.vertex=null,this.next=null,this.data=null}function xo(){this.subdiv=null,this.isUsingTolerance=!1;var t=arguments[0];this.subdiv=t,this.isUsingTolerance=t.getTolerance()>0}function Eo(){}function bo(){this.subdiv=null,this.lastEdge=null;var t=arguments[0];this.subdiv=t,this.init()}function Co(){if(this.seg=null,1===arguments.length){if("string"==typeof arguments[0]){var t=arguments[0];l.call(this,t)}else if(arguments[0]instanceof te){var e=arguments[0];l.call(this,"Locate failed to converge (at edge: "+e+").  Possible causes include invalid Subdivision topology or very close sites"),this.seg=new te(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];l.call(this,Co.msgWithSpatial(n,i)),this.seg=new te(i)}}function wo(){}function _o(){this.visitedKey=0,this.quadEdges=new b,this.startingEdge=null,this.tolerance=null,this.edgeCoincidenceTolerance=null,this.frameVertex=new Array(3).fill(null),this.frameEnv=null,this.locator=null,this.seg=new te,this.triEdges=new Array(3).fill(null);var t=arguments[0],e=arguments[1];this.tolerance=e,this.edgeCoincidenceTolerance=e/_o.EDGE_COINCIDENCE_TOL_FACTOR,this.createFrame(t),this.startingEdge=this.initSubdiv(),this.locator=new bo(this)}function Ao(){}function So(){this.triList=new b}function Do(){this.triList=new b}function Lo(){this.coordList=new C,this.triCoords=new b}function Fo(){if(this.ls=null,this.data=null,2===arguments.length){var t=arguments[0],e=arguments[1];this.ls=new te(t,e)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.ls=new te(n,i),this.data=r}else if(6===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2],u=arguments[3],l=arguments[4],c=arguments[5];Fo.call(this,new d(o,s,a),new d(u,l,c))}else if(7===arguments.length){var h=arguments[0],f=arguments[1],p=arguments[2],g=arguments[3],v=arguments[4],m=arguments[5],y=arguments[6];Fo.call(this,new d(h,f,p),new d(g,v,m),y)}}function To(){}function Mo(){if(this.p=null,this.data=null,this.left=null,this.right=null,this.count=null,2===arguments.length){var t=arguments[0],e=arguments[1];this.p=new d(t),this.left=null,this.right=null,this.count=1,this.data=e}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.p=new d(n,i),this.left=null,this.right=null,this.count=1,this.data=r}}function Io(){if(this.root=null,this.numberOfNodes=null,this.tolerance=null,0===arguments.length)Io.call(this,0);else if(1===arguments.length){var t=arguments[0];this.tolerance=t}}function Po(){this.tolerance=null,this.matchNode=null,this.matchDist=0,this.p=null;var t=arguments[0],e=arguments[1];this.p=t,this.tolerance=e}function Oo(){this.initialVertices=null,this.segVertices=null,this.segments=new b,this.subdiv=null,this.incDel=null,this.convexHull=null,this.splitFinder=new po,this.kdt=null,this.vertexFactory=null,this.computeAreaEnv=null,this.splitPt=null,this.tolerance=null;var t=arguments[0],e=arguments[1];this.initialVertices=new b(t),this.tolerance=e,this.kdt=new Io(e)}function Bo(){this.siteCoords=null,this.tolerance=0,this.subdiv=null}function No(){this.siteCoords=null,this.constraintLines=null,this.tolerance=0,this.subdiv=null,this.constraintVertexMap=new rt}function ko(){this.siteCoords=null,this.tolerance=0,this.subdiv=null,this.clipEnv=null,this.diagramEnv=null}function Ro(){}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(null==this)throw new TypeError(this+" is not an object");var e=Object(this),n=Math.max(Math.min(e.length,9007199254740991),0)||0,i=1 in arguments&&parseInt(Number(arguments[1]),10)||0;i=i<0?Math.max(n+i,0):Math.min(i,n);var r=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(r=r<0?Math.max(n+arguments[2],0):Math.min(r,n);i<r;)e[i]=t,++i;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)},e(n.prototype,{interfaces_:function(){return[]},getClass:function(){return n}}),n.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n},r.isNaN=function(t){return Number.isNaN(t)},r.doubleToLongBits=function(t){return t},r.longBitsToDouble=function(t){return t},r.isInfinite=function(t){return!Number.isFinite(t)},r.MAX_VALUE=Number.MAX_VALUE,l.prototype=Object.create(Error.prototype),l.prototype.constructor=Error,c(h,l),e(h.prototype,{interfaces_:function(){return[]},getClass:function(){return h}}),e(f.prototype,{interfaces_:function(){return[]},getClass:function(){return f}}),f.shouldNeverReachHere=function(){if(0===arguments.length)f.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new h("Should never reach here"+(null!==t?": "+t:""))}},f.isTrue=function(){if(1===arguments.length){var t=arguments[0];f.isTrue(t,null)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!e)throw null===n?new h:new h(n)}},f.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];f.equals(t,e,null)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];if(!i.equals(n))throw new h("Expected "+n+" but encountered "+i+(null!==r?": "+r:""))}},e(d.prototype,{setOrdinate:function(t,e){switch(t){case d.X:this.x=e;break;case d.Y:this.y=e;break;case d.Z:this.z=e;break;default:throw new i("Invalid ordinate index: "+t)}},equals2D:function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],i=arguments[1];return!!n.equalsWithTolerance(this.x,e.x,i)&&!!n.equalsWithTolerance(this.y,e.y,i)}},getOrdinate:function(t){switch(t){case d.X:return this.x;case d.Y:return this.y;case d.Z:return this.z}throw new i("Invalid ordinate index: "+t)},equals3D:function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||r.isNaN(this.z)&&r.isNaN(t.z))},equals:function(t){return t instanceof d&&this.equals2D(t)},equalInZ:function(t,e){return n.equalsWithTolerance(this.z,t.z,e)},compareTo:function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0},clone:function(){try{var t=null;return null}catch(t){if(t instanceof CloneNotSupportedException)return f.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw t}},copy:function(){return new d(this)},toString:function(){return"("+this.x+", "+this.y+", "+this.z+")"},distance3D:function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return Math.sqrt(e*e+n*n+i*i)},distance:function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},hashCode:function(){var t=17;return 37*(t=37*t+d.hashCode(this.x))+d.hashCode(this.y)},setCoordinate:function(t){this.x=t.x,this.y=t.y,this.z=t.z},interfaces_:function(){return[o,s,u]},getClass:function(){return d}}),d.hashCode=function(){if(1===arguments.length){var t=arguments[0],e=r.doubleToLongBits(t);return Math.trunc(e^e>>>32)}},e(p.prototype,{compare:function(t,e){var n=t,i=e,r=p.compare(n.x,i.x);if(0!==r)return r;var o=p.compare(n.y,i.y);return 0!==o?o:this.dimensionsToTest<=2?0:p.compare(n.z,i.z)},interfaces_:function(){return[a]},getClass:function(){return p}}),p.compare=function(t,e){return t<e?-1:t>e?1:r.isNaN(t)?r.isNaN(e)?0:-1:r.isNaN(e)?1:0},d.DimensionalComparator=p,d.serialVersionUID=0x5cbf2c235c7e5800,d.NULL_ORDINATE=r.NaN,d.X=0,d.Y=1,d.Z=2,g.prototype.hasNext=function(){},g.prototype.next=function(){},g.prototype.remove=function(){},v.prototype.add=function(){},v.prototype.addAll=function(){},v.prototype.isEmpty=function(){},v.prototype.iterator=function(){},v.prototype.size=function(){},v.prototype.toArray=function(){},v.prototype.remove=function(){},m.prototype=new Error,m.prototype.name="IndexOutOfBoundsException",y.prototype=Object.create(v.prototype),y.prototype.constructor=y,y.prototype.get=function(){},y.prototype.set=function(){},y.prototype.isEmpty=function(){},x.prototype=new Error,x.prototype.name="NoSuchElementException",E.prototype=new Error,E.prototype.name="OperationNotSupported",b.prototype=Object.create(y.prototype),b.prototype.constructor=b,b.prototype.ensureCapacity=function(){},b.prototype.interfaces_=function(){return[y,v]},b.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},b.prototype.clear=function(){this.array_=[]},b.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},b.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},b.prototype.iterator=function(){return new jo(this)},b.prototype.get=function(t){if(t<0||t>=this.size())throw new m;return this.array_[t]},b.prototype.isEmpty=function(){return 0===this.array_.length},b.prototype.size=function(){return this.array_.length},b.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},b.prototype.remove=function(t){for(var e=!1,n=0,i=this.array_.length;n<i;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e};var jo=function(t){this.arrayList_=t,this.position_=0};jo.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new x;return this.arrayList_.get(this.position_++)},jo.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},jo.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},jo.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},c(C,b),e(C.prototype,{getCoordinate:function(t){return this.get(t)},addAll:function(){if(2===arguments.length){for(var t=arguments[0],e=arguments[1],n=!1,i=t.iterator();i.hasNext();)this.add(i.next(),e),n=!0;return n}return b.prototype.addAll.apply(this,arguments)},clone:function(){for(var t=b.prototype.clone.call(this),e=0;e<this.size();e++)t.add(e,this.get(e).copy());return t},toCoordinateArray:function(){return this.toArray(C.coordArrayType)},add:function(){if(1===arguments.length){var t=arguments[0];b.prototype.add.call(this,t)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var e=arguments[0],n=arguments[1];return this.add(e,n,!0),!0}if(arguments[0]instanceof d&&"boolean"==typeof arguments[1]){var i=arguments[0],r=arguments[1];if(!r&&this.size()>=1){var o=this.get(this.size()-1);if(o.equals2D(i))return null}b.prototype.add.call(this,i)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var s=arguments[0],a=arguments[1];return this.add(s,a),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var u=arguments[0],l=arguments[1],c=arguments[2];if(c)for(var h=0;h<u.length;h++)this.add(u[h],l);else for(h=u.length-1;h>=0;h--)this.add(u[h],l);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof d){var f=arguments[0],p=arguments[1],g=arguments[2];if(!g){var v=this.size();if(v>0){if(f>0){var m=this.get(f-1);if(m.equals2D(p))return null}if(f<v){var y=this.get(f);if(y.equals2D(p))return null}}}b.prototype.add.call(this,f,p)}}else if(4===arguments.length){var x=arguments[0],E=arguments[1],C=arguments[2],w=arguments[3],_=1;for(C>w&&(_=-1),h=C;h!==w;h+=_)this.add(x[h],E);return!0}},closeRing:function(){this.size()>0&&this.add(new d(this.get(0)),!1)},interfaces_:function(){return[]},getClass:function(){return C}}),C.coordArrayType=new Array(0).fill(null),e(w.prototype,{getArea:function(){return this.getWidth()*this.getHeight()},equals:function(t){if(!(t instanceof w))return!1;var e=t;return this.isNull()?e.isNull():this.maxx===e.getMaxX()&&this.maxy===e.getMaxY()&&this.minx===e.getMinX()&&this.miny===e.getMinY()},intersection:function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new w;var e=this.minx>t.minx?this.minx:t.minx,n=this.miny>t.miny?this.miny:t.miny;return new w(e,this.maxx<t.maxx?this.maxx:t.maxx,n,this.maxy<t.maxy?this.maxy:t.maxy)},isNull:function(){return this.maxx<this.minx},getMaxX:function(){return this.maxx},covers:function(){if(1===arguments.length){if(arguments[0]instanceof d){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof w){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this.minx&&e.getMaxX()<=this.maxx&&e.getMinY()>=this.miny&&e.getMaxY()<=this.maxy}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return!this.isNull()&&n>=this.minx&&n<=this.maxx&&i>=this.miny&&i<=this.maxy}},intersects:function(){if(1===arguments.length){if(arguments[0]instanceof w){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t.minx>this.maxx||t.maxx<this.minx||t.miny>this.maxy||t.maxy<this.miny)}if(arguments[0]instanceof d){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return!this.isNull()&&!(n>this.maxx||n<this.minx||i>this.maxy||i<this.miny)}},getMinY:function(){return this.miny},getMinX:function(){return this.minx},expandToInclude:function(){if(1===arguments.length){if(arguments[0]instanceof d){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof w){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this.minx=e.getMinX(),this.maxx=e.getMaxX(),this.miny=e.getMinY(),this.maxy=e.getMaxY()):(e.minx<this.minx&&(this.minx=e.minx),e.maxx>this.maxx&&(this.maxx=e.maxx),e.miny<this.miny&&(this.miny=e.miny),e.maxy>this.maxy&&(this.maxy=e.maxy))}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.isNull()?(this.minx=n,this.maxx=n,this.miny=i,this.maxy=i):(n<this.minx&&(this.minx=n),n>this.maxx&&(this.maxx=n),i<this.miny&&(this.miny=i),i>this.maxy&&(this.maxy=i))}},minExtent:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},getWidth:function(){return this.isNull()?0:this.maxx-this.minx},compareTo:function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this.minx<e.minx?-1:this.minx>e.minx?1:this.miny<e.miny?-1:this.miny>e.miny?1:this.maxx<e.maxx?-1:this.maxx>e.maxx?1:this.maxy<e.maxy?-1:this.maxy>e.maxy?1:0},translate:function(t,e){return this.isNull()?null:void this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},toString:function(){return"Env["+this.minx+" : "+this.maxx+", "+this.miny+" : "+this.maxy+"]"},setToNull:function(){this.minx=0,this.maxx=-1,this.miny=0,this.maxy=-1},getHeight:function(){return this.isNull()?0:this.maxy-this.miny},maxExtent:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},expandBy:function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this.minx-=e,this.maxx+=e,this.miny-=n,this.maxy+=n,(this.minx>this.maxx||this.miny>this.maxy)&&this.setToNull()}},contains:function(){if(1===arguments.length){if(arguments[0]instanceof w){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof d){var e=arguments[0];return this.covers(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return this.covers(n,i)}},centre:function(){return this.isNull()?null:new d((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},init:function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof d){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof w){var e=arguments[0];this.minx=e.minx,this.maxx=e.maxx,this.miny=e.miny,this.maxy=e.maxy}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.init(n.x,i.x,n.y,i.y)}else if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];r<o?(this.minx=r,this.maxx=o):(this.minx=o,this.maxx=r),s<a?(this.miny=s,this.maxy=a):(this.miny=a,this.maxy=s)}},getMaxY:function(){return this.maxy},distance:function(t){if(this.intersects(t))return 0;var e=0;this.maxx<t.minx?e=t.minx-this.maxx:this.minx>t.maxx&&(e=this.minx-t.maxx);var n=0;return this.maxy<t.miny?n=t.miny-this.maxy:this.miny>t.maxy&&(n=this.miny-t.maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)},hashCode:function(){var t=17;return 37*(t=37*(t=37*(t=37*t+d.hashCode(this.minx))+d.hashCode(this.maxx))+d.hashCode(this.miny))+d.hashCode(this.maxy)},interfaces_:function(){return[o,u]},getClass:function(){return w}}),w.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3],a=Math.min(o.x,s.x),u=Math.max(o.x,s.x),l=Math.min(i.x,r.x),c=Math.max(i.x,r.x);return!(l>u||c<a||(a=Math.min(o.y,s.y),u=Math.max(o.y,s.y),l=Math.min(i.y,r.y),c=Math.max(i.y,r.y),l>u||c<a))}},w.serialVersionUID=0x51845cd552189800,c(A,_),e(A.prototype,{interfaces_:function(){return[]},getClass:function(){return A}}),e(S.prototype,{interfaces_:function(){return[]},getClass:function(){return S}}),S.toLocationSymbol=function(t){switch(t){case S.EXTERIOR:return"e";case S.BOUNDARY:return"b";case S.INTERIOR:return"i";case S.NONE:return"-"}throw new i("Unknown location value: "+t)},S.INTERIOR=0,S.BOUNDARY=1,S.EXTERIOR=2,S.NONE=-1,e(L.prototype,{interfaces_:function(){return[]},getClass:function(){return L}}),L.log10=function(t){var e=Math.log(t);return r.isInfinite(e)||r.isNaN(e)?e:e/L.LOG_10},L.min=function(t,e,n,i){var r=t;return e<r&&(r=e),n<r&&(r=n),i<r&&(r=i),r},L.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var i=arguments[0],r=arguments[1],o=arguments[2];return i<r?r:i>o?o:i}},L.wrap=function(t,e){return t<0?e- -t%e:t%e},L.max=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return e>(i=t)&&(i=e),n>i&&(i=n),i}if(4===arguments.length){var i,r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];return o>(i=r)&&(i=o),s>i&&(i=s),a>i&&(i=a),i}},L.average=function(t,e){return(t+e)/2},L.LOG_10=Math.log(10),F.prototype.append=function(t){this.str+=t},F.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},F.prototype.toString=function(t){return this.str},T.prototype.intValue=function(){return this.value},T.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},T.isNaN=function(t){return Number.isNaN(t)},M.isWhitespace=function(t){return t<=32&&t>=0||127==t},M.toUpperCase=function(t){return t.toUpperCase()},e(I.prototype,{le:function(t){return this.hi<t.hi||this.hi===t.hi&&this.lo<=t.lo},extractSignificantDigits:function(t,e){var n=this.abs(),i=I.magnitude(n.hi),r=I.TEN.pow(i);(n=n.divide(r)).gt(I.TEN)?(n=n.divide(I.TEN),i+=1):n.lt(I.ONE)&&(n=n.multiply(I.TEN),i-=1);for(var o=i+1,s=new F,a=I.MAX_PRINT_DIGITS-1,u=0;u<=a;u++){t&&u===o&&s.append(".");var l=Math.trunc(n.hi);if(l<0)break;var c=!1,h=0;l>9?(c=!0,h="9"):h="0"+l,s.append(h),n=n.subtract(I.valueOf(l)).multiply(I.TEN),c&&n.selfAdd(I.TEN);var f=!0,d=I.magnitude(n.hi);if(d<0&&Math.abs(d)>=a-u&&(f=!1),!f)break}return e[0]=i,s.toString()},sqr:function(){return this.multiply(this)},doubleValue:function(){return this.hi+this.lo},subtract:function(){if(arguments[0]instanceof I){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var e=arguments[0];return this.add(-e)}},equals:function(){if(1===arguments.length){var t=arguments[0];return this.hi===t.hi&&this.lo===t.lo}},isZero:function(){return 0===this.hi&&0===this.lo},selfSubtract:function(){if(arguments[0]instanceof I){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t.hi,-t.lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},getSpecialNumberString:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},min:function(t){return this.le(t)?this:t},selfDivide:function(){if(1===arguments.length){if(arguments[0]instanceof I){var t=arguments[0];return this.selfDivide(t.hi,t.lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1],r=null,o=null,s=null,a=null,u=null,l=null,c=null,h=null;return u=this.hi/n,h=(r=(l=I.SPLIT*u)-(r=l-u))*(s=(h=I.SPLIT*n)-(s=h-n))-(c=u*n)+r*(a=n-s)+(o=u-r)*s+o*a,h=u+(l=(this.hi-c-h+this.lo-u*i)/n),this.hi=h,this.lo=u-h+l,this}},dump:function(){return"DD<"+this.hi+", "+this.lo+">"},divide:function(){if(arguments[0]instanceof I){var t=arguments[0],e=null,n=null,i=null,o=null,s=null,a=null,u=null,l=null;n=(s=this.hi/t.hi)-(e=(a=I.SPLIT*s)-(e=a-s)),l=e*(i=(l=I.SPLIT*t.hi)-(i=l-t.hi))-(u=s*t.hi)+e*(o=t.hi-i)+n*i+n*o;var c=l=s+(a=(this.hi-u-l+this.lo-s*t.lo)/t.hi),h=s-l+a;return new I(c,h)}if("number"==typeof arguments[0]){var f=arguments[0];return r.isNaN(f)?I.createNaN():I.copy(this).selfDivide(f,0)}},ge:function(t){return this.hi>t.hi||this.hi===t.hi&&this.lo>=t.lo},pow:function(t){if(0===t)return I.valueOf(1);var e=new I(this),n=I.valueOf(1),i=Math.abs(t);if(i>1)for(;i>0;)i%2==1&&n.selfMultiply(e),(i/=2)>0&&(e=e.sqr());else n=e;return t<0?n.reciprocal():n},ceil:function(){if(this.isNaN())return I.NaN;var t=Math.ceil(this.hi),e=0;return t===this.hi&&(e=Math.ceil(this.lo)),new I(t,e)},compareTo:function(t){var e=t;return this.hi<e.hi?-1:this.hi>e.hi?1:this.lo<e.lo?-1:this.lo>e.lo?1:0},rint:function(){return this.isNaN()?this:this.add(.5).floor()},setValue:function(){if(arguments[0]instanceof I){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var e=arguments[0];return this.init(e),this}},max:function(t){return this.ge(t)?this:t},sqrt:function(){if(this.isZero())return I.valueOf(0);if(this.isNegative())return I.NaN;var t=1/Math.sqrt(this.hi),e=this.hi*t,n=I.valueOf(e),i=this.subtract(n.sqr()).hi*(.5*t);return n.add(i)},selfAdd:function(){if(1===arguments.length){if(arguments[0]instanceof I){var t=arguments[0];return this.selfAdd(t.hi,t.lo)}if("number"==typeof arguments[0]){var e=arguments[0],n=null,i=null,r=null,o=null,s=null,a=null;return o=(r=this.hi+e)-(s=r-this.hi),i=(a=(o=e-s+(this.hi-o))+this.lo)+(r-(n=r+a)),this.hi=n+i,this.lo=i+(n-this.hi),this}}else if(2===arguments.length){var u=arguments[0],l=arguments[1],c=(n=null,i=null,null),h=null;r=null,o=null,s=null,a=null,r=this.hi+u,c=this.lo+l,o=r-(s=r-this.hi),h=c-(a=c-this.lo);var f=(n=r+(s=(o=u-s+(this.hi-o))+c))+(s=(h=l-a+(this.lo-h))+(i=s+(r-n))),d=s+(n-f);return this.hi=f,this.lo=d,this}},selfMultiply:function(){if(1===arguments.length){if(arguments[0]instanceof I){var t=arguments[0];return this.selfMultiply(t.hi,t.lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1],r=null,o=null,s=null,a=null,u=null,l=null;r=(u=I.SPLIT*this.hi)-this.hi,l=I.SPLIT*n,r=u-r,o=this.hi-r,s=l-n;var c=(u=this.hi*n)+(l=r*(s=l-s)-u+r*(a=n-s)+o*s+o*a+(this.hi*i+this.lo*n)),h=l+(r=u-c);return this.hi=c,this.lo=h,this}},selfSqr:function(){return this.selfMultiply(this)},floor:function(){if(this.isNaN())return I.NaN;var t=Math.floor(this.hi),e=0;return t===this.hi&&(e=Math.floor(this.lo)),new I(t,e)},negate:function(){return this.isNaN()?this:new I(-this.hi,-this.lo)},clone:function(){try{return null}catch(t){if(t instanceof CloneNotSupportedException)return null;throw t}},multiply:function(){if(arguments[0]instanceof I){var t=arguments[0];return t.isNaN()?I.createNaN():I.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return r.isNaN(e)?I.createNaN():I.copy(this).selfMultiply(e,0)}},isNaN:function(){return r.isNaN(this.hi)},intValue:function(){return Math.trunc(this.hi)},toString:function(){var t=I.magnitude(this.hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},toStandardNotation:function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),i=e[0]+1,r=n;if("."===n.charAt(0))r="0"+n;else if(i<0)r="0."+I.stringOfChar("0",-i)+n;else if(-1===n.indexOf(".")){var o=i-n.length;r=n+I.stringOfChar("0",o)+".0"}return this.isNegative()?"-"+r:r},reciprocal:function(){var t,e,n,i,r=null,o=null,s=null,a=null;t=(n=1/this.hi)-(r=(s=I.SPLIT*n)-(r=s-n)),o=(a=I.SPLIT*this.hi)-this.hi;var u=n+(s=(1-(i=n*this.hi)-(a=r*(o=a-o)-i+r*(e=this.hi-o)+t*o+t*e)-n*this.lo)/this.hi);return new I(u,n-u+s)},toSciNotation:function(){if(this.isZero())return I.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),i=I.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===n.charAt(0))throw new IllegalStateException("Found leading zero: "+n);var r="";n.length>1&&(r=n.substring(1));var o=n.charAt(0)+"."+r;return this.isNegative()?"-"+o+i:o+i},abs:function(){return this.isNaN()?I.NaN:this.isNegative()?this.negate():new I(this)},isPositive:function(){return this.hi>0||0===this.hi&&this.lo>0},lt:function(t){return this.hi<t.hi||this.hi===t.hi&&this.lo<t.lo},add:function(){if(arguments[0]instanceof I){var t=arguments[0];return I.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return I.copy(this).selfAdd(e)}},init:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this.hi=t,this.lo=0}else if(arguments[0]instanceof I){var e=arguments[0];this.hi=e.hi,this.lo=e.lo}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.hi=n,this.lo=i}},gt:function(t){return this.hi>t.hi||this.hi===t.hi&&this.lo>t.lo},isNegative:function(){return this.hi<0||0===this.hi&&this.lo<0},trunc:function(){return this.isNaN()?I.NaN:this.isPositive()?this.floor():this.ceil()},signum:function(){return this.hi>0?1:this.hi<0?-1:this.lo>0?1:this.lo<0?-1:0},interfaces_:function(){return[u,o,s]},getClass:function(){return I}}),I.sqr=function(t){return I.valueOf(t).selfMultiply(t)},I.valueOf=function(){if("string"==typeof arguments[0]){var t=arguments[0];return I.parse(t)}if("number"==typeof arguments[0]){var e=arguments[0];return new I(e)}},I.sqrt=function(t){return I.valueOf(t).sqrt()},I.parse=function(t){for(var e=0,n=t.length;M.isWhitespace(t.charAt(e));)e++;var i=!1;if(e<n){var r=t.charAt(e);"-"!==r&&"+"!==r||(e++,"-"===r&&(i=!0))}for(var o=new I,s=0,a=0,u=0;!(e>=n);){var l=t.charAt(e);if(e++,M.isDigit(l)){var c=l-"0";o.selfMultiply(I.TEN),o.selfAdd(c),s++}else{if("."!==l){if("e"===l||"E"===l){var h=t.substring(e);try{u=T.parseInt(h)}catch(e){throw e instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+h+" in string "+t):e}break}throw new NumberFormatException("Unexpected character '"+l+"' at position "+e+" in string "+t)}a=s}}var f=o,d=s-a-u;if(0===d)f=o;else if(d>0){var p=I.TEN.pow(d);f=o.divide(p)}else d<0&&(p=I.TEN.pow(-d),f=o.multiply(p));return i?f.negate():f},I.createNaN=function(){return new I(r.NaN,r.NaN)},I.copy=function(t){return new I(t)},I.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),i=Math.trunc(Math.floor(n));return 10*Math.pow(10,i)<=e&&(i+=1),i},I.stringOfChar=function(t,e){for(var n=new F,i=0;i<e;i++)n.append(t);return n.toString()},I.PI=new I(3.141592653589793,12246467991473532e-32),I.TWO_PI=new I(6.283185307179586,24492935982947064e-32),I.PI_2=new I(1.5707963267948966,6123233995736766e-32),I.E=new I(2.718281828459045,14456468917292502e-32),I.NaN=new I(r.NaN,r.NaN),I.EPS=123259516440783e-46,I.SPLIT=134217729,I.MAX_PRINT_DIGITS=32,I.TEN=I.valueOf(10),I.ONE=I.valueOf(1),I.SCI_NOT_EXPONENT_CHAR="E",I.SCI_NOT_ZERO="0.0E0",e(P.prototype,{interfaces_:function(){return[]},getClass:function(){return P}}),P.orientationIndex=function(t,e,n){var i=P.orientationIndexFilter(t,e,n);if(i<=1)return i;var r=I.valueOf(e.x).selfAdd(-t.x),o=I.valueOf(e.y).selfAdd(-t.y),s=I.valueOf(n.x).selfAdd(-e.x),a=I.valueOf(n.y).selfAdd(-e.y);return r.selfMultiply(a).selfSubtract(o.selfMultiply(s)).signum()},P.signOfDet2x2=function(t,e,n,i){return t.multiply(i).selfSubtract(e.multiply(n)).signum()},P.intersection=function(t,e,n,i){var r=I.valueOf(i.y).selfSubtract(n.y).selfMultiply(I.valueOf(e.x).selfSubtract(t.x)),o=I.valueOf(i.x).selfSubtract(n.x).selfMultiply(I.valueOf(e.y).selfSubtract(t.y)),s=r.subtract(o),a=I.valueOf(i.x).selfSubtract(n.x).selfMultiply(I.valueOf(t.y).selfSubtract(n.y)),u=I.valueOf(i.y).selfSubtract(n.y).selfMultiply(I.valueOf(t.x).selfSubtract(n.x)),l=a.subtract(u).selfDivide(s).doubleValue(),c=I.valueOf(t.x).selfAdd(I.valueOf(e.x).selfSubtract(t.x).selfMultiply(l)).doubleValue(),h=I.valueOf(e.x).selfSubtract(t.x).selfMultiply(I.valueOf(t.y).selfSubtract(n.y)),f=I.valueOf(e.y).selfSubtract(t.y).selfMultiply(I.valueOf(t.x).selfSubtract(n.x)),p=h.subtract(f).selfDivide(s).doubleValue();return new d(c,I.valueOf(n.y).selfAdd(I.valueOf(i.y).selfSubtract(n.y).selfMultiply(p)).doubleValue())},P.orientationIndexFilter=function(t,e,n){var i=null,r=(t.x-n.x)*(e.y-n.y),o=(t.y-n.y)*(e.x-n.x),s=r-o;if(r>0){if(o<=0)return P.signum(s);i=r+o}else{if(!(r<0))return P.signum(s);if(o>=0)return P.signum(s);i=-r-o}var a=P.DP_SAFE_EPSILON*i;return s>=a||-s>=a?P.signum(s):2},P.signum=function(t){return t>0?1:t<0?-1:0},P.DP_SAFE_EPSILON=1e-15,e(O.prototype,{setOrdinate:function(t,e,n){},size:function(){},getOrdinate:function(t,e){},getCoordinate:function(){1===arguments.length?arguments[0]:2===arguments.length&&(arguments[0],arguments[1])},getCoordinateCopy:function(t){},getDimension:function(){},getX:function(t){},clone:function(){},expandEnvelope:function(t){},copy:function(){},getY:function(t){},toCoordinateArray:function(){},interfaces_:function(){return[s]},getClass:function(){return O}}),O.X=0,O.Y=1,O.Z=2,O.M=3,B.arraycopy=function(t,e,n,i,r){for(var o=0,s=e;s<e+r;s++)n[i+o]=t[s],o++},B.getProperty=function(t){return{"line.separator":"\n"}[t]},e(N.prototype,{getY:function(){var t=this.y/this.w;if(r.isNaN(t)||r.isInfinite(t))throw new A;return t},getX:function(){var t=this.x/this.w;if(r.isNaN(t)||r.isInfinite(t))throw new A;return t},getCoordinate:function(){var t=new d;return t.x=this.getX(),t.y=this.getY(),t},interfaces_:function(){return[]},getClass:function(){return N}}),N.intersection=function(t,e,n,i){var o=t.y-e.y,s=e.x-t.x,a=t.x*e.y-e.x*t.y,u=n.y-i.y,l=i.x-n.x,c=n.x*i.y-i.x*n.y,h=o*l-u*s,f=(s*c-l*a)/h,p=(u*a-o*c)/h;if(r.isNaN(f)||r.isInfinite(f)||r.isNaN(p)||r.isInfinite(p))throw new A;return new d(f,p)},e(k.prototype,{create:function(){1===arguments.length?(arguments[0]instanceof Array||D(arguments[0],O))&&arguments[0]:2===arguments.length&&(arguments[0],arguments[1])},interfaces_:function(){return[]},getClass:function(){return k}}),e(R.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return R}}),e(j.prototype,{isGeometryCollection:function(){return this.getSortIndex()===j.SORTINDEX_GEOMETRYCOLLECTION},getFactory:function(){return this.factory},getGeometryN:function(t){return this},getArea:function(){return 0},isRectangle:function(){return!1},equals:function(){if(1===arguments.length){if(arguments[0]instanceof j){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof j))return!1;var n=e;return this.equalsExact(n)}}},equalsExact:function(t){return this===t||this.equalsExact(t,0)},geometryChanged:function(){this.apply(j.geometryChangedFilter)},geometryChangedAction:function(){this.envelope=null},equalsNorm:function(t){return null!==t&&this.norm().equalsExact(t.norm())},getLength:function(){return 0},getNumGeometries:function(){return 1},compareTo:function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],i=arguments[1];return e=n,this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(n,i)}},getUserData:function(){return this.userData},getSRID:function(){return this.SRID},getEnvelope:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},checkNotGeometryCollection:function(t){if(t.getSortIndex()===j.SORTINDEX_GEOMETRYCOLLECTION)throw new i("This method does not support GeometryCollection arguments")},equal:function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},norm:function(){var t=this.copy();return t.normalize(),t},getPrecisionModel:function(){return this.factory.getPrecisionModel()},getEnvelopeInternal:function(){return null===this.envelope&&(this.envelope=this.computeEnvelopeInternal()),new w(this.envelope)},setSRID:function(t){this.SRID=t},setUserData:function(t){this.userData=t},compare:function(t,e){for(var n=t.iterator(),i=e.iterator();n.hasNext()&&i.hasNext();){var r=n.next(),o=i.next(),s=r.compareTo(o);if(0!==s)return s}return n.hasNext()?1:i.hasNext()?-1:0},hashCode:function(){return this.getEnvelopeInternal().hashCode()},isGeometryCollectionOrDerived:function(){return this.getSortIndex()===j.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===j.SORTINDEX_MULTIPOINT||this.getSortIndex()===j.SORTINDEX_MULTILINESTRING||this.getSortIndex()===j.SORTINDEX_MULTIPOLYGON},interfaces_:function(){return[s,o,u]},getClass:function(){return j}}),j.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},j.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},j.serialVersionUID=0x799ea46522854c00,j.SORTINDEX_POINT=0,j.SORTINDEX_MULTIPOINT=1,j.SORTINDEX_LINESTRING=2,j.SORTINDEX_LINEARRING=3,j.SORTINDEX_MULTILINESTRING=4,j.SORTINDEX_POLYGON=5,j.SORTINDEX_MULTIPOLYGON=6,j.SORTINDEX_GEOMETRYCOLLECTION=7,j.geometryChangedFilter={interfaces_:function(){return[R]},filter:function(t){t.geometryChangedAction()}},e(V.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return V}}),e(G.prototype,{isInBoundary:function(t){},interfaces_:function(){return[]},getClass:function(){return G}}),e(z.prototype,{isInBoundary:function(t){return t%2==1},interfaces_:function(){return[G]},getClass:function(){return z}}),e(q.prototype,{isInBoundary:function(t){return t>0},interfaces_:function(){return[G]},getClass:function(){return q}}),e(U.prototype,{isInBoundary:function(t){return t>1},interfaces_:function(){return[G]},getClass:function(){return U}}),e(X.prototype,{isInBoundary:function(t){return 1===t},interfaces_:function(){return[G]},getClass:function(){return X}}),G.Mod2BoundaryNodeRule=z,G.EndPointBoundaryNodeRule=q,G.MultiValentEndPointBoundaryNodeRule=U,G.MonoValentEndPointBoundaryNodeRule=X,G.MOD2_BOUNDARY_RULE=new z,G.ENDPOINT_BOUNDARY_RULE=new q,G.MULTIVALENT_ENDPOINT_BOUNDARY_RULE=new U,G.MONOVALENT_ENDPOINT_BOUNDARY_RULE=new X,G.OGC_SFS_BOUNDARY_RULE=G.MOD2_BOUNDARY_RULE,e(H.prototype,{interfaces_:function(){return[]},getClass:function(){return H}}),H.isRing=function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))},H.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(H.indexOf(i,e)<0)return i}return null},H.scroll=function(t,e){var n=H.indexOf(e,t);if(n<0)return null;var i=new Array(t.length).fill(null);B.arraycopy(t,n,i,0,t.length-n),B.arraycopy(t,0,i,t.length-n,n),B.arraycopy(i,0,t,0,t.length)},H.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];if(i===r)return!0;if(null===i||null===r)return!1;if(i.length!==r.length)return!1;for(n=0;n<i.length;n++)if(0!==o.compare(i[n],r[n]))return!1;return!0}},H.intersection=function(t,e){for(var n=new C,i=0;i<t.length;i++)e.intersects(t[i])&&n.add(t[i],!0);return n.toCoordinateArray()},H.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},H.removeRepeatedPoints=function(t){return H.hasRepeatedPoints(t)?new C(t,!1).toCoordinateArray():t},H.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),i=0;i<=n;i++){var r=t[i];t[i]=t[e-i],t[e-i]=r}},H.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var i=new Array(e).fill(null);if(0===e)return i;var r=0;for(n=0;n<t.length;n++)null!==t[n]&&(i[r++]=t[n]);return i},H.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new d(t[n]);return e}if(5===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4];for(n=0;n<a;n++)o[s+n]=new d(i[r+n])}},H.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=e[t.length-n-1];if(0!==i.compareTo(r))return!1}return!0},H.envelope=function(t){for(var e=new w,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},H.toCoordinateArray=function(t){return t.toArray(H.coordArrayType)},H.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},H.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},H.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t.length-1-e,i=t[e].compareTo(t[n]);if(0!==i)return i}return 1},H.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var i=t[n].compareTo(e[n]);if(0!==i)return i;n++}return n<e.length?-1:n<t.length?1:0},H.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e},H.extract=function(t,e,n){e=L.clamp(e,0,t.length);var i=(n=L.clamp(n,-1,t.length))-e+1;n<0&&(i=0),e>=t.length&&(i=0),n<e&&(i=0);var r=new Array(i).fill(null);if(0===i)return r;for(var o=0,s=e;s<=n;s++)r[o++]=t[s];return r},e(Y.prototype,{compare:function(t,e){var n=t,i=e;return H.compare(n,i)},interfaces_:function(){return[a]},getClass:function(){return Y}}),e(W.prototype,{compare:function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;var r=H.compare(n,i);return H.isEqualReversed(n,i)?0:r},OLDcompare:function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;for(var r=H.increasingDirection(n),o=H.increasingDirection(i),s=r>0?0:n.length-1,a=o>0?0:n.length-1,u=0;u<n.length;u++){var l=n[s].compareTo(i[a]);if(0!==l)return l;s+=r,a+=o}return 0},interfaces_:function(){return[a]},getClass:function(){return W}}),H.ForwardComparator=Y,H.BidirectionalComparator=W,H.coordArrayType=new Array(0).fill(null),J.prototype.get=function(){},J.prototype.put=function(){},J.prototype.size=function(){},J.prototype.values=function(){},J.prototype.entrySet=function(){},K.prototype=new J,Z.prototype=new v,Z.prototype.contains=function(){},$.prototype=new Z,$.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(this.array_[e]===t)return!0;return!1},$.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},$.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},$.prototype.remove=function(t){throw new javascript.util.OperationNotSupported},$.prototype.size=function(){return this.array_.length},$.prototype.isEmpty=function(){return 0===this.array_.length},$.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},$.prototype.iterator=function(){return new Vo(this)};var Vo=function(t){this.hashSet_=t,this.position_=0};Vo.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new x;return this.hashSet_.array_[this.position_++]},Vo.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},Vo.prototype.remove=function(){throw new E};var Go=0;rt.prototype=new K,rt.prototype.get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null},rt.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:Go,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,i,r=this.root_;do{if(n=r,(i=t.compareTo(r.key))<0)r=r.left;else{if(!(i>0)){var o=r.value;return r.value=e,o}r=r.right}}while(null!==r);var s={key:t,left:null,right:null,value:e,parent:n,color:Go,getValue:function(){return this.value},getKey:function(){return this.key}};return i<0?n.left=s:n.right=s,this.fixAfterInsertion(s),this.size_++,null},rt.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!=this.root_&&1==t.parent.color;)if(tt(t)==nt(tt(tt(t))))1==Q(e=it(tt(tt(t))))?(et(tt(t),Go),et(e,Go),et(tt(tt(t)),1),t=tt(tt(t))):(t==it(tt(t))&&(t=tt(t),this.rotateLeft(t)),et(tt(t),Go),et(tt(tt(t)),1),this.rotateRight(tt(tt(t))));else{var e;1==Q(e=nt(tt(tt(t))))?(et(tt(t),Go),et(e,Go),et(tt(tt(t)),1),t=tt(tt(t))):(t==nt(tt(t))&&(t=tt(t),this.rotateRight(t)),et(tt(t),Go),et(tt(tt(t)),1),this.rotateLeft(tt(tt(t))))}this.root_.color=Go},rt.prototype.values=function(){var t=new b,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=rt.successor(e));)t.add(e.value);return t},rt.prototype.entrySet=function(){var t=new $,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=rt.successor(e));)t.add(e);return t},rt.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null==t.parent?this.root_=e:t.parent.left==t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},rt.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null==t.parent?this.root_=e:t.parent.right==t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},rt.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},rt.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}e=t.parent;for(var n=t;null!==e&&n===e.right;)n=e,e=e.parent;return e},rt.prototype.size=function(){return this.size_},e(ot.prototype,{interfaces_:function(){return[]},getClass:function(){return ot}}),st.prototype=new Z,at.prototype=new st,at.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},at.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;e<n;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},at.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},at.prototype.remove=function(t){throw new E},at.prototype.size=function(){return this.array_.length},at.prototype.isEmpty=function(){return 0===this.array_.length},at.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},at.prototype.iterator=function(){return new zo(this)};var zo=function(t){this.treeSet_=t,this.position_=0};zo.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new x;return this.treeSet_.array_[this.position_++]},zo.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},zo.prototype.remove=function(){throw new E},ut.sort=function(){var t,e,n,i,r=arguments[0];if(1===arguments.length)return i=function(t,e){return t.compareTo(e)},void r.sort(i);if(2===arguments.length)n=arguments[1],i=function(t,e){return n.compare(t,e)},r.sort(i);else{if(3===arguments.length){(e=r.slice(arguments[1],arguments[2])).sort();var o=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length));for(r.splice(0,r.length),t=0;t<o.length;t++)r.push(o[t]);return}if(4===arguments.length){for(e=r.slice(arguments[1],arguments[2]),n=arguments[3],i=function(t,e){return n.compare(t,e)},e.sort(i),o=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length)),r.splice(0,r.length),t=0;t<o.length;t++)r.push(o[t]);return}}},ut.asList=function(t){for(var e=new b,n=0,i=t.length;n<i;n++)e.add(t[n]);return e},e(lt.prototype,{interfaces_:function(){return[]},getClass:function(){return lt}}),lt.toDimensionSymbol=function(t){switch(t){case lt.FALSE:return lt.SYM_FALSE;case lt.TRUE:return lt.SYM_TRUE;case lt.DONTCARE:return lt.SYM_DONTCARE;case lt.P:return lt.SYM_P;case lt.L:return lt.SYM_L;case lt.A:return lt.SYM_A}throw new i("Unknown dimension value: "+t)},lt.toDimensionValue=function(t){switch(M.toUpperCase(t)){case lt.SYM_FALSE:return lt.FALSE;case lt.SYM_TRUE:return lt.TRUE;case lt.SYM_DONTCARE:return lt.DONTCARE;case lt.SYM_P:return lt.P;case lt.SYM_L:return lt.L;case lt.SYM_A:return lt.A}throw new i("Unknown dimension symbol: "+t)},lt.P=0,lt.L=1,lt.A=2,lt.FALSE=-1,lt.TRUE=-2,lt.DONTCARE=-3,lt.SYM_FALSE="F",lt.SYM_TRUE="T",lt.SYM_DONTCARE="*",lt.SYM_P="0",lt.SYM_L="1",lt.SYM_A="2",e(ct.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return ct}}),e(ht.prototype,{filter:function(t,e){},isDone:function(){},isGeometryChanged:function(){},interfaces_:function(){return[]},getClass:function(){return ht}}),c(ft,j),e(ft.prototype,{computeEnvelopeInternal:function(){for(var t=new w,e=0;e<this.geometries.length;e++)t.expandToInclude(this.geometries[e].getEnvelopeInternal());return t},getGeometryN:function(t){return this.geometries[t]},getSortIndex:function(){return j.SORTINDEX_GEOMETRYCOLLECTION},getCoordinates:function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this.geometries.length;n++)for(var i=this.geometries[n].getCoordinates(),r=0;r<i.length;r++)t[++e]=i[r];return t},getArea:function(){for(var t=0,e=0;e<this.geometries.length;e++)t+=this.geometries[e].getArea();return t},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t;if(this.geometries.length!==n.geometries.length)return!1;for(var i=0;i<this.geometries.length;i++)if(!this.geometries[i].equalsExact(n.geometries[i],e))return!1;return!0}return j.prototype.equalsExact.apply(this,arguments)},normalize:function(){for(var t=0;t<this.geometries.length;t++)this.geometries[t].normalize();ut.sort(this.geometries)},getCoordinate:function(){return this.isEmpty()?null:this.geometries[0].getCoordinate()},getBoundaryDimension:function(){for(var t=lt.FALSE,e=0;e<this.geometries.length;e++)t=Math.max(t,this.geometries[e].getBoundaryDimension());return t},getDimension:function(){for(var t=lt.FALSE,e=0;e<this.geometries.length;e++)t=Math.max(t,this.geometries[e].getDimension());return t},getLength:function(){for(var t=0,e=0;e<this.geometries.length;e++)t+=this.geometries[e].getLength();return t},getNumPoints:function(){for(var t=0,e=0;e<this.geometries.length;e++)t+=this.geometries[e].getNumPoints();return t},getNumGeometries:function(){return this.geometries.length},reverse:function(){for(var t=this.geometries.length,e=new Array(t).fill(null),n=0;n<this.geometries.length;n++)e[n]=this.geometries[n].reverse();return this.getFactory().createGeometryCollection(e)},compareToSameClass:function(){if(1===arguments.length){var t=arguments[0],e=new at(ut.asList(this.geometries)),n=new at(ut.asList(t.geometries));return this.compare(e,n)}if(2===arguments.length){for(var i=arguments[0],r=arguments[1],o=i,s=this.getNumGeometries(),a=o.getNumGeometries(),u=0;u<s&&u<a;){var l=this.getGeometryN(u),c=o.getGeometryN(u),h=l.compareToSameClass(c,r);if(0!==h)return h;u++}return u<s?1:u<a?-1:0}},apply:function(){if(D(arguments[0],V))for(var t=arguments[0],e=0;e<this.geometries.length;e++)this.geometries[e].apply(t);else if(D(arguments[0],ht)){var n=arguments[0];if(0===this.geometries.length)return null;for(e=0;e<this.geometries.length&&(this.geometries[e].apply(n),!n.isDone());e++);n.isGeometryChanged()&&this.geometryChanged()}else if(D(arguments[0],ct)){var i=arguments[0];for(i.filter(this),e=0;e<this.geometries.length;e++)this.geometries[e].apply(i)}else if(D(arguments[0],R)){var r=arguments[0];for(r.filter(this),e=0;e<this.geometries.length;e++)this.geometries[e].apply(r)}},getBoundary:function(){return this.checkNotGeometryCollection(this),f.shouldNeverReachHere(),null},clone:function(){var t=j.prototype.clone.call(this);t.geometries=new Array(this.geometries.length).fill(null);for(var e=0;e<this.geometries.length;e++)t.geometries[e]=this.geometries[e].clone();return t},getGeometryType:function(){return"GeometryCollection"},copy:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this.geometries[e].copy();return new ft(t,this.factory)},isEmpty:function(){for(var t=0;t<this.geometries.length;t++)if(!this.geometries[t].isEmpty())return!1;return!0},interfaces_:function(){return[]},getClass:function(){return ft}}),ft.serialVersionUID=-0x4f07bcb1f857d800,c(dt,ft),e(dt.prototype,{getSortIndex:function(){return j.SORTINDEX_MULTILINESTRING},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&ft.prototype.equalsExact.call(this,t,e)}return ft.prototype.equalsExact.apply(this,arguments)},getBoundaryDimension:function(){return this.isClosed()?lt.FALSE:0},isClosed:function(){if(this.isEmpty())return!1;for(var t=0;t<this.geometries.length;t++)if(!this.geometries[t].isClosed())return!1;return!0},getDimension:function(){return 1},reverse:function(){for(var t=this.geometries.length,e=new Array(t).fill(null),n=0;n<this.geometries.length;n++)e[t-1-n]=this.geometries[n].reverse();return this.getFactory().createMultiLineString(e)},getBoundary:function(){return new pt(this).getBoundary()},getGeometryType:function(){return"MultiLineString"},copy:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this.geometries[e].copy();return new dt(t,this.factory)},interfaces_:function(){return[ot]},getClass:function(){return dt}}),dt.serialVersionUID=0x7155d2ab4afa8000,e(pt.prototype,{boundaryMultiLineString:function(t){if(this.geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this.geomFact.createPoint(e[0]):this.geomFact.createMultiPointFromCoords(e)},getBoundary:function(){return this.geom instanceof wt?this.boundaryLineString(this.geom):this.geom instanceof dt?this.boundaryMultiLineString(this.geom):this.geom.getBoundary()},boundaryLineString:function(t){return this.geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this.bnRule.isInBoundary(2)?t.getStartPoint():this.geomFact.createMultiPoint():this.geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},getEmptyMultiPoint:function(){return this.geomFact.createMultiPoint()},computeBoundaryCoordinates:function(t){var e=new b;this.endpointMap=new rt;for(var n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n);0!==i.getNumPoints()&&(this.addEndpoint(i.getCoordinateN(0)),this.addEndpoint(i.getCoordinateN(i.getNumPoints()-1)))}for(var r=this.endpointMap.entrySet().iterator();r.hasNext();){var o=r.next(),s=o.getValue().count;this.bnRule.isInBoundary(s)&&e.add(o.getKey())}return H.toCoordinateArray(e)},addEndpoint:function(t){var e=this.endpointMap.get(t);null===e&&(e=new gt,this.endpointMap.put(t,e)),e.count++},interfaces_:function(){return[]},getClass:function(){return pt}}),pt.getBoundary=function(){if(1===arguments.length){var t=arguments[0];return new pt(t).getBoundary()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return new pt(e,n).getBoundary()}},e(gt.prototype,{interfaces_:function(){return[]},getClass:function(){return gt}}),e(bt.prototype,{interfaces_:function(){return[]},getClass:function(){return bt}}),bt.chars=function(t,e){for(var n=new Array(e).fill(null),i=0;i<e;i++)n[i]=t;return new String(n)},bt.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new yt,n=new vt(e);return t.printStackTrace(n),e.toString()}if(2===arguments.length){for(var i=arguments[0],r=arguments[1],o="",s=new mt(bt.getStackTrace(i)),a=new Et(s),u=0;u<r;u++)try{o+=a.readLine()+bt.NEWLINE}catch(t){if(!(t instanceof xt))throw t;f.shouldNeverReachHere()}return o}},bt.split=function(t,e){for(var n=e.length,i=new b,r=""+t,o=r.indexOf(e);o>=0;){var s=r.substring(0,o);i.add(s),o=(r=r.substring(o+n)).indexOf(e)}r.length>0&&i.add(r);for(var a=new Array(i.size()).fill(null),u=0;u<a.length;u++)a[u]=i.get(u);return a},bt.toString=function(){if(1===arguments.length){var t=arguments[0];return bt.SIMPLE_ORDINATE_FORMAT.format(t)}},bt.spaces=function(t){return bt.chars(" ",t)},bt.NEWLINE=B.getProperty("line.separator"),bt.SIMPLE_ORDINATE_FORMAT=new function(){}("0.#"),e(Ct.prototype,{interfaces_:function(){return[]},getClass:function(){return Ct}}),Ct.copyCoord=function(t,e,n,i){for(var r=Math.min(t.getDimension(),n.getDimension()),o=0;o<r;o++)n.setOrdinate(i,o,t.getOrdinate(e,o))},Ct.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,O.X)===t.getOrdinate(e-1,O.X)&&t.getOrdinate(0,O.Y)===t.getOrdinate(e-1,O.Y)},Ct.isEqual=function(t,e){var n=t.size();if(n!==e.size())return!1;for(var i=Math.min(t.getDimension(),e.getDimension()),o=0;o<n;o++)for(var s=0;s<i;s++){var a=t.getOrdinate(o,s),u=e.getOrdinate(o,s);if(!(t.getOrdinate(o,s)===e.getOrdinate(o,s)||r.isNaN(a)&&r.isNaN(u)))return!1}return!0},Ct.extend=function(t,e,n){var i=t.create(n,e.getDimension()),r=e.size();if(Ct.copy(e,0,i,0,r),r>0)for(var o=r;o<n;o++)Ct.copy(e,r-1,i,o,1);return i},Ct.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),i=0;i<=n;i++)Ct.swap(t,i,e-i)},Ct.swap=function(t,e,n){if(e===n)return null;for(var i=0;i<t.getDimension();i++){var r=t.getOrdinate(e,i);t.setOrdinate(e,i,t.getOrdinate(n,i)),t.setOrdinate(n,i,r)}},Ct.copy=function(t,e,n,i,r){for(var o=0;o<r;o++)Ct.copyCoord(t,e+o,n,i+o)},Ct.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var n=t.getDimension(),i=new F;i.append("(");for(var r=0;r<e;r++){r>0&&i.append(" ");for(var o=0;o<n;o++)o>0&&i.append(","),i.append(bt.toString(t.getOrdinate(r,o)))}return i.append(")"),i.toString()}},Ct.ensureValidRing=function(t,e){var n=e.size();return 0===n?e:n<=3?Ct.createClosedRing(t,e,4):e.getOrdinate(0,O.X)===e.getOrdinate(n-1,O.X)&&e.getOrdinate(0,O.Y)===e.getOrdinate(n-1,O.Y)?e:Ct.createClosedRing(t,e,n+1)},Ct.createClosedRing=function(t,e,n){var i=t.create(n,e.getDimension()),r=e.size();Ct.copy(e,0,i,0,r);for(var o=r;o<n;o++)Ct.copy(e,0,i,o,1);return i},c(wt,j),e(wt.prototype,{computeEnvelopeInternal:function(){return this.isEmpty()?new w:this.points.expandEnvelope(new w)},isRing:function(){return this.isClosed()&&this.isSimple()},getSortIndex:function(){return j.SORTINDEX_LINESTRING},getCoordinates:function(){return this.points.toCoordinateArray()},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t;if(this.points.size()!==n.points.size())return!1;for(var i=0;i<this.points.size();i++)if(!this.equal(this.points.getCoordinate(i),n.points.getCoordinate(i),e))return!1;return!0}return j.prototype.equalsExact.apply(this,arguments)},normalize:function(){for(var t=0;t<Math.trunc(this.points.size()/2);t++){var e=this.points.size()-1-t;if(!this.points.getCoordinate(t).equals(this.points.getCoordinate(e)))return this.points.getCoordinate(t).compareTo(this.points.getCoordinate(e))>0&&Ct.reverse(this.points),null}},getCoordinate:function(){return this.isEmpty()?null:this.points.getCoordinate(0)},getBoundaryDimension:function(){return this.isClosed()?lt.FALSE:0},isClosed:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},getEndPoint:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},getDimension:function(){return 1},getLength:function(){return Qt.computeLength(this.points)},getNumPoints:function(){return this.points.size()},reverse:function(){var t=this.points.copy();return Ct.reverse(t),this.getFactory().createLineString(t)},compareToSameClass:function(){if(1===arguments.length){for(var t=arguments[0],e=t,n=0,i=0;n<this.points.size()&&i<e.points.size();){var r=this.points.getCoordinate(n).compareTo(e.points.getCoordinate(i));if(0!==r)return r;n++,i++}return n<this.points.size()?1:i<e.points.size()?-1:0}if(2===arguments.length){var o=arguments[0],s=arguments[1];return e=o,s.compare(this.points,e.points)}},apply:function(){if(D(arguments[0],V))for(var t=arguments[0],e=0;e<this.points.size();e++)t.filter(this.points.getCoordinate(e));else if(D(arguments[0],ht)){var n=arguments[0];if(0===this.points.size())return null;for(e=0;e<this.points.size()&&(n.filter(this.points,e),!n.isDone());e++);n.isGeometryChanged()&&this.geometryChanged()}else if(D(arguments[0],ct)){var i=arguments[0];i.filter(this)}else if(D(arguments[0],R)){var r=arguments[0];r.filter(this)}},getBoundary:function(){return new pt(this).getBoundary()},isEquivalentClass:function(t){return t instanceof wt},clone:function(){var t=j.prototype.clone.call(this);return t.points=this.points.clone(),t},getCoordinateN:function(t){return this.points.getCoordinate(t)},getGeometryType:function(){return"LineString"},copy:function(){return new wt(this.points.copy(),this.factory)},getCoordinateSequence:function(){return this.points},isEmpty:function(){return 0===this.points.size()},init:function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new i("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this.points=t},isCoordinate:function(t){for(var e=0;e<this.points.size();e++)if(this.points.getCoordinate(e).equals(t))return!0;return!1},getStartPoint:function(){return this.isEmpty()?null:this.getPointN(0)},getPointN:function(t){return this.getFactory().createPoint(this.points.getCoordinate(t))},interfaces_:function(){return[ot]},getClass:function(){return wt}}),wt.serialVersionUID=0x2b2b51ba435c8e00,e(_t.prototype,{interfaces_:function(){return[]},getClass:function(){return _t}}),c(At,j),e(At.prototype,{computeEnvelopeInternal:function(){if(this.isEmpty())return new w;var t=new w;return t.expandToInclude(this.coordinates.getX(0),this.coordinates.getY(0)),t},getSortIndex:function(){return j.SORTINDEX_POINT},getCoordinates:function(){return this.isEmpty()?[]:[this.getCoordinate()]},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&(!(!this.isEmpty()||!t.isEmpty())||this.isEmpty()===t.isEmpty()&&this.equal(t.getCoordinate(),this.getCoordinate(),e))}return j.prototype.equalsExact.apply(this,arguments)},normalize:function(){},getCoordinate:function(){return 0!==this.coordinates.size()?this.coordinates.getCoordinate(0):null},getBoundaryDimension:function(){return lt.FALSE},getDimension:function(){return 0},getNumPoints:function(){return this.isEmpty()?0:1},reverse:function(){return this.copy()},getX:function(){if(null===this.getCoordinate())throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x},compareToSameClass:function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getCoordinate().compareTo(e.getCoordinate())}if(2===arguments.length){var n=arguments[0],i=arguments[1];return e=n,i.compare(this.coordinates,e.coordinates)}},apply:function(){if(D(arguments[0],V)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(D(arguments[0],ht)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this.coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else if(D(arguments[0],ct)){var n=arguments[0];n.filter(this)}else if(D(arguments[0],R)){var i=arguments[0];i.filter(this)}},getBoundary:function(){return this.getFactory().createGeometryCollection(null)},clone:function(){var t=j.prototype.clone.call(this);return t.coordinates=this.coordinates.clone(),t},getGeometryType:function(){return"Point"},copy:function(){return new At(this.coordinates.copy(),this.factory)},getCoordinateSequence:function(){return this.coordinates},getY:function(){if(null===this.getCoordinate())throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y},isEmpty:function(){return 0===this.coordinates.size()},init:function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),f.isTrue(t.size()<=1),this.coordinates=t},isSimple:function(){return!0},interfaces_:function(){return[_t]},getClass:function(){return At}}),At.serialVersionUID=0x44077bad161cbc00,e(St.prototype,{interfaces_:function(){return[]},getClass:function(){return St}}),c(Dt,j),e(Dt.prototype,{computeEnvelopeInternal:function(){return this.shell.getEnvelopeInternal()},getSortIndex:function(){return j.SORTINDEX_POLYGON},getCoordinates:function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this.shell.getCoordinates(),i=0;i<n.length;i++)t[++e]=n[i];for(var r=0;r<this.holes.length;r++)for(var o=this.holes[r].getCoordinates(),s=0;s<o.length;s++)t[++e]=o[s];return t},getArea:function(){var t=0;t+=Math.abs(Qt.signedArea(this.shell.getCoordinateSequence()));for(var e=0;e<this.holes.length;e++)t-=Math.abs(Qt.signedArea(this.holes[e].getCoordinateSequence()));return t},isRectangle:function(){if(0!==this.getNumInteriorRing())return!1;if(null===this.shell)return!1;if(5!==this.shell.getNumPoints())return!1;for(var t=this.shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){if((o=t.getX(n))!==e.getMinX()&&o!==e.getMaxX())return!1;if((s=t.getY(n))!==e.getMinY()&&s!==e.getMaxY())return!1}var i=t.getX(0),r=t.getY(0);for(n=1;n<=4;n++){var o,s;if((o=t.getX(n))!==i==((s=t.getY(n))!==r))return!1;i=o,r=s}return!0},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t,i=this.shell,r=n.shell;if(!i.equalsExact(r,e))return!1;if(this.holes.length!==n.holes.length)return!1;for(var o=0;o<this.holes.length;o++)if(!this.holes[o].equalsExact(n.holes[o],e))return!1;return!0}return j.prototype.equalsExact.apply(this,arguments)},normalize:function(){if(0===arguments.length){this.normalize(this.shell,!0);for(var t=0;t<this.holes.length;t++)this.normalize(this.holes[t],!1);ut.sort(this.holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var i=new Array(e.getCoordinates().length-1).fill(null);B.arraycopy(e.getCoordinates(),0,i,0,i.length);var r=H.minCoordinate(e.getCoordinates());H.scroll(i,r),B.arraycopy(i,0,e.getCoordinates(),0,i.length),e.getCoordinates()[i.length]=i[0],Qt.isCCW(e.getCoordinates())===n&&H.reverse(e.getCoordinates())}},getCoordinate:function(){return this.shell.getCoordinate()},getNumInteriorRing:function(){return this.holes.length},getBoundaryDimension:function(){return 1},getDimension:function(){return 2},getLength:function(){var t=0;t+=this.shell.getLength();for(var e=0;e<this.holes.length;e++)t+=this.holes[e].getLength();return t},getNumPoints:function(){for(var t=this.shell.getNumPoints(),e=0;e<this.holes.length;e++)t+=this.holes[e].getNumPoints();return t},reverse:function(){var t=this.copy();t.shell=this.shell.copy().reverse(),t.holes=new Array(this.holes.length).fill(null);for(var e=0;e<this.holes.length;e++)t.holes[e]=this.holes[e].copy().reverse();return t},convexHull:function(){return this.getExteriorRing().convexHull()},compareToSameClass:function(){if(1===arguments.length){var t=arguments[0],e=this.shell,n=t.shell;return e.compareToSameClass(n)}if(2===arguments.length){var i=arguments[0],r=arguments[1],o=i,s=(e=this.shell,n=o.shell,e.compareToSameClass(n,r));if(0!==s)return s;for(var a=this.getNumInteriorRing(),u=o.getNumInteriorRing(),l=0;l<a&&l<u;){var c=this.getInteriorRingN(l),h=o.getInteriorRingN(l),f=c.compareToSameClass(h,r);if(0!==f)return f;l++}return l<a?1:l<u?-1:0}},apply:function(){if(D(arguments[0],V)){var t=arguments[0];this.shell.apply(t);for(var e=0;e<this.holes.length;e++)this.holes[e].apply(t)}else if(D(arguments[0],ht)){var n=arguments[0];if(this.shell.apply(n),!n.isDone())for(e=0;e<this.holes.length&&(this.holes[e].apply(n),!n.isDone());e++);n.isGeometryChanged()&&this.geometryChanged()}else if(D(arguments[0],ct)){var i=arguments[0];i.filter(this)}else if(D(arguments[0],R)){var r=arguments[0];for(r.filter(this),this.shell.apply(r),e=0;e<this.holes.length;e++)this.holes[e].apply(r)}},getBoundary:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this.holes.length+1).fill(null);t[0]=this.shell;for(var e=0;e<this.holes.length;e++)t[e+1]=this.holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},clone:function(){var t=j.prototype.clone.call(this);t.shell=this.shell.clone(),t.holes=new Array(this.holes.length).fill(null);for(var e=0;e<this.holes.length;e++)t.holes[e]=this.holes[e].clone();return t},getGeometryType:function(){return"Polygon"},copy:function(){for(var t=this.shell.copy(),e=new Array(this.holes.length).fill(null),n=0;n<e.length;n++)e[n]=this.holes[n].copy();return new Dt(t,e,this.factory)},getExteriorRing:function(){return this.shell},isEmpty:function(){return this.shell.isEmpty()},getInteriorRingN:function(t){return this.holes[t]},interfaces_:function(){return[St]},getClass:function(){return Dt}}),Dt.serialVersionUID=-0x307ffefd8dc97200,c(Lt,ft),e(Lt.prototype,{getSortIndex:function(){return j.SORTINDEX_MULTIPOINT},isValid:function(){return!0},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&ft.prototype.equalsExact.call(this,t,e)}return ft.prototype.equalsExact.apply(this,arguments)},getCoordinate:function(){if(1===arguments.length){var t=arguments[0];return this.geometries[t].getCoordinate()}return ft.prototype.getCoordinate.apply(this,arguments)},getBoundaryDimension:function(){return lt.FALSE},getDimension:function(){return 0},getBoundary:function(){return this.getFactory().createGeometryCollection(null)},getGeometryType:function(){return"MultiPoint"},copy:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this.geometries[e].copy();return new Lt(t,this.factory)},interfaces_:function(){return[_t]},getClass:function(){return Lt}}),Lt.serialVersionUID=-0x6fb1ed4162e0fc00,c(Ft,wt),e(Ft.prototype,{getSortIndex:function(){return j.SORTINDEX_LINEARRING},getBoundaryDimension:function(){return lt.FALSE},isClosed:function(){return!!this.isEmpty()||wt.prototype.isClosed.call(this)},reverse:function(){var t=this.points.copy();return Ct.reverse(t),this.getFactory().createLinearRing(t)},validateConstruction:function(){if(!this.isEmpty()&&!wt.prototype.isClosed.call(this))throw new i("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<Ft.MINIMUM_VALID_SIZE)throw new i("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},getGeometryType:function(){return"LinearRing"},copy:function(){return new Ft(this.points.copy(),this.factory)},interfaces_:function(){return[]},getClass:function(){return Ft}}),Ft.MINIMUM_VALID_SIZE=4,Ft.serialVersionUID=-0x3b229e262367a600,c(Tt,ft),e(Tt.prototype,{getSortIndex:function(){return j.SORTINDEX_MULTIPOLYGON},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&ft.prototype.equalsExact.call(this,t,e)}return ft.prototype.equalsExact.apply(this,arguments)},getBoundaryDimension:function(){return 1},getDimension:function(){return 2},reverse:function(){for(var t=this.geometries.length,e=new Array(t).fill(null),n=0;n<this.geometries.length;n++)e[n]=this.geometries[n].reverse();return this.getFactory().createMultiPolygon(e)},getBoundary:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new b,e=0;e<this.geometries.length;e++)for(var n=this.geometries[e].getBoundary(),i=0;i<n.getNumGeometries();i++)t.add(n.getGeometryN(i));var r=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(r))},getGeometryType:function(){return"MultiPolygon"},copy:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this.geometries[e].copy();return new Tt(t,this.factory)},interfaces_:function(){return[St]},getClass:function(){return Tt}}),Tt.serialVersionUID=-0x7a5aa1369171980,e(Mt.prototype,{setCopyUserData:function(t){this.isUserDataCopied=t},edit:function(t,e){if(null===t)return null;var n=this.editInternal(t,e);return this.isUserDataCopied&&n.setUserData(t.getUserData()),n},editInternal:function(t,e){return null===this.factory&&(this.factory=t.getFactory()),t instanceof ft?this.editGeometryCollection(t,e):t instanceof Dt?this.editPolygon(t,e):t instanceof At||t instanceof wt?e.edit(t,this.factory):(f.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},editGeometryCollection:function(t,e){for(var n=e.edit(t,this.factory),i=new b,r=0;r<n.getNumGeometries();r++){var o=this.edit(n.getGeometryN(r),e);null===o||o.isEmpty()||i.add(o)}return n.getClass()===Lt?this.factory.createMultiPoint(i.toArray([])):n.getClass()===dt?this.factory.createMultiLineString(i.toArray([])):n.getClass()===Tt?this.factory.createMultiPolygon(i.toArray([])):this.factory.createGeometryCollection(i.toArray([]))},editPolygon:function(t,e){var n=e.edit(t,this.factory);if(null===n&&(n=this.factory.createPolygon(null)),n.isEmpty())return n;var i=this.edit(n.getExteriorRing(),e);if(null===i||i.isEmpty())return this.factory.createPolygon();for(var r=new b,o=0;o<n.getNumInteriorRing();o++){var s=this.edit(n.getInteriorRingN(o),e);null===s||s.isEmpty()||r.add(s)}return this.factory.createPolygon(i,r.toArray([]))},interfaces_:function(){return[]},getClass:function(){return Mt}}),Mt.GeometryEditorOperation=It,e(Pt.prototype,{edit:function(t,e){return t},interfaces_:function(){return[It]},getClass:function(){return Pt}}),e(Ot.prototype,{edit:function(t,e){var n=this.editCoordinates(t.getCoordinates(),t);return null===n?t:t instanceof Ft?e.createLinearRing(n):t instanceof wt?e.createLineString(n):t instanceof At?n.length>0?e.createPoint(n[0]):e.createPoint():t},interfaces_:function(){return[It]},getClass:function(){return Ot}}),e(Bt.prototype,{edit:function(t,e){return t instanceof Ft?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof wt?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof At?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},interfaces_:function(){return[It]},getClass:function(){return Bt}}),Mt.NoOpGeometryOperation=Pt,Mt.CoordinateOperation=Ot,Mt.CoordinateSequenceOperation=Bt,e(Nt.prototype,{setOrdinate:function(t,e,n){switch(e){case O.X:this.coordinates[t].x=n;break;case O.Y:this.coordinates[t].y=n;break;case O.Z:this.coordinates[t].z=n;break;default:throw new i("invalid ordinateIndex")}},size:function(){return this.coordinates.length},getOrdinate:function(t,e){switch(e){case O.X:return this.coordinates[t].x;case O.Y:return this.coordinates[t].y;case O.Z:return this.coordinates[t].z}return r.NaN},getCoordinate:function(){if(1===arguments.length){var t=arguments[0];return this.coordinates[t]}if(2===arguments.length){var e=arguments[0],n=arguments[1];n.x=this.coordinates[e].x,n.y=this.coordinates[e].y,n.z=this.coordinates[e].z}},getCoordinateCopy:function(t){return new d(this.coordinates[t])},getDimension:function(){return this.dimension},getX:function(t){return this.coordinates[t].x},clone:function(){for(var t=new Array(this.size()).fill(null),e=0;e<this.coordinates.length;e++)t[e]=this.coordinates[e].clone();return new Nt(t,this.dimension)},expandEnvelope:function(t){for(var e=0;e<this.coordinates.length;e++)t.expandToInclude(this.coordinates[e]);return t},copy:function(){for(var t=new Array(this.size()).fill(null),e=0;e<this.coordinates.length;e++)t[e]=this.coordinates[e].copy();return new Nt(t,this.dimension)},toString:function(){if(this.coordinates.length>0){var t=new F(17*this.coordinates.length);t.append("("),t.append(this.coordinates[0]);for(var e=1;e<this.coordinates.length;e++)t.append(", "),t.append(this.coordinates[e]);return t.append(")"),t.toString()}return"()"},getY:function(t){return this.coordinates[t].y},toCoordinateArray:function(){return this.coordinates},interfaces_:function(){return[O,u]},getClass:function(){return Nt}}),Nt.serialVersionUID=-0xcb44a778db18e00,e(kt.prototype,{readResolve:function(){return kt.instance()},create:function(){if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new Nt(t)}if(D(arguments[0],O)){var e=arguments[0];return new Nt(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return i>3&&(i=3),i<2?new Nt(n):new Nt(n,i)}},interfaces_:function(){return[k,u]},getClass:function(){return kt}}),kt.instance=function(){return kt.instanceObject},kt.serialVersionUID=-0x38e49fa6cf6f2e00,kt.instanceObject=new kt;var qo,Uo=Object.defineProperty,Xo=function(t,e){function n(t){return this&&this.constructor===n?(this._keys=[],this._values=[],this._itp=[],this.objectOnly=e,void(t&&jt.call(this,t))):new n(t)}return e||Uo(t,"size",{get:zt}),t.constructor=n,n.prototype=t,n}({delete:function(t){return this.has(t)&&(this._keys.splice(qo,1),this._values.splice(qo,1),this._itp.forEach((function(t){qo<t[0]&&t[0]--}))),qo>-1},has:function(t){return Vt.call(this,this._keys,t)},get:function(t){return this.has(t)?this._values[qo]:void 0},set:function(t,e){return this.has(t)?this._values[qo]=e:this._values[this._keys.push(t)-1]=e,this},keys:function(){return Gt(this._itp,this._keys)},values:function(){return Gt(this._itp,this._values)},entries:function(){return Gt(this._itp,this._keys,this._values)},forEach:function(t,e){for(var n=this.entries();;){var i=n.next();if(i.done)break;t.call(e,i.value[1],i.value[0],this)}},clear:function(){(this._keys||0).length=this._values.length=0}}),Ho="undefined"!=typeof Map&&Map.prototype.values?Map:Xo;qt.prototype=new J,qt.prototype.get=function(t){return this.map_.get(t)||null},qt.prototype.put=function(t,e){return this.map_.set(t,e),e},qt.prototype.values=function(){for(var t=new b,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},qt.prototype.entrySet=function(){var t=new $;return this.map_.entries().forEach((function(e){return t.add(e)})),t},qt.prototype.size=function(){return this.map_.size()},e(Ut.prototype,{equals:function(t){if(!(t instanceof Ut))return!1;var e=t;return this.modelType===e.modelType&&this.scale===e.scale},compareTo:function(t){var e=t,n=this.getMaximumSignificantDigits(),i=e.getMaximumSignificantDigits();return new T(n).compareTo(new T(i))},getScale:function(){return this.scale},isFloating:function(){return this.modelType===Ut.FLOATING||this.modelType===Ut.FLOATING_SINGLE},getType:function(){return this.modelType},toString:function(){var t="UNKNOWN";return this.modelType===Ut.FLOATING?t="Floating":this.modelType===Ut.FLOATING_SINGLE?t="Floating-Single":this.modelType===Ut.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},makePrecise:function(){if("number"==typeof arguments[0]){var t=arguments[0];return r.isNaN(t)||this.modelType===Ut.FLOATING_SINGLE?t:this.modelType===Ut.FIXED?Math.round(t*this.scale)/this.scale:t}if(arguments[0]instanceof d){var e=arguments[0];if(this.modelType===Ut.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},getMaximumSignificantDigits:function(){var t=16;return this.modelType===Ut.FLOATING?t=16:this.modelType===Ut.FLOATING_SINGLE?t=6:this.modelType===Ut.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},setScale:function(t){this.scale=Math.abs(t)},interfaces_:function(){return[u,o]},getClass:function(){return Ut}}),Ut.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},e(Xt.prototype,{readResolve:function(){return Xt.nameToTypeMap.get(this.name)},toString:function(){return this.name},interfaces_:function(){return[u]},getClass:function(){return Xt}}),Xt.serialVersionUID=-552860263173159e4,Xt.nameToTypeMap=new qt,Ut.Type=Xt,Ut.serialVersionUID=0x6bee6404e9a25c00,Ut.FIXED=new Xt("FIXED"),Ut.FLOATING=new Xt("FLOATING"),Ut.FLOATING_SINGLE=new Xt("FLOATING SINGLE"),Ut.maximumPreciseValue=9007199254740992,e(Ht.prototype,{toGeometry:function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new d(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new d(t.getMinX(),t.getMinY()),new d(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new d(t.getMinX(),t.getMinY()),new d(t.getMinX(),t.getMaxY()),new d(t.getMaxX(),t.getMaxY()),new d(t.getMaxX(),t.getMinY()),new d(t.getMinX(),t.getMinY())]),null)},createLineString:function(){if(0===arguments.length)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLineString(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(D(arguments[0],O)){var e=arguments[0];return new wt(e,this)}}},createMultiLineString:function(){if(0===arguments.length)return new dt(null,this);if(1===arguments.length){var t=arguments[0];return new dt(t,this)}},buildGeometry:function(t){for(var e=null,n=!1,i=!1,r=t.iterator();r.hasNext();){var o=r.next(),s=o.getClass();null===e&&(e=s),s!==e&&(n=!0),o.isGeometryCollectionOrDerived()&&(i=!0)}if(null===e)return this.createGeometryCollection();if(n||i)return this.createGeometryCollection(Ht.toGeometryArray(t));var a=t.iterator().next();if(t.size()>1){if(a instanceof Dt)return this.createMultiPolygon(Ht.toPolygonArray(t));if(a instanceof wt)return this.createMultiLineString(Ht.toLineStringArray(t));if(a instanceof At)return this.createMultiPoint(Ht.toPointArray(t));f.shouldNeverReachHere("Unhandled class: "+a.getClass().getName())}return a},createMultiPointFromCoords:function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},createPoint:function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof d){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(D(arguments[0],O)){var e=arguments[0];return new At(e,this)}}},getCoordinateSequenceFactory:function(){return this.coordinateSequenceFactory},createPolygon:function(){if(0===arguments.length)return new Dt(null,null,this);if(1===arguments.length){if(D(arguments[0],O)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof Ft){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];return new Dt(i,r,this)}},getSRID:function(){return this.SRID},createGeometryCollection:function(){if(0===arguments.length)return new ft(null,this);if(1===arguments.length){var t=arguments[0];return new ft(t,this)}},createGeometry:function(t){return new Mt(this).edit(t,{edit:function(){if(2===arguments.length){var t=arguments[0];return arguments[1],this.coordinateSequenceFactory.create(t)}}})},getPrecisionModel:function(){return this.precisionModel},createLinearRing:function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(D(arguments[0],O)){var e=arguments[0];return new Ft(e,this)}}},createMultiPolygon:function(){if(0===arguments.length)return new Tt(null,this);if(1===arguments.length){var t=arguments[0];return new Tt(t,this)}},createMultiPoint:function(){if(0===arguments.length)return new Lt(null,this);if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new Lt(t,this)}if(arguments[0]instanceof Array){var e=arguments[0];return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(D(arguments[0],O)){var n=arguments[0];if(null===n)return this.createMultiPoint(new Array(0).fill(null));for(var i=new Array(n.size()).fill(null),r=0;r<n.size();r++){var o=this.getCoordinateSequenceFactory().create(1,n.getDimension());Ct.copy(n,r,o,0,1),i[r]=this.createPoint(o)}return this.createMultiPoint(i)}}},interfaces_:function(){return[u]},getClass:function(){return Ht}}),Ht.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ht.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},Ht.getDefaultCoordinateSequenceFactory=function(){return kt.instance()},Ht.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ht.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ht.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ht.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ht.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ht.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ht.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},Ht.serialVersionUID=-0x5ea75f2051eeb400;var Yo={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/};e(Yt.prototype,{read:function(t){var e,n,i;t=t.replace(/[\n\r]/g," ");var r=Yo.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((r=Yo.emptyTypeStr.exec(t))[2]=void 0),r&&(n=r[1].toLowerCase(),i=r[2],Jo[n]&&(e=Jo[n].apply(this,[i]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},write:function(t){return this.extractGeometry(t)},extractGeometry:function(t){var e=t.getGeometryType().toLowerCase();if(!Wo[e])return null;var n=e.toUpperCase();return t.isEmpty()?n+" EMPTY":n+"("+Wo[e].apply(this,[t])+")"}});var Wo={coordinate:function(t){return t.x+" "+t.y},point:function(t){return Wo.coordinate.call(this,t.coordinates.coordinates[0])},multipoint:function(t){for(var e=[],n=0,i=t.geometries.length;n<i;++n)e.push("("+Wo.point.apply(this,[t.geometries[n]])+")");return e.join(",")},linestring:function(t){for(var e=[],n=0,i=t.points.coordinates.length;n<i;++n)e.push(Wo.coordinate.apply(this,[t.points.coordinates[n]]));return e.join(",")},linearring:function(t){for(var e=[],n=0,i=t.points.coordinates.length;n<i;++n)e.push(Wo.coordinate.apply(this,[t.points.coordinates[n]]));return e.join(",")},multilinestring:function(t){for(var e=[],n=0,i=t.geometries.length;n<i;++n)e.push("("+Wo.linestring.apply(this,[t.geometries[n]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+Wo.linestring.apply(this,[t.shell])+")");for(var n=0,i=t.holes.length;n<i;++n)e.push("("+Wo.linestring.apply(this,[t.holes[n]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],n=0,i=t.geometries.length;n<i;++n)e.push("("+Wo.polygon.apply(this,[t.geometries[n]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],n=0,i=t.geometries.length;n<i;++n)e.push(this.extractGeometry(t.geometries[n]));return e.join(",")}},Jo={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(Yo.spaces);return this.geometryFactory.createPoint(new d(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(Yo.trimParens,"$1"),i.push(Jo.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(i)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;r<o;++r)e=n[r].trim().split(Yo.spaces),i.push(new d(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(i)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;r<o;++r)e=n[r].trim().split(Yo.spaces),i.push(new d(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(i)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,n=t.trim().split(Yo.parenComma),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(Yo.trimParens,"$1"),i.push(Jo.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(i)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,n,i,r,o=t.trim().split(Yo.parenComma),s=[],a=0,u=o.length;a<u;++a)e=o[a].replace(Yo.trimParens,"$1"),n=Jo.linestring.apply(this,[e]),i=this.geometryFactory.createLinearRing(n.points),0===a?r=i:s.push(i);return this.geometryFactory.createPolygon(r,s)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,n=t.trim().split(Yo.doubleParenComma),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(Yo.trimParens,"$1"),i.push(Jo.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(i)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),n=[],i=0,r=e.length;i<r;++i)n.push(this.read(e[i]));return this.geometryFactory.createGeometryCollection(n)}};e(Wt.prototype,{write:function(t){return this.parser.write(t)}}),e(Wt,{toLineString:function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"}}),e(Jt.prototype,{getIndexAlongSegment:function(t,e){return this.computeIntLineIndex(),this.intLineIndex[t][e]},getTopologySummary:function(){var t=new F;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},computeIntersection:function(t,e,n,i){this.inputLines[0][0]=t,this.inputLines[0][1]=e,this.inputLines[1][0]=n,this.inputLines[1][1]=i,this.result=this.computeIntersect(t,e,n,i)},getIntersectionNum:function(){return this.result},computeIntLineIndex:function(){if(0===arguments.length)null===this.intLineIndex&&(this.intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0],e=this.getEdgeDistance(t,0),n=this.getEdgeDistance(t,1);e>n?(this.intLineIndex[t][0]=0,this.intLineIndex[t][1]=1):(this.intLineIndex[t][0]=1,this.intLineIndex[t][1]=0)}},isProper:function(){return this.hasIntersection()&&this._isProper},setPrecisionModel:function(t){this.precisionModel=t},isInteriorIntersection:function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this.result;e++)if(!this.intPt[e].equals2D(this.inputLines[t][0])&&!this.intPt[e].equals2D(this.inputLines[t][1]))return!0;return!1}},getIntersection:function(t){return this.intPt[t]},isEndPoint:function(){return this.hasIntersection()&&!this._isProper},hasIntersection:function(){return this.result!==Jt.NO_INTERSECTION},getEdgeDistance:function(t,e){return Jt.computeEdgeDistance(this.intPt[e],this.inputLines[t][0],this.inputLines[t][1])},isCollinear:function(){return this.result===Jt.COLLINEAR_INTERSECTION},toString:function(){return Wt.toLineString(this.inputLines[0][0],this.inputLines[0][1])+" - "+Wt.toLineString(this.inputLines[1][0],this.inputLines[1][1])+this.getTopologySummary()},getEndpoint:function(t,e){return this.inputLines[t][e]},isIntersection:function(t){for(var e=0;e<this.result;e++)if(this.intPt[e].equals2D(t))return!0;return!1},getIntersectionAlongSegment:function(t,e){return this.computeIntLineIndex(),this.intPt[this.intLineIndex[t][e]]},interfaces_:function(){return[]},getClass:function(){return Jt}}),Jt.computeEdgeDistance=function(t,e,n){var i=Math.abs(n.x-e.x),r=Math.abs(n.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(n))o=i>r?i:r;else{var s=Math.abs(t.x-e.x),a=Math.abs(t.y-e.y);0!==(o=i>r?s:a)||t.equals(e)||(o=Math.max(s,a))}return f.isTrue(!(0===o&&!t.equals(e)),"Bad distance calculation"),o},Jt.nonRobustComputeEdgeDistance=function(t,e,n){var i=t.x-e.x,r=t.y-e.y,o=Math.sqrt(i*i+r*r);return f.isTrue(!(0===o&&!t.equals(e)),"Invalid distance calculation"),o},Jt.DONT_INTERSECT=0,Jt.DO_INTERSECT=1,Jt.COLLINEAR=2,Jt.NO_INTERSECTION=0,Jt.POINT_INTERSECTION=1,Jt.COLLINEAR_INTERSECTION=2,c(Kt,Jt),e(Kt.prototype,{isInSegmentEnvelopes:function(t){var e=new w(this.inputLines[0][0],this.inputLines[0][1]),n=new w(this.inputLines[1][0],this.inputLines[1][1]);return e.contains(t)&&n.contains(t)},computeIntersection:function(){if(3!==arguments.length)return Jt.prototype.computeIntersection.apply(this,arguments);var t=arguments[0],e=arguments[1],n=arguments[2];return this._isProper=!1,w.intersects(e,n,t)&&0===Qt.orientationIndex(e,n,t)&&0===Qt.orientationIndex(n,e,t)?(this._isProper=!0,(t.equals(e)||t.equals(n))&&(this._isProper=!1),this.result=Jt.POINT_INTERSECTION,null):void(this.result=Jt.NO_INTERSECTION)},normalizeToMinimum:function(t,e,n,i,r){r.x=this.smallestInAbsValue(t.x,e.x,n.x,i.x),r.y=this.smallestInAbsValue(t.y,e.y,n.y,i.y),t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,n.x-=r.x,n.y-=r.y,i.x-=r.x,i.y-=r.y},safeHCoordinateIntersection:function(t,e,n,i){var r=null;try{r=N.intersection(t,e,n,i)}catch(o){if(!(o instanceof A))throw o;r=Kt.nearestEndpoint(t,e,n,i)}return r},intersection:function(t,e,n,i){var r=this.intersectionWithNormalization(t,e,n,i);return this.isInSegmentEnvelopes(r)||(r=new d(Kt.nearestEndpoint(t,e,n,i))),null!==this.precisionModel&&this.precisionModel.makePrecise(r),r},smallestInAbsValue:function(t,e,n,i){var r=t,o=Math.abs(r);return Math.abs(e)<o&&(r=e,o=Math.abs(e)),Math.abs(n)<o&&(r=n,o=Math.abs(n)),Math.abs(i)<o&&(r=i),r},checkDD:function(t,e,n,i,r){var o=P.intersection(t,e,n,i),s=this.isInSegmentEnvelopes(o);B.out.println("DD in env = "+s+"  --------------------- "+o),r.distance(o)>1e-4&&B.out.println("Distance = "+r.distance(o))},intersectionWithNormalization:function(t,e,n,i){var r=new d(t),o=new d(e),s=new d(n),a=new d(i),u=new d;this.normalizeToEnvCentre(r,o,s,a,u);var l=this.safeHCoordinateIntersection(r,o,s,a);return l.x+=u.x,l.y+=u.y,l},computeCollinearIntersection:function(t,e,n,i){var r=w.intersects(t,e,n),o=w.intersects(t,e,i),s=w.intersects(n,i,t),a=w.intersects(n,i,e);return r&&o?(this.intPt[0]=n,this.intPt[1]=i,Jt.COLLINEAR_INTERSECTION):s&&a?(this.intPt[0]=t,this.intPt[1]=e,Jt.COLLINEAR_INTERSECTION):r&&s?(this.intPt[0]=n,this.intPt[1]=t,!n.equals(t)||o||a?Jt.COLLINEAR_INTERSECTION:Jt.POINT_INTERSECTION):r&&a?(this.intPt[0]=n,this.intPt[1]=e,!n.equals(e)||o||s?Jt.COLLINEAR_INTERSECTION:Jt.POINT_INTERSECTION):o&&s?(this.intPt[0]=i,this.intPt[1]=t,!i.equals(t)||r||a?Jt.COLLINEAR_INTERSECTION:Jt.POINT_INTERSECTION):o&&a?(this.intPt[0]=i,this.intPt[1]=e,!i.equals(e)||r||s?Jt.COLLINEAR_INTERSECTION:Jt.POINT_INTERSECTION):Jt.NO_INTERSECTION},normalizeToEnvCentre:function(t,e,n,i,r){var o=t.x<e.x?t.x:e.x,s=t.y<e.y?t.y:e.y,a=t.x>e.x?t.x:e.x,u=t.y>e.y?t.y:e.y,l=n.x<i.x?n.x:i.x,c=n.y<i.y?n.y:i.y,h=n.x>i.x?n.x:i.x,f=n.y>i.y?n.y:i.y,d=((o>l?o:l)+(a<h?a:h))/2,p=((s>c?s:c)+(u<f?u:f))/2;r.x=d,r.y=p,t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,n.x-=r.x,n.y-=r.y,i.x-=r.x,i.y-=r.y},computeIntersect:function(t,e,n,i){if(this._isProper=!1,!w.intersects(t,e,n,i))return Jt.NO_INTERSECTION;var r=Qt.orientationIndex(t,e,n),o=Qt.orientationIndex(t,e,i);if(r>0&&o>0||r<0&&o<0)return Jt.NO_INTERSECTION;var s=Qt.orientationIndex(n,i,t),a=Qt.orientationIndex(n,i,e);return s>0&&a>0||s<0&&a<0?Jt.NO_INTERSECTION:0===r&&0===o&&0===s&&0===a?this.computeCollinearIntersection(t,e,n,i):(0===r||0===o||0===s||0===a?(this._isProper=!1,t.equals2D(n)||t.equals2D(i)?this.intPt[0]=t:e.equals2D(n)||e.equals2D(i)?this.intPt[0]=e:0===r?this.intPt[0]=new d(n):0===o?this.intPt[0]=new d(i):0===s?this.intPt[0]=new d(t):0===a&&(this.intPt[0]=new d(e))):(this._isProper=!0,this.intPt[0]=this.intersection(t,e,n,i)),Jt.POINT_INTERSECTION)},interfaces_:function(){return[]},getClass:function(){return Kt}}),Kt.nearestEndpoint=function(t,e,n,i){var r=t,o=Qt.distancePointLine(t,n,i),s=Qt.distancePointLine(e,n,i);return s<o&&(o=s,r=e),(s=Qt.distancePointLine(n,t,e))<o&&(o=s,r=n),(s=Qt.distancePointLine(i,t,e))<o&&(o=s,r=i),r},e(Zt.prototype,{interfaces_:function(){return[]},getClass:function(){return Zt}}),Zt.orientationIndex=function(t,e,n){var i=e.x-t.x,r=e.y-t.y,o=n.x-e.x,s=n.y-e.y;return Zt.signOfDet2x2(i,r,o,s)},Zt.signOfDet2x2=function(t,e,n,i){var r=null,o=null,s=null;if(r=1,0===t||0===i)return 0===e||0===n?0:e>0?n>0?-r:r:n>0?r:-r;if(0===e||0===n)return i>0?t>0?r:-r:t>0?-r:r;if(0<e?0<i?e<=i||(r=-r,o=t,t=n,n=o,o=e,e=i,i=o):e<=-i?(r=-r,n=-n,i=-i):(o=t,t=-n,n=o,o=e,e=-i,i=o):0<i?-e<=i?(r=-r,t=-t,e=-e):(o=-t,t=n,n=o,o=-e,e=i,i=o):e>=i?(t=-t,e=-e,n=-n,i=-i):(r=-r,o=-t,t=-n,n=o,o=-e,e=-i,i=o),0<t){if(!(0<n))return r;if(!(t<=n))return r}else{if(0<n)return-r;if(!(t>=n))return-r;r=-r,t=-t,n=-n}for(;;){if((i-=(s=Math.floor(n/t))*e)<0)return-r;if(i>e)return r;if(t>(n-=s*t)+n){if(e<i+i)return r}else{if(e>i+i)return-r;n=t-n,i=e-i,r=-r}if(0===i)return 0===n?0:-r;if(0===n)return r;if((e-=(s=Math.floor(t/n))*i)<0)return r;if(e>i)return-r;if(n>(t-=s*n)+t){if(i<e+e)return-r}else{if(i>e+e)return r;t=n-t,e=i-e,r=-r}if(0===e)return 0===t?0:r;if(0===t)return-r}},e($t.prototype,{countSegment:function(t,e){if(t.x<this.p.x&&e.x<this.p.x)return null;if(this.p.x===e.x&&this.p.y===e.y)return this.isPointOnSegment=!0,null;if(t.y===this.p.y&&e.y===this.p.y){var n=t.x,i=e.x;return n>i&&(n=e.x,i=t.x),this.p.x>=n&&this.p.x<=i&&(this.isPointOnSegment=!0),null}if(t.y>this.p.y&&e.y<=this.p.y||e.y>this.p.y&&t.y<=this.p.y){var r=t.x-this.p.x,o=t.y-this.p.y,s=e.x-this.p.x,a=e.y-this.p.y,u=Zt.signOfDet2x2(r,o,s,a);if(0===u)return this.isPointOnSegment=!0,null;a<o&&(u=-u),u>0&&this.crossingCount++}},isPointInPolygon:function(){return this.getLocation()!==S.EXTERIOR},getLocation:function(){return this.isPointOnSegment?S.BOUNDARY:this.crossingCount%2==1?S.INTERIOR:S.EXTERIOR},isOnSegment:function(){return this.isPointOnSegment},interfaces_:function(){return[]},getClass:function(){return $t}}),$t.locatePointInRing=function(){if(arguments[0]instanceof d&&D(arguments[1],O)){for(var t=arguments[0],e=arguments[1],n=new $t(t),i=new d,r=new d,o=1;o<e.size();o++)if(e.getCoordinate(o,i),e.getCoordinate(o-1,r),n.countSegment(i,r),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof d&&arguments[1]instanceof Array){var s=arguments[0],a=arguments[1];for(n=new $t(s),o=1;o<a.length;o++)if(i=a[o],r=a[o-1],n.countSegment(i,r),n.isOnSegment())return n.getLocation();return n.getLocation()}},e(Qt.prototype,{interfaces_:function(){return[]},getClass:function(){return Qt}}),Qt.orientationIndex=function(t,e,n){return P.orientationIndex(t,e,n)},Qt.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,i=1;i<t.length-1;i++){var r=t[i].x-n,o=t[i+1].y,s=t[i-1].y;e+=r*(s-o)}return e/2}if(D(arguments[0],O)){var a=arguments[0],u=a.size();if(u<3)return 0;var l=new d,c=new d,h=new d;for(a.getCoordinate(0,c),a.getCoordinate(1,h),n=c.x,h.x-=n,e=0,i=1;i<u-1;i++)l.y=c.y,c.x=h.x,c.y=h.y,a.getCoordinate(i+1,h),h.x-=n,e+=c.x*(l.y-h.y);return e/2}},Qt.distanceLineLine=function(t,e,n,i){if(t.equals(e))return Qt.distancePointLine(t,n,i);if(n.equals(i))return Qt.distancePointLine(i,t,e);var r=!1;if(w.intersects(t,e,n,i)){var o=(e.x-t.x)*(i.y-n.y)-(e.y-t.y)*(i.x-n.x);if(0===o)r=!0;else{var s=(t.y-n.y)*(i.x-n.x)-(t.x-n.x)*(i.y-n.y),a=((t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y))/o,u=s/o;(u<0||u>1||a<0||a>1)&&(r=!0)}}else r=!0;return r?L.min(Qt.distancePointLine(t,n,i),Qt.distancePointLine(e,n,i),Qt.distancePointLine(n,t,e),Qt.distancePointLine(i,t,e)):0},Qt.isPointInRing=function(t,e){return Qt.locatePointInRing(t,e)!==S.EXTERIOR},Qt.computeLength=function(t){var e=t.size();if(e<=1)return 0;var n=0,i=new d;t.getCoordinate(0,i);for(var r=i.x,o=i.y,s=1;s<e;s++){t.getCoordinate(s,i);var a=i.x,u=i.y,l=a-r,c=u-o;n+=Math.sqrt(l*l+c*c),r=a,o=u}return n},Qt.isCCW=function(t){var e=t.length-1;if(e<3)throw new i("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=t[0],r=0,o=1;o<=e;o++){var s=t[o];s.y>n.y&&(n=s,r=o)}var a=r;do{(a-=1)<0&&(a=e)}while(t[a].equals2D(n)&&a!==r);var u=r;do{u=(u+1)%e}while(t[u].equals2D(n)&&u!==r);var l=t[a],c=t[u];if(l.equals2D(n)||c.equals2D(n)||l.equals2D(c))return!1;var h=Qt.computeOrientation(l,n,c);return 0===h?l.x>c.x:h>0},Qt.locatePointInRing=function(t,e){return $t.locatePointInRing(t,e)},Qt.distancePointLinePerpendicular=function(t,e,n){var i=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),r=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/i;return Math.abs(r)*Math.sqrt(i)},Qt.computeOrientation=function(t,e,n){return Qt.orientationIndex(t,e,n)},Qt.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new i("Line array must contain at least one vertex");for(var n=t.distance(e[0]),r=0;r<e.length-1;r++){var o=Qt.distancePointLine(t,e[r],e[r+1]);o<n&&(n=o)}return n}if(3===arguments.length){var s=arguments[0],a=arguments[1],u=arguments[2];if(a.x===u.x&&a.y===u.y)return s.distance(a);var l=(u.x-a.x)*(u.x-a.x)+(u.y-a.y)*(u.y-a.y),c=((s.x-a.x)*(u.x-a.x)+(s.y-a.y)*(u.y-a.y))/l;if(c<=0)return s.distance(a);if(c>=1)return s.distance(u);var h=((a.y-s.y)*(u.x-a.x)-(a.x-s.x)*(u.y-a.y))/l;return Math.abs(h)*Math.sqrt(l)}},Qt.isOnLine=function(t,e){for(var n=new Kt,i=1;i<e.length;i++){var r=e[i-1],o=e[i];if(n.computeIntersection(t,r,o),n.hasIntersection())return!0}return!1},Qt.CLOCKWISE=-1,Qt.RIGHT=Qt.CLOCKWISE,Qt.COUNTERCLOCKWISE=1,Qt.LEFT=Qt.COUNTERCLOCKWISE,Qt.COLLINEAR=0,Qt.STRAIGHT=Qt.COLLINEAR,e(te.prototype,{minX:function(){return Math.min(this.p0.x,this.p1.x)},orientationIndex:function(){if(arguments[0]instanceof te){var t=arguments[0],e=Qt.orientationIndex(this.p0,this.p1,t.p0),n=Qt.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0||e<=0&&n<=0?Math.max(e,n):0}if(arguments[0]instanceof d){var i=arguments[0];return Qt.orientationIndex(this.p0,this.p1,i)}},toGeometry:function(t){return t.createLineString([this.p0,this.p1])},isVertical:function(){return this.p0.x===this.p1.x},equals:function(t){if(!(t instanceof te))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},intersection:function(t){var e=new Kt;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},project:function(){if(arguments[0]instanceof d){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new d(t);var e=this.projectionFactor(t),n=new d;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof te){var i=arguments[0],r=this.projectionFactor(i.p0),o=this.projectionFactor(i.p1);if(r>=1&&o>=1)return null;if(r<=0&&o<=0)return null;var s=this.project(i.p0);r<0&&(s=this.p0),r>1&&(s=this.p1);var a=this.project(i.p1);return o<0&&(a=this.p0),o>1&&(a=this.p1),new te(s,a)}},normalize:function(){this.p1.compareTo(this.p0)<0&&this.reverse()},angle:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},getCoordinate:function(t){return 0===t?this.p0:this.p1},distancePerpendicular:function(t){return Qt.distancePointLinePerpendicular(t,this.p0,this.p1)},minY:function(){return Math.min(this.p0.y,this.p1.y)},midPoint:function(){return te.midPoint(this.p0,this.p1)},projectionFactor:function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,i=e*e+n*n;return i<=0?r.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/i},closestPoints:function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),i=r.MAX_VALUE,o=null,s=this.closestPoint(t.p0);i=s.distance(t.p0),n[0]=s,n[1]=t.p0;var a=this.closestPoint(t.p1);(o=a.distance(t.p1))<i&&(i=o,n[0]=a,n[1]=t.p1);var u=t.closestPoint(this.p0);(o=u.distance(this.p0))<i&&(i=o,n[0]=this.p0,n[1]=u);var l=t.closestPoint(this.p1);return(o=l.distance(this.p1))<i&&(i=o,n[0]=this.p1,n[1]=l),n},closestPoint:function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},maxX:function(){return Math.max(this.p0.x,this.p1.x)},getLength:function(){return this.p0.distance(this.p1)},compareTo:function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)},reverse:function(){var t=this.p0;this.p0=this.p1,this.p1=t},equalsTopo:function(t){return this.p0.equals(t.p0)&&this.p1.equals(t.p1)||this.p0.equals(t.p1)&&this.p1.equals(t.p0)},lineIntersection:function(t){try{return N.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof A))throw t}return null},maxY:function(){return Math.max(this.p0.y,this.p1.y)},pointAlongOffset:function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),i=this.p0.y+t*(this.p1.y-this.p0.y),r=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,s=Math.sqrt(r*r+o*o),a=0,u=0;if(0!==e){if(s<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");a=e*r/s,u=e*o/s}return new d(n-u,i+a)},setCoordinates:function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},segmentFraction:function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||r.isNaN(e))&&(e=1),e},toString:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},isHorizontal:function(){return this.p0.y===this.p1.y},distance:function(){if(arguments[0]instanceof te){var t=arguments[0];return Qt.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof d){var e=arguments[0];return Qt.distancePointLine(e,this.p0,this.p1)}},pointAlong:function(t){var e=new d;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},hashCode:function(){var t=java.lang.Double.doubleToLongBits(this.p0.x);t^=31*java.lang.Double.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=java.lang.Double.doubleToLongBits(this.p1.x);return n^=31*java.lang.Double.doubleToLongBits(this.p1.y),e^Math.trunc(n)^Math.trunc(n>>32)},interfaces_:function(){return[o,u]},getClass:function(){return te}}),te.midPoint=function(t,e){return new d((t.x+e.x)/2,(t.y+e.y)/2)},te.serialVersionUID=0x2d2172135f411c00,e(ee.prototype,{isIntersects:function(){return!this.isDisjoint()},isCovers:function(){return(ee.isTrue(this.matrix[S.INTERIOR][S.INTERIOR])||ee.isTrue(this.matrix[S.INTERIOR][S.BOUNDARY])||ee.isTrue(this.matrix[S.BOUNDARY][S.INTERIOR])||ee.isTrue(this.matrix[S.BOUNDARY][S.BOUNDARY]))&&this.matrix[S.EXTERIOR][S.INTERIOR]===lt.FALSE&&this.matrix[S.EXTERIOR][S.BOUNDARY]===lt.FALSE},isCoveredBy:function(){return(ee.isTrue(this.matrix[S.INTERIOR][S.INTERIOR])||ee.isTrue(this.matrix[S.INTERIOR][S.BOUNDARY])||ee.isTrue(this.matrix[S.BOUNDARY][S.INTERIOR])||ee.isTrue(this.matrix[S.BOUNDARY][S.BOUNDARY]))&&this.matrix[S.INTERIOR][S.EXTERIOR]===lt.FALSE&&this.matrix[S.BOUNDARY][S.EXTERIOR]===lt.FALSE},set:function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<t.length;e++){var n=Math.trunc(e/3),i=e%3;this.matrix[n][i]=lt.toDimensionValue(t.charAt(e))}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];this.matrix[r][o]=s}},isContains:function(){return ee.isTrue(this.matrix[S.INTERIOR][S.INTERIOR])&&this.matrix[S.EXTERIOR][S.INTERIOR]===lt.FALSE&&this.matrix[S.EXTERIOR][S.BOUNDARY]===lt.FALSE},setAtLeast:function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<t.length;e++){var n=Math.trunc(e/3),i=e%3;this.setAtLeast(n,i,lt.toDimensionValue(t.charAt(e)))}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];this.matrix[r][o]<s&&(this.matrix[r][o]=s)}},setAtLeastIfValid:function(t,e,n){t>=0&&e>=0&&this.setAtLeast(t,e,n)},isWithin:function(){return ee.isTrue(this.matrix[S.INTERIOR][S.INTERIOR])&&this.matrix[S.INTERIOR][S.EXTERIOR]===lt.FALSE&&this.matrix[S.BOUNDARY][S.EXTERIOR]===lt.FALSE},isTouches:function(t,e){return t>e?this.isTouches(e,t):(t===lt.A&&e===lt.A||t===lt.L&&e===lt.L||t===lt.L&&e===lt.A||t===lt.P&&e===lt.A||t===lt.P&&e===lt.L)&&this.matrix[S.INTERIOR][S.INTERIOR]===lt.FALSE&&(ee.isTrue(this.matrix[S.INTERIOR][S.BOUNDARY])||ee.isTrue(this.matrix[S.BOUNDARY][S.INTERIOR])||ee.isTrue(this.matrix[S.BOUNDARY][S.BOUNDARY]))},isOverlaps:function(t,e){return t===lt.P&&e===lt.P||t===lt.A&&e===lt.A?ee.isTrue(this.matrix[S.INTERIOR][S.INTERIOR])&&ee.isTrue(this.matrix[S.INTERIOR][S.EXTERIOR])&&ee.isTrue(this.matrix[S.EXTERIOR][S.INTERIOR]):t===lt.L&&e===lt.L&&1===this.matrix[S.INTERIOR][S.INTERIOR]&&ee.isTrue(this.matrix[S.INTERIOR][S.EXTERIOR])&&ee.isTrue(this.matrix[S.EXTERIOR][S.INTERIOR])},isEquals:function(t,e){return t===e&&ee.isTrue(this.matrix[S.INTERIOR][S.INTERIOR])&&this.matrix[S.INTERIOR][S.EXTERIOR]===lt.FALSE&&this.matrix[S.BOUNDARY][S.EXTERIOR]===lt.FALSE&&this.matrix[S.EXTERIOR][S.INTERIOR]===lt.FALSE&&this.matrix[S.EXTERIOR][S.BOUNDARY]===lt.FALSE},toString:function(){for(var t=new F("123456789"),e=0;e<3;e++)for(var n=0;n<3;n++)t.setCharAt(3*e+n,lt.toDimensionSymbol(this.matrix[e][n]));return t.toString()},setAll:function(t){for(var e=0;e<3;e++)for(var n=0;n<3;n++)this.matrix[e][n]=t},get:function(t,e){return this.matrix[t][e]},transpose:function(){var t=this.matrix[1][0];return this.matrix[1][0]=this.matrix[0][1],this.matrix[0][1]=t,t=this.matrix[2][0],this.matrix[2][0]=this.matrix[0][2],this.matrix[0][2]=t,t=this.matrix[2][1],this.matrix[2][1]=this.matrix[1][2],this.matrix[1][2]=t,this},matches:function(t){if(9!==t.length)throw new i("Should be length 9: "+t);for(var e=0;e<3;e++)for(var n=0;n<3;n++)if(!ee.matches(this.matrix[e][n],t.charAt(3*e+n)))return!1;return!0},add:function(t){for(var e=0;e<3;e++)for(var n=0;n<3;n++)this.setAtLeast(e,n,t.get(e,n))},isDisjoint:function(){return this.matrix[S.INTERIOR][S.INTERIOR]===lt.FALSE&&this.matrix[S.INTERIOR][S.BOUNDARY]===lt.FALSE&&this.matrix[S.BOUNDARY][S.INTERIOR]===lt.FALSE&&this.matrix[S.BOUNDARY][S.BOUNDARY]===lt.FALSE},isCrosses:function(t,e){return t===lt.P&&e===lt.L||t===lt.P&&e===lt.A||t===lt.L&&e===lt.A?ee.isTrue(this.matrix[S.INTERIOR][S.INTERIOR])&&ee.isTrue(this.matrix[S.INTERIOR][S.EXTERIOR]):t===lt.L&&e===lt.P||t===lt.A&&e===lt.P||t===lt.A&&e===lt.L?ee.isTrue(this.matrix[S.INTERIOR][S.INTERIOR])&&ee.isTrue(this.matrix[S.EXTERIOR][S.INTERIOR]):t===lt.L&&e===lt.L&&0===this.matrix[S.INTERIOR][S.INTERIOR]},interfaces_:function(){return[s]},getClass:function(){return ee}}),ee.matches=function(){if(Number.isInteger(arguments[0])&&"string"==typeof arguments[1]){var t=arguments[0],e=arguments[1];return e===lt.SYM_DONTCARE||e===lt.SYM_TRUE&&(t>=0||t===lt.TRUE)||e===lt.SYM_FALSE&&t===lt.FALSE||e===lt.SYM_P&&t===lt.P||e===lt.SYM_L&&t===lt.L||e===lt.SYM_A&&t===lt.A}if("string"==typeof arguments[0]&&"string"==typeof arguments[1]){var n=arguments[0],i=arguments[1],r=new ee(n);return r.matches(i)}},ee.isTrue=function(t){return t>=0||t===lt.TRUE};var Ko=Object.freeze({Coordinate:d,CoordinateList:C,Envelope:w,LineSegment:te,GeometryFactory:Ht,Geometry:j,Point:At,LineString:wt,LinearRing:Ft,Polygon:Dt,GeometryCollection:ft,MultiPoint:Lt,MultiLineString:dt,MultiPolygon:Tt,Dimension:lt,IntersectionMatrix:ee,PrecisionModel:Ut});e(ne.prototype,{addPoint:function(t){this.ptCount+=1,this.ptCentSum.x+=t.x,this.ptCentSum.y+=t.y},setBasePoint:function(t){null===this.areaBasePt&&(this.areaBasePt=t)},addLineSegments:function(t){for(var e=0,n=0;n<t.length-1;n++){var i=t[n].distance(t[n+1]);if(0!==i){e+=i;var r=(t[n].x+t[n+1].x)/2;this.lineCentSum.x+=i*r;var o=(t[n].y+t[n+1].y)/2;this.lineCentSum.y+=i*o}}this.totalLength+=e,0===e&&t.length>0&&this.addPoint(t[0])},addHole:function(t){for(var e=Qt.isCCW(t),n=0;n<t.length-1;n++)this.addTriangle(this.areaBasePt,t[n],t[n+1],e);this.addLineSegments(t)},getCentroid:function(){var t=new d;if(Math.abs(this.areasum2)>0)t.x=this.cg3.x/3/this.areasum2,t.y=this.cg3.y/3/this.areasum2;else if(this.totalLength>0)t.x=this.lineCentSum.x/this.totalLength,t.y=this.lineCentSum.y/this.totalLength;else{if(!(this.ptCount>0))return null;t.x=this.ptCentSum.x/this.ptCount,t.y=this.ptCentSum.y/this.ptCount}return t},addShell:function(t){t.length>0&&this.setBasePoint(t[0]);for(var e=!Qt.isCCW(t),n=0;n<t.length-1;n++)this.addTriangle(this.areaBasePt,t[n],t[n+1],e);this.addLineSegments(t)},addTriangle:function(t,e,n,i){var r=i?1:-1;ne.centroid3(t,e,n,this.triangleCent3);var o=ne.area2(t,e,n);this.cg3.x+=r*o*this.triangleCent3.x,this.cg3.y+=r*o*this.triangleCent3.y,this.areasum2+=r*o},add:function(){if(arguments[0]instanceof Dt){var t=arguments[0];this.addShell(t.getExteriorRing().getCoordinates());for(var e=0;e<t.getNumInteriorRing();e++)this.addHole(t.getInteriorRingN(e).getCoordinates())}else if(arguments[0]instanceof j){var n=arguments[0];if(n.isEmpty())return null;if(n instanceof At)this.addPoint(n.getCoordinate());else if(n instanceof wt)this.addLineSegments(n.getCoordinates());else if(n instanceof Dt){var i=n;this.add(i)}else if(n instanceof ft){var r=n;for(e=0;e<r.getNumGeometries();e++)this.add(r.getGeometryN(e))}}},interfaces_:function(){return[]},getClass:function(){return ne}}),ne.area2=function(t,e,n){return(e.x-t.x)*(n.y-t.y)-(n.x-t.x)*(e.y-t.y)},ne.centroid3=function(t,e,n,i){return i.x=t.x+e.x+n.x,i.y=t.y+e.y+n.y,null},ne.getCentroid=function(t){return new ne(t).getCentroid()},ie.prototype=new Error,ie.prototype.name="EmptyStackException",re.prototype=new y,re.prototype.add=function(t){return this.array_.push(t),!0},re.prototype.get=function(t){if(t<0||t>=this.size())throw new IndexOutOfBoundsException;return this.array_[t]},re.prototype.push=function(t){return this.array_.push(t),t},re.prototype.pop=function(t){if(0===this.array_.length)throw new ie;return this.array_.pop()},re.prototype.peek=function(){if(0===this.array_.length)throw new ie;return this.array_[this.array_.length-1]},re.prototype.empty=function(){return 0===this.array_.length},re.prototype.isEmpty=function(){return this.empty()},re.prototype.search=function(t){return this.array_.indexOf(t)},re.prototype.size=function(){return this.array_.length},re.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e(oe.prototype,{filter:function(t){this.treeSet.contains(t)||(this.list.add(t),this.treeSet.add(t))},getCoordinates:function(){var t=new Array(this.list.size()).fill(null);return this.list.toArray(t)},interfaces_:function(){return[V]},getClass:function(){return oe}}),oe.filterCoordinates=function(t){for(var e=new oe,n=0;n<t.length;n++)e.filter(t[n]);return e.getCoordinates()},e(se.prototype,{preSort:function(t){for(var e=null,n=1;n<t.length;n++)(t[n].y<t[0].y||t[n].y===t[0].y&&t[n].x<t[0].x)&&(e=t[0],t[0]=t[n],t[n]=e);return ut.sort(t,1,t.length,new ae(t[0])),t},computeOctRing:function(t){var e=this.computeOctPts(t),n=new C;return n.add(e,!1),n.size()<3?null:(n.closeRing(),n.toCoordinateArray())},lineOrPolygon:function(t){if(3===(t=this.cleanRing(t)).length)return this.geomFactory.createLineString([t[0],t[1]]);var e=this.geomFactory.createLinearRing(t);return this.geomFactory.createPolygon(e,null)},cleanRing:function(t){f.equals(t[0],t[t.length-1]);for(var e=new b,n=null,i=0;i<=t.length-2;i++){var r=t[i],o=t[i+1];r.equals(o)||null!==n&&this.isBetween(n,r,o)||(e.add(r),n=r)}e.add(t[t.length-1]);var s=new Array(e.size()).fill(null);return e.toArray(s)},isBetween:function(t,e,n){if(0!==Qt.computeOrientation(t,e,n))return!1;if(t.x!==n.x){if(t.x<=e.x&&e.x<=n.x)return!0;if(n.x<=e.x&&e.x<=t.x)return!0}if(t.y!==n.y){if(t.y<=e.y&&e.y<=n.y)return!0;if(n.y<=e.y&&e.y<=t.y)return!0}return!1},reduce:function(t){var e=this.computeOctRing(t);if(null===e)return t;for(var n=new at,i=0;i<e.length;i++)n.add(e[i]);for(i=0;i<t.length;i++)Qt.isPointInRing(t[i],e)||n.add(t[i]);var r=H.toCoordinateArray(n);return r.length<3?this.padArray3(r):r},getConvexHull:function(){if(0===this.inputPts.length)return this.geomFactory.createGeometryCollection(null);if(1===this.inputPts.length)return this.geomFactory.createPoint(this.inputPts[0]);if(2===this.inputPts.length)return this.geomFactory.createLineString(this.inputPts);var t=this.inputPts;this.inputPts.length>50&&(t=this.reduce(this.inputPts));var e=this.preSort(t),n=this.grahamScan(e),i=this.toCoordinateArray(n);return this.lineOrPolygon(i)},padArray3:function(t){for(var e=new Array(3).fill(null),n=0;n<e.length;n++)n<t.length?e[n]=t[n]:e[n]=t[0];return e},computeOctPts:function(t){for(var e=new Array(8).fill(null),n=0;n<e.length;n++)e[n]=t[0];for(var i=1;i<t.length;i++)t[i].x<e[0].x&&(e[0]=t[i]),t[i].x-t[i].y<e[1].x-e[1].y&&(e[1]=t[i]),t[i].y>e[2].y&&(e[2]=t[i]),t[i].x+t[i].y>e[3].x+e[3].y&&(e[3]=t[i]),t[i].x>e[4].x&&(e[4]=t[i]),t[i].x-t[i].y>e[5].x-e[5].y&&(e[5]=t[i]),t[i].y<e[6].y&&(e[6]=t[i]),t[i].x+t[i].y<e[7].x+e[7].y&&(e[7]=t[i]);return e},toCoordinateArray:function(t){for(var e=new Array(t.size()).fill(null),n=0;n<t.size();n++){var i=t.get(n);e[n]=i}return e},grahamScan:function(t){var e=null,n=new re;e=n.push(t[0]),e=n.push(t[1]),e=n.push(t[2]);for(var i=3;i<t.length;i++){for(e=n.pop();!n.empty()&&Qt.computeOrientation(n.peek(),e,t[i])>0;)e=n.pop();e=n.push(e),e=n.push(t[i])}return e=n.push(t[0]),n},interfaces_:function(){return[]},getClass:function(){return se}}),se.extractCoordinates=function(t){var e=new oe;return t.apply(e),e.getCoordinates()},e(ae.prototype,{compare:function(t,e){var n=t,i=e;return ae.polarCompare(this.origin,n,i)},interfaces_:function(){return[a]},getClass:function(){return ae}}),ae.polarCompare=function(t,e,n){var i=e.x-t.x,r=e.y-t.y,o=n.x-t.x,s=n.y-t.y,a=Qt.computeOrientation(t,e,n);if(a===Qt.COUNTERCLOCKWISE)return 1;if(a===Qt.CLOCKWISE)return-1;var u=i*i+r*r,l=o*o+s*s;return u<l?-1:u>l?1:0},se.RadialComparator=ae,e(ue.prototype,{transformPoint:function(t,e){return this.factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},transformPolygon:function(t,e){var n=!0,i=this.transformLinearRing(t.getExteriorRing(),t);null!==i&&i instanceof Ft&&!i.isEmpty()||(n=!1);for(var r=new b,o=0;o<t.getNumInteriorRing();o++){var s=this.transformLinearRing(t.getInteriorRingN(o),t);null===s||s.isEmpty()||(s instanceof Ft||(n=!1),r.add(s))}if(n)return this.factory.createPolygon(i,r.toArray([]));var a=new b;return null!==i&&a.add(i),a.addAll(r),this.factory.buildGeometry(a)},createCoordinateSequence:function(t){return this.factory.getCoordinateSequenceFactory().create(t)},getInputGeometry:function(){return this.inputGeom},transformMultiLineString:function(t,e){for(var n=new b,i=0;i<t.getNumGeometries();i++){var r=this.transformLineString(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this.factory.buildGeometry(n)},transformCoordinates:function(t,e){return this.copy(t)},transformLineString:function(t,e){return this.factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},transformMultiPoint:function(t,e){for(var n=new b,i=0;i<t.getNumGeometries();i++){var r=this.transformPoint(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this.factory.buildGeometry(n)},transformMultiPolygon:function(t,e){for(var n=new b,i=0;i<t.getNumGeometries();i++){var r=this.transformPolygon(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this.factory.buildGeometry(n)},copy:function(t){return t.copy()},transformGeometryCollection:function(t,e){for(var n=new b,i=0;i<t.getNumGeometries();i++){var r=this.transform(t.getGeometryN(i));null!==r&&(this.pruneEmptyGeometry&&r.isEmpty()||n.add(r))}return this.preserveGeometryCollectionType?this.factory.createGeometryCollection(Ht.toGeometryArray(n)):this.factory.buildGeometry(n)},transform:function(t){if(this.inputGeom=t,this.factory=t.getFactory(),t instanceof At)return this.transformPoint(t,null);if(t instanceof Lt)return this.transformMultiPoint(t,null);if(t instanceof Ft)return this.transformLinearRing(t,null);if(t instanceof wt)return this.transformLineString(t,null);if(t instanceof dt)return this.transformMultiLineString(t,null);if(t instanceof Dt)return this.transformPolygon(t,null);if(t instanceof Tt)return this.transformMultiPolygon(t,null);if(t instanceof ft)return this.transformGeometryCollection(t,null);throw new i("Unknown Geometry subtype: "+t.getClass().getName())},transformLinearRing:function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===n)return this.factory.createLinearRing(null);var i=n.size();return i>0&&i<4&&!this.preserveType?this.factory.createLineString(n):this.factory.createLinearRing(n)},interfaces_:function(){return[]},getClass:function(){return ue}}),e(le.prototype,{snapVertices:function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),i=0;i<n;i++){var r=t.get(i),o=this.findSnapForVertex(r,e);null!==o&&(t.set(i,new d(o)),0===i&&this._isClosed&&t.set(t.size()-1,new d(o)))}},findSnapForVertex:function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this.snapTolerance)return e[n]}return null},snapTo:function(t){var e=new C(this.srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},snapSegments:function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var i=0;i<n;i++){var r=e[i],o=this.findSegmentIndexToSnap(r,t);o>=0&&t.add(o+1,new d(r),!1)}},findSegmentIndexToSnap:function(t,e){for(var n=r.MAX_VALUE,i=-1,o=0;o<e.size()-1;o++){if(this.seg.p0=e.get(o),this.seg.p1=e.get(o+1),this.seg.p0.equals2D(t)||this.seg.p1.equals2D(t)){if(this.allowSnappingToSourceVertices)continue;return-1}var s=this.seg.distance(t);s<this.snapTolerance&&s<n&&(n=s,i=o)}return i},setAllowSnappingToSourceVertices:function(t){this.allowSnappingToSourceVertices=t},interfaces_:function(){return[]},getClass:function(){return le}}),le.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])},e(ce.prototype,{snapTo:function(t,e){return new he(e,this.extractTargetCoordinates(t)).transform(this.srcGeom)},snapToSelf:function(t,e){var n=new he(t,this.extractTargetCoordinates(this.srcGeom),!0).transform(this.srcGeom),i=n;return e&&D(i,St)&&(i=n.buffer(0)),i},computeSnapTolerance:function(t){return this.computeMinimumSegmentLength(t)/10},extractTargetCoordinates:function(t){for(var e=new at,n=t.getCoordinates(),i=0;i<n.length;i++)e.add(n[i]);return e.toArray(new Array(0).fill(null))},computeMinimumSegmentLength:function(t){for(var e=r.MAX_VALUE,n=0;n<t.length-1;n++){var i=t[n].distance(t[n+1]);i<e&&(e=i)}return e},interfaces_:function(){return[]},getClass:function(){return ce}}),ce.snap=function(t,e,n){var i=new Array(2).fill(null),r=new ce(t);i[0]=r.snapTo(e,n);var o=new ce(e);return i[1]=o.snapTo(i[0],n),i},ce.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=ce.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===Ut.FIXED){var i=1/n.getScale()*2/1.415;i>e&&(e=i)}return e}if(2===arguments.length){var r=arguments[0],o=arguments[1];return Math.min(ce.computeOverlaySnapTolerance(r),ce.computeOverlaySnapTolerance(o))}},ce.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*ce.SNAP_PRECISION_FACTOR},ce.snapToSelf=function(t,e,n){return new ce(t).snapToSelf(e,n)},ce.SNAP_PRECISION_FACTOR=1e-9,c(he,ue),e(he.prototype,{snapLine:function(t,e){var n=new le(t,this.snapTolerance);return n.setAllowSnappingToSourceVertices(this.isSelfSnap),n.snapTo(e)},transformCoordinates:function(t,e){var n=t.toCoordinateArray(),i=this.snapLine(n,this.snapPts);return this.factory.getCoordinateSequenceFactory().create(i)},interfaces_:function(){return[]},getClass:function(){return he}}),e(fe.prototype,{getCommon:function(){return r.longBitsToDouble(this.commonBits)},add:function(t){var e=r.doubleToLongBits(t);return this.isFirst?(this.commonBits=e,this.commonSignExp=fe.signExpBits(this.commonBits),this.isFirst=!1,null):fe.signExpBits(e)!==this.commonSignExp?(this.commonBits=0,null):(this.commonMantissaBitsCount=fe.numCommonMostSigMantissaBits(this.commonBits,e),void(this.commonBits=fe.zeroLowerBits(this.commonBits,64-(12+this.commonMantissaBitsCount))))},toString:function(){if(1===arguments.length){var t=arguments[0],e=r.longBitsToDouble(t),n=Long.toBinaryString(t),i="0000000000000000000000000000000000000000000000000000000000000000"+n,o=i.substring(i.length-64),s=o.substring(0,1)+"  "+o.substring(1,12)+"(exp) "+o.substring(12)+" [ "+e+" ]";return s}},interfaces_:function(){return[]},getClass:function(){return fe}}),fe.getBit=function(t,e){return 0!=(t&1<<e)?1:0},fe.signExpBits=function(t){return t>>52},fe.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},fe.numCommonMostSigMantissaBits=function(t,e){for(var n=0,i=52;i>=0;i--){if(fe.getBit(t,i)!==fe.getBit(e,i))return n;n++}return 52},e(de.prototype,{addCommonBits:function(t){var e=new ge(this.commonCoord);t.apply(e),t.geometryChanged()},removeCommonBits:function(t){if(0===this.commonCoord.x&&0===this.commonCoord.y)return t;var e=new d(this.commonCoord);e.x=-e.x,e.y=-e.y;var n=new ge(e);return t.apply(n),t.geometryChanged(),t},getCommonCoordinate:function(){return this.commonCoord},add:function(t){t.apply(this.ccFilter),this.commonCoord=this.ccFilter.getCommonCoordinate()},interfaces_:function(){return[]},getClass:function(){return de}}),e(pe.prototype,{filter:function(t){this.commonBitsX.add(t.x),this.commonBitsY.add(t.y)},getCommonCoordinate:function(){return new d(this.commonBitsX.getCommon(),this.commonBitsY.getCommon())},interfaces_:function(){return[V]},getClass:function(){return pe}}),e(ge.prototype,{filter:function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,i=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,i)},isDone:function(){return!1},isGeometryChanged:function(){return!0},interfaces_:function(){return[ht]},getClass:function(){return ge}}),de.CommonCoordinateFilter=pe,de.Translater=ge,e(ve.prototype,{next:function(){if(this.atStart)return this.atStart=!1,ve.isAtomic(this.parent)&&this.index++,this.parent;if(null!==this.subcollectionIterator){if(this.subcollectionIterator.hasNext())return this.subcollectionIterator.next();this.subcollectionIterator=null}if(this.index>=this.max)throw new x;var t=this.parent.getGeometryN(this.index++);return t instanceof ft?(this.subcollectionIterator=new ve(t),this.subcollectionIterator.next()):t},remove:function(){throw new UnsupportedOperationException(this.getClass().getName())},hasNext:function(){if(this.atStart)return!0;if(null!==this.subcollectionIterator){if(this.subcollectionIterator.hasNext())return!0;this.subcollectionIterator=null}return!(this.index>=this.max)},interfaces_:function(){return[g]},getClass:function(){return ve}}),ve.isAtomic=function(t){return!(t instanceof ft)},e(me.prototype,{locateInternal:function(){if(arguments[0]instanceof d&&arguments[1]instanceof Dt){var t=arguments[0],e=arguments[1];if(e.isEmpty())return S.EXTERIOR;var n=e.getExteriorRing(),i=this.locateInPolygonRing(t,n);if(i===S.EXTERIOR)return S.EXTERIOR;if(i===S.BOUNDARY)return S.BOUNDARY;for(var r=0;r<e.getNumInteriorRing();r++){var o=e.getInteriorRingN(r),s=this.locateInPolygonRing(t,o);if(s===S.INTERIOR)return S.EXTERIOR;if(s===S.BOUNDARY)return S.BOUNDARY}return S.INTERIOR}if(arguments[0]instanceof d&&arguments[1]instanceof wt){var a=arguments[0],u=arguments[1];if(!u.getEnvelopeInternal().intersects(a))return S.EXTERIOR;var l=u.getCoordinates();return u.isClosed()||!a.equals(l[0])&&!a.equals(l[l.length-1])?Qt.isOnLine(a,l)?S.INTERIOR:S.EXTERIOR:S.BOUNDARY}if(arguments[0]instanceof d&&arguments[1]instanceof At){var c=arguments[0],h=arguments[1],f=h.getCoordinate();return f.equals2D(c)?S.INTERIOR:S.EXTERIOR}},locateInPolygonRing:function(t,e){return e.getEnvelopeInternal().intersects(t)?Qt.locatePointInRing(t,e.getCoordinates()):S.EXTERIOR},intersects:function(t,e){return this.locate(t,e)!==S.EXTERIOR},updateLocationInfo:function(t){t===S.INTERIOR&&(this.isIn=!0),t===S.BOUNDARY&&this.numBoundaries++},computeLocation:function(t,e){if(e instanceof At&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof wt)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Dt)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof dt)for(var n=e,i=0;i<n.getNumGeometries();i++){var r=n.getGeometryN(i);this.updateLocationInfo(this.locateInternal(t,r))}else if(e instanceof Tt){var o=e;for(i=0;i<o.getNumGeometries();i++){var s=o.getGeometryN(i);this.updateLocationInfo(this.locateInternal(t,s))}}else if(e instanceof ft)for(var a=new ve(e);a.hasNext();){var u=a.next();u!==e&&this.computeLocation(t,u)}},locate:function(t,e){return e.isEmpty()?S.EXTERIOR:e instanceof wt||e instanceof Dt?this.locateInternal(t,e):(this.isIn=!1,this.numBoundaries=0,this.computeLocation(t,e),this.boundaryRule.isInBoundary(this.numBoundaries)?S.BOUNDARY:this.numBoundaries>0||this.isIn?S.INTERIOR:S.EXTERIOR)},interfaces_:function(){return[]},getClass:function(){return me}}),e(ye.prototype,{interfaces_:function(){return[]},getClass:function(){return ye}}),ye.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new i("Cannot compute the octant for point ( "+t+", "+e+" )");var n=Math.abs(t),r=Math.abs(e);return t>=0?e>=0?n>=r?0:1:n>=r?7:6:e>=0?n>=r?3:2:n>=r?4:5}if(arguments[0]instanceof d&&arguments[1]instanceof d){var o=arguments[0],s=arguments[1],a=s.x-o.x,u=s.y-o.y;if(0===a&&0===u)throw new i("Cannot compute the octant for two identical points "+o);return ye.octant(a,u)}},e(xe.prototype,{getCoordinates:function(){},size:function(){},getCoordinate:function(t){},isClosed:function(){},setData:function(t){},getData:function(){},interfaces_:function(){return[]},getClass:function(){return xe}}),e(Ee.prototype,{getCoordinates:function(){return this.pts},size:function(){return this.pts.length},getCoordinate:function(t){return this.pts[t]},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getSegmentOctant:function(t){return t===this.pts.length-1?-1:ye.octant(this.getCoordinate(t),this.getCoordinate(t+1))},setData:function(t){this.data=t},getData:function(){return this.data},toString:function(){return Wt.toLineString(new Nt(this.pts))},interfaces_:function(){return[xe]},getClass:function(){return Ee}}),e(be.prototype,{getBounds:function(){},interfaces_:function(){return[]},getClass:function(){return be}}),e(Ce.prototype,{getItem:function(){return this.item},getBounds:function(){return this.bounds},interfaces_:function(){return[be,u]},getClass:function(){return Ce}}),e(we.prototype,{poll:function(){if(this.isEmpty())return null;var t=this.items.get(1);return this.items.set(1,this.items.get(this._size)),this._size-=1,this.reorder(1),t},size:function(){return this._size},reorder:function(t){for(var e=null,n=this.items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this.items.get(e+1).compareTo(this.items.get(e))<0&&e++,this.items.get(e).compareTo(n)<0);t=e)this.items.set(t,this.items.get(e));this.items.set(t,n)},clear:function(){this._size=0,this.items.clear()},isEmpty:function(){return 0===this._size},add:function(t){this.items.add(null),this._size+=1;var e=this._size;for(this.items.set(0,t);t.compareTo(this.items.get(Math.trunc(e/2)))<0;e/=2)this.items.set(e,this.items.get(Math.trunc(e/2)));this.items.set(e,t)},interfaces_:function(){return[]},getClass:function(){return we}}),e(_e.prototype,{visitItem:function(t){},interfaces_:function(){return[]},getClass:function(){return _e}}),e(Ae.prototype,{insert:function(t,e){},remove:function(t,e){},query:function(){1===arguments.length?arguments[0]:2===arguments.length&&(arguments[0],arguments[1])},interfaces_:function(){return[]},getClass:function(){return Ae}}),e(Se.prototype,{getLevel:function(){return this.level},size:function(){return this.childBoundables.size()},getChildBoundables:function(){return this.childBoundables},addChildBoundable:function(t){f.isTrue(null===this.bounds),this.childBoundables.add(t)},isEmpty:function(){return this.childBoundables.isEmpty()},getBounds:function(){return null===this.bounds&&(this.bounds=this.computeBounds()),this.bounds},interfaces_:function(){return[be,u]},getClass:function(){return Se}}),Se.serialVersionUID=0x5a1e55ec41369800;var Zo={reverseOrder:function(){return{compare:function(t,e){return e.compareTo(t)}}},min:function(t){return Zo.sort(t),t.get(0)},sort:function(t,e){var n=t.toArray();e?ut.sort(n,e):ut.sort(n);for(var i=t.iterator(),r=0,o=n.length;r<o;r++)i.next(),i.set(n[r])},singletonList:function(t){var e=new b;return e.add(t),e}};e(De.prototype,{expandToQueue:function(t,e){var n=De.isComposite(this.boundable1),r=De.isComposite(this.boundable2);if(n&&r)return De.area(this.boundable1)>De.area(this.boundable2)?(this.expand(this.boundable1,this.boundable2,t,e),null):(this.expand(this.boundable2,this.boundable1,t,e),null);if(n)return this.expand(this.boundable1,this.boundable2,t,e),null;if(r)return this.expand(this.boundable2,this.boundable1,t,e),null;throw new i("neither boundable is composite")},isLeaves:function(){return!(De.isComposite(this.boundable1)||De.isComposite(this.boundable2))},compareTo:function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0},expand:function(t,e,n,i){for(var r=t.getChildBoundables().iterator();r.hasNext();){var o=new De(r.next(),e,this.itemDistance);o.getDistance()<i&&n.add(o)}},getBoundable:function(t){return 0===t?this.boundable1:this.boundable2},getDistance:function(){return this._distance},distance:function(){return this.isLeaves()?this.itemDistance.distance(this.boundable1,this.boundable2):this.boundable1.getBounds().distance(this.boundable2.getBounds())},interfaces_:function(){return[o]},getClass:function(){return De}}),De.area=function(t){return t.getBounds().getArea()},De.isComposite=function(t){return t instanceof Se},e(Le.prototype,{getNodeCapacity:function(){return this.nodeCapacity},lastNode:function(t){return t.get(t.size()-1)},size:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this.root));if(1===arguments.length){for(var t=arguments[0],e=0,n=t.getChildBoundables().iterator();n.hasNext();){var i=n.next();i instanceof Se?e+=this.size(i):i instanceof Ce&&(e+=1)}return e}},removeItem:function(t,e){for(var n=null,i=t.getChildBoundables().iterator();i.hasNext();){var r=i.next();r instanceof Ce&&r.getItem()===e&&(n=r)}return null!==n&&(t.getChildBoundables().remove(n),!0)},itemsTree:function(){if(0===arguments.length){this.build();var t=this.itemsTree(this.root);return null===t?new b:t}if(1===arguments.length){for(var e=arguments[0],n=new b,i=e.getChildBoundables().iterator();i.hasNext();){var r=i.next();if(r instanceof Se){var o=this.itemsTree(r);null!==o&&n.add(o)}else r instanceof Ce?n.add(r.getItem()):f.shouldNeverReachHere()}return n.size()<=0?null:n}},insert:function(t,e){f.isTrue(!this.built,"Cannot insert items into an STR packed R-tree after it has been built."),this.itemBoundables.add(new Ce(t,e))},boundablesAtLevel:function(){if(1===arguments.length){var t=arguments[0],e=new b;return this.boundablesAtLevel(t,this.root,e),e}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];if(f.isTrue(n>-2),i.getLevel()===n)return r.add(i),null;for(var o=i.getChildBoundables().iterator();o.hasNext();){var s=o.next();s instanceof Se?this.boundablesAtLevel(n,s,r):(f.isTrue(s instanceof Ce),-1===n&&r.add(s))}return null}},query:function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new b;return this.isEmpty()||this.getIntersectsOp().intersects(this.root.getBounds(),t)&&this.query(t,this.root,e),e}if(2===arguments.length){var n=arguments[0],i=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this.root.getBounds(),n)&&this.query(n,this.root,i)}else if(3===arguments.length)if(D(arguments[2],_e)&&arguments[0]instanceof Object&&arguments[1]instanceof Se)for(var r=arguments[0],o=arguments[1],s=arguments[2],a=o.getChildBoundables(),u=0;u<a.size();u++){var l=a.get(u);this.getIntersectsOp().intersects(l.getBounds(),r)&&(l instanceof Se?this.query(r,l,s):l instanceof Ce?s.visitItem(l.getItem()):f.shouldNeverReachHere())}else if(D(arguments[2],y)&&arguments[0]instanceof Object&&arguments[1]instanceof Se){var c=arguments[0],h=arguments[1],d=arguments[2];for(a=h.getChildBoundables(),u=0;u<a.size();u++)l=a.get(u),this.getIntersectsOp().intersects(l.getBounds(),c)&&(l instanceof Se?this.query(c,l,d):l instanceof Ce?d.add(l.getItem()):f.shouldNeverReachHere())}},build:function(){return this.built?null:(this.root=this.itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this.itemBoundables,-1),this.itemBoundables=null,void(this.built=!0))},getRoot:function(){return this.build(),this.root},remove:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this.root.getBounds(),t)&&this.remove(t,this.root,e)}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=this.removeItem(i,r);if(o)return!0;for(var s=null,a=i.getChildBoundables().iterator();a.hasNext();){var u=a.next();if(this.getIntersectsOp().intersects(u.getBounds(),n)&&u instanceof Se&&(o=this.remove(n,u,r))){s=u;break}}return null!==s&&s.getChildBoundables().isEmpty()&&i.getChildBoundables().remove(s),o}},createHigherLevels:function(t,e){f.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},depth:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this.root));if(1===arguments.length){for(var t=arguments[0],e=0,n=t.getChildBoundables().iterator();n.hasNext();){var i=n.next();if(i instanceof Se){var r=this.depth(i);r>e&&(e=r)}}return e+1}},createParentBoundables:function(t,e){f.isTrue(!t.isEmpty());var n=new b;n.add(this.createNode(e));var i=new b(t);Zo.sort(i,this.getComparator());for(var r=i.iterator();r.hasNext();){var o=r.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(o)}return n},isEmpty:function(){return this.built?this.root.isEmpty():this.itemBoundables.isEmpty()},interfaces_:function(){return[u]},getClass:function(){return Le}}),Le.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},Le.IntersectsOp=function(){},Le.serialVersionUID=-0x35ef64c82d4c5400,Le.DEFAULT_NODE_CAPACITY=10,e(Fe.prototype,{distance:function(t,e){},interfaces_:function(){return[]},getClass:function(){return Fe}}),c(Te,Le),e(Te.prototype,{createParentBoundablesFromVerticalSlices:function(t,e){f.isTrue(t.length>0);for(var n=new b,i=0;i<t.length;i++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[i],e));return n},createNode:function(t){return new Me(t)},size:function(){return 0===arguments.length?Le.prototype.size.call(this):Le.prototype.size.apply(this,arguments)},insert:function(){if(2!==arguments.length)return Le.prototype.insert.apply(this,arguments);var t=arguments[0],e=arguments[1];return t.isNull()?null:void Le.prototype.insert.call(this,t,e)},getIntersectsOp:function(){return Te.intersectsOp},verticalSlices:function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),i=new Array(e).fill(null),r=t.iterator(),o=0;o<e;o++){i[o]=new b;for(var s=0;r.hasNext()&&s<n;){var a=r.next();i[o].add(a),s++}}return i},query:function(){if(1===arguments.length){var t=arguments[0];return Le.prototype.query.call(this,t)}if(2===arguments.length){var e=arguments[0],n=arguments[1];Le.prototype.query.call(this,e,n)}else if(3===arguments.length)if(D(arguments[2],_e)&&arguments[0]instanceof Object&&arguments[1]instanceof Se){var i=arguments[0],r=arguments[1],o=arguments[2];Le.prototype.query.call(this,i,r,o)}else if(D(arguments[2],y)&&arguments[0]instanceof Object&&arguments[1]instanceof Se){var s=arguments[0],a=arguments[1],u=arguments[2];Le.prototype.query.call(this,s,a,u)}},getComparator:function(){return Te.yComparator},createParentBoundablesFromVerticalSlice:function(t,e){return Le.prototype.createParentBoundables.call(this,t,e)},remove:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return Le.prototype.remove.call(this,t,e)}return Le.prototype.remove.apply(this,arguments)},depth:function(){return 0===arguments.length?Le.prototype.depth.call(this):Le.prototype.depth.apply(this,arguments)},createParentBoundables:function(t,e){f.isTrue(!t.isEmpty());var n=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),i=new b(t);Zo.sort(i,Te.xComparator);var r=this.verticalSlices(i,Math.trunc(Math.ceil(Math.sqrt(n))));return this.createParentBoundablesFromVerticalSlices(r,e)},nearestNeighbour:function(){if(1===arguments.length){if(D(arguments[0],Fe)){var t=arguments[0],e=new De(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(e)}if(arguments[0]instanceof De){var n=arguments[0];return this.nearestNeighbour(n,r.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof Te&&D(arguments[1],Fe)){var i=arguments[0],o=arguments[1];return e=new De(this.getRoot(),i.getRoot(),o),this.nearestNeighbour(e)}if(arguments[0]instanceof De&&"number"==typeof arguments[1]){var s=arguments[0],a=arguments[1],u=a,l=null,c=new we;for(c.add(s);!c.isEmpty()&&u>0;){var h=c.poll(),f=h.getDistance();if(f>=u)break;h.isLeaves()?(u=f,l=h):h.expandToQueue(c,u)}return[l.getBoundable(0).getItem(),l.getBoundable(1).getItem()]}}else if(3===arguments.length){var d=arguments[0],p=arguments[1],g=arguments[2],v=new Ce(d,p);return e=new De(this.getRoot(),v,g),this.nearestNeighbour(e)[0]}},interfaces_:function(){return[Ae,u]},getClass:function(){return Te}}),Te.centreX=function(t){return Te.avg(t.getMinX(),t.getMaxX())},Te.avg=function(t,e){return(t+e)/2},Te.centreY=function(t){return Te.avg(t.getMinY(),t.getMaxY())},c(Me,Se),e(Me.prototype,{computeBounds:function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new w(n.getBounds()):t.expandToInclude(n.getBounds())}return t},interfaces_:function(){return[]},getClass:function(){return Me}}),Te.STRtreeNode=Me,Te.serialVersionUID=0x39920f7d5f261e0,Te.xComparator={interfaces_:function(){return[a]},compare:function(t,e){return Le.compareDoubles(Te.centreX(t.getBounds()),Te.centreX(e.getBounds()))}},Te.yComparator={interfaces_:function(){return[a]},compare:function(t,e){return Le.compareDoubles(Te.centreY(t.getBounds()),Te.centreY(e.getBounds()))}},Te.intersectsOp={interfaces_:function(){return[IntersectsOp]},intersects:function(t,e){return t.intersects(e)}},Te.DEFAULT_NODE_CAPACITY=10,e(Ie.prototype,{interfaces_:function(){return[]},getClass:function(){return Ie}}),Ie.relativeSign=function(t,e){return t<e?-1:t>e?1:0},Ie.compare=function(t,e,n){if(e.equals2D(n))return 0;var i=Ie.relativeSign(e.x,n.x),r=Ie.relativeSign(e.y,n.y);switch(t){case 0:return Ie.compareValue(i,r);case 1:return Ie.compareValue(r,i);case 2:return Ie.compareValue(r,-i);case 3:return Ie.compareValue(-i,r);case 4:return Ie.compareValue(-i,-r);case 5:return Ie.compareValue(-r,-i);case 6:return Ie.compareValue(-r,i);case 7:return Ie.compareValue(i,-r)}return f.shouldNeverReachHere("invalid octant value"),0},Ie.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0},e(Pe.prototype,{getCoordinate:function(){return this.coord},print:function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},compareTo:function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:Ie.compare(this.segmentOctant,this.coord,e.coord)},isEndPoint:function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},isInterior:function(){return this._isInterior},interfaces_:function(){return[o]},getClass:function(){return Pe}}),e(Oe.prototype,{getSplitCoordinates:function(){var t=new C;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next();this.addEdgeCoordinates(n,i,t),n=i}return t.toCoordinateArray()},addCollapsedNodes:function(){var t=new b;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this.edge.getCoordinate(n),n)}},print:function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},findCollapsesFromExistingVertices:function(t){for(var e=0;e<this.edge.size()-2;e++){var n=this.edge.getCoordinate(e),i=(this.edge.getCoordinate(e+1),this.edge.getCoordinate(e+2));n.equals2D(i)&&t.add(new T(e+1))}},addEdgeCoordinates:function(t,e,n){e.segmentIndex,t.segmentIndex;var i=this.edge.getCoordinate(e.segmentIndex),r=e.isInterior()||!e.coord.equals2D(i);n.add(new d(t.coord),!1);for(var o=t.segmentIndex+1;o<=e.segmentIndex;o++)n.add(this.edge.getCoordinate(o));r&&n.add(new d(e.coord))},iterator:function(){return this.nodeMap.values().iterator()},addSplitEdges:function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}},findCollapseIndex:function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var i=e.segmentIndex-t.segmentIndex;return e.isInterior()||i--,1===i&&(n[0]=t.segmentIndex+1,!0)},findCollapsesFromInsertedNodes:function(t){for(var e=new Array(1).fill(null),n=this.iterator(),i=n.next();n.hasNext();){var r=n.next();this.findCollapseIndex(i,r,e)&&t.add(new T(e[0])),i=r}},getEdge:function(){return this.edge},addEndpoints:function(){var t=this.edge.size()-1;this.add(this.edge.getCoordinate(0),0),this.add(this.edge.getCoordinate(t),t)},createSplitEdge:function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=this.edge.getCoordinate(e.segmentIndex),r=e.isInterior()||!e.coord.equals2D(i);r||n--;var o=new Array(n).fill(null),s=0;o[s++]=new d(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this.edge.getCoordinate(a);return r&&(o[s]=new d(e.coord)),new ke(o,this.edge.getData())},add:function(t,e){var n=new Pe(this.edge,t,e,this.edge.getSegmentOctant(e)),i=this.nodeMap.get(n);return null!==i?(f.isTrue(i.coord.equals2D(t),"Found equal nodes with different coordinates"),i):(this.nodeMap.put(n,n),n)},checkSplitEdgesCorrectness:function(t){var e=this.edge.getCoordinates(),n=t.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new l("bad split edge start point at "+n);var i=t.get(t.size()-1).getCoordinates(),r=i[i.length-1];if(!r.equals2D(e[e.length-1]))throw new l("bad split edge end point at "+r)},interfaces_:function(){return[]},getClass:function(){return Oe}}),e(Be.prototype,{next:function(){return null===this.currNode?(this.currNode=this.nextNode,this.currSegIndex=this.currNode.segmentIndex,this.readNextNode(),this.currNode):null===this.nextNode?null:this.nextNode.segmentIndex===this.currNode.segmentIndex?(this.currNode=this.nextNode,this.currSegIndex=this.currNode.segmentIndex,this.readNextNode(),this.currNode):(this.nextNode.segmentIndex,this.currNode.segmentIndex,null)},remove:function(){throw new UnsupportedOperationException(this.getClass().getName())},hasNext:function(){return null!==this.nextNode},readNextNode:function(){this.nodeIt.hasNext()?this.nextNode=this.nodeIt.next():this.nextNode=null},interfaces_:function(){return[g]},getClass:function(){return Be}}),e(Ne.prototype,{addIntersection:function(t,e){},interfaces_:function(){return[xe]},getClass:function(){return Ne}}),e(ke.prototype,{getCoordinates:function(){return this.pts},size:function(){return this.pts.length},getCoordinate:function(t){return this.pts[t]},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getSegmentOctant:function(t){return t===this.pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},setData:function(t){this.data=t},safeOctant:function(t,e){return t.equals2D(e)?0:ye.octant(t,e)},getData:function(){return this.data},addIntersection:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var n=arguments[0],i=arguments[1],r=(arguments[2],arguments[3]),o=new d(n.getIntersection(r));this.addIntersection(o,i)}},toString:function(){return Wt.toLineString(new Nt(this.pts))},getNodeList:function(){return this.nodeList},addIntersectionNode:function(t,e){var n=e,i=n+1;if(i<this.pts.length){var r=this.pts[i];t.equals2D(r)&&(n=i)}return this.nodeList.add(t,n)},addIntersections:function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)},interfaces_:function(){return[Ne]},getClass:function(){return ke}}),ke.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new b;return ke.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var n=arguments[0],i=arguments[1],r=n.iterator();r.hasNext();){var o=r.next();o.getNodeList().addSplitEdges(i)}},e(Re.prototype,{overlap:function(){if(2===arguments.length)arguments[0],arguments[1];else if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];t.getLineSegment(e,this.overlapSeg1),n.getLineSegment(i,this.overlapSeg2),this.overlap(this.overlapSeg1,this.overlapSeg2)}},interfaces_:function(){return[]},getClass:function(){return Re}}),e(je.prototype,{getLineSegment:function(t,e){e.p0=this.pts[t],e.p1=this.pts[t+1]},computeSelect:function(t,e,n,i){var r=this.pts[e],o=this.pts[n];if(i.tempEnv1.init(r,o),n-e==1)return i.select(this,e),null;if(!t.intersects(i.tempEnv1))return null;var s=Math.trunc((e+n)/2);e<s&&this.computeSelect(t,e,s,i),s<n&&this.computeSelect(t,s,n,i)},getCoordinates:function(){for(var t=new Array(this.end-this.start+1).fill(null),e=0,n=this.start;n<=this.end;n++)t[e++]=this.pts[n];return t},computeOverlaps:function(t,e){this.computeOverlapsInternal(this.start,this.end,t,t.start,t.end,e)},setId:function(t){this.id=t},select:function(t,e){this.computeSelect(t,this.start,this.end,e)},getEnvelope:function(){if(null===this.env){var t=this.pts[this.start],e=this.pts[this.end];this.env=new w(t,e)}return this.env},getEndIndex:function(){return this.end},getStartIndex:function(){return this.start},getContext:function(){return this.context},getId:function(){return this.id},computeOverlapsInternal:function(t,e,n,i,r,o){var s=this.pts[t],a=this.pts[e],u=n.pts[i],l=n.pts[r];if(e-t==1&&r-i==1)return o.overlap(this,t,n,i),null;if(o.tempEnv1.init(s,a),o.tempEnv2.init(u,l),!o.tempEnv1.intersects(o.tempEnv2))return null;var c=Math.trunc((t+e)/2),h=Math.trunc((i+r)/2);t<c&&(i<h&&this.computeOverlapsInternal(t,c,n,i,h,o),h<r&&this.computeOverlapsInternal(t,c,n,h,r,o)),c<e&&(i<h&&this.computeOverlapsInternal(c,e,n,i,h,o),h<r&&this.computeOverlapsInternal(c,e,n,h,r,o))},interfaces_:function(){return[]},getClass:function(){return je}}),e(Ve.prototype,{interfaces_:function(){return[]},getClass:function(){return Ve}}),Ve.isNorthern=function(t){return t===Ve.NE||t===Ve.NW},Ve.isOpposite=function(t,e){return t!==e&&2==(t-e+4)%4},Ve.commonHalfPlane=function(t,e){if(t===e)return t;if(2==(t-e+4)%4)return-1;var n=t<e?t:e;return 0===n&&3===(t>e?t:e)?3:n},Ve.isInHalfPlane=function(t,e){return e===Ve.SE?t===Ve.SE||t===Ve.SW:t===e||t===e+1},Ve.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new i("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?Ve.NE:Ve.SE:e>=0?Ve.NW:Ve.SW}if(arguments[0]instanceof d&&arguments[1]instanceof d){var n=arguments[0],r=arguments[1];if(r.x===n.x&&r.y===n.y)throw new i("Cannot compute the quadrant for two identical points "+n);return r.x>=n.x?r.y>=n.y?Ve.NE:Ve.SE:r.y>=n.y?Ve.NW:Ve.SW}},Ve.NE=0,Ve.NW=1,Ve.SW=2,Ve.SE=3,e(Ge.prototype,{interfaces_:function(){return[]},getClass:function(){return Ge}}),Ge.getChainStartIndices=function(t){var e=0,n=new b;n.add(new T(e));do{var i=Ge.findChainEnd(t,e);n.add(new T(i)),e=i}while(e<t.length-1);return Ge.toIntArray(n)},Ge.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var i=Ve.quadrant(t[n],t[n+1]),r=e+1;r<t.length&&(t[r-1].equals2D(t[r])||Ve.quadrant(t[r-1],t[r])===i);)r++;return r-1},Ge.getChains=function(){if(1===arguments.length){var t=arguments[0];return Ge.getChains(t,null)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],i=new b,r=Ge.getChainStartIndices(e),o=0;o<r.length-1;o++){var s=new je(e,r[o],r[o+1],n);i.add(s)}return i}},Ge.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e},e(ze.prototype,{computeNodes:function(t){},getNodedSubstrings:function(){},interfaces_:function(){return[]},getClass:function(){return ze}}),e(qe.prototype,{setSegmentIntersector:function(t){this.segInt=t},interfaces_:function(){return[ze]},getClass:function(){return qe}}),c(Ue,qe),e(Ue.prototype,{getMonotoneChains:function(){return this.monoChains},getNodedSubstrings:function(){return ke.getNodedSubstrings(this.nodedSegStrings)},getIndex:function(){return this.index},add:function(t){for(var e=Ge.getChains(t.getCoordinates(),t).iterator();e.hasNext();){var n=e.next();n.setId(this.idCounter++),this.index.insert(n.getEnvelope(),n),this.monoChains.add(n)}},computeNodes:function(t){this.nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},intersectChains:function(){for(var t=new Xe(this.segInt),e=this.monoChains.iterator();e.hasNext();)for(var n=e.next(),i=this.index.query(n.getEnvelope()).iterator();i.hasNext();){var r=i.next();if(r.getId()>n.getId()&&(n.computeOverlaps(r,t),this.nOverlaps++),this.segInt.isDone())return null}},interfaces_:function(){return[]},getClass:function(){return Ue}}),c(Xe,Re),e(Xe.prototype,{overlap:function(){if(4!==arguments.length)return Re.prototype.overlap.apply(this,arguments);var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3],r=t.getContext(),o=n.getContext();this.si.processIntersections(r,e,o,i)},interfaces_:function(){return[]},getClass:function(){return Xe}}),Ue.SegmentOverlapAction=Xe,c(He,l),e(He.prototype,{getCoordinate:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return He}}),He.msgWithCoord=function(t,e){return null!==e?t+" [ "+e+" ]":t},e(Ye.prototype,{processIntersections:function(t,e,n,i){},isDone:function(){},interfaces_:function(){return[]},getClass:function(){return Ye}}),e(We.prototype,{getInteriorIntersection:function(){return this.interiorIntersection},setCheckEndSegmentsOnly:function(t){this.isCheckEndSegmentsOnly=t},getIntersectionSegments:function(){return this.intSegments},count:function(){return this.intersectionCount},getIntersections:function(){return this.intersections},setFindAllIntersections:function(t){this.findAllIntersections=t},setKeepIntersections:function(t){this.keepIntersections=t},processIntersections:function(t,e,n,i){if(!this.findAllIntersections&&this.hasIntersection())return null;if(t===n&&e===i)return null;if(this.isCheckEndSegmentsOnly&&!this.isEndSegment(t,e)&&!this.isEndSegment(n,i))return null;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this.li.computeIntersection(r,o,s,a),this.li.hasIntersection()&&this.li.isInteriorIntersection()&&(this.intSegments=new Array(4).fill(null),this.intSegments[0]=r,this.intSegments[1]=o,this.intSegments[2]=s,this.intSegments[3]=a,this.interiorIntersection=this.li.getIntersection(0),this.keepIntersections&&this.intersections.add(this.interiorIntersection),this.intersectionCount++)},isEndSegment:function(t,e){return 0===e||e>=t.size()-2},hasIntersection:function(){return null!==this.interiorIntersection},isDone:function(){return!this.findAllIntersections&&null!==this.interiorIntersection},interfaces_:function(){return[Ye]},getClass:function(){return We}}),We.createAllIntersectionsFinder=function(t){var e=new We(t);return e.setFindAllIntersections(!0),e},We.createAnyIntersectionFinder=function(t){return new We(t)},We.createIntersectionCounter=function(t){var e=new We(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e},e(Je.prototype,{execute:function(){return null!==this.segInt?null:void this.checkInteriorIntersections()},getIntersections:function(){return this.segInt.getIntersections()},isValid:function(){return this.execute(),this._isValid},setFindAllIntersections:function(t){this.findAllIntersections=t},checkInteriorIntersections:function(){this._isValid=!0,this.segInt=new We(this.li),this.segInt.setFindAllIntersections(this.findAllIntersections);var t=new Ue;if(t.setSegmentIntersector(this.segInt),t.computeNodes(this.segStrings),this.segInt.hasIntersection())return this._isValid=!1,null},checkValid:function(){if(this.execute(),!this._isValid)throw new He(this.getErrorMessage(),this.segInt.getInteriorIntersection())},getErrorMessage:function(){if(this._isValid)return"no intersections found";var t=this.segInt.getIntersectionSegments();return"found non-noded intersection between "+Wt.toLineString(t[0],t[1])+" and "+Wt.toLineString(t[2],t[3])},interfaces_:function(){return[]},getClass:function(){return Je}}),Je.computeIntersections=function(t){var e=new Je(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()},e(Ke.prototype,{checkValid:function(){this.nv.checkValid()},interfaces_:function(){return[]},getClass:function(){return Ke}}),Ke.toSegmentStrings=function(t){for(var e=new b,n=t.iterator();n.hasNext();){var i=n.next();e.add(new Ee(i.getCoordinates(),i))}return e},Ke.checkValid=function(t){new Ke(t).checkValid()},e(Ze.prototype,{map:function(t){for(var e=new b,n=0;n<t.getNumGeometries();n++){var i=this.mapOp.map(t.getGeometryN(n));i.isEmpty()||e.add(i)}return t.getFactory().createGeometryCollection(Ht.toGeometryArray(e))},interfaces_:function(){return[]},getClass:function(){return Ze}}),Ze.map=function(t,e){return new Ze(e).map(t)},e($e.prototype,{interfaces_:function(){return[]},getClass:function(){return $e}}),$e.opposite=function(t){return t===$e.LEFT?$e.RIGHT:t===$e.RIGHT?$e.LEFT:t},$e.ON=0,$e.LEFT=1,$e.RIGHT=2,e(Qe.prototype,{setAllLocations:function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},isNull:function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==S.NONE)return!1;return!0},setAllLocationsIfNull:function(t){for(var e=0;e<this.location.length;e++)this.location[e]===S.NONE&&(this.location[e]=t)},isLine:function(){return 1===this.location.length},merge:function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[$e.ON]=this.location[$e.ON],e[$e.LEFT]=S.NONE,e[$e.RIGHT]=S.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===S.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},getLocations:function(){return this.location},flip:function(){if(this.location.length<=1)return null;var t=this.location[$e.LEFT];this.location[$e.LEFT]=this.location[$e.RIGHT],this.location[$e.RIGHT]=t},toString:function(){var t=new F;return this.location.length>1&&t.append(S.toLocationSymbol(this.location[$e.LEFT])),t.append(S.toLocationSymbol(this.location[$e.ON])),this.location.length>1&&t.append(S.toLocationSymbol(this.location[$e.RIGHT])),t.toString()},setLocations:function(t,e,n){this.location[$e.ON]=t,this.location[$e.LEFT]=e,this.location[$e.RIGHT]=n},get:function(t){return t<this.location.length?this.location[t]:S.NONE},isArea:function(){return this.location.length>1},isAnyNull:function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===S.NONE)return!0;return!1},setLocation:function(){if(1===arguments.length){var t=arguments[0];this.setLocation($e.ON,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.location[e]=n}},init:function(t){this.location=new Array(t).fill(null),this.setAllLocations(S.NONE)},isEqualOnSide:function(t,e){return this.location[e]===t.location[e]},allPositionsEqual:function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},interfaces_:function(){return[]},getClass:function(){return Qe}}),e(tn.prototype,{getGeometryCount:function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},setAllLocations:function(t,e){this.elt[t].setAllLocations(e)},isNull:function(t){return this.elt[t].isNull()},setAllLocationsIfNull:function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.elt[e].setAllLocationsIfNull(n)}},isLine:function(t){return this.elt[t].isLine()},merge:function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new Qe(t.elt[e]):this.elt[e].merge(t.elt[e])},flip:function(){this.elt[0].flip(),this.elt[1].flip()},getLocation:function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get($e.ON)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.elt[e].get(n)}},toString:function(){var t=new F;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},isArea:function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}},isAnyNull:function(t){return this.elt[t].isAnyNull()},setLocation:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation($e.ON,e)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.elt[n].setLocation(i,r)}},isEqualOnSide:function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},allPositionsEqual:function(t,e){return this.elt[t].allPositionsEqual(e)},toLine:function(t){this.elt[t].isArea()&&(this.elt[t]=new Qe(this.elt[t].location[0]))},interfaces_:function(){return[]},getClass:function(){return tn}}),tn.toLineLabel=function(t){for(var e=new tn(S.NONE),n=0;n<2;n++)e.setLocation(n,t.getLocation(n));return e},e(en.prototype,{computeRing:function(){if(null!==this.ring)return null;for(var t=new Array(this.pts.size()).fill(null),e=0;e<this.pts.size();e++)t[e]=this.pts.get(e);this.ring=this.geometryFactory.createLinearRing(t),this._isHole=Qt.isCCW(this.ring.getCoordinates())},isIsolated:function(){return 1===this.label.getGeometryCount()},computePoints:function(t){this.startDe=t;var e=t,n=!0;do{if(null===e)throw new He("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new He("Directed Edge visited twice during ring-building at "+e.getCoordinate());this.edges.add(e);var i=e.getLabel();f.isTrue(i.isArea()),this.mergeLabel(i),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this.startDe)},getLinearRing:function(){return this.ring},getCoordinate:function(t){return this.pts.get(t)},computeMaxNodeDegree:function(){this.maxNodeDegree=0;var t=this.startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this.maxNodeDegree&&(this.maxNodeDegree=e),t=this.getNext(t)}while(t!==this.startDe);this.maxNodeDegree*=2},addPoints:function(t,e,n){var i=t.getCoordinates();if(e){var r=1;n&&(r=0);for(var o=r;o<i.length;o++)this.pts.add(i[o])}else for(r=i.length-2,n&&(r=i.length-1),o=r;o>=0;o--)this.pts.add(i[o])},isHole:function(){return this._isHole},setInResult:function(){var t=this.startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this.startDe)},containsPoint:function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!Qt.isPointInRing(t,e.getCoordinates()))return!1;for(var n=this.holes.iterator();n.hasNext();)if(n.next().containsPoint(t))return!1;return!0},addHole:function(t){this.holes.add(t)},isShell:function(){return null===this.shell},getLabel:function(){return this.label},getEdges:function(){return this.edges},getMaxNodeDegree:function(){return this.maxNodeDegree<0&&this.computeMaxNodeDegree(),this.maxNodeDegree},getShell:function(){return this.shell},mergeLabel:function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=e.getLocation(n,$e.RIGHT);if(i===S.NONE)return null;if(this.label.getLocation(n)===S.NONE)return this.label.setLocation(n,i),null}},setShell:function(t){this.shell=t,null!==t&&t.addHole(this)},toPolygon:function(t){for(var e=new Array(this.holes.size()).fill(null),n=0;n<this.holes.size();n++)e[n]=this.holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},interfaces_:function(){return[]},getClass:function(){return en}}),c(nn,en),e(nn.prototype,{setEdgeRing:function(t,e){t.setMinEdgeRing(e)},getNext:function(t){return t.getNextMin()},interfaces_:function(){return[]},getClass:function(){return nn}}),c(rn,en),e(rn.prototype,{buildMinimalRings:function(){var t=new b,e=this.startDe;do{if(null===e.getMinEdgeRing()){var n=new nn(e,this.geometryFactory);t.add(n)}e=e.getNext()}while(e!==this.startDe);return t},setEdgeRing:function(t,e){t.setEdgeRing(e)},linkDirectedEdgesForMinimalEdgeRings:function(){var t=this.startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this.startDe)},getNext:function(t){return t.getNext()},interfaces_:function(){return[]},getClass:function(){return rn}}),e(on.prototype,{setVisited:function(t){this._isVisited=t},setInResult:function(t){this._isInResult=t},isCovered:function(){return this._isCovered},isCoveredSet:function(){return this._isCoveredSet},setLabel:function(t){this.label=t},getLabel:function(){return this.label},setCovered:function(t){this._isCovered=t,this._isCoveredSet=!0},updateIM:function(t){f.isTrue(this.label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},isInResult:function(){return this._isInResult},isVisited:function(){return this._isVisited},interfaces_:function(){return[]},getClass:function(){return on}}),c(sn,on),e(sn.prototype,{isIncidentEdgeInResult:function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();)if(t.next().getEdge().isInResult())return!0;return!1},isIsolated:function(){return 1===this.label.getGeometryCount()},getCoordinate:function(){return this.coord},print:function(t){t.println("node "+this.coord+" lbl: "+this.label)},computeIM:function(t){},computeMergedLocation:function(t,e){var n=S.NONE;if(n=this.label.getLocation(e),!t.isNull(e)){var i=t.getLocation(e);n!==S.BOUNDARY&&(n=i)}return n},setLabel:function(){if(2!==arguments.length)return on.prototype.setLabel.apply(this,arguments);var t=arguments[0],e=arguments[1];null===this.label?this.label=new tn(t,e):this.label.setLocation(t,e)},getEdges:function(){return this.edges},mergeLabel:function(){if(arguments[0]instanceof sn){var t=arguments[0];this.mergeLabel(t.label)}else if(arguments[0]instanceof tn)for(var e=arguments[0],n=0;n<2;n++){var i=this.computeMergedLocation(e,n),r=this.label.getLocation(n);r===S.NONE&&this.label.setLocation(n,i)}},add:function(t){this.edges.insert(t),t.setNode(this)},setLabelBoundary:function(t){if(null===this.label)return null;var e=S.NONE;null!==this.label&&(e=this.label.getLocation(t));var n=null;switch(e){case S.BOUNDARY:n=S.INTERIOR;break;case S.INTERIOR:n=S.BOUNDARY;break;default:n=S.BOUNDARY}this.label.setLocation(t,n)},interfaces_:function(){return[]},getClass:function(){return sn}}),e(an.prototype,{find:function(t){return this.nodeMap.get(t)},addNode:function(){if(arguments[0]instanceof d){var t=arguments[0];return null===(e=this.nodeMap.get(t))&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof sn){var e,n=arguments[0];return null===(e=this.nodeMap.get(n.getCoordinate()))?(this.nodeMap.put(n.getCoordinate(),n),n):(e.mergeLabel(n),e)}},print:function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)},iterator:function(){return this.nodeMap.values().iterator()},values:function(){return this.nodeMap.values()},getBoundaryNodes:function(t){for(var e=new b,n=this.iterator();n.hasNext();){var i=n.next();i.getLabel().getLocation(t)===S.BOUNDARY&&e.add(i)}return e},add:function(t){var e=t.getCoordinate();this.addNode(e).add(t)},interfaces_:function(){return[]},getClass:function(){return an}}),e(un.prototype,{compareDirection:function(t){return this.dx===t.dx&&this.dy===t.dy?0:this.quadrant>t.quadrant?1:this.quadrant<t.quadrant?-1:Qt.computeOrientation(t.p0,t.p1,this.p1)},getDy:function(){return this.dy},getCoordinate:function(){return this.p0},setNode:function(t){this.node=t},print:function(t){var e=Math.atan2(this.dy,this.dx),n=this.getClass().getName(),i=n.lastIndexOf("."),r=n.substring(i+1);t.print("  "+r+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+e+"   "+this.label)},compareTo:function(t){var e=t;return this.compareDirection(e)},getDirectedCoordinate:function(){return this.p1},getDx:function(){return this.dx},getLabel:function(){return this.label},getEdge:function(){return this.edge},getQuadrant:function(){return this.quadrant},getNode:function(){return this.node},toString:function(){var t=Math.atan2(this.dy,this.dx),e=this.getClass().getName(),n=e.lastIndexOf(".");return"  "+e.substring(n+1)+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+t+"   "+this.label},computeLabel:function(t){},init:function(t,e){this.p0=t,this.p1=e,this.dx=e.x-t.x,this.dy=e.y-t.y,this.quadrant=Ve.quadrant(this.dx,this.dy),f.isTrue(!(0===this.dx&&0===this.dy),"EdgeEnd with identical endpoints found")},interfaces_:function(){return[o]},getClass:function(){return un}}),c(ln,un),e(ln.prototype,{getNextMin:function(){return this.nextMin},getDepth:function(t){return this.depth[t]},setVisited:function(t){this._isVisited=t},computeDirectedLabel:function(){this.label=new tn(this.edge.getLabel()),this._isForward||this.label.flip()},getNext:function(){return this.next},setDepth:function(t,e){if(-999!==this.depth[t]&&this.depth[t]!==e)throw new He("assigned depths do not match",this.getCoordinate());this.depth[t]=e},isInteriorAreaEdge:function(){for(var t=!0,e=0;e<2;e++)this.label.isArea(e)&&this.label.getLocation(e,$e.LEFT)===S.INTERIOR&&this.label.getLocation(e,$e.RIGHT)===S.INTERIOR||(t=!1);return t},setNextMin:function(t){this.nextMin=t},print:function(t){un.prototype.print.call(this,t),t.print(" "+this.depth[$e.LEFT]+"/"+this.depth[$e.RIGHT]),t.print(" ("+this.getDepthDelta()+")"),this._isInResult&&t.print(" inResult")},setMinEdgeRing:function(t){this.minEdgeRing=t},isLineEdge:function(){var t=this.label.isLine(0)||this.label.isLine(1),e=!this.label.isArea(0)||this.label.allPositionsEqual(0,S.EXTERIOR),n=!this.label.isArea(1)||this.label.allPositionsEqual(1,S.EXTERIOR);return t&&e&&n},setEdgeRing:function(t){this.edgeRing=t},getMinEdgeRing:function(){return this.minEdgeRing},getDepthDelta:function(){var t=this.edge.getDepthDelta();return this._isForward||(t=-t),t},setInResult:function(t){this._isInResult=t},getSym:function(){return this.sym},isForward:function(){return this._isForward},getEdge:function(){return this.edge},printEdge:function(t){this.print(t),t.print(" "),this._isForward?this.edge.print(t):this.edge.printReverse(t)},setSym:function(t){this.sym=t},setVisitedEdge:function(t){this.setVisited(t),this.sym.setVisited(t)},setEdgeDepths:function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var i=1;t===$e.LEFT&&(i=-1);var r=$e.opposite(t),o=e+n*i;this.setDepth(t,e),this.setDepth(r,o)},getEdgeRing:function(){return this.edgeRing},isInResult:function(){return this._isInResult},setNext:function(t){this.next=t},isVisited:function(){return this._isVisited},interfaces_:function(){return[]},getClass:function(){return ln}}),ln.depthFactor=function(t,e){return t===S.EXTERIOR&&e===S.INTERIOR?1:t===S.INTERIOR&&e===S.EXTERIOR?-1:0},e(cn.prototype,{createNode:function(t){return new sn(t,null)},interfaces_:function(){return[]},getClass:function(){return cn}}),e(hn.prototype,{printEdges:function(t){t.println("Edges:");for(var e=0;e<this.edges.size();e++){t.println("edge "+e+":");var n=this.edges.get(e);n.print(t),n.eiList.print(t)}},find:function(t){return this.nodes.find(t)},addNode:function(){if(arguments[0]instanceof sn){var t=arguments[0];return this.nodes.addNode(t)}if(arguments[0]instanceof d){var e=arguments[0];return this.nodes.addNode(e)}},getNodeIterator:function(){return this.nodes.iterator()},linkResultDirectedEdges:function(){for(var t=this.nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},debugPrintln:function(t){B.out.println(t)},isBoundaryNode:function(t,e){var n=this.nodes.find(e);if(null===n)return!1;var i=n.getLabel();return null!==i&&i.getLocation(t)===S.BOUNDARY},linkAllDirectedEdges:function(){for(var t=this.nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},matchInSameDirection:function(t,e,n,i){return!!t.equals(n)&&Qt.computeOrientation(t,e,i)===Qt.COLLINEAR&&Ve.quadrant(t,e)===Ve.quadrant(n,i)},getEdgeEnds:function(){return this.edgeEndList},debugPrint:function(t){B.out.print(t)},getEdgeIterator:function(){return this.edges.iterator()},findEdgeInSameDirection:function(t,e){for(var n=0;n<this.edges.size();n++){var i=this.edges.get(n),r=i.getCoordinates();if(this.matchInSameDirection(t,e,r[0],r[1]))return i;if(this.matchInSameDirection(t,e,r[r.length-1],r[r.length-2]))return i}return null},insertEdge:function(t){this.edges.add(t)},findEdgeEnd:function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},addEdges:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.edges.add(n);var i=new ln(n,!0),r=new ln(n,!1);i.setSym(r),r.setSym(i),this.add(i),this.add(r)}},add:function(t){this.nodes.add(t),this.edgeEndList.add(t)},getNodes:function(){return this.nodes.values()},findEdge:function(t,e){for(var n=0;n<this.edges.size();n++){var i=this.edges.get(n),r=i.getCoordinates();if(t.equals(r[0])&&e.equals(r[1]))return i}return null},interfaces_:function(){return[]},getClass:function(){return hn}}),hn.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()},e(fn.prototype,{sortShellsAndHoles:function(t,e,n){for(var i=t.iterator();i.hasNext();){var r=i.next();r.isHole()?n.add(r):e.add(r)}},computePolygons:function(t){for(var e=new b,n=t.iterator();n.hasNext();){var i=n.next().toPolygon(this.geometryFactory);e.add(i)}return e},placeFreeHoles:function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();if(null===i.getShell()){var r=this.findEdgeRingContaining(i,t);if(null===r)throw new He("unable to assign hole to a shell",i.getCoordinate(0));i.setShell(r)}}},buildMinimalEdgeRings:function(t,e,n){for(var i=new b,r=t.iterator();r.hasNext();){var o=r.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var s=o.buildMinimalRings(),a=this.findShell(s);null!==a?(this.placePolygonHoles(a,s),e.add(a)):n.addAll(s)}else i.add(o)}return i},containsPoint:function(t){for(var e=this.shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1},buildMaximalEdgeRings:function(t){for(var e=new b,n=t.iterator();n.hasNext();){var i=n.next();if(i.isInResult()&&i.getLabel().isArea()&&null===i.getEdgeRing()){var r=new rn(i,this.geometryFactory);e.add(r),r.setInResult()}}return e},placePolygonHoles:function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();i.isHole()&&i.setShell(t)}},getPolygons:function(){return this.computePolygons(this.shellList)},findEdgeRingContaining:function(t,e){for(var n=t.getLinearRing(),i=n.getEnvelopeInternal(),r=n.getCoordinateN(0),o=null,s=null,a=e.iterator();a.hasNext();){var u=a.next(),l=u.getLinearRing(),c=l.getEnvelopeInternal();null!==o&&(s=o.getLinearRing().getEnvelopeInternal());var h=!1;c.contains(i)&&Qt.isPointInRing(r,l.getCoordinates())&&(h=!0),h&&(null===o||s.contains(c))&&(o=u)}return o},findShell:function(t){for(var e=0,n=null,i=t.iterator();i.hasNext();){var r=i.next();r.isHole()||(n=r,e++)}return f.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),n},add:function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];hn.linkResultDirectedEdges(n);var i=this.buildMaximalEdgeRings(e),r=new b,o=this.buildMinimalEdgeRings(i,this.shellList,r);this.sortShellsAndHoles(o,this.shellList,r),this.placeFreeHoles(this.shellList,r)}},interfaces_:function(){return[]},getClass:function(){return fn}}),e(dn.prototype,{collectLines:function(t){for(var e=this.op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next();this.collectLineEdge(n,t,this.lineEdgesList),this.collectBoundaryTouchEdge(n,t,this.lineEdgesList)}},labelIsolatedLine:function(t,e){var n=this.ptLocator.locate(t.getCoordinate(),this.op.getArgGeometry(e));t.getLabel().setLocation(e,n)},build:function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this.resultLineList},collectLineEdge:function(t,e,n){var i=t.getLabel(),r=t.getEdge();t.isLineEdge()&&(t.isVisited()||!Xn.isResultOfOp(i,e)||r.isCovered()||(n.add(r),t.setVisitedEdge(!0)))},findCoveredLineEdges:function(){for(var t=this.op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var e=this.op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next(),i=n.getEdge();if(n.isLineEdge()&&!i.isCoveredSet()){var r=this.op.isCoveredByA(n.getCoordinate());i.setCovered(r)}}},labelIsolatedLines:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=n.getLabel();n.isIsolated()&&(i.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},buildLines:function(t){for(var e=this.lineEdgesList.iterator();e.hasNext();){var n=e.next(),i=(n.getLabel(),this.geometryFactory.createLineString(n.getCoordinates()));this.resultLineList.add(i),n.setInResult(!0)}},collectBoundaryTouchEdge:function(t,e,n){var i=t.getLabel();return t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult()?null:(f.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(Xn.isResultOfOp(i,e)&&e===Xn.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},interfaces_:function(){return[]},getClass:function(){return dn}}),e(pn.prototype,{filterCoveredNodeToPoint:function(t){var e=t.getCoordinate();if(!this.op.isCoveredByLA(e)){var n=this.geometryFactory.createPoint(e);this.resultPointList.add(n)}},extractNonCoveredResultNodes:function(t){for(var e=this.op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();if(!(n.isInResult()||n.isIncidentEdgeInResult()||0!==n.getEdges().getDegree()&&t!==Xn.INTERSECTION)){var i=n.getLabel();Xn.isResultOfOp(i,t)&&this.filterCoveredNodeToPoint(n)}}},build:function(t){return this.extractNonCoveredResultNodes(t),this.resultPointList},interfaces_:function(){return[]},getClass:function(){return pn}}),e(gn.prototype,{locate:function(t){},interfaces_:function(){return[]},getClass:function(){return gn}}),e(vn.prototype,{locate:function(t){return vn.locate(t,this.geom)},interfaces_:function(){return[gn]},getClass:function(){return vn}}),vn.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&Qt.isPointInRing(t,e.getCoordinates())},vn.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!vn.isPointInRing(t,n))return!1;for(var i=0;i<e.getNumInteriorRing();i++){var r=e.getInteriorRingN(i);if(vn.isPointInRing(t,r))return!1}return!0},vn.containsPoint=function(t,e){if(e instanceof Dt)return vn.containsPointInPolygon(t,e);if(e instanceof ft)for(var n=new ve(e);n.hasNext();){var i=n.next();if(i!==e&&vn.containsPoint(t,i))return!0}return!1},vn.locate=function(t,e){return e.isEmpty()?S.EXTERIOR:vn.containsPoint(t,e)?S.INTERIOR:S.EXTERIOR},e(mn.prototype,{getNextCW:function(t){this.getEdges();var e=this.edgeList.indexOf(t),n=e-1;return 0===e&&(n=this.edgeList.size()-1),this.edgeList.get(n)},propagateSideLabels:function(t){for(var e=S.NONE,n=this.iterator();n.hasNext();)(o=(r=n.next()).getLabel()).isArea(t)&&o.getLocation(t,$e.LEFT)!==S.NONE&&(e=o.getLocation(t,$e.LEFT));if(e===S.NONE)return null;var i=e;for(n=this.iterator();n.hasNext();){var r,o;if((o=(r=n.next()).getLabel()).getLocation(t,$e.ON)===S.NONE&&o.setLocation(t,$e.ON,i),o.isArea(t)){var s=o.getLocation(t,$e.LEFT),a=o.getLocation(t,$e.RIGHT);if(a!==S.NONE){if(a!==i)throw new He("side location conflict",r.getCoordinate());s===S.NONE&&f.shouldNeverReachHere("found single null side (at "+r.getCoordinate()+")"),i=s}else f.isTrue(o.getLocation(t,$e.LEFT)===S.NONE,"found single null side"),o.setLocation(t,$e.RIGHT,i),o.setLocation(t,$e.LEFT,i)}}},getCoordinate:function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},print:function(t){B.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)},isAreaLabelsConsistent:function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},checkAreaLabelsConsistent:function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,i=e.get(n).getLabel().getLocation(t,$e.LEFT);f.isTrue(i!==S.NONE,"Found unlabelled area edge");for(var r=i,o=this.iterator();o.hasNext();){var s=o.next().getLabel();f.isTrue(s.isArea(t),"Found non-area edge");var a=s.getLocation(t,$e.LEFT),u=s.getLocation(t,$e.RIGHT);if(a===u)return!1;if(u!==r)return!1;r=a}return!0},findIndex:function(t){this.iterator();for(var e=0;e<this.edgeList.size();e++)if(this.edgeList.get(e)===t)return e;return-1},iterator:function(){return this.getEdges().iterator()},getEdges:function(){return null===this.edgeList&&(this.edgeList=new b(this.edgeMap.values())),this.edgeList},getLocation:function(t,e,n){return this.ptInAreaLocation[t]===S.NONE&&(this.ptInAreaLocation[t]=vn.locate(e,n[t].getGeometry())),this.ptInAreaLocation[t]},toString:function(){var t=new F;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()},computeEdgeEndLabels:function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)},computeLabelling:function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var i=(o=n.next()).getLabel(),r=0;r<2;r++)i.isLine(r)&&i.getLocation(r)===S.BOUNDARY&&(e[r]=!0);for(n=this.iterator();n.hasNext();){var o;for(i=(o=n.next()).getLabel(),r=0;r<2;r++)if(i.isAnyNull(r)){var s=S.NONE;if(e[r])s=S.EXTERIOR;else{var a=o.getCoordinate();s=this.getLocation(r,a,t)}i.setAllLocationsIfNull(r,s)}}},getDegree:function(){return this.edgeMap.size()},insertEdgeEnd:function(t,e){this.edgeMap.put(t,e),this.edgeList=null},interfaces_:function(){return[]},getClass:function(){return mn}}),c(yn,mn),e(yn.prototype,{linkResultDirectedEdges:function(){this.getResultAreaEdges();for(var t=null,e=null,n=this.SCANNING_FOR_INCOMING,i=0;i<this.resultAreaEdgeList.size();i++){var r=this.resultAreaEdgeList.get(i),o=r.getSym();if(r.getLabel().isArea())switch(null===t&&r.isInResult()&&(t=r),n){case this.SCANNING_FOR_INCOMING:if(!o.isInResult())continue;e=o,n=this.LINKING_TO_OUTGOING;break;case this.LINKING_TO_OUTGOING:if(!r.isInResult())continue;e.setNext(r),n=this.SCANNING_FOR_INCOMING}}if(n===this.LINKING_TO_OUTGOING){if(null===t)throw new He("no outgoing dirEdge found",this.getCoordinate());f.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}},insert:function(t){var e=t;this.insertEdgeEnd(e,e)},getRightmostEdge:function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(1===e)return n;var i=t.get(e-1),r=n.getQuadrant(),o=i.getQuadrant();return Ve.isNorthern(r)&&Ve.isNorthern(o)?n:Ve.isNorthern(r)||Ve.isNorthern(o)?0!==n.getDy()?n:0!==i.getDy()?i:(f.shouldNeverReachHere("found two horizontal edges incident on node"),null):i},print:function(t){B.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}},getResultAreaEdges:function(){if(null!==this.resultAreaEdgeList)return this.resultAreaEdgeList;this.resultAreaEdgeList=new b;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this.resultAreaEdgeList.add(e)}return this.resultAreaEdgeList},updateLabelling:function(t){for(var e=this.iterator();e.hasNext();){var n=e.next().getLabel();n.setAllLocationsIfNull(0,t.getLocation(0)),n.setAllLocationsIfNull(1,t.getLocation(1))}},linkAllDirectedEdges:function(){this.getEdges();for(var t=null,e=null,n=this.edgeList.size()-1;n>=0;n--){var i=this.edgeList.get(n),r=i.getSym();null===e&&(e=r),null!==t&&r.setNext(t),t=i}e.setNext(t)},computeDepths:function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=(t.getLabel(),t.getDepth($e.LEFT)),i=t.getDepth($e.RIGHT),r=this.computeDepths(e+1,this.edgeList.size(),n),o=this.computeDepths(0,e,r);if(o!==i)throw new He("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var s=arguments[0],a=arguments[1],u=arguments[2],l=u,c=s;c<a;c++){var h=this.edgeList.get(c);h.getLabel(),h.setEdgeDepths($e.RIGHT,l),l=h.getDepth($e.LEFT)}return l}},mergeSymLabels:function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},linkMinimalDirectedEdges:function(t){for(var e=null,n=null,i=this.SCANNING_FOR_INCOMING,r=this.resultAreaEdgeList.size()-1;r>=0;r--){var o=this.resultAreaEdgeList.get(r),s=o.getSym();switch(null===e&&o.getEdgeRing()===t&&(e=o),i){case this.SCANNING_FOR_INCOMING:if(s.getEdgeRing()!==t)continue;n=s,i=this.LINKING_TO_OUTGOING;break;case this.LINKING_TO_OUTGOING:if(o.getEdgeRing()!==t)continue;n.setNextMin(o),i=this.SCANNING_FOR_INCOMING}}i===this.LINKING_TO_OUTGOING&&(f.isTrue(null!==e,"found null for first outgoing dirEdge"),f.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),n.setNextMin(e))},getOutgoingDegree:function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();)e.next().isInResult()&&t++;return t}if(1===arguments.length){var n=arguments[0];for(t=0,e=this.iterator();e.hasNext();)e.next().getEdgeRing()===n&&t++;return t}},getLabel:function(){return this.label},findCoveredLineEdges:function(){for(var t=S.NONE,e=this.iterator();e.hasNext();){var n=(r=e.next()).getSym();if(!r.isLineEdge()){if(r.isInResult()){t=S.INTERIOR;break}if(n.isInResult()){t=S.EXTERIOR;break}}}if(t===S.NONE)return null;var i=t;for(e=this.iterator();e.hasNext();){var r;n=(r=e.next()).getSym(),r.isLineEdge()?r.getEdge().setCovered(i===S.INTERIOR):(r.isInResult()&&(i=S.EXTERIOR),n.isInResult()&&(i=S.INTERIOR))}},computeLabelling:function(t){mn.prototype.computeLabelling.call(this,t),this.label=new tn(S.NONE);for(var e=this.iterator();e.hasNext();)for(var n=e.next().getEdge().getLabel(),i=0;i<2;i++){var r=n.getLocation(i);r!==S.INTERIOR&&r!==S.BOUNDARY||this.label.setLocation(i,S.INTERIOR)}},interfaces_:function(){return[]},getClass:function(){return yn}}),c(xn,cn),e(xn.prototype,{createNode:function(t){return new sn(t,new yn)},interfaces_:function(){return[]},getClass:function(){return xn}}),e(En.prototype,{computeIntersections:function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},interfaces_:function(){return[]},getClass:function(){return En}}),e(bn.prototype,{isDelete:function(){return this.eventType===bn.DELETE},setDeleteEventIndex:function(t){this.deleteEventIndex=t},getObject:function(){return this.obj},compareTo:function(t){var e=t;return this.xValue<e.xValue?-1:this.xValue>e.xValue?1:this.eventType<e.eventType?-1:this.eventType>e.eventType?1:0},getInsertEvent:function(){return this.insertEvent},isInsert:function(){return this.eventType===bn.INSERT},isSameLabel:function(t){return null!==this.label&&this.label===t.label},getDeleteEventIndex:function(){return this.deleteEventIndex},interfaces_:function(){return[o]},getClass:function(){return bn}}),bn.INSERT=1,bn.DELETE=2,e(Cn.prototype,{interfaces_:function(){return[]},getClass:function(){return Cn}}),e(wn.prototype,{isTrivialIntersection:function(t,e,n,i){if(t===n&&1===this.li.getIntersectionNum()){if(wn.isAdjacentSegments(e,i))return!0;if(t.isClosed()){var r=t.getNumPoints()-1;if(0===e&&i===r||0===i&&e===r)return!0}}return!1},getProperIntersectionPoint:function(){return this.properIntersectionPoint},setIsDoneIfProperInt:function(t){this.isDoneWhenProperInt=t},hasProperInteriorIntersection:function(){return this.hasProperInterior},isBoundaryPointInternal:function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next().getCoordinate();if(t.isIntersection(i))return!0}return!1},hasProperIntersection:function(){return this.hasProper},hasIntersection:function(){return this._hasIntersection},isDone:function(){return this._isDone},isBoundaryPoint:function(t,e){return!(null===e||!this.isBoundaryPointInternal(t,e[0])&&!this.isBoundaryPointInternal(t,e[1]))},setBoundaryNodes:function(t,e){this.bdyNodes=new Array(2).fill(null),this.bdyNodes[0]=t,this.bdyNodes[1]=e},addIntersections:function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this.li.computeIntersection(r,o,s,a),this.li.hasIntersection()&&(this.recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this.numIntersections++,this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,!this.includeProper&&this.li.isProper()||(t.addIntersections(this.li,e,0),n.addIntersections(this.li,i,1)),this.li.isProper()&&(this.properIntersectionPoint=this.li.getIntersection(0).copy(),this.hasProper=!0,this.isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this.li,this.bdyNodes)||(this.hasProperInterior=!0))))},interfaces_:function(){return[]},getClass:function(){return wn}}),wn.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)},c(_n,Cn),e(_n.prototype,{prepareEvents:function(){Zo.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},computeIntersections:function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var n=this.events.get(e);if(n.isInsert()&&this.processOverlaps(e,n.getDeleteEventIndex(),n,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof wn&&D(arguments[0],y)&&D(arguments[1],y)){var i=arguments[0],r=arguments[1],o=arguments[2];this.addEdges(i,i),this.addEdges(r,r),this.computeIntersections(o)}else if("boolean"==typeof arguments[2]&&D(arguments[0],y)&&arguments[1]instanceof wn){var s=arguments[0],a=arguments[1],u=arguments[2];u?this.addEdges(s,null):this.addEdges(s),this.computeIntersections(a)}},addEdge:function(t,e){for(var n=t.getMonotoneChainEdge(),i=n.getStartIndexes(),r=0;r<i.length-1;r++){var o=new En(n,r),s=new bn(e,n.getMinX(r),o);this.events.add(s),this.events.add(new bn(n.getMaxX(r),s))}},processOverlaps:function(t,e,n,i){for(var r=n.getObject(),o=t;o<e;o++){var s=this.events.get(o);if(s.isInsert()){var a=s.getObject();n.isSameLabel(s)||(r.computeIntersections(a,i),this.nOverlaps++)}}},addEdges:function(){if(1===arguments.length)for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.addEdge(n,n)}else if(2===arguments.length){var i=arguments[0],r=arguments[1];for(e=i.iterator();e.hasNext();)n=e.next(),this.addEdge(n,r)}},interfaces_:function(){return[]},getClass:function(){return _n}}),e(An.prototype,{getMin:function(){return this.min},intersects:function(t,e){return!(this.min>e||this.max<t)},getMax:function(){return this.max},toString:function(){return Wt.toLineString(new d(this.min,0),new d(this.max,0))},interfaces_:function(){return[]},getClass:function(){return An}}),e(Sn.prototype,{compare:function(t,e){var n=t,i=e,r=(n.min+n.max)/2,o=(i.min+i.max)/2;return r<o?-1:r>o?1:0},interfaces_:function(){return[a]},getClass:function(){return Sn}}),An.NodeComparator=Sn,c(Dn,An),e(Dn.prototype,{query:function(t,e,n){return this.intersects(t,e)?void n.visitItem(this.item):null},interfaces_:function(){return[]},getClass:function(){return Dn}}),c(Ln,An),e(Ln.prototype,{buildExtent:function(t,e){this.min=Math.min(t.min,e.min),this.max=Math.max(t.max,e.max)},query:function(t,e,n){return this.intersects(t,e)?(null!==this.node1&&this.node1.query(t,e,n),void(null!==this.node2&&this.node2.query(t,e,n))):null},interfaces_:function(){return[]},getClass:function(){return Ln}}),e(Fn.prototype,{buildTree:function(){Zo.sort(this.leaves,new IntervalRTreeNode.NodeComparator);for(var t=this.leaves,e=null,n=new b;;){if(this.buildLevel(t,n),1===n.size())return n.get(0);e=t,t=n,n=e}},insert:function(t,e,n){if(null!==this.root)throw new IllegalStateException("Index cannot be added to once it has been queried");this.leaves.add(new Dn(t,e,n))},query:function(t,e,n){this.init(),this.root.query(t,e,n)},buildRoot:function(){return null!==this.root?null:void(this.root=this.buildTree())},printNode:function(t){B.out.println(Wt.toLineString(new d(t.min,this.level),new d(t.max,this.level)))},init:function(){return null!==this.root?null:void this.buildRoot()},buildLevel:function(t,e){this.level++,e.clear();for(var n=0;n<t.size();n+=2){var i=t.get(n);if(null===(n+1<t.size()?t.get(n):null))e.add(i);else{var r=new Ln(t.get(n),t.get(n+1));e.add(r)}}},interfaces_:function(){return[]},getClass:function(){return Fn}}),e(Tn.prototype,{filter:function(t){if(this.isForcedToLineString&&t instanceof Ft){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this.lines.add(e),null}t instanceof wt&&this.lines.add(t)},setForceToLineString:function(t){this.isForcedToLineString=t},interfaces_:function(){return[R]},getClass:function(){return Tn}}),Tn.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(Tn.getLines(t))}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(Tn.getLines(e,n))}},Tn.getLines=function(){if(1===arguments.length){var t=arguments[0];return Tn.getLines(t,!1)}if(2===arguments.length){if(D(arguments[0],v)&&D(arguments[1],v)){for(var e=arguments[0],n=arguments[1],i=e.iterator();i.hasNext();){var r=i.next();Tn.getLines(r,n)}return n}if(arguments[0]instanceof j&&"boolean"==typeof arguments[1]){var o=arguments[0],s=arguments[1],a=new b;return o.apply(new Tn(a,s)),a}if(arguments[0]instanceof j&&D(arguments[1],v)){var u=arguments[0],l=arguments[1];return u instanceof wt?l.add(u):u.apply(new Tn(l)),l}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&D(arguments[0],v)&&D(arguments[1],v)){var c=arguments[0],h=arguments[1],f=arguments[2];for(i=c.iterator();i.hasNext();)r=i.next(),Tn.getLines(r,h,f);return h}if("boolean"==typeof arguments[2]&&arguments[0]instanceof j&&D(arguments[1],v)){var d=arguments[0],p=arguments[1],g=arguments[2];return d.apply(new Tn(p,g)),p}}},e(Mn.prototype,{visitItem:function(t){this.items.add(t)},getItems:function(){return this.items},interfaces_:function(){return[_e]},getClass:function(){return Mn}}),e(In.prototype,{locate:function(t){var e=new $t(t),n=new Pn(e);return this.index.query(t.y,t.y,n),e.getLocation()},interfaces_:function(){return[gn]},getClass:function(){return In}}),e(Pn.prototype,{visitItem:function(t){var e=t;this.counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},interfaces_:function(){return[_e]},getClass:function(){return Pn}}),e(On.prototype,{init:function(t){for(var e=Tn.getLines(t).iterator();e.hasNext();){var n=e.next().getCoordinates();this.addLine(n)}},addLine:function(t){for(var e=1;e<t.length;e++){var n=new te(t[e-1],t[e]),i=Math.min(n.p0.y,n.p1.y),r=Math.max(n.p0.y,n.p1.y);this.index.insert(i,r,n)}},query:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new Mn;return this.index.query(t,e,n),n.getItems()}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this.index.query(i,r,o)}},interfaces_:function(){return[]},getClass:function(){return On}}),In.SegmentVisitor=Pn,In.IntervalIndexedGeometry=On,e(Bn.prototype,{getSegmentIndex:function(){return this.segmentIndex},getCoordinate:function(){return this.coord},print:function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},compareTo:function(t){var e=t;return this.compare(e.segmentIndex,e.dist)},isEndPoint:function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},toString:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},getDistance:function(){return this.dist},compare:function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},interfaces_:function(){return[o]},getClass:function(){return Bn}}),e(Nn.prototype,{print:function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},iterator:function(){return this.nodeMap.values().iterator()},addSplitEdges:function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}},addEndpoints:function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},createSplitEdge:function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=this.edge.pts[e.segmentIndex],r=e.dist>0||!e.coord.equals2D(i);r||n--;var o=new Array(n).fill(null),s=0;o[s++]=new d(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this.edge.pts[a];return r&&(o[s]=e.coord),new Vn(o,new tn(this.edge.label))},add:function(t,e,n){var i=new Bn(t,e,n),r=this.nodeMap.get(i);return null!==r?r:(this.nodeMap.put(i,i),i)},isIntersection:function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1},interfaces_:function(){return[]},getClass:function(){return Nn}}),e(kn.prototype,{getChainStartIndices:function(t){var e=0,n=new b;n.add(new T(e));do{var i=this.findChainEnd(t,e);n.add(new T(i)),e=i}while(e<t.length-1);return kn.toIntArray(n)},findChainEnd:function(t,e){for(var n=Ve.quadrant(t[e],t[e+1]),i=e+1;i<t.length&&Ve.quadrant(t[i-1],t[i])===n;)i++;return i-1},interfaces_:function(){return[]},getClass:function(){return kn}}),kn.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e},e(Rn.prototype,{getCoordinates:function(){return this.pts},getMaxX:function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n},getMinX:function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n},computeIntersectsForChain:function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],i)}else if(6===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],u=arguments[4],l=arguments[5],c=this.pts[r],h=this.pts[o],f=s.pts[a],d=s.pts[u];if(o-r==1&&u-a==1)return l.addIntersections(this.e,r,s.e,a),null;if(this.env1.init(c,h),this.env2.init(f,d),!this.env1.intersects(this.env2))return null;var p=Math.trunc((r+o)/2),g=Math.trunc((a+u)/2);r<p&&(a<g&&this.computeIntersectsForChain(r,p,s,a,g,l),g<u&&this.computeIntersectsForChain(r,p,s,g,u,l)),p<o&&(a<g&&this.computeIntersectsForChain(p,o,s,a,g,l),g<u&&this.computeIntersectsForChain(p,o,s,g,u,l))}},getStartIndexes:function(){return this.startIndex},computeIntersects:function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var i=0;i<t.startIndex.length-1;i++)this.computeIntersectsForChain(n,t,i,e)},interfaces_:function(){return[]},getClass:function(){return Rn}}),e(jn.prototype,{getDepth:function(t,e){return this.depth[t][e]},setDepth:function(t,e,n){this.depth[t][e]=n},isNull:function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this.depth[t][e]!==jn.NULL_VALUE)return!1;return!0}if(1===arguments.length){var n=arguments[0];return this.depth[n][1]===jn.NULL_VALUE}if(2===arguments.length){var i=arguments[0],r=arguments[1];return this.depth[i][r]===jn.NULL_VALUE}},normalize:function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this.depth[t][1];this.depth[t][2]<e&&(e=this.depth[t][2]),e<0&&(e=0);for(var n=1;n<3;n++){var i=0;this.depth[t][n]>e&&(i=1),this.depth[t][n]=i}}},getDelta:function(t){return this.depth[t][$e.RIGHT]-this.depth[t][$e.LEFT]},getLocation:function(t,e){return this.depth[t][e]<=0?S.EXTERIOR:S.INTERIOR},toString:function(){return"A: "+this.depth[0][1]+","+this.depth[0][2]+" B: "+this.depth[1][1]+","+this.depth[1][2]},add:function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<2;e++)for(var n=1;n<3;n++){var i=t.getLocation(e,n);i!==S.EXTERIOR&&i!==S.INTERIOR||(this.isNull(e,n)?this.depth[e][n]=jn.depthAtLocation(i):this.depth[e][n]+=jn.depthAtLocation(i))}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];s===S.INTERIOR&&this.depth[r][o]++}},interfaces_:function(){return[]},getClass:function(){return jn}}),jn.depthAtLocation=function(t){return t===S.EXTERIOR?0:t===S.INTERIOR?1:jn.NULL_VALUE},jn.NULL_VALUE=-1,c(Vn,on),e(Vn.prototype,{getDepth:function(){return this.depth},getCollapsedEdge:function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new Vn(t,tn.toLineLabel(this.label))},isIsolated:function(){return this._isIsolated},getCoordinates:function(){return this.pts},setIsolated:function(t){this._isIsolated=t},setName:function(t){this.name=t},equals:function(t){if(!(t instanceof Vn))return!1;var e=t;if(this.pts.length!==e.pts.length)return!1;for(var n=!0,i=!0,r=this.pts.length,o=0;o<this.pts.length;o++)if(this.pts[o].equals2D(e.pts[o])||(n=!1),this.pts[o].equals2D(e.pts[--r])||(i=!1),!n&&!i)return!1;return!0},getCoordinate:function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}},print:function(t){t.print("edge "+this.name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this.label+" "+this.depthDelta)},computeIM:function(t){Vn.updateIM(this.label,t)},isCollapsed:function(){return!!this.label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getMaximumSegmentIndex:function(){return this.pts.length-1},getDepthDelta:function(){return this.depthDelta},getNumPoints:function(){return this.pts.length},printReverse:function(t){t.print("edge "+this.name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},getMonotoneChainEdge:function(){return null===this.mce&&(this.mce=new Rn(this)),this.mce},getEnvelope:function(){if(null===this.env){this.env=new w;for(var t=0;t<this.pts.length;t++)this.env.expandToInclude(this.pts[t])}return this.env},addIntersection:function(t,e,n,i){var r=new d(t.getIntersection(i)),o=e,s=t.getEdgeDistance(n,i),a=o+1;if(a<this.pts.length){var u=this.pts[a];r.equals2D(u)&&(o=a,s=0)}this.eiList.add(r,o,s)},toString:function(){var t=new F;t.append("edge "+this.name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this.label+" "+this.depthDelta),t.toString()},isPointwiseEqual:function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},setDepthDelta:function(t){this.depthDelta=t},getEdgeIntersectionList:function(){return this.eiList},addIntersections:function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)},interfaces_:function(){return[]},getClass:function(){return Vn}}),Vn.updateIM=function(){if(2!==arguments.length)return on.prototype.updateIM.apply(this,arguments);var t=arguments[0],e=arguments[1];e.setAtLeastIfValid(t.getLocation(0,$e.ON),t.getLocation(1,$e.ON),1),t.isArea()&&(e.setAtLeastIfValid(t.getLocation(0,$e.LEFT),t.getLocation(1,$e.LEFT),2),e.setAtLeastIfValid(t.getLocation(0,$e.RIGHT),t.getLocation(1,$e.RIGHT),2))},c(Gn,hn),e(Gn.prototype,{insertBoundaryPoint:function(t,e){var n=this.nodes.addNode(e).getLabel(),i=1;S.NONE,n.getLocation(t,$e.ON)===S.BOUNDARY&&i++;var r=Gn.determineBoundary(this.boundaryNodeRule,i);n.setLocation(t,r)},computeSelfNodes:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=new wn(n,!0,!1);o.setIsDoneIfProperInt(r);var s=this.createEdgeSetIntersector(),a=this.parentGeom instanceof Ft||this.parentGeom instanceof Dt||this.parentGeom instanceof Tt,u=i||!a;return s.computeIntersections(this.edges,o,u),this.addSelfIntersectionNodes(this.argIndex),o}},computeSplitEdges:function(t){for(var e=this.edges.iterator();e.hasNext();)e.next().eiList.addSplitEdges(t)},computeEdgeIntersections:function(t,e,n){var i=new wn(e,n,!0);return i.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this.edges,t.edges,i),i},getGeometry:function(){return this.parentGeom},getBoundaryNodeRule:function(){return this.boundaryNodeRule},hasTooFewPoints:function(){return this._hasTooFewPoints},addPoint:function(){if(arguments[0]instanceof At){var t=arguments[0],e=t.getCoordinate();this.insertPoint(this.argIndex,e,S.INTERIOR)}else if(arguments[0]instanceof d){var n=arguments[0];this.insertPoint(this.argIndex,n,S.INTERIOR)}},addPolygon:function(t){this.addPolygonRing(t.getExteriorRing(),S.EXTERIOR,S.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,S.INTERIOR,S.EXTERIOR)}},addEdge:function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this.argIndex,e[0],S.BOUNDARY),this.insertPoint(this.argIndex,e[e.length-1],S.BOUNDARY)},addLineString:function(t){var e=H.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this.invalidPoint=e[0],null;var n=new Vn(e,new tn(this.argIndex,S.INTERIOR));this.lineEdgeMap.put(t,n),this.insertEdge(n),f.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this.argIndex,e[0]),this.insertBoundaryPoint(this.argIndex,e[e.length-1])},getInvalidPoint:function(){return this.invalidPoint},getBoundaryPoints:function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,i=t.iterator();i.hasNext();){var r=i.next();e[n++]=r.getCoordinate().copy()}return e},getBoundaryNodes:function(){return null===this.boundaryNodes&&(this.boundaryNodes=this.nodes.getBoundaryNodes(this.argIndex)),this.boundaryNodes},addSelfIntersectionNode:function(t,e,n){return this.isBoundaryNode(t,e)?null:void(n===S.BOUNDARY&&this.useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n))},addPolygonRing:function(t,e,n){if(t.isEmpty())return null;var i=H.removeRepeatedPoints(t.getCoordinates());if(i.length<4)return this._hasTooFewPoints=!0,this.invalidPoint=i[0],null;var r=e,o=n;Qt.isCCW(i)&&(r=n,o=e);var s=new Vn(i,new tn(this.argIndex,S.BOUNDARY,r,o));this.lineEdgeMap.put(t,s),this.insertEdge(s),this.insertPoint(this.argIndex,i[0],S.BOUNDARY)},insertPoint:function(t,e,n){var i=this.nodes.addNode(e),r=i.getLabel();null===r?i.label=new tn(t,n):r.setLocation(t,n)},createEdgeSetIntersector:function(){return new _n},addSelfIntersectionNodes:function(t){for(var e=this.edges.iterator();e.hasNext();)for(var n=e.next(),i=n.getLabel().getLocation(t),r=n.eiList.iterator();r.hasNext();){var o=r.next();this.addSelfIntersectionNode(t,o.coord,i)}},add:function(){if(1!==arguments.length)return hn.prototype.add.apply(this,arguments);var t=arguments[0];if(t.isEmpty())return null;if(t instanceof Tt&&(this.useBoundaryDeterminationRule=!1),t instanceof Dt)this.addPolygon(t);else if(t instanceof wt)this.addLineString(t);else if(t instanceof At)this.addPoint(t);else if(t instanceof Lt)this.addCollection(t);else if(t instanceof dt)this.addCollection(t);else if(t instanceof Tt)this.addCollection(t);else{if(!(t instanceof ft))throw new UnsupportedOperationException(t.getClass().getName());this.addCollection(t)}},addCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},locate:function(t){return D(this.parentGeom,St)&&this.parentGeom.getNumGeometries()>50?(null===this.areaPtLocator&&(this.areaPtLocator=new In(this.parentGeom)),this.areaPtLocator.locate(t)):this.ptLocator.locate(t,this.parentGeom)},findEdge:function(){if(1===arguments.length){var t=arguments[0];return this.lineEdgeMap.get(t)}return hn.prototype.findEdge.apply(this,arguments)},interfaces_:function(){return[]},getClass:function(){return Gn}}),Gn.determineBoundary=function(t,e){return t.isInBoundary(e)?S.BOUNDARY:S.INTERIOR},e(zn.prototype,{getArgGeometry:function(t){return this.arg[t].getGeometry()},setComputationPrecision:function(t){this.resultPrecisionModel=t,this.li.setPrecisionModel(this.resultPrecisionModel)},interfaces_:function(){return[]},getClass:function(){return zn}}),e(qn.prototype,{compareTo:function(t){var e=t;return qn.compareOriented(this.pts,this._orientation,e.pts,e._orientation)},interfaces_:function(){return[o]},getClass:function(){return qn}}),qn.orientation=function(t){return 1===H.increasingDirection(t)},qn.compareOriented=function(t,e,n,i){for(var r=e?1:-1,o=i?1:-1,s=e?t.length:-1,a=i?n.length:-1,u=e?0:t.length-1,l=i?0:n.length-1;;){var c=t[u].compareTo(n[l]);if(0!==c)return c;var h=(u+=r)===s,f=(l+=o)===a;if(h&&!f)return-1;if(!h&&f)return 1;if(h&&f)return 0}},e(Un.prototype,{print:function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this.edges.size();e++){var n=this.edges.get(e);e>0&&t.print(","),t.print("(");for(var i=n.getCoordinates(),r=0;r<i.length;r++)r>0&&t.print(","),t.print(i[r].x+" "+i[r].y);t.println(")")}t.print(")  ")},addAll:function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},findEdgeIndex:function(t){for(var e=0;e<this.edges.size();e++)if(this.edges.get(e).equals(t))return e;return-1},iterator:function(){return this.edges.iterator()},getEdges:function(){return this.edges},get:function(t){return this.edges.get(t)},findEqualEdge:function(t){var e=new qn(t.getCoordinates());return this.ocaMap.get(e)},add:function(t){this.edges.add(t);var e=new qn(t.getCoordinates());this.ocaMap.put(e,t)},interfaces_:function(){return[]},getClass:function(){return Un}}),c(Xn,zn),e(Xn.prototype,{insertUniqueEdge:function(t){var e=this.edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),i=t.getLabel();e.isPointwiseEqual(t)||(i=new tn(t.getLabel())).flip();var r=e.getDepth();r.isNull()&&r.add(n),r.add(i),n.merge(i)}else this.edgeList.add(t)},getGraph:function(){return this.graph},cancelDuplicateResultEdges:function(){for(var t=this.graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},isCoveredByLA:function(t){return!!this.isCovered(t,this.resultLineList)||!!this.isCovered(t,this.resultPolyList)},computeGeometry:function(t,e,n,i){var r=new b;return r.addAll(t),r.addAll(e),r.addAll(n),r.isEmpty()?Xn.createEmptyResult(i,this.arg[0].getGeometry(),this.arg[1].getGeometry(),this.geomFact):this.geomFact.buildGeometry(r)},mergeSymLabels:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();)t.next().getEdges().mergeSymLabels()},isCovered:function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();if(this.ptLocator.locate(t,i)!==S.EXTERIOR)return!0}return!1},replaceCollapsedEdges:function(){for(var t=new b,e=this.edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this.edgeList.addAll(t)},updateNodeLabelling:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},getResultGeometry:function(t){return this.computeOverlay(t),this.resultGeom},insertUniqueEdges:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},computeOverlay:function(t){this.copyPoints(0),this.copyPoints(1),this.arg[0].computeSelfNodes(this.li,!1),this.arg[1].computeSelfNodes(this.li,!1),this.arg[0].computeEdgeIntersections(this.arg[1],this.li,!0);var e=new b;this.arg[0].computeSplitEdges(e),this.arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Ke.checkValid(this.edgeList.getEdges()),this.graph.addEdges(this.edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new fn(this.geomFact);n.add(this.graph),this.resultPolyList=n.getPolygons();var i=new dn(this,this.geomFact,this.ptLocator);this.resultLineList=i.build(t);var r=new pn(this,this.geomFact,this.ptLocator);this.resultPointList=r.build(t),this.resultGeom=this.computeGeometry(this.resultPointList,this.resultLineList,this.resultPolyList,t)},labelIncompleteNode:function(t,e){var n=this.ptLocator.locate(t.getCoordinate(),this.arg[e].getGeometry());t.getLabel().setLocation(e,n)},copyPoints:function(t){for(var e=this.arg[t].getNodeIterator();e.hasNext();){var n=e.next();this.graph.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},findResultAreaEdges:function(t){for(var e=this.graph.getEdgeEnds().iterator();e.hasNext();){var n=e.next(),i=n.getLabel();i.isArea()&&!n.isInteriorAreaEdge()&&Xn.isResultOfOp(i.getLocation(0,$e.RIGHT),i.getLocation(1,$e.RIGHT),t)&&n.setInResult(!0)}},computeLabelsFromDepths:function(){for(var t=this.edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),i=e.getDepth();if(!i.isNull()){i.normalize();for(var r=0;r<2;r++)n.isNull(r)||!n.isArea()||i.isNull(r)||(0===i.getDelta(r)?n.toLine(r):(f.isTrue(!i.isNull(r,$e.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(r,$e.LEFT,i.getLocation(r,$e.LEFT)),f.isTrue(!i.isNull(r,$e.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(r,$e.RIGHT,i.getLocation(r,$e.RIGHT))))}}},computeLabelling:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();)t.next().getEdges().computeLabelling(this.arg);this.mergeSymLabels(),this.updateNodeLabelling()},labelIncompleteNodes:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getLabel();e.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(e,0):this.labelIncompleteNode(e,1)),e.getEdges().updateLabelling(n)}},isCoveredByA:function(t){return!!this.isCovered(t,this.resultPolyList)},interfaces_:function(){return[]},getClass:function(){return Xn}}),Xn.overlayOp=function(t,e,n){return new Xn(t,e).getResultGeometry(n)},Xn.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return Xn.createEmptyResult(Xn.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var n=e;return Ze.map(t,{interfaces_:function(){return[MapOp]},map:function(t){return t.intersection(n)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Yn.overlayOp(t,e,Xn.INTERSECTION)},Xn.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Xn.createEmptyResult(Xn.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Yn.overlayOp(t,e,Xn.SYMDIFFERENCE)},Xn.resultDimension=function(t,e,n){var i=e.getDimension(),r=n.getDimension(),o=-1;switch(t){case Xn.INTERSECTION:o=Math.min(i,r);break;case Xn.UNION:o=Math.max(i,r);break;case Xn.DIFFERENCE:o=i;break;case Xn.SYMDIFFERENCE:o=Math.max(i,r)}return o},Xn.createEmptyResult=function(t,e,n,i){var r=null;switch(Xn.resultDimension(t,e,n)){case-1:r=i.createGeometryCollection(new Array(0).fill(null));break;case 0:r=i.createPoint();break;case 1:r=i.createLineString();break;case 2:r=i.createPolygon()}return r},Xn.difference=function(t,e){return t.isEmpty()?Xn.createEmptyResult(Xn.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Yn.overlayOp(t,e,Xn.DIFFERENCE))},Xn.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(0),i=t.getLocation(1);return Xn.isResultOfOp(n,i,e)}if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];switch(r===S.BOUNDARY&&(r=S.INTERIOR),o===S.BOUNDARY&&(o=S.INTERIOR),s){case Xn.INTERSECTION:return r===S.INTERIOR&&o===S.INTERIOR;case Xn.UNION:return r===S.INTERIOR||o===S.INTERIOR;case Xn.DIFFERENCE:return r===S.INTERIOR&&o!==S.INTERIOR;case Xn.SYMDIFFERENCE:return r===S.INTERIOR&&o!==S.INTERIOR||r!==S.INTERIOR&&o===S.INTERIOR}return!1}},Xn.INTERSECTION=1,Xn.UNION=2,Xn.DIFFERENCE=3,Xn.SYMDIFFERENCE=4,e(Hn.prototype,{selfSnap:function(t){return new ce(t).snapTo(t,this.snapTolerance)},removeCommonBits:function(t){this.cbr=new de,this.cbr.add(t[0]),this.cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this.cbr.removeCommonBits(t[0].copy()),e[1]=this.cbr.removeCommonBits(t[1].copy()),e},prepareResult:function(t){return this.cbr.addCommonBits(t),t},getResultGeometry:function(t){var e=this.snap(this.geom),n=Xn.overlayOp(e[0],e[1],t);return this.prepareResult(n)},checkValid:function(t){t.isValid()||B.out.println("Snapped geometry is invalid")},computeSnapTolerance:function(){this.snapTolerance=ce.computeOverlaySnapTolerance(this.geom[0],this.geom[1])},snap:function(t){var e=this.removeCommonBits(t);return ce.snap(e[0],e[1],this.snapTolerance)},interfaces_:function(){return[]},getClass:function(){return Hn}}),Hn.overlayOp=function(t,e,n){return new Hn(t,e).getResultGeometry(n)},Hn.union=function(t,e){return Hn.overlayOp(t,e,Xn.UNION)},Hn.intersection=function(t,e){return Hn.overlayOp(t,e,Xn.INTERSECTION)},Hn.symDifference=function(t,e){return Hn.overlayOp(t,e,Xn.SYMDIFFERENCE)},Hn.difference=function(t,e){return Hn.overlayOp(t,e,Xn.DIFFERENCE)},e(Yn.prototype,{getResultGeometry:function(t){var e=null,n=!1,i=null;try{e=Xn.overlayOp(this.geom[0],this.geom[1],t),n=!0}catch(t){if(!(t instanceof l))throw t;i=t}if(!n)try{e=Hn.overlayOp(this.geom[0],this.geom[1],t)}catch(t){throw t instanceof l?i:t}return e},interfaces_:function(){return[]},getClass:function(){return Yn}}),Yn.overlayOp=function(t,e,n){return new Yn(t,e).getResultGeometry(n)},Yn.union=function(t,e){return Yn.overlayOp(t,e,Xn.UNION)},Yn.intersection=function(t,e){return Yn.overlayOp(t,e,Xn.INTERSECTION)},Yn.symDifference=function(t,e){return Yn.overlayOp(t,e,Xn.SYMDIFFERENCE)},Yn.difference=function(t,e){return Yn.overlayOp(t,e,Xn.DIFFERENCE)},e(Wn.prototype,{addPolygon:function(t){if(t.isEmpty())return null;var e=null,n=0,i=this.horizontalBisector(t);if(0===i.getLength())n=0,e=i.getCoordinate();else{var r=Yn.overlayOp(i,t,Xn.INTERSECTION),o=this.widestGeometry(r);n=o.getEnvelopeInternal().getWidth(),e=Wn.centre(o.getEnvelopeInternal())}(null===this.interiorPoint||n>this.maxWidth)&&(this.interiorPoint=e,this.maxWidth=n)},getInteriorPoint:function(){return this.interiorPoint},widestGeometry:function(){if(arguments[0]instanceof ft){var t=arguments[0];if(t.isEmpty())return t;for(var e=t.getGeometryN(0),n=1;n<t.getNumGeometries();n++)t.getGeometryN(n).getEnvelopeInternal().getWidth()>e.getEnvelopeInternal().getWidth()&&(e=t.getGeometryN(n));return e}if(arguments[0]instanceof j){var i=arguments[0];return i instanceof ft?this.widestGeometry(i):i}},horizontalBisector:function(t){var e=t.getEnvelopeInternal(),n=Jn.getBisectorY(t);return this.factory.createLineString([new d(e.getMinX(),n),new d(e.getMaxX(),n)])},add:function(t){if(t instanceof Dt)this.addPolygon(t);else if(t instanceof ft)for(var e=t,n=0;n<e.getNumGeometries();n++)this.add(e.getGeometryN(n))},interfaces_:function(){return[]},getClass:function(){return Wn}}),Wn.centre=function(t){return new d(Wn.avg(t.getMinX(),t.getMaxX()),Wn.avg(t.getMinY(),t.getMaxY()))},Wn.avg=function(t,e){return(t+e)/2},e(Jn.prototype,{updateInterval:function(t){t<=this.centreY?t>this.loY&&(this.loY=t):t>this.centreY&&t<this.hiY&&(this.hiY=t)},getBisectorY:function(){this.process(this.poly.getExteriorRing());for(var t=0;t<this.poly.getNumInteriorRing();t++)this.process(this.poly.getInteriorRingN(t));return Wn.avg(this.hiY,this.loY)},process:function(t){for(var e=t.getCoordinateSequence(),n=0;n<e.size();n++){var i=e.getY(n);this.updateInterval(i)}},interfaces_:function(){return[]},getClass:function(){return Jn}}),Jn.getBisectorY=function(t){return new Jn(t).getBisectorY()},Wn.SafeBisectorFinder=Jn,e(Kn.prototype,{addEndpoints:function(){if(arguments[0]instanceof j){var t=arguments[0];if(t instanceof wt)this.addEndpoints(t.getCoordinates());else if(t instanceof ft)for(var e=t,n=0;n<e.getNumGeometries();n++)this.addEndpoints(e.getGeometryN(n))}else if(arguments[0]instanceof Array){var i=arguments[0];this.add(i[0]),this.add(i[i.length-1])}},getInteriorPoint:function(){return this.interiorPoint},addInterior:function(){if(arguments[0]instanceof j){var t=arguments[0];if(t instanceof wt)this.addInterior(t.getCoordinates());else if(t instanceof ft)for(var e=t,n=0;n<e.getNumGeometries();n++)this.addInterior(e.getGeometryN(n))}else if(arguments[0]instanceof Array){var i=arguments[0];for(n=1;n<i.length-1;n++)this.add(i[n])}},add:function(t){var e=t.distance(this.centroid);e<this.minDistance&&(this.interiorPoint=new d(t),this.minDistance=e)},interfaces_:function(){return[]},getClass:function(){return Kn}}),e(Zn.prototype,{getInteriorPoint:function(){return this.interiorPoint},add:function(){if(arguments[0]instanceof j){var t=arguments[0];if(t instanceof At)this.add(t.getCoordinate());else if(t instanceof ft)for(var e=t,n=0;n<e.getNumGeometries();n++)this.add(e.getGeometryN(n))}else if(arguments[0]instanceof d){var i=arguments[0],r=i.distance(this.centroid);r<this.minDistance&&(this.interiorPoint=new d(i),this.minDistance=r)}},interfaces_:function(){return[]},getClass:function(){return Zn}}),e($n.prototype,{select:function(){if(1===arguments.length)arguments[0];else if(2===arguments.length){var t=arguments[0],e=arguments[1];t.getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}},interfaces_:function(){return[]},getClass:function(){return $n}}),e(Qn.prototype,{hasChildren:function(){for(var t=0;t<2;t++)if(null!==this.subnode[t])return!0;return!1},isPrunable:function(){return!(this.hasChildren()||this.hasItems())},addAllItems:function(t){t.addAll(this.items);for(var e=0;e<2;e++)null!==this.subnode[e]&&this.subnode[e].addAllItems(t);return t},size:function(){for(var t=0,e=0;e<2;e++)null!==this.subnode[e]&&(t+=this.subnode[e].size());return t+this.items.size()},addAllItemsFromOverlapping:function(t,e){return null===t||this.isSearchMatch(t)?(e.addAll(this.items),null!==this.subnode[0]&&this.subnode[0].addAllItemsFromOverlapping(t,e),void(null!==this.subnode[1]&&this.subnode[1].addAllItemsFromOverlapping(t,e))):null},hasItems:function(){return!this.items.isEmpty()},remove:function(t,e){if(!this.isSearchMatch(t))return!1;for(var n=!1,i=0;i<2;i++)if(null!==this.subnode[i]&&(n=this.subnode[i].remove(t,e))){this.subnode[i].isPrunable()&&(this.subnode[i]=null);break}return n||(n=this.items.remove(e))},getItems:function(){return this.items},depth:function(){for(var t=0,e=0;e<2;e++)if(null!==this.subnode[e]){var n=this.subnode[e].depth();n>t&&(t=n)}return t+1},nodeSize:function(){for(var t=0,e=0;e<2;e++)null!==this.subnode[e]&&(t+=this.subnode[e].nodeSize());return t+1},add:function(t){this.items.add(t)},interfaces_:function(){return[]},getClass:function(){return Qn}}),Qn.getSubnodeIndex=function(t,e){var n=-1;return t.min>=e&&(n=1),t.max<=e&&(n=0),n},e(ti.prototype,{expandToInclude:function(t){t.max>this.max&&(this.max=t.max),t.min<this.min&&(this.min=t.min)},getWidth:function(){return this.max-this.min},overlaps:function(){if(1===arguments.length){var t=arguments[0];return this.overlaps(t.min,t.max)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!(this.min>n||this.max<e)}},getMin:function(){return this.min},toString:function(){return"["+this.min+", "+this.max+"]"},contains:function(){if(1===arguments.length){if(arguments[0]instanceof ti){var t=arguments[0];return this.contains(t.min,t.max)}if("number"==typeof arguments[0]){var e=arguments[0];return e>=this.min&&e<=this.max}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return n>=this.min&&i<=this.max}},init:function(t,e){this.min=t,this.max=e,t>e&&(this.min=e,this.max=t)},getMax:function(){return this.max},interfaces_:function(){return[]},getClass:function(){return ti}}),ei.exponent=function(t){return function(t,e){var n,i,r,o,s={32:8,64:11}[t];if(o||(n=e<0||1/e<0,isFinite(e)||(o={32:{d:127,c:128,b:0,a:0},64:{d:32752,c:0,b:0,a:0}}[t],n&&(o.d+=1<<t/4-1),i=Math.pow(2,s)-1,r=0)),!o){for(i={32:127,64:1023}[t],r=Math.abs(e);r>=2;)i++,r/=2;for(;r<1&&i>0;)i--,r*=2;i<=0&&(r/=2),32===t&&i>254&&(o={d:n?255:127,c:128,b:0,a:0},i=Math.pow(2,s)-1,r=0)}return i}(64,t)-1023},ei.powerOf2=function(t){return Math.pow(2,t)},e(ni.prototype,{getInterval:function(){return this.interval},getLevel:function(){return this.level},computeKey:function(t){for(this.level=ni.computeLevel(t),this.interval=new ti,this.computeInterval(this.level,t);!this.interval.contains(t);)this.level+=1,this.computeInterval(this.level,t)},computeInterval:function(t,e){var n=ei.powerOf2(t);this.pt=Math.floor(e.getMin()/n)*n,this.interval.init(this.pt,this.pt+n)},getPoint:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return ni}}),ni.computeLevel=function(t){var e=t.getWidth();return ei.exponent(e)+1},c(ii,Qn),e(ii.prototype,{getInterval:function(){return this.interval},find:function(t){var e=Qn.getSubnodeIndex(t,this.centre);return-1===e?this:null!==this.subnode[e]?this.subnode[e].find(t):this},insert:function(t){f.isTrue(null===this.interval||this.interval.contains(t.interval));var e=Qn.getSubnodeIndex(t.interval,this.centre);if(t.level===this.level-1)this.subnode[e]=t;else{var n=this.createSubnode(e);n.insert(t),this.subnode[e]=n}},isSearchMatch:function(t){return t.overlaps(this.interval)},getSubnode:function(t){return null===this.subnode[t]&&(this.subnode[t]=this.createSubnode(t)),this.subnode[t]},getNode:function(t){var e=Qn.getSubnodeIndex(t,this.centre);return-1!==e?this.getSubnode(e).getNode(t):this},createSubnode:function(t){var e=0,n=0;switch(t){case 0:e=this.interval.getMin(),n=this.centre;break;case 1:e=this.centre,n=this.interval.getMax()}return new ii(new ti(e,n),this.level-1)},interfaces_:function(){return[]},getClass:function(){return ii}}),ii.createNode=function(t){var e=new ni(t);return new ii(e.getInterval(),e.getLevel())},ii.createExpanded=function(t,e){var n=new ti(e);null!==t&&n.expandToInclude(t.interval);var i=ii.createNode(n);return null!==t&&i.insert(t),i},e(ri.prototype,{interfaces_:function(){return[]},getClass:function(){return ri}}),ri.isZeroWidth=function(t,e){var n=e-t;if(0===n)return!0;var i=n/Math.max(Math.abs(t),Math.abs(e));return ei.exponent(i)<=ri.MIN_BINARY_EXPONENT},ri.MIN_BINARY_EXPONENT=-50,c(oi,Qn),e(oi.prototype,{insert:function(t,e){var n=Qn.getSubnodeIndex(t,oi.origin);if(-1===n)return this.add(e),null;var i=this.subnode[n];if(null===i||!i.getInterval().contains(t)){var r=ii.createExpanded(i,t);this.subnode[n]=r}this.insertContained(this.subnode[n],t,e)},isSearchMatch:function(t){return!0},insertContained:function(t,e,n){f.isTrue(t.getInterval().contains(e)),(ri.isZeroWidth(e.getMin(),e.getMax())?t.find(e):t.getNode(e)).add(n)},interfaces_:function(){return[]},getClass:function(){return oi}}),oi.origin=0,e(si.prototype,{size:function(){return null!==this.root?this.root.size():0},insert:function(t,e){this.collectStats(t);var n=si.ensureExtent(t,this.minExtent);this.root.insert(n,e)},query:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];return this.query(new ti(t,t))}if(arguments[0]instanceof ti){var e=arguments[0],n=new b;return this.query(e,n),n}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.root.addAllItemsFromOverlapping(i,r)}},iterator:function(){var t=new b;return this.root.addAllItems(t),t.iterator()},remove:function(t,e){var n=si.ensureExtent(t,this.minExtent);return this.root.remove(n,e)},collectStats:function(t){var e=t.getWidth();e<this.minExtent&&e>0&&(this.minExtent=e)},depth:function(){return null!==this.root?this.root.depth():0},nodeSize:function(){return null!==this.root?this.root.nodeSize():0},interfaces_:function(){return[]},getClass:function(){return si}}),si.ensureExtent=function(t,e){var n=t.getMin(),i=t.getMax();return n!==i?t:(n===i&&(i=(n-=e/2)+e/2),new ti(n,i))},e(ai.prototype,{isInside:function(t){},interfaces_:function(){return[]},getClass:function(){return ai}}),e(ui.prototype,{testLineSegment:function(t,e){var n,i,r,o,s=e.p0,a=e.p1;n=s.x-t.x,i=s.y-t.y,r=a.x-t.x,o=a.y-t.y,(i>0&&o<=0||o>0&&i<=0)&&0<Zt.signOfDet2x2(n,i,r,o)/(o-i)&&this.crossings++},buildIndex:function(){this.tree=new si;for(var t=H.removeRepeatedPoints(this.ring.getCoordinates()),e=Ge.getChains(t),n=0;n<e.size();n++){var i=e.get(n),r=i.getEnvelope();this.interval.min=r.getMinY(),this.interval.max=r.getMaxY(),this.tree.insert(this.interval,i)}},testMonotoneChain:function(t,e,n){n.select(t,e)},isInside:function(t){this.crossings=0;var e=new w(r.NEGATIVE_INFINITY,r.POSITIVE_INFINITY,t.y,t.y);this.interval.min=t.y,this.interval.max=t.y;for(var n=this.tree.query(this.interval),i=new li(this,t),o=n.iterator();o.hasNext();){var s=o.next();this.testMonotoneChain(e,i,s)}return this.crossings%2==1},interfaces_:function(){return[ai]},getClass:function(){return ui}}),c(li,$n),e(li.prototype,{select:function(){if(1!==arguments.length)return $n.prototype.select.apply(this,arguments);var t=arguments[0];this.mcp.testLineSegment(this.p,t)},interfaces_:function(){return[]},getClass:function(){return li}}),ui.MCSelecter=li,e(ci.prototype,{interfaces_:function(){return[]},getClass:function(){return ci}}),ci.toDegrees=function(t){return 180*t/Math.PI},ci.normalize=function(t){for(;t>Math.PI;)t-=ci.PI_TIMES_2;for(;t<=-Math.PI;)t+=ci.PI_TIMES_2;return t},ci.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1],i=n.x-e.x,r=n.y-e.y;return Math.atan2(r,i)}},ci.isAcute=function(t,e,n){var i=t.x-e.x,r=t.y-e.y;return i*(n.x-e.x)+r*(n.y-e.y)>0},ci.isObtuse=function(t,e,n){var i=t.x-e.x,r=t.y-e.y;return i*(n.x-e.x)+r*(n.y-e.y)<0},ci.interiorAngle=function(t,e,n){var i=ci.angle(e,t),r=ci.angle(e,n);return Math.abs(r-i)},ci.normalizePositive=function(t){if(t<0){for(;t<0;)t+=ci.PI_TIMES_2;t>=ci.PI_TIMES_2&&(t=0)}else{for(;t>=ci.PI_TIMES_2;)t-=ci.PI_TIMES_2;t<0&&(t=0)}return t},ci.angleBetween=function(t,e,n){var i=ci.angle(e,t),r=ci.angle(e,n);return ci.diff(i,r)},ci.diff=function(t,e){var n=null;return(n=t<e?e-t:t-e)>Math.PI&&(n=2*Math.PI-n),n},ci.toRadians=function(t){return t*Math.PI/180},ci.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?ci.COUNTERCLOCKWISE:n<0?ci.CLOCKWISE:ci.NONE},ci.angleBetweenOriented=function(t,e,n){var i=ci.angle(e,t),r=ci.angle(e,n)-i;return r<=-Math.PI?r+ci.PI_TIMES_2:r>Math.PI?r-ci.PI_TIMES_2:r},ci.PI_TIMES_2=2*Math.PI,ci.PI_OVER_2=Math.PI/2,ci.PI_OVER_4=Math.PI/4,ci.COUNTERCLOCKWISE=Qt.COUNTERCLOCKWISE,ci.CLOCKWISE=Qt.CLOCKWISE,ci.NONE=Qt.COLLINEAR,e(hi.prototype,{area:function(){return hi.area(this.p0,this.p1,this.p2)},signedArea:function(){return hi.signedArea(this.p0,this.p1,this.p2)},interpolateZ:function(t){if(null===t)throw new i("Supplied point is null.");return hi.interpolateZ(t,this.p0,this.p1,this.p2)},longestSideLength:function(){return hi.longestSideLength(this.p0,this.p1,this.p2)},isAcute:function(){return hi.isAcute(this.p0,this.p1,this.p2)},circumcentre:function(){return hi.circumcentre(this.p0,this.p1,this.p2)},area3D:function(){return hi.area3D(this.p0,this.p1,this.p2)},centroid:function(){return hi.centroid(this.p0,this.p1,this.p2)},inCentre:function(){return hi.inCentre(this.p0,this.p1,this.p2)},interfaces_:function(){return[]},getClass:function(){return hi}}),hi.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},hi.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},hi.det=function(t,e,n,i){return t*i-e*n},hi.interpolateZ=function(t,e,n,i){var r=e.x,o=e.y,s=n.x-r,a=i.x-r,u=n.y-o,l=i.y-o,c=s*l-a*u,h=t.x-r,f=t.y-o,d=(l*h-a*f)/c,p=(-u*h+s*f)/c;return e.z+d*(n.z-e.z)+p*(i.z-e.z)},hi.longestSideLength=function(t,e,n){var i=t.distance(e),r=e.distance(n),o=n.distance(t),s=i;return r>s&&(s=r),o>s&&(s=o),s},hi.isAcute=function(t,e,n){return!!ci.isAcute(t,e,n)&&!!ci.isAcute(e,n,t)&&!!ci.isAcute(n,t,e)},hi.circumcentre=function(t,e,n){var i=n.x,r=n.y,o=t.x-i,s=t.y-r,a=e.x-i,u=e.y-r,l=2*hi.det(o,s,a,u);return new d(i-hi.det(s,o*o+s*s,u,a*a+u*u)/l,r+hi.det(o,o*o+s*s,a,a*a+u*u)/l)},hi.perpendicularBisector=function(t,e){var n=e.x-t.x,i=e.y-t.y,r=new N(t.x+n/2,t.y+i/2,1),o=new N(t.x-i+n/2,t.y+n+i/2,1);return new N(r,o)},hi.angleBisector=function(t,e,n){var i=e.distance(t),r=i/(i+e.distance(n)),o=n.x-t.x,s=n.y-t.y;return new d(t.x+r*o,t.y+r*s)},hi.area3D=function(t,e,n){var i=e.x-t.x,r=e.y-t.y,o=e.z-t.z,s=n.x-t.x,a=n.y-t.y,u=n.z-t.z,l=r*u-o*a,c=o*s-i*u,h=i*a-r*s,f=l*l+c*c+h*h;return Math.sqrt(f)/2},hi.centroid=function(t,e,n){return new d((t.x+e.x+n.x)/3,(t.y+e.y+n.y)/3)},hi.inCentre=function(t,e,n){var i=e.distance(n),r=t.distance(n),o=t.distance(e),s=i+r+o;return new d((i*t.x+r*e.x+o*n.x)/s,(i*t.y+r*e.y+o*n.y)/s)},e(fi.prototype,{getRadius:function(){return this.compute(),this.radius},getDiameter:function(){switch(this.compute(),this.extremalPts.length){case 0:return this.input.getFactory().createLineString();case 1:return this.input.getFactory().createPoint(this.centre)}var t=this.extremalPts[0],e=this.extremalPts[1];return this.input.getFactory().createLineString([t,e])},getExtremalPoints:function(){return this.compute(),this.extremalPts},computeCirclePoints:function(){if(this.input.isEmpty())return this.extremalPts=new Array(0).fill(null),null;if(1===this.input.getNumPoints()){var t=this.input.getCoordinates();return this.extremalPts=[new d(t[0])],null}var e=this.input.convexHull().getCoordinates();if(t=e,e[0].equals2D(e[e.length-1])&&(t=new Array(e.length-1).fill(null),H.copyDeep(e,0,t,0,e.length-1)),t.length<=2)return this.extremalPts=H.copyDeep(t),null;for(var n=fi.lowestPoint(t),i=fi.pointWitMinAngleWithX(t,n),r=0;r<t.length;r++){var o=fi.pointWithMinAngleWithSegment(t,n,i);if(ci.isObtuse(n,o,i))return this.extremalPts=[new d(n),new d(i)],null;if(ci.isObtuse(o,n,i))n=o;else{if(!ci.isObtuse(o,i,n))return this.extremalPts=[new d(n),new d(i),new d(o)],null;i=o}}f.shouldNeverReachHere("Logic failure in Minimum Bounding Circle algorithm!")},compute:function(){return null!==this.extremalPts?null:(this.computeCirclePoints(),this.computeCentre(),void(null!==this.centre&&(this.radius=this.centre.distance(this.extremalPts[0]))))},getFarthestPoints:function(){switch(this.compute(),this.extremalPts.length){case 0:return this.input.getFactory().createLineString();case 1:return this.input.getFactory().createPoint(this.centre)}var t=this.extremalPts[0],e=this.extremalPts[this.extremalPts.length-1];return this.input.getFactory().createLineString([t,e])},getCircle:function(){if(this.compute(),null===this.centre)return this.input.getFactory().createPolygon();var t=this.input.getFactory().createPoint(this.centre);return 0===this.radius?t:t.buffer(this.radius)},getCentre:function(){return this.compute(),this.centre},computeCentre:function(){switch(this.extremalPts.length){case 0:this.centre=null;break;case 1:this.centre=this.extremalPts[0];break;case 2:this.centre=new d((this.extremalPts[0].x+this.extremalPts[1].x)/2,(this.extremalPts[0].y+this.extremalPts[1].y)/2);break;case 3:this.centre=hi.circumcentre(this.extremalPts[0],this.extremalPts[1],this.extremalPts[2])}},interfaces_:function(){return[]},getClass:function(){return fi}}),fi.pointWitMinAngleWithX=function(t,e){for(var n=r.MAX_VALUE,i=null,o=0;o<t.length;o++){var s=t[o];if(s!==e){var a=s.x-e.x,u=s.y-e.y;u<0&&(u=-u);var l=u/Math.sqrt(a*a+u*u);l<n&&(n=l,i=s)}}return i},fi.lowestPoint=function(t){for(var e=t[0],n=1;n<t.length;n++)t[n].y<e.y&&(e=t[n]);return e},fi.pointWithMinAngleWithSegment=function(t,e,n){for(var i=r.MAX_VALUE,o=null,s=0;s<t.length;s++){var a=t[s];if(a!==e&&a!==n){var u=ci.angleBetween(e,a,n);u<i&&(i=u,o=a)}}return o},e(di.prototype,{getWidthCoordinate:function(){return this.computeMinimumDiameter(),this.minWidthPt},getSupportingSegment:function(){return this.computeMinimumDiameter(),this.inputGeom.getFactory().createLineString([this.minBaseSeg.p0,this.minBaseSeg.p1])},getDiameter:function(){if(this.computeMinimumDiameter(),null===this.minWidthPt)return this.inputGeom.getFactory().createLineString(null);var t=this.minBaseSeg.project(this.minWidthPt);return this.inputGeom.getFactory().createLineString([t,this.minWidthPt])},computeWidthConvex:function(t){this.convexHullPts=t instanceof Dt?t.getExteriorRing().getCoordinates():t.getCoordinates(),0===this.convexHullPts.length?(this.minWidth=0,this.minWidthPt=null,this.minBaseSeg=null):1===this.convexHullPts.length?(this.minWidth=0,this.minWidthPt=this.convexHullPts[0],this.minBaseSeg.p0=this.convexHullPts[0],this.minBaseSeg.p1=this.convexHullPts[0]):2===this.convexHullPts.length||3===this.convexHullPts.length?(this.minWidth=0,this.minWidthPt=this.convexHullPts[0],this.minBaseSeg.p0=this.convexHullPts[0],this.minBaseSeg.p1=this.convexHullPts[1]):this.computeConvexRingMinDiameter(this.convexHullPts)},computeConvexRingMinDiameter:function(t){this.minWidth=r.MAX_VALUE;for(var e=1,n=new te,i=0;i<t.length-1;i++)n.p0=t[i],n.p1=t[i+1],e=this.findMaxPerpDistance(t,n,e)},computeMinimumDiameter:function(){if(null!==this.minWidthPt)return null;if(this.isConvex)this.computeWidthConvex(this.inputGeom);else{var t=new se(this.inputGeom).getConvexHull();this.computeWidthConvex(t)}},getLength:function(){return this.computeMinimumDiameter(),this.minWidth},findMaxPerpDistance:function(t,e,n){for(var i=e.distancePerpendicular(t[n]),r=i,o=n,s=o;r>=i;)i=r,o=s,s=di.nextIndex(t,o),r=e.distancePerpendicular(t[s]);return i<this.minWidth&&(this.minPtIndex=o,this.minWidth=i,this.minWidthPt=t[this.minPtIndex],this.minBaseSeg=new te(e)),o},getMinimumRectangle:function(){if(this.computeMinimumDiameter(),0===this.minWidth)return this.minBaseSeg.p0.equals2D(this.minBaseSeg.p1)?this.inputGeom.getFactory().createPoint(this.minBaseSeg.p0):this.minBaseSeg.toGeometry(this.inputGeom.getFactory());for(var t=this.minBaseSeg.p1.x-this.minBaseSeg.p0.x,e=this.minBaseSeg.p1.y-this.minBaseSeg.p0.y,n=r.MAX_VALUE,i=-r.MAX_VALUE,o=r.MAX_VALUE,s=-r.MAX_VALUE,a=0;a<this.convexHullPts.length;a++){var u=di.computeC(t,e,this.convexHullPts[a]);u>i&&(i=u),u<n&&(n=u);var l=di.computeC(-e,t,this.convexHullPts[a]);l>s&&(s=l),l<o&&(o=l)}var c=di.computeSegmentForLine(-t,-e,s),h=di.computeSegmentForLine(-t,-e,o),f=di.computeSegmentForLine(-e,t,i),d=di.computeSegmentForLine(-e,t,n),p=f.lineIntersection(c),g=d.lineIntersection(c),v=d.lineIntersection(h),m=f.lineIntersection(h),y=this.inputGeom.getFactory().createLinearRing([p,g,v,m,p]);return this.inputGeom.getFactory().createPolygon(y,null)},interfaces_:function(){return[]},getClass:function(){return di}}),di.nextIndex=function(t,e){return++e>=t.length&&(e=0),e},di.computeC=function(t,e,n){return t*n.y-e*n.x},di.getMinimumDiameter=function(t){return new di(t).getDiameter()},di.getMinimumRectangle=function(t){return new di(t).getMinimumRectangle()},di.computeSegmentForLine=function(t,e,n){var i=null,r=null;return Math.abs(e)>Math.abs(t)?(i=new d(0,n/e),r=new d(1,n/e-t/e)):(i=new d(n/t,0),r=new d(n/t-e/t,1)),new te(i,r)};var $o=Object.freeze({Centroid:ne,CGAlgorithms:Qt,ConvexHull:se,InteriorPointArea:Wn,InteriorPointLine:Kn,InteriorPointPoint:Zn,RobustLineIntersector:Kt,MCPointInRing:ui,MinimumBoundingCircle:fi,MinimumDiameter:di});e(pi.prototype,{getResultGeometry:function(){return new gi(this.distanceTolerance).transform(this.inputGeom)},setDistanceTolerance:function(t){if(t<=0)throw new i("Tolerance must be positive");this.distanceTolerance=t},interfaces_:function(){return[]},getClass:function(){return pi}}),pi.densifyPoints=function(t,e,n){for(var i=new te,r=new C,o=0;o<t.length-1;o++){i.p0=t[o],i.p1=t[o+1],r.add(i.p0,!1);var s=i.getLength(),a=Math.trunc(s/e)+1;if(a>1)for(var u=s/a,l=1;l<a;l++){var c=l*u/s,h=i.pointAlong(c);n.makePrecise(h),r.add(h,!1)}}return r.add(t[t.length-1],!1),r.toCoordinateArray()},pi.densify=function(t,e){var n=new pi(t);return n.setDistanceTolerance(e),n.getResultGeometry()},c(gi,ue),e(gi.prototype,{transformMultiPolygon:function(t,e){var n=ue.prototype.transformMultiPolygon.call(this,t,e);return this.createValidArea(n)},transformPolygon:function(t,e){var n=ue.prototype.transformPolygon.call(this,t,e);return e instanceof Tt?n:this.createValidArea(n)},transformCoordinates:function(t,e){var n=t.toCoordinateArray(),i=pi.densifyPoints(n,this.distanceTolerance,e.getPrecisionModel());return e instanceof wt&&1===i.length&&(i=new Array(0).fill(null)),this.factory.getCoordinateSequenceFactory().create(i)},createValidArea:function(t){return t.buffer(0)},interfaces_:function(){return[]},getClass:function(){return gi}}),pi.DensifyTransformer=gi;var Qo=Object.freeze({Densifier:pi});e(vi.prototype,{find:function(t){var e=this;do{if(null===e)return null;if(e.dest().equals2D(t))return e;e=e.oNext()}while(e!==this);return null},dest:function(){return this._sym._orig},oNext:function(){return this._sym._next},insert:function(t){if(this.oNext()===this)return this.insertAfter(t),null;var e=this.compareTo(t),n=this;do{var i=n.oNext();if(i.compareTo(t)!==e||i===this)return n.insertAfter(t),null;n=i}while(n!==this);f.shouldNeverReachHere()},insertAfter:function(t){f.equals(this._orig,t.orig());var e=this.oNext();this._sym.setNext(t),t.sym().setNext(e)},degree:function(){var t=0,e=this;do{t++,e=e.oNext()}while(e!==this);return t},equals:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this._orig.equals2D(t)&&this._sym._orig.equals(e)}},deltaY:function(){return this._sym._orig.y-this._orig.y},sym:function(){return this._sym},prev:function(){return this._sym.next()._sym},compareAngularDirection:function(t){var e=this.deltaX(),n=this.deltaY(),i=t.deltaX(),r=t.deltaY();if(e===i&&n===r)return 0;var o=Ve.quadrant(e,n),s=Ve.quadrant(i,r);return o>s?1:o<s?-1:Qt.computeOrientation(t._orig,t.dest(),this.dest())},prevNode:function(){for(var t=this;2===t.degree();)if((t=t.prev())===this)return null;return t},compareTo:function(t){var e=t;return this.compareAngularDirection(e)},next:function(){return this._next},setSym:function(t){this._sym=t},orig:function(){return this._orig},toString:function(){return"HE("+this._orig.x+" "+this._orig.y+", "+this._sym._orig.x+" "+this._sym._orig.y+")"},setNext:function(t){this._next=t},init:function(t){this.setSym(t),t.setSym(this),this.setNext(t),t.setNext(this)},deltaX:function(){return this._sym._orig.x-this._orig.x},interfaces_:function(){return[]},getClass:function(){return vi}}),vi.init=function(t,e){if(null!==t._sym||null!==e._sym||null!==t._next||null!==e._next)throw new IllegalStateException("Edges are already initialized");return t.init(e),t},vi.create=function(t,e){var n=new vi(t),i=new vi(e);return n.init(i),n},c(mi,vi),e(mi.prototype,{mark:function(){this._isMarked=!0},setMark:function(t){this._isMarked=t},isMarked:function(){return this._isMarked},interfaces_:function(){return[]},getClass:function(){return mi}}),mi.setMarkBoth=function(t,e){t.setMark(e),t.sym().setMark(e)},mi.isMarked=function(t){return t.isMarked()},mi.setMark=function(t,e){t.setMark(e)},mi.markBoth=function(t){t.mark(),t.sym().mark()},mi.mark=function(t){t.mark()},e(yi.prototype,{insert:function(t,e,n){var i=this.create(t,e);null!==n?n.insert(i):this.vertexMap.put(t,i);var r=this.vertexMap.get(e);return null!==r?r.insert(i.sym()):this.vertexMap.put(e,i.sym()),i},create:function(t,e){var n=this.createEdge(t),i=this.createEdge(e);return vi.init(n,i),n},createEdge:function(t){return new vi(t)},addEdge:function(t,e){if(!yi.isValidEdge(t,e))return null;var n=this.vertexMap.get(t),i=null;return null!==n&&(i=n.find(e)),null!==i?i:this.insert(t,e,n)},getVertexEdges:function(){return this.vertexMap.values()},findEdge:function(t,e){var n=this.vertexMap.get(t);return null===n?null:n.find(e)},interfaces_:function(){return[]},getClass:function(){return yi}}),yi.isValidEdge=function(t,e){return 0!==e.compareTo(t)},c(xi,mi),e(xi.prototype,{setStart:function(){this._isStart=!0},isStart:function(){return this._isStart},interfaces_:function(){return[]},getClass:function(){return xi}}),c(Ei,yi),e(Ei.prototype,{createEdge:function(t){return new xi(t)},interfaces_:function(){return[]},getClass:function(){return Ei}}),e(bi.prototype,{addLine:function(t){this.lines.add(this.factory.createLineString(t.toCoordinateArray()))},updateRingStartEdge:function(t){return t.isStart()||(t=t.sym()).isStart()?null===this.ringStartEdge?(this.ringStartEdge=t,null):void(t.orig().compareTo(this.ringStartEdge.orig())<0&&(this.ringStartEdge=t)):null},getResult:function(){return null===this.result&&this.computeResult(),this.result},process:function(t){var e=t.prevNode();null===e&&(e=t),this.stackEdges(e),this.buildLines()},buildRing:function(t){var e=new C,n=t;for(e.add(n.orig().copy(),!1);2===n.sym().degree();){var i=n.next();if(i===t)break;e.add(i.orig().copy(),!1),n=i}e.add(n.dest().copy(),!1),this.addLine(e)},buildLine:function(t){var e=new C,n=t;for(this.ringStartEdge=null,mi.markBoth(n),e.add(n.orig().copy(),!1);2===n.sym().degree();){this.updateRingStartEdge(n);var i=n.next();if(i===t)return this.buildRing(this.ringStartEdge),null;e.add(i.orig().copy(),!1),n=i,mi.markBoth(n)}e.add(n.dest().copy(),!1),this.stackEdges(n.sym()),this.addLine(e)},stackEdges:function(t){var e=t;do{mi.isMarked(e)||this.nodeEdgeStack.add(e),e=e.oNext()}while(e!==t)},computeResult:function(){for(var t=this.graph.getVertexEdges().iterator();t.hasNext();){var e=t.next();mi.isMarked(e)||this.process(e)}this.result=this.factory.buildGeometry(this.lines)},buildLines:function(){for(;!this.nodeEdgeStack.empty();){var t=this.nodeEdgeStack.pop();mi.isMarked(t)||this.buildLine(t)}},add:function(){if(arguments[0]instanceof j){var t=arguments[0];t.apply({interfaces_:function(){return[R]},filter:function(t){t instanceof wt&&this.add(t)}})}else if(D(arguments[0],v))for(var e=arguments[0],n=e.iterator();n.hasNext();){var i=n.next();this.add(i)}else if(arguments[0]instanceof wt){var r=arguments[0];null===this.factory&&(this.factory=r.getFactory());var o=r.getCoordinateSequence(),s=!1;for(n=1;n<o.size();n++){var a=this.graph.addEdge(o.getCoordinate(n-1),o.getCoordinate(n));null!==a&&(s||(a.setStart(),s=!0))}}},interfaces_:function(){return[]},getClass:function(){return bi}}),bi.dissolve=function(t){var e=new bi;return e.add(t),e.getResult()};var ts=Object.freeze({LineDissolver:bi}),es=Object.freeze({GeometryGraph:Gn});e(Ci.prototype,{hasChildren:function(){for(var t=0;t<4;t++)if(null!==this.subnode[t])return!0;return!1},isPrunable:function(){return!(this.hasChildren()||this.hasItems())},addAllItems:function(t){t.addAll(this.items);for(var e=0;e<4;e++)null!==this.subnode[e]&&this.subnode[e].addAllItems(t);return t},getNodeCount:function(){for(var t=0,e=0;e<4;e++)null!==this.subnode[e]&&(t+=this.subnode[e].size());return t+1},size:function(){for(var t=0,e=0;e<4;e++)null!==this.subnode[e]&&(t+=this.subnode[e].size());return t+this.items.size()},addAllItemsFromOverlapping:function(t,e){if(!this.isSearchMatch(t))return null;e.addAll(this.items);for(var n=0;n<4;n++)null!==this.subnode[n]&&this.subnode[n].addAllItemsFromOverlapping(t,e)},visitItems:function(t,e){for(var n=this.items.iterator();n.hasNext();)e.visitItem(n.next())},hasItems:function(){return!this.items.isEmpty()},remove:function(t,e){if(!this.isSearchMatch(t))return!1;for(var n=!1,i=0;i<4;i++)if(null!==this.subnode[i]&&(n=this.subnode[i].remove(t,e))){this.subnode[i].isPrunable()&&(this.subnode[i]=null);break}return n||(n=this.items.remove(e))},visit:function(t,e){if(!this.isSearchMatch(t))return null;this.visitItems(t,e);for(var n=0;n<4;n++)null!==this.subnode[n]&&this.subnode[n].visit(t,e)},getItems:function(){return this.items},depth:function(){for(var t=0,e=0;e<4;e++)if(null!==this.subnode[e]){var n=this.subnode[e].depth();n>t&&(t=n)}return t+1},isEmpty:function(){var t=!0;this.items.isEmpty()||(t=!1);for(var e=0;e<4;e++)null!==this.subnode[e]&&(this.subnode[e].isEmpty()||(t=!1));return t},add:function(t){this.items.add(t)},interfaces_:function(){return[u]},getClass:function(){return Ci}}),Ci.getSubnodeIndex=function(t,e,n){var i=-1;return t.getMinX()>=e&&(t.getMinY()>=n&&(i=3),t.getMaxY()<=n&&(i=1)),t.getMaxX()<=e&&(t.getMinY()>=n&&(i=2),t.getMaxY()<=n&&(i=0)),i},e(wi.prototype,{getLevel:function(){return this.level},computeKey:function(){if(1===arguments.length){var t=arguments[0];for(this.level=wi.computeQuadLevel(t),this.env=new w,this.computeKey(this.level,t);!this.env.contains(t);)this.level+=1,this.computeKey(this.level,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=ei.powerOf2(e);this.pt.x=Math.floor(n.getMinX()/i)*i,this.pt.y=Math.floor(n.getMinY()/i)*i,this.env.init(this.pt.x,this.pt.x+i,this.pt.y,this.pt.y+i)}},getEnvelope:function(){return this.env},getCentre:function(){return new d((this.env.getMinX()+this.env.getMaxX())/2,(this.env.getMinY()+this.env.getMaxY())/2)},getPoint:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return wi}}),wi.computeQuadLevel=function(t){var e=t.getWidth(),n=t.getHeight(),i=e>n?e:n;return ei.exponent(i)+1},c(_i,Ci),e(_i.prototype,{find:function(t){var e=Ci.getSubnodeIndex(t,this.centrex,this.centrey);return-1===e?this:null!==this.subnode[e]?this.subnode[e].find(t):this},isSearchMatch:function(t){return this.env.intersects(t)},getSubnode:function(t){return null===this.subnode[t]&&(this.subnode[t]=this.createSubnode(t)),this.subnode[t]},getEnvelope:function(){return this.env},getNode:function(t){var e=Ci.getSubnodeIndex(t,this.centrex,this.centrey);return-1!==e?this.getSubnode(e).getNode(t):this},createSubnode:function(t){var e=0,n=0,i=0,r=0;switch(t){case 0:e=this.env.getMinX(),n=this.centrex,i=this.env.getMinY(),r=this.centrey;break;case 1:e=this.centrex,n=this.env.getMaxX(),i=this.env.getMinY(),r=this.centrey;break;case 2:e=this.env.getMinX(),n=this.centrex,i=this.centrey,r=this.env.getMaxY();break;case 3:e=this.centrex,n=this.env.getMaxX(),i=this.centrey,r=this.env.getMaxY()}return new _i(new w(e,n,i,r),this.level-1)},insertNode:function(t){f.isTrue(null===this.env||this.env.contains(t.env));var e=Ci.getSubnodeIndex(t.env,this.centrex,this.centrey);if(t.level===this.level-1)this.subnode[e]=t;else{var n=this.createSubnode(e);n.insertNode(t),this.subnode[e]=n}},interfaces_:function(){return[]},getClass:function(){return _i}}),_i.createNode=function(t){var e=new wi(t);return new _i(e.getEnvelope(),e.getLevel())},_i.createExpanded=function(t,e){var n=new w(e);null!==t&&n.expandToInclude(t.env);var i=_i.createNode(n);return null!==t&&i.insertNode(t),i},c(Ai,Ci),e(Ai.prototype,{insert:function(t,e){var n=Ci.getSubnodeIndex(t,Ai.origin.x,Ai.origin.y);if(-1===n)return this.add(e),null;var i=this.subnode[n];if(null===i||!i.getEnvelope().contains(t)){var r=_i.createExpanded(i,t);this.subnode[n]=r}this.insertContained(this.subnode[n],t,e)},isSearchMatch:function(t){return!0},insertContained:function(t,e,n){f.isTrue(t.getEnvelope().contains(e));var i=ri.isZeroWidth(e.getMinX(),e.getMaxX()),r=ri.isZeroWidth(e.getMinY(),e.getMaxY());(i||r?t.find(e):t.getNode(e)).add(n)},interfaces_:function(){return[]},getClass:function(){return Ai}}),Ai.origin=new d(0,0),e(Si.prototype,{size:function(){return null!==this.root?this.root.size():0},insert:function(t,e){this.collectStats(t);var n=Si.ensureExtent(t,this.minExtent);this.root.insert(n,e)},query:function(){if(1===arguments.length){var t=arguments[0],e=new Mn;return this.query(t,e),e.getItems()}if(2===arguments.length){var n=arguments[0],i=arguments[1];this.root.visit(n,i)}},queryAll:function(){var t=new b;return this.root.addAllItems(t),t},remove:function(t,e){var n=Si.ensureExtent(t,this.minExtent);return this.root.remove(n,e)},collectStats:function(t){var e=t.getWidth();e<this.minExtent&&e>0&&(this.minExtent=e);var n=t.getHeight();n<this.minExtent&&n>0&&(this.minExtent=n)},depth:function(){return null!==this.root?this.root.depth():0},isEmpty:function(){return null===this.root},interfaces_:function(){return[Ae,u]},getClass:function(){return Si}}),Si.ensureExtent=function(t,e){var n=t.getMinX(),i=t.getMaxX(),r=t.getMinY(),o=t.getMaxY();return n!==i&&r!==o?t:(n===i&&(i=(n-=e/2)+e/2),r===o&&(o=(r-=e/2)+e/2),new w(n,i,r,o))},Si.serialVersionUID=-0x678b60c967a25400;var ns=Object.freeze({Quadtree:Si}),is=Object.freeze({STRtree:Te}),rs=Object.freeze({quadtree:ns,strtree:is}),os=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"];e(Di.prototype,{read:function(t){var e,n=(e="string"==typeof t?JSON.parse(t):t).type;if(!ss[n])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==os.indexOf(n)?ss[n].apply(this,[e.coordinates]):"GeometryCollection"===n?ss[n].apply(this,[e.geometries]):ss[n].apply(this,[e])},write:function(t){var e=t.getGeometryType();if(!as[e])throw new Error("Geometry is not supported");return as[e].apply(this,[t])}});var ss={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){var i=t.geometry.type;if(!ss[i])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=ss.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(new d(i[0],i[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new d(t[0],t[1]),new d(t[2],t[1]),new d(t[2],t[3]),new d(t[0],t[3]),new d(t[0],t[1])])},Point:function(t){var e=new d(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(ss.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=ss.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(ss.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=ss.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),i=[],r=1;r<t.length;++r){var o=t[r],s=ss.coordinates.apply(this,[o]),a=this.geometryFactory.createLinearRing(s);i.push(a)}return this.geometryFactory.createPolygon(n,i)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(ss.Polygon.apply(this,[i]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(this.read(i))}return this.geometryFactory.createGeometryCollection(e)}},as={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:as.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],n=0;n<t.geometries.length;++n){var i=t.geometries[n],r=as.Point.apply(this,[i]);e.push(r.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),i=0;i<n.length;++i){var r=n[i];e.push(as.coordinate.apply(this,[r]))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t.geometries.length;++n){var i=t.geometries[n],r=as.LineString.apply(this,[i]);e.push(r.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=as.LineString.apply(this,[t.shell]);e.push(n.coordinates);for(var i=0;i<t.holes.length;++i){var r=t.holes[i],o=as.LineString.apply(this,[r]);e.push(o.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t.geometries.length;++n){var i=t.geometries[n],r=as.Polygon.apply(this,[i]);e.push(r.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t.geometries.length;++n){var i=t.geometries[n],r=i.getGeometryType();e.push(as[r].apply(this,[i]))}return{type:"GeometryCollection",geometries:e}}};e(Li.prototype,{read:function(t){var e=this.parser.read(t);return this.precisionModel.getType()===Ut.FIXED&&this.reducePrecision(e),e},reducePrecision:function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;e<n;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;e<n;e++)this.reducePrecision(t.geometries[e])}}),e(Fi.prototype,{write:function(t){return this.parser.write(t)}}),e(Ti.prototype,{read:function(t){var e=this.parser.read(t);return this.precisionModel.getType()===Ut.FIXED&&this.reducePrecision(e),e},reducePrecision:function(t){if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(var e=0,n=t.points.coordinates.length;e<n;e++)this.precisionModel.makePrecise(t.points.coordinates[e]);else if(t.geometries)for(var i=0,r=t.geometries.length;i<r;i++)this.reducePrecision(t.geometries[i])}}),e(Ii.prototype,{read:function(t){var e=this.ol;return t instanceof e.geom.Point?this.convertFromPoint(t):t instanceof e.geom.LineString?this.convertFromLineString(t):t instanceof e.geom.LinearRing?this.convertFromLinearRing(t):t instanceof e.geom.Polygon?this.convertFromPolygon(t):t instanceof e.geom.MultiPoint?this.convertFromMultiPoint(t):t instanceof e.geom.MultiLineString?this.convertFromMultiLineString(t):t instanceof e.geom.MultiPolygon?this.convertFromMultiPolygon(t):t instanceof e.geom.GeometryCollection?this.convertFromCollection(t):void 0},convertFromPoint:function(t){var e=t.getCoordinates();return this.geometryFactory.createPoint(new d(e[0],e[1]))},convertFromLineString:function(t){return this.geometryFactory.createLineString(t.getCoordinates().map((function(t){return new d(t[0],t[1])})))},convertFromLinearRing:function(t){return this.geometryFactory.createLinearRing(t.getCoordinates().map((function(t){return new d(t[0],t[1])})))},convertFromPolygon:function(t){for(var e=t.getLinearRings(),n=null,i=[],r=0;r<e.length;r++){var o=this.convertFromLinearRing(e[r]);0===r?n=o:i.push(o)}return this.geometryFactory.createPolygon(n,i)},convertFromMultiPoint:function(t){var e=t.getPoints().map((function(t){return this.convertFromPoint(t)}),this);return this.geometryFactory.createMultiPoint(e)},convertFromMultiLineString:function(t){var e=t.getLineStrings().map((function(t){return this.convertFromLineString(t)}),this);return this.geometryFactory.createMultiLineString(e)},convertFromMultiPolygon:function(t){var e=t.getPolygons().map((function(t){return this.convertFromPolygon(t)}),this);return this.geometryFactory.createMultiPolygon(e)},convertFromCollection:function(t){var e=t.getGeometries().map((function(t){return this.read(t)}),this);return this.geometryFactory.createGeometryCollection(e)},write:function(t){return"Point"===t.getGeometryType()?this.convertToPoint(t.getCoordinate()):"LineString"===t.getGeometryType()?this.convertToLineString(t):"LinearRing"===t.getGeometryType()?this.convertToLinearRing(t):"Polygon"===t.getGeometryType()?this.convertToPolygon(t):"MultiPoint"===t.getGeometryType()?this.convertToMultiPoint(t):"MultiLineString"===t.getGeometryType()?this.convertToMultiLineString(t):"MultiPolygon"===t.getGeometryType()?this.convertToMultiPolygon(t):"GeometryCollection"===t.getGeometryType()?this.convertToCollection(t):void 0},convertToPoint:function(t){return new this.ol.geom.Point([t.x,t.y])},convertToLineString:function(t){var e=t.points.coordinates.map(Mi);return new this.ol.geom.LineString(e)},convertToLinearRing:function(t){var e=t.points.coordinates.map(Mi);return new this.ol.geom.LinearRing(e)},convertToPolygon:function(t){for(var e=[t.shell.points.coordinates.map(Mi)],n=0;n<t.holes.length;n++)e.push(t.holes[n].points.coordinates.map(Mi));return new this.ol.geom.Polygon(e)},convertToMultiPoint:function(t){return new this.ol.geom.MultiPoint(t.getCoordinates().map(Mi))},convertToMultiLineString:function(t){for(var e=[],n=0;n<t.geometries.length;n++)e.push(this.convertToLineString(t.geometries[n]).getCoordinates());return new this.ol.geom.MultiLineString(e)},convertToMultiPolygon:function(t){for(var e=[],n=0;n<t.geometries.length;n++)e.push(this.convertToPolygon(t.geometries[n]).getCoordinates());return new this.ol.geom.MultiPolygon(e)},convertToCollection:function(t){for(var e=[],n=0;n<t.geometries.length;n++){var i=t.geometries[n];e.push(this.write(i))}return new this.ol.geom.GeometryCollection(e)}});var us=Object.freeze({GeoJSONReader:Li,GeoJSONWriter:Fi,OL3Parser:Ii,WKTReader:Ti,WKTWriter:Wt});e(Pi.prototype,{rescale:function(){if(D(arguments[0],v))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.rescale(n.getCoordinates())}else if(arguments[0]instanceof Array){var i=arguments[0];for(2===i.length&&(new d(i[0]),new d(i[1])),e=0;e<i.length;e++)i[e].x=i[e].x/this.scaleFactor+this.offsetX,i[e].y=i[e].y/this.scaleFactor+this.offsetY;2===i.length&&i[0].equals2D(i[1])&&B.out.println(i)}},scale:function(){if(D(arguments[0],v)){for(var t=arguments[0],e=new b,n=t.iterator();n.hasNext();){var i=n.next();e.add(new ke(this.scale(i.getCoordinates()),i.getData()))}return e}if(arguments[0]instanceof Array){var r=arguments[0],o=new Array(r.length).fill(null);for(n=0;n<r.length;n++)o[n]=new d(Math.round((r[n].x-this.offsetX)*this.scaleFactor),Math.round((r[n].y-this.offsetY)*this.scaleFactor),r[n].z);var s=H.removeRepeatedPoints(o);return s}},isIntegerPrecision:function(){return 1===this.scaleFactor},getNodedSubstrings:function(){var t=this.noder.getNodedSubstrings();return this.isScaled&&this.rescale(t),t},computeNodes:function(t){var e=t;this.isScaled&&(e=this.scale(t)),this.noder.computeNodes(e)},interfaces_:function(){return[ze]},getClass:function(){return Pi}});var ls=Object.freeze({MCIndexNoder:Ue,ScaledNoder:Pi,SegmentString:xe});e(Oi.prototype,{isSimpleMultiPoint:function(t){if(t.isEmpty())return!0;for(var e=new at,n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n).getCoordinate();if(e.contains(i))return this.nonSimpleLocation=i,!1;e.add(i)}return!0},isSimplePolygonal:function(t){for(var e=Tn.getLines(t).iterator();e.hasNext();){var n=e.next();if(!this.isSimpleLinearGeometry(n))return!1}return!0},hasClosedEndpointIntersection:function(t){for(var e=new rt,n=t.getEdgeIterator();n.hasNext();){var i=n.next(),r=(i.getMaximumSegmentIndex(),i.isClosed()),o=i.getCoordinate(0);this.addEndpoint(e,o,r);var s=i.getCoordinate(i.getNumPoints()-1);this.addEndpoint(e,s,r)}for(n=e.values().iterator();n.hasNext();){var a=n.next();if(a.isClosed&&2!==a.degree)return this.nonSimpleLocation=a.getCoordinate(),!0}return!1},getNonSimpleLocation:function(){return this.nonSimpleLocation},isSimpleLinearGeometry:function(t){if(t.isEmpty())return!0;var e=new Gn(0,t),n=new Kt,i=e.computeSelfNodes(n,!0);return!(i.hasIntersection()&&(i.hasProperIntersection()?(this.nonSimpleLocation=i.getProperIntersectionPoint(),1):this.hasNonEndpointIntersection(e)||this.isClosedEndpointsInInterior&&this.hasClosedEndpointIntersection(e)))},hasNonEndpointIntersection:function(t){for(var e=t.getEdgeIterator();e.hasNext();)for(var n=e.next(),i=n.getMaximumSegmentIndex(),r=n.getEdgeIntersectionList().iterator();r.hasNext();){var o=r.next();if(!o.isEndPoint(i))return this.nonSimpleLocation=o.getCoordinate(),!0}return!1},addEndpoint:function(t,e,n){var i=t.get(e);null===i&&(i=new Bi(e),t.put(e,i)),i.addEndpoint(n)},computeSimple:function(t){return this.nonSimpleLocation=null,!!t.isEmpty()||(t instanceof wt||t instanceof dt?this.isSimpleLinearGeometry(t):t instanceof Lt?this.isSimpleMultiPoint(t):D(t,St)?this.isSimplePolygonal(t):!(t instanceof ft)||this.isSimpleGeometryCollection(t))},isSimple:function(){return this.nonSimpleLocation=null,this.computeSimple(this.inputGeom)},isSimpleGeometryCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);if(!this.computeSimple(n))return!1}return!0},interfaces_:function(){return[]},getClass:function(){return Oi}}),e(Bi.prototype,{addEndpoint:function(t){this.degree++,this.isClosed|=t},getCoordinate:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return Bi}}),Oi.EndpointInfo=Bi,e(Ni.prototype,{getEndCapStyle:function(){return this.endCapStyle},isSingleSided:function(){return this._isSingleSided},setQuadrantSegments:function(t){this.quadrantSegments=t,0===this.quadrantSegments&&(this.joinStyle=Ni.JOIN_BEVEL),this.quadrantSegments<0&&(this.joinStyle=Ni.JOIN_MITRE,this.mitreLimit=Math.abs(this.quadrantSegments)),t<=0&&(this.quadrantSegments=1),this.joinStyle!==Ni.JOIN_ROUND&&(this.quadrantSegments=Ni.DEFAULT_QUADRANT_SEGMENTS)},getJoinStyle:function(){return this.joinStyle},setJoinStyle:function(t){this.joinStyle=t},setSimplifyFactor:function(t){this.simplifyFactor=t<0?0:t},getSimplifyFactor:function(){return this.simplifyFactor},getQuadrantSegments:function(){return this.quadrantSegments},setEndCapStyle:function(t){this.endCapStyle=t},getMitreLimit:function(){return this.mitreLimit},setMitreLimit:function(t){this.mitreLimit=t},setSingleSided:function(t){this._isSingleSided=t},interfaces_:function(){return[]},getClass:function(){return Ni}}),Ni.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},Ni.CAP_ROUND=1,Ni.CAP_FLAT=2,Ni.CAP_SQUARE=3,Ni.JOIN_ROUND=1,Ni.JOIN_MITRE=2,Ni.JOIN_BEVEL=3,Ni.DEFAULT_QUADRANT_SEGMENTS=8,Ni.DEFAULT_MITRE_LIMIT=5,Ni.DEFAULT_SIMPLIFY_FACTOR=.01,e(ki.prototype,{getCoordinate:function(){return this.minCoord},getRightmostSide:function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this.minCoord=null,this.checkForRightmostCoordinate(t)),n},findRightmostEdgeAtVertex:function(){var t=this.minDe.getEdge().getCoordinates();f.isTrue(this.minIndex>0&&this.minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this.minIndex-1],n=t[this.minIndex+1],i=Qt.computeOrientation(this.minCoord,n,e),r=!1;(e.y<this.minCoord.y&&n.y<this.minCoord.y&&i===Qt.COUNTERCLOCKWISE||e.y>this.minCoord.y&&n.y>this.minCoord.y&&i===Qt.CLOCKWISE)&&(r=!0),r&&(this.minIndex=this.minIndex-1)},getRightmostSideOfSegment:function(t,e){var n=t.getEdge().getCoordinates();if(e<0||e+1>=n.length)return-1;if(n[e].y===n[e+1].y)return-1;var i=$e.LEFT;return n[e].y<n[e+1].y&&(i=$e.RIGHT),i},getEdge:function(){return this.orientedDe},checkForRightmostCoordinate:function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this.minCoord||e[n].x>this.minCoord.x)&&(this.minDe=t,this.minIndex=n,this.minCoord=e[n])},findRightmostEdgeAtNode:function(){var t=this.minDe.getNode().getEdges();this.minDe=t.getRightmostEdge(),this.minDe.isForward()||(this.minDe=this.minDe.getSym(),this.minIndex=this.minDe.getEdge().getCoordinates().length-1)},findEdge:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}f.isTrue(0!==this.minIndex||this.minCoord.equals(this.minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this.minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this.orientedDe=this.minDe,this.getRightmostSide(this.minDe,this.minIndex)===$e.LEFT&&(this.orientedDe=this.minDe.getSym())},interfaces_:function(){return[]},getClass:function(){return ki}}),Ri.prototype.addLast=function(t){this.array_.push(t)},Ri.prototype.removeFirst=function(){return this.array_.shift()},Ri.prototype.isEmpty=function(){return 0===this.array_.length},e(ji.prototype,{clearVisitedEdges:function(){for(var t=this.dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},getRightmostCoordinate:function(){return this.rightMostCoord},computeNodeDepth:function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();)if((i=n.next()).isVisited()||i.getSym().isVisited()){e=i;break}if(null===e)throw new He("unable to find edge to compute depths at "+t.getCoordinate());for(t.getEdges().computeDepths(e),n=t.getEdges().iterator();n.hasNext();){var i;(i=n.next()).setVisited(!0),this.copySymDepths(i)}},computeDepth:function(t){this.clearVisitedEdges();var e=this.finder.getEdge();e.getNode(),e.getLabel(),e.setEdgeDepths($e.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},create:function(t){this.addReachable(t),this.finder.findEdge(this.dirEdgeList),this.rightMostCoord=this.finder.getCoordinate()},findResultEdges:function(){for(var t=this.dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth($e.RIGHT)>=1&&e.getDepth($e.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},computeDepths:function(t){var e=new $,n=new Ri,i=t.getNode();for(n.addLast(i),e.add(i),t.setVisited(!0);!n.isEmpty();){var r=n.removeFirst();e.add(r),this.computeNodeDepth(r);for(var o=r.getEdges().iterator();o.hasNext();){var s=o.next().getSym();if(!s.isVisited()){var a=s.getNode();e.contains(a)||(n.addLast(a),e.add(a))}}}},compareTo:function(t){var e=t;return this.rightMostCoord.x<e.rightMostCoord.x?-1:this.rightMostCoord.x>e.rightMostCoord.x?1:0},getEnvelope:function(){if(null===this.env){for(var t=new w,e=this.dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),i=0;i<n.length-1;i++)t.expandToInclude(n[i]);this.env=t}return this.env},addReachable:function(t){var e=new re;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},copySymDepths:function(t){var e=t.getSym();e.setDepth($e.LEFT,t.getDepth($e.RIGHT)),e.setDepth($e.RIGHT,t.getDepth($e.LEFT))},add:function(t,e){t.setVisited(!0),this.nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var i=n.next();this.dirEdgeList.add(i);var r=i.getSym().getNode();r.isVisited()||e.push(r)}},getNodes:function(){return this.nodes},getDirectedEdges:function(){return this.dirEdgeList},interfaces_:function(){return[o]},getClass:function(){return ji}}),e(Vi.prototype,{isDeletable:function(t,e,n,i){var r=this.inputLine[t],o=this.inputLine[e],s=this.inputLine[n];return!!this.isConcave(r,o,s)&&!!this.isShallow(r,o,s,i)&&this.isShallowSampled(r,o,t,n,i)},deleteShallowConcavities:function(){for(var t=1,e=(this.inputLine.length,this.findNextNonDeletedIndex(t)),n=this.findNextNonDeletedIndex(e),i=!1;n<this.inputLine.length;){var r=!1;this.isDeletable(t,e,n,this.distanceTol)&&(this.isDeleted[e]=Vi.DELETE,r=!0,i=!0),t=r?n:e,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e)}return i},isShallowConcavity:function(t,e,n,i){return Qt.computeOrientation(t,e,n)===this.angleOrientation&&Qt.distancePointLine(e,t,n)<i},isShallowSampled:function(t,e,n,i,r){var o=Math.trunc((i-n)/Vi.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var s=n;s<i;s+=o)if(!this.isShallow(t,e,this.inputLine[s],r))return!1;return!0},isConcave:function(t,e,n){var i=Qt.computeOrientation(t,e,n)===this.angleOrientation;return i},simplify:function(t){this.distanceTol=Math.abs(t),t<0&&(this.angleOrientation=Qt.CLOCKWISE),this.isDeleted=new Array(this.inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},findNextNonDeletedIndex:function(t){for(var e=t+1;e<this.inputLine.length&&this.isDeleted[e]===Vi.DELETE;)e++;return e},isShallow:function(t,e,n,i){return Qt.distancePointLine(e,t,n)<i},collapseLine:function(){for(var t=new C,e=0;e<this.inputLine.length;e++)this.isDeleted[e]!==Vi.DELETE&&t.add(this.inputLine[e]);return t.toCoordinateArray()},interfaces_:function(){return[]},getClass:function(){return Vi}}),Vi.simplify=function(t,e){return new Vi(t).simplify(e)},Vi.INIT=0,Vi.DELETE=1,Vi.KEEP=1,Vi.NUM_PTS_TO_CHECK=10,e(Gi.prototype,{getCoordinates:function(){return this.ptList.toArray(Gi.COORDINATE_ARRAY_TYPE)},setPrecisionModel:function(t){this.precisionModel=t},addPt:function(t){var e=new d(t);return this.precisionModel.makePrecise(e),this.isRedundant(e)?null:void this.ptList.add(e)},reverse:function(){},addPts:function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(n=t.length-1;n>=0;n--)this.addPt(t[n])},isRedundant:function(t){if(this.ptList.size()<1)return!1;var e=this.ptList.get(this.ptList.size()-1);return t.distance(e)<this.minimimVertexDistance},toString:function(){return(new Ht).createLineString(this.getCoordinates()).toString()},closeRing:function(){if(this.ptList.size()<1)return null;var t=new d(this.ptList.get(0)),e=this.ptList.get(this.ptList.size()-1);return this.ptList.size()>=2&&this.ptList.get(this.ptList.size()-2),t.equals(e)?null:void this.ptList.add(t)},setMinimumVertexDistance:function(t){this.minimimVertexDistance=t},interfaces_:function(){return[]},getClass:function(){return Gi}}),Gi.COORDINATE_ARRAY_TYPE=new Array(0).fill(null),e(zi.prototype,{addNextSegment:function(t,e){if(this.s0=this.s1,this.s1=this.s2,this.s2=t,this.seg0.setCoordinates(this.s0,this.s1),this.computeOffsetSegment(this.seg0,this.side,this.distance,this.offset0),this.seg1.setCoordinates(this.s1,this.s2),this.computeOffsetSegment(this.seg1,this.side,this.distance,this.offset1),this.s1.equals(this.s2))return null;var n=Qt.computeOrientation(this.s0,this.s1,this.s2),i=n===Qt.CLOCKWISE&&this.side===$e.LEFT||n===Qt.COUNTERCLOCKWISE&&this.side===$e.RIGHT;0===n?this.addCollinear(e):i?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},addLineEndCap:function(t,e){var n=new te(t,e),i=new te;this.computeOffsetSegment(n,$e.LEFT,this.distance,i);var r=new te;this.computeOffsetSegment(n,$e.RIGHT,this.distance,r);var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o);switch(this.bufParams.getEndCapStyle()){case Ni.CAP_ROUND:this.segList.addPt(i.p1),this.addFilletArc(e,a+Math.PI/2,a-Math.PI/2,Qt.CLOCKWISE,this.distance),this.segList.addPt(r.p1);break;case Ni.CAP_FLAT:this.segList.addPt(i.p1),this.segList.addPt(r.p1);break;case Ni.CAP_SQUARE:var u=new d;u.x=Math.abs(this.distance)*Math.cos(a),u.y=Math.abs(this.distance)*Math.sin(a);var l=new d(i.p1.x+u.x,i.p1.y+u.y),c=new d(r.p1.x+u.x,r.p1.y+u.y);this.segList.addPt(l),this.segList.addPt(c)}},getCoordinates:function(){return this.segList.getCoordinates()},addMitreJoin:function(t,e,n,i){var r=!0,o=null;try{o=N.intersection(e.p0,e.p1,n.p0,n.p1),(i<=0?1:o.distance(t)/Math.abs(i))>this.bufParams.getMitreLimit()&&(r=!1)}catch(t){if(!(t instanceof A))throw t;o=new d(0,0),r=!1}r?this.segList.addPt(o):this.addLimitedMitreJoin(e,n,i,this.bufParams.getMitreLimit())},addFilletCorner:function(t,e,n,i,r){var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o),u=n.x-t.x,l=n.y-t.y,c=Math.atan2(l,u);i===Qt.CLOCKWISE?a<=c&&(a+=2*Math.PI):a>=c&&(a-=2*Math.PI),this.segList.addPt(e),this.addFilletArc(t,a,c,i,r),this.segList.addPt(n)},addOutsideTurn:function(t,e){return this.offset0.p1.distance(this.offset1.p0)<this.distance*zi.OFFSET_SEGMENT_SEPARATION_FACTOR?(this.segList.addPt(this.offset0.p1),null):void(this.bufParams.getJoinStyle()===Ni.JOIN_MITRE?this.addMitreJoin(this.s1,this.offset0,this.offset1,this.distance):this.bufParams.getJoinStyle()===Ni.JOIN_BEVEL?this.addBevelJoin(this.offset0,this.offset1):(e&&this.segList.addPt(this.offset0.p1),this.addFilletCorner(this.s1,this.offset0.p1,this.offset1.p0,t,this.distance),this.segList.addPt(this.offset1.p0)))},createSquare:function(t){this.segList.addPt(new d(t.x+this.distance,t.y+this.distance)),this.segList.addPt(new d(t.x+this.distance,t.y-this.distance)),this.segList.addPt(new d(t.x-this.distance,t.y-this.distance)),this.segList.addPt(new d(t.x-this.distance,t.y+this.distance)),this.segList.closeRing()},addSegments:function(t,e){this.segList.addPts(t,e)},addFirstSegment:function(){this.segList.addPt(this.offset1.p0)},addLastSegment:function(){this.segList.addPt(this.offset1.p1)},initSideSegments:function(t,e,n){this.s1=t,this.s2=e,this.side=n,this.seg1.setCoordinates(t,e),this.computeOffsetSegment(this.seg1,n,this.distance,this.offset1)},addLimitedMitreJoin:function(t,e,n,i){var r=this.seg0.p1,o=ci.angle(r,this.seg0.p0),s=(ci.angle(r,this.seg1.p1),ci.angleBetweenOriented(this.seg0.p0,r,this.seg1.p1)/2),a=ci.normalize(o+s),u=ci.normalize(a+Math.PI),l=i*n,c=n-l*Math.abs(Math.sin(s)),h=new te(r,new d(r.x+l*Math.cos(u),r.y+l*Math.sin(u))),f=h.pointAlongOffset(1,c),p=h.pointAlongOffset(1,-c);this.side===$e.LEFT?(this.segList.addPt(f),this.segList.addPt(p)):(this.segList.addPt(p),this.segList.addPt(f))},computeOffsetSegment:function(t,e,n,i){var r=e===$e.LEFT?1:-1,o=t.p1.x-t.p0.x,s=t.p1.y-t.p0.y,a=Math.sqrt(o*o+s*s),u=r*n*o/a,l=r*n*s/a;i.p0.x=t.p0.x-l,i.p0.y=t.p0.y+u,i.p1.x=t.p1.x-l,i.p1.y=t.p1.y+u},addFilletArc:function(t,e,n,i,r){var o,s=i===Qt.CLOCKWISE?-1:1,a=Math.abs(e-n),u=Math.trunc(a/this.filletAngleQuantum+.5);if(u<1)return null;o=a/u;for(var l=0,c=new d;l<a;){var h=e+s*l;c.x=t.x+r*Math.cos(h),c.y=t.y+r*Math.sin(h),this.segList.addPt(c),l+=o}},addInsideTurn:function(t,e){if(this.li.computeIntersection(this.offset0.p0,this.offset0.p1,this.offset1.p0,this.offset1.p1),this.li.hasIntersection())this.segList.addPt(this.li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this.offset0.p1.distance(this.offset1.p0)<this.distance*zi.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this.segList.addPt(this.offset0.p1);else{if(this.segList.addPt(this.offset0.p1),this.closingSegLengthFactor>0){var n=new d((this.closingSegLengthFactor*this.offset0.p1.x+this.s1.x)/(this.closingSegLengthFactor+1),(this.closingSegLengthFactor*this.offset0.p1.y+this.s1.y)/(this.closingSegLengthFactor+1));this.segList.addPt(n);var i=new d((this.closingSegLengthFactor*this.offset1.p0.x+this.s1.x)/(this.closingSegLengthFactor+1),(this.closingSegLengthFactor*this.offset1.p0.y+this.s1.y)/(this.closingSegLengthFactor+1));this.segList.addPt(i)}else this.segList.addPt(this.s1);this.segList.addPt(this.offset1.p0)}},createCircle:function(t){var e=new d(t.x+this.distance,t.y);this.segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this.distance),this.segList.closeRing()},addBevelJoin:function(t,e){this.segList.addPt(t.p1),this.segList.addPt(e.p0)},init:function(t){this.distance=t,this.maxCurveSegmentError=t*(1-Math.cos(this.filletAngleQuantum/2)),this.segList=new Gi,this.segList.setPrecisionModel(this.precisionModel),this.segList.setMinimumVertexDistance(t*zi.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},addCollinear:function(t){this.li.computeIntersection(this.s0,this.s1,this.s1,this.s2),this.li.getIntersectionNum()>=2&&(this.bufParams.getJoinStyle()===Ni.JOIN_BEVEL||this.bufParams.getJoinStyle()===Ni.JOIN_MITRE?(t&&this.segList.addPt(this.offset0.p1),this.segList.addPt(this.offset1.p0)):this.addFilletCorner(this.s1,this.offset0.p1,this.offset1.p0,Qt.CLOCKWISE,this.distance))},closeRing:function(){this.segList.closeRing()},hasNarrowConcaveAngle:function(){return this._hasNarrowConcaveAngle},interfaces_:function(){return[]},getClass:function(){return zi}}),zi.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,zi.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,zi.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,zi.MAX_CLOSING_SEG_LEN_FACTOR=80,e(qi.prototype,{getOffsetCurve:function(t,e){if(this.distance=e,0===e)return null;var n=e<0,i=Math.abs(e),r=this.getSegGen(i);t.length<=1?this.computePointCurve(t[0],r):this.computeOffsetCurve(t,n,r);var o=r.getCoordinates();return n&&H.reverse(o),o},computeSingleSidedBufferCurve:function(t,e,n){var i=this.simplifyTolerance(this.distance);if(e){n.addSegments(t,!0);var r=Vi.simplify(t,-i),o=r.length-1;n.initSideSegments(r[o],r[o-1],$e.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(r[s],!0)}else{n.addSegments(t,!1);var a=Vi.simplify(t,i),u=a.length-1;for(n.initSideSegments(a[0],a[1],$e.LEFT),n.addFirstSegment(),s=2;s<=u;s++)n.addNextSegment(a[s],!0)}n.addLastSegment(),n.closeRing()},computeRingBufferCurve:function(t,e,n){var i=this.simplifyTolerance(this.distance);e===$e.RIGHT&&(i=-i);var r=Vi.simplify(t,i),o=r.length-1;n.initSideSegments(r[o-1],r[0],e);for(var s=1;s<=o;s++){var a=1!==s;n.addNextSegment(r[s],a)}n.closeRing()},computeLineBufferCurve:function(t,e){var n=this.simplifyTolerance(this.distance),i=Vi.simplify(t,n),r=i.length-1;e.initSideSegments(i[0],i[1],$e.LEFT);for(var o=2;o<=r;o++)e.addNextSegment(i[o],!0);e.addLastSegment(),e.addLineEndCap(i[r-1],i[r]);var s=Vi.simplify(t,-n),a=s.length-1;for(e.initSideSegments(s[a],s[a-1],$e.LEFT),o=a-2;o>=0;o--)e.addNextSegment(s[o],!0);e.addLastSegment(),e.addLineEndCap(s[1],s[0]),e.closeRing()},computePointCurve:function(t,e){switch(this.bufParams.getEndCapStyle()){case Ni.CAP_ROUND:e.createCircle(t);break;case Ni.CAP_SQUARE:e.createSquare(t)}},getLineCurve:function(t,e){if(this.distance=e,e<0&&!this.bufParams.isSingleSided())return null;if(0===e)return null;var n=Math.abs(e),i=this.getSegGen(n);if(t.length<=1)this.computePointCurve(t[0],i);else if(this.bufParams.isSingleSided()){var r=e<0;this.computeSingleSidedBufferCurve(t,r,i)}else this.computeLineBufferCurve(t,i);return i.getCoordinates()},getBufferParameters:function(){return this.bufParams},simplifyTolerance:function(t){return t*this.bufParams.getSimplifyFactor()},getRingCurve:function(t,e,n){if(this.distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return qi.copyCoordinates(t);var i=this.getSegGen(n);return this.computeRingBufferCurve(t,e,i),i.getCoordinates()},computeOffsetCurve:function(t,e,n){var i=this.simplifyTolerance(this.distance);if(e){var r=Vi.simplify(t,-i),o=r.length-1;n.initSideSegments(r[o],r[o-1],$e.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(r[s],!0)}else{var a=Vi.simplify(t,i),u=a.length-1;for(n.initSideSegments(a[0],a[1],$e.LEFT),n.addFirstSegment(),s=2;s<=u;s++)n.addNextSegment(a[s],!0)}n.addLastSegment()},getSegGen:function(t){return new zi(this.precisionModel,this.bufParams,t)},interfaces_:function(){return[]},getClass:function(){return qi}}),qi.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new d(t[n]);return e},e(Ui.prototype,{findStabbedSegments:function(){if(1===arguments.length){for(var t=arguments[0],e=new b,n=this.subgraphs.iterator();n.hasNext();){var i=n.next(),r=i.getEnvelope();t.y<r.getMinY()||t.y>r.getMaxY()||this.findStabbedSegments(t,i.getDirectedEdges(),e)}return e}if(3===arguments.length)if(D(arguments[2],y)&&arguments[0]instanceof d&&arguments[1]instanceof ln){var o=arguments[0],s=arguments[1],a=arguments[2],u=s.getEdge().getCoordinates();for(n=0;n<u.length-1;n++){this.seg.p0=u[n],this.seg.p1=u[n+1],this.seg.p0.y>this.seg.p1.y&&this.seg.reverse();var l=Math.max(this.seg.p0.x,this.seg.p1.x);if(!(l<o.x||this.seg.isHorizontal()||o.y<this.seg.p0.y||o.y>this.seg.p1.y||Qt.computeOrientation(this.seg.p0,this.seg.p1,o)===Qt.RIGHT)){var c=s.getDepth($e.LEFT);this.seg.p0.equals(u[n])||(c=s.getDepth($e.RIGHT));var h=new Xi(this.seg,c);a.add(h)}}}else if(D(arguments[2],y)&&arguments[0]instanceof d&&D(arguments[1],y)){var f=arguments[0],p=arguments[1],g=arguments[2];for(n=p.iterator();n.hasNext();){var v=n.next();v.isForward()&&this.findStabbedSegments(f,v,g)}}},getDepth:function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:Zo.min(e).leftDepth},interfaces_:function(){return[]},getClass:function(){return Ui}}),e(Xi.prototype,{compareTo:function(t){var e=t;if(this.upwardSeg.minX()>=e.upwardSeg.maxX())return 1;if(this.upwardSeg.maxX()<=e.upwardSeg.minX())return-1;var n=this.upwardSeg.orientationIndex(e.upwardSeg);return 0!==n||0!=(n=-1*e.upwardSeg.orientationIndex(this.upwardSeg))?n:this.upwardSeg.compareTo(e.upwardSeg)},compareX:function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},toString:function(){return this.upwardSeg.toString()},interfaces_:function(){return[o]},getClass:function(){return Xi}}),Ui.DepthSegment=Xi,e(Hi.prototype,{addPoint:function(t){if(this.distance<=0)return null;var e=t.getCoordinates(),n=this.curveBuilder.getLineCurve(e,this.distance);this.addCurve(n,S.EXTERIOR,S.INTERIOR)},addPolygon:function(t){var e=this.distance,n=$e.LEFT;this.distance<0&&(e=-this.distance,n=$e.RIGHT);var i=t.getExteriorRing(),r=H.removeRepeatedPoints(i.getCoordinates());if(this.distance<0&&this.isErodedCompletely(i,this.distance))return null;if(this.distance<=0&&r.length<3)return null;this.addPolygonRing(r,e,n,S.EXTERIOR,S.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var s=t.getInteriorRingN(o),a=H.removeRepeatedPoints(s.getCoordinates());this.distance>0&&this.isErodedCompletely(s,-this.distance)||this.addPolygonRing(a,e,$e.opposite(n),S.INTERIOR,S.EXTERIOR)}},isTriangleErodedCompletely:function(t,e){var n=new hi(t[0],t[1],t[2]),i=n.inCentre();return Qt.distancePointLine(i,n.p0,n.p1)<Math.abs(e)},addLineString:function(t){if(this.distance<=0&&!this.curveBuilder.getBufferParameters().isSingleSided())return null;var e=H.removeRepeatedPoints(t.getCoordinates()),n=this.curveBuilder.getLineCurve(e,this.distance);this.addCurve(n,S.EXTERIOR,S.INTERIOR)},addCurve:function(t,e,n){if(null===t||t.length<2)return null;var i=new ke(t,new tn(0,S.BOUNDARY,e,n));this.curveList.add(i)},getCurves:function(){return this.add(this.inputGeom),this.curveList},addPolygonRing:function(t,e,n,i,r){if(0===e&&t.length<Ft.MINIMUM_VALID_SIZE)return null;var o=i,s=r;t.length>=Ft.MINIMUM_VALID_SIZE&&Qt.isCCW(t)&&(o=r,s=i,n=$e.opposite(n));var a=this.curveBuilder.getRingCurve(t,n,e);this.addCurve(a,o,s)},add:function(t){if(t.isEmpty())return null;if(t instanceof Dt)this.addPolygon(t);else if(t instanceof wt)this.addLineString(t);else if(t instanceof At)this.addPoint(t);else if(t instanceof Lt)this.addCollection(t);else if(t instanceof dt)this.addCollection(t);else if(t instanceof Tt)this.addCollection(t);else{if(!(t instanceof ft))throw new UnsupportedOperationException(t.getClass().getName());this.addCollection(t)}},isErodedCompletely:function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var i=t.getEnvelopeInternal(),r=Math.min(i.getHeight(),i.getWidth());return e<0&&2*Math.abs(e)>r},addCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},interfaces_:function(){return[]},getClass:function(){return Hi}}),e(Yi.prototype,{isTrivialIntersection:function(t,e,n,i){if(t===n&&1===this.li.getIntersectionNum()){if(Yi.isAdjacentSegments(e,i))return!0;if(t.isClosed()){var r=t.size()-1;if(0===e&&i===r||0===i&&e===r)return!0}}return!1},getProperIntersectionPoint:function(){return this.properIntersectionPoint},hasProperInteriorIntersection:function(){return this.hasProperInterior},getLineIntersector:function(){return this.li},hasProperIntersection:function(){return this.hasProper},processIntersections:function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this.li.computeIntersection(r,o,s,a),this.li.hasIntersection()&&(this.numIntersections++,this.li.isInteriorIntersection()&&(this.numInteriorIntersections++,this.hasInterior=!0),this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,t.addIntersections(this.li,e,0),n.addIntersections(this.li,i,1),this.li.isProper()&&(this.numProperIntersections++,this.hasProper=!0,this.hasProperInterior=!0)))},hasIntersection:function(){return this._hasIntersection},isDone:function(){return!1},hasInteriorIntersection:function(){return this.hasInterior},interfaces_:function(){return[Ye]},getClass:function(){return Yi}}),Yi.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)},e(Wi.prototype,{setWorkingPrecisionModel:function(t){this.workingPrecisionModel=t},insertUniqueEdge:function(t){var e=this.edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),i=t.getLabel();e.isPointwiseEqual(t)||(i=new tn(t.getLabel())).flip(),n.merge(i);var r=Wi.depthDelta(i),o=e.getDepthDelta()+r;e.setDepthDelta(o)}else this.edgeList.add(t),t.setDepthDelta(Wi.depthDelta(t.getLabel()))},buildSubgraphs:function(t,e){for(var n=new b,i=t.iterator();i.hasNext();){var r=i.next(),o=r.getRightmostCoordinate(),s=new Ui(n).getDepth(o);r.computeDepth(s),r.findResultEdges(),n.add(r),e.add(r.getDirectedEdges(),r.getNodes())}},createSubgraphs:function(t){for(var e=new b,n=t.getNodes().iterator();n.hasNext();){var i=n.next();if(!i.isVisited()){var r=new ji;r.create(i),e.add(r)}}return Zo.sort(e,Zo.reverseOrder()),e},createEmptyResultGeometry:function(){return this.geomFact.createPolygon()},getNoder:function(t){if(null!==this.workingNoder)return this.workingNoder;var e=new Ue,n=new Kt;return n.setPrecisionModel(t),e.setSegmentIntersector(new Yi(n)),e},buffer:function(t,e){var n=this.workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this.geomFact=t.getFactory();var i=new Hi(t,e,new qi(n,this.bufParams)).getCurves();if(i.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(i,n),this.graph=new hn(new xn),this.graph.addEdges(this.edgeList.getEdges());var r=this.createSubgraphs(this.graph),o=new fn(this.geomFact);this.buildSubgraphs(r,o);var s=o.getPolygons();return s.size()<=0?this.createEmptyResultGeometry():this.geomFact.buildGeometry(s)},computeNodedEdges:function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var i=n.getNodedSubstrings().iterator();i.hasNext();){var r=i.next(),o=r.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var s=r.getData(),a=new Vn(r.getCoordinates(),new tn(s));this.insertUniqueEdge(a)}}},setNoder:function(t){this.workingNoder=t},interfaces_:function(){return[]},getClass:function(){return Wi}}),Wi.depthDelta=function(t){var e=t.getLocation(0,$e.LEFT),n=t.getLocation(0,$e.RIGHT);return e===S.INTERIOR&&n===S.EXTERIOR?1:e===S.EXTERIOR&&n===S.INTERIOR?-1:0},Wi.convertSegStrings=function(t){for(var e=new Ht,n=new b;t.hasNext();){var i=t.next(),r=e.createLineString(i.getCoordinates());n.add(r)}return e.buildGeometry(n)},e(Ji.prototype,{checkEndPtVertexIntersections:function(){if(0===arguments.length)for(var t=this.segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this.segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this.segStrings)}else if(2===arguments.length){var n=arguments[0],i=arguments[1];for(t=i.iterator();t.hasNext();){e=t.next().getCoordinates();for(var r=1;r<e.length-1;r++)if(e[r].equals(n))throw new l("found endpt/interior pt intersection at index "+r+" :pt "+n)}}},checkInteriorIntersections:function(){if(0===arguments.length)for(var t=this.segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this.segStrings.iterator();n.hasNext();){var i=n.next();this.checkInteriorIntersections(e,i)}else if(2===arguments.length)for(var r=arguments[0],o=arguments[1],s=r.getCoordinates(),a=o.getCoordinates(),u=0;u<s.length-1;u++)for(var c=0;c<a.length-1;c++)this.checkInteriorIntersections(r,u,o,c);else if(4===arguments.length){var h=arguments[0],f=arguments[1],d=arguments[2],p=arguments[3];if(h===d&&f===p)return null;var g=h.getCoordinates()[f],v=h.getCoordinates()[f+1],m=d.getCoordinates()[p],y=d.getCoordinates()[p+1];if(this.li.computeIntersection(g,v,m,y),this.li.hasIntersection()&&(this.li.isProper()||this.hasInteriorIntersection(this.li,g,v)||this.hasInteriorIntersection(this.li,m,y)))throw new l("found non-noded intersection at "+g+"-"+v+" and "+m+"-"+y)}},checkValid:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},checkCollapses:function(){if(0===arguments.length)for(var t=this.segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length){var n=arguments[0],i=n.getCoordinates();for(t=0;t<i.length-2;t++)this.checkCollapse(i[t],i[t+1],i[t+2])}},hasInteriorIntersection:function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++){var r=t.getIntersection(i);if(!r.equals(e)&&!r.equals(n))return!0}return!1},checkCollapse:function(t,e,n){if(t.equals(n))throw new l("found non-noded collapse at "+Ji.fact.createLineString([t,e,n]))},interfaces_:function(){return[]},getClass:function(){return Ji}}),Ji.fact=new Ht,e(Ki.prototype,{intersectsScaled:function(t,e){var n=Math.min(t.x,e.x),i=Math.max(t.x,e.x),r=Math.min(t.y,e.y),o=Math.max(t.y,e.y),s=this.maxx<n||this.minx>i||this.maxy<r||this.miny>o;if(s)return!1;var a=this.intersectsToleranceSquare(t,e);return f.isTrue(!(s&&a),"Found bad envelope test"),a},initCorners:function(t){var e=.5;this.minx=t.x-e,this.maxx=t.x+e,this.miny=t.y-e,this.maxy=t.y+e,this.corner[0]=new d(this.maxx,this.maxy),this.corner[1]=new d(this.minx,this.maxy),this.corner[2]=new d(this.minx,this.miny),this.corner[3]=new d(this.maxx,this.miny)},intersects:function(t,e){return 1===this.scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this.p0Scaled),this.copyScaled(e,this.p1Scaled),this.intersectsScaled(this.p0Scaled,this.p1Scaled))},scale:function(t){return Math.round(t*this.scaleFactor)},getCoordinate:function(){return this.originalPt},copyScaled:function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},getSafeEnvelope:function(){if(null===this.safeEnv){var t=Ki.SAFE_ENV_EXPANSION_FACTOR/this.scaleFactor;this.safeEnv=new w(this.originalPt.x-t,this.originalPt.x+t,this.originalPt.y-t,this.originalPt.y+t)}return this.safeEnv},intersectsPixelClosure:function(t,e){return this.li.computeIntersection(t,e,this.corner[0],this.corner[1]),!!(this.li.hasIntersection()||(this.li.computeIntersection(t,e,this.corner[1],this.corner[2]),this.li.hasIntersection()||(this.li.computeIntersection(t,e,this.corner[2],this.corner[3]),this.li.hasIntersection()||(this.li.computeIntersection(t,e,this.corner[3],this.corner[0]),this.li.hasIntersection()))))},intersectsToleranceSquare:function(t,e){var n=!1,i=!1;return this.li.computeIntersection(t,e,this.corner[0],this.corner[1]),!!(this.li.isProper()||(this.li.computeIntersection(t,e,this.corner[1],this.corner[2]),this.li.isProper()||(this.li.hasIntersection()&&(n=!0),this.li.computeIntersection(t,e,this.corner[2],this.corner[3]),this.li.isProper()||(this.li.hasIntersection()&&(i=!0),this.li.computeIntersection(t,e,this.corner[3],this.corner[0]),this.li.isProper()||n&&i||t.equals(this.pt)||e.equals(this.pt)))))},addSnappedNode:function(t,e){var n=t.getCoordinate(e),i=t.getCoordinate(e+1);return!!this.intersects(n,i)&&(t.addIntersection(this.getCoordinate(),e),!0)},interfaces_:function(){return[]},getClass:function(){return Ki}}),Ki.SAFE_ENV_EXPANSION_FACTOR=.75,e(Zi.prototype,{snap:function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2],r=e.getSafeEnvelope(),o=new $i(e,n,i);return this.index.query(r,{interfaces_:function(){return[_e]},visitItem:function(t){t.select(r,o)}}),o.isNodeAdded()}},interfaces_:function(){return[]},getClass:function(){return Zi}}),c($i,$n),e($i.prototype,{isNodeAdded:function(){return this._isNodeAdded},select:function(){if(2!==arguments.length)return $n.prototype.select.apply(this,arguments);var t=arguments[0],e=arguments[1],n=t.getContext();return null!==this.parentEdge&&n===this.parentEdge&&e===this.hotPixelVertexIndex?null:void(this._isNodeAdded=this.hotPixel.addSnappedNode(n,e))},interfaces_:function(){return[]},getClass:function(){return $i}}),Zi.HotPixelSnapAction=$i,e(Qi.prototype,{processIntersections:function(t,e,n,i){if(t===n&&e===i)return null;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];if(this.li.computeIntersection(r,o,s,a),this.li.hasIntersection()&&this.li.isInteriorIntersection()){for(var u=0;u<this.li.getIntersectionNum();u++)this.interiorIntersections.add(this.li.getIntersection(u));t.addIntersections(this.li,e,0),n.addIntersections(this.li,i,1)}},isDone:function(){return!1},getInteriorIntersections:function(){return this.interiorIntersections},interfaces_:function(){return[Ye]},getClass:function(){return Qi}}),e(tr.prototype,{checkCorrectness:function(t){var e=new Ji(ke.getNodedSubstrings(t));try{e.checkValid()}catch(t){if(!(t instanceof _))throw t;t.printStackTrace()}},getNodedSubstrings:function(){return ke.getNodedSubstrings(this.nodedSegStrings)},snapRound:function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},findInteriorIntersections:function(t,e){var n=new Qi(e);return this.noder.setSegmentIntersector(n),this.noder.computeNodes(t),n.getInteriorIntersections()},computeVertexSnaps:function(){if(D(arguments[0],v))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.computeVertexSnaps(n)}else if(arguments[0]instanceof ke)for(var i=arguments[0],r=i.getCoordinates(),o=0;o<r.length;o++){var s=new Ki(r[o],this.scaleFactor,this.li),a=this.pointSnapper.snap(s,i,o);a&&i.addIntersection(r[o],o)}},computeNodes:function(t){this.nodedSegStrings=t,this.noder=new Ue,this.pointSnapper=new Zi(this.noder.getIndex()),this.snapRound(t,this.li)},computeIntersectionSnaps:function(t){for(var e=t.iterator();e.hasNext();){var n=new Ki(e.next(),this.scaleFactor,this.li);this.pointSnapper.snap(n)}},interfaces_:function(){return[ze]},getClass:function(){return tr}}),e(er.prototype,{bufferFixedPrecision:function(t){var e=new Pi(new tr(new Ut(1)),t.getScale()),n=new Wi(this.bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this.resultGeometry=n.buffer(this.argGeom,this.distance)},bufferReducedPrecision:function(){if(0===arguments.length){for(var t=er.MAX_PRECISION_DIGITS;t>=0;t--){try{this.bufferReducedPrecision(t)}catch(t){if(!(t instanceof He))throw t;this.saveException=t}if(null!==this.resultGeometry)return null}throw this.saveException}if(1===arguments.length){var e=arguments[0],n=er.precisionScaleFactor(this.argGeom,this.distance,e),i=new Ut(n);this.bufferFixedPrecision(i)}},computeGeometry:function(){if(this.bufferOriginalPrecision(),null!==this.resultGeometry)return null;var t=this.argGeom.getFactory().getPrecisionModel();t.getType()===Ut.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},setQuadrantSegments:function(t){this.bufParams.setQuadrantSegments(t)},bufferOriginalPrecision:function(){try{var t=new Wi(this.bufParams);this.resultGeometry=t.buffer(this.argGeom,this.distance)}catch(t){if(!(t instanceof l))throw t;this.saveException=t}},getResultGeometry:function(t){return this.distance=t,this.computeGeometry(),this.resultGeometry},setEndCapStyle:function(t){this.bufParams.setEndCapStyle(t)},interfaces_:function(){return[]},getClass:function(){return er}}),er.bufferOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new er(t);return n.getResultGeometry(e)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof j&&"number"==typeof arguments[1]){var i=arguments[0],r=arguments[1],o=arguments[2];return(l=new er(i)).setQuadrantSegments(o),l.getResultGeometry(r)}if(arguments[2]instanceof Ni&&arguments[0]instanceof j&&"number"==typeof arguments[1]){var s=arguments[0],a=arguments[1],u=arguments[2];return(l=new er(s,u)).getResultGeometry(a)}}else if(4===arguments.length){var l,c=arguments[0],h=arguments[1],f=arguments[2],d=arguments[3];return(l=new er(c)).setQuadrantSegments(f),l.setEndCapStyle(d),l.getResultGeometry(h)}},er.precisionScaleFactor=function(t,e,n){var i=t.getEnvelopeInternal(),r=L.max(Math.abs(i.getMaxX()),Math.abs(i.getMaxY()),Math.abs(i.getMinX()),Math.abs(i.getMinY()))+2*(e>0?e:0),o=n-Math.trunc(Math.log(r)/Math.log(10)+1);return Math.pow(10,o)},er.CAP_ROUND=Ni.CAP_ROUND,er.CAP_BUTT=Ni.CAP_FLAT,er.CAP_FLAT=Ni.CAP_FLAT,er.CAP_SQUARE=Ni.CAP_SQUARE,er.MAX_PRECISION_DIGITS=12;var cs=Object.freeze({BufferOp:er,BufferParameters:Ni});e(nr.prototype,{filter:function(t){t instanceof Dt&&this.comps.add(t)},interfaces_:function(){return[ct]},getClass:function(){return nr}}),nr.getPolygons=function(){if(1===arguments.length){var t=arguments[0];return nr.getPolygons(t,new b)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Dt?n.add(e):e instanceof ft&&e.apply(new nr(n)),n}},e(ir.prototype,{isInsideArea:function(){return this.segIndex===ir.INSIDE_AREA},getCoordinate:function(){return this.pt},getGeometryComponent:function(){return this.component},getSegmentIndex:function(){return this.segIndex},interfaces_:function(){return[]},getClass:function(){return ir}}),ir.INSIDE_AREA=-1,e(rr.prototype,{filter:function(t){t instanceof At&&this.pts.add(t)},interfaces_:function(){return[ct]},getClass:function(){return rr}}),rr.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof At?Zo.singletonList(t):rr.getPoints(t,new b)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof At?n.add(e):e instanceof ft&&e.apply(new rr(n)),n}},e(or.prototype,{filter:function(t){(t instanceof At||t instanceof wt||t instanceof Dt)&&this.locations.add(new ir(t,0,t.getCoordinate()))},interfaces_:function(){return[ct]},getClass:function(){return or}}),or.getLocations=function(t){var e=new b;return t.apply(new or(e)),e},e(sr.prototype,{computeContainmentDistance:function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this.minDistance<=this.terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=1-e,r=nr.getPolygons(this.geom[e]);if(r.size()>0){var o=or.getLocations(this.geom[i]);if(this.computeContainmentDistance(o,r,n),this.minDistance<=this.terminateDistance)return this.minDistanceLocation[i]=n[0],this.minDistanceLocation[e]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&D(arguments[0],y)&&D(arguments[1],y)){for(var s=arguments[0],a=arguments[1],u=arguments[2],l=0;l<s.size();l++)for(var c=s.get(l),h=0;h<a.size();h++)if(this.computeContainmentDistance(c,a.get(h),u),this.minDistance<=this.terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof ir&&arguments[1]instanceof Dt){var f=arguments[0],d=arguments[1],p=arguments[2],g=f.getCoordinate();if(S.EXTERIOR!==this.ptLocator.locate(g,d))return this.minDistance=0,p[0]=f,p[1]=new ir(d,g),null}},computeMinDistanceLinesPoints:function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(r,s,n),this.minDistance<=this.terminateDistance)return null}},computeFacetDistance:function(){var t=new Array(2).fill(null),e=Tn.getLines(this.geom[0]),n=Tn.getLines(this.geom[1]),i=rr.getPoints(this.geom[0]),r=rr.getPoints(this.geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this.minDistance<=this.terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,r,t),this.updateMinDistance(t,!1),this.minDistance<=this.terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,i,t),this.updateMinDistance(t,!0),this.minDistance<=this.terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(i,r,t),void this.updateMinDistance(t,!1))))},nearestLocations:function(){return this.computeMinDistance(),this.minDistanceLocation},updateMinDistance:function(t,e){return null===t[0]?null:void(e?(this.minDistanceLocation[0]=t[1],this.minDistanceLocation[1]=t[0]):(this.minDistanceLocation[0]=t[0],this.minDistanceLocation[1]=t[1]))},nearestPoints:function(){return this.computeMinDistance(),[this.minDistanceLocation[0].getCoordinate(),this.minDistanceLocation[1].getCoordinate()]},computeMinDistance:function(){if(0===arguments.length){if(null!==this.minDistanceLocation)return null;if(this.minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this.minDistance<=this.terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof wt&&arguments[1]instanceof At){var t=arguments[0],e=arguments[1],n=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this.minDistance)return null;for(var i=t.getCoordinates(),r=e.getCoordinate(),o=0;o<i.length-1;o++){if((d=Qt.distancePointLine(r,i[o],i[o+1]))<this.minDistance){this.minDistance=d;var s=new te(i[o],i[o+1]),a=s.closestPoint(r);n[0]=new ir(t,o,a),n[1]=new ir(e,0,r)}if(this.minDistance<=this.terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof wt&&arguments[1]instanceof wt){var u=arguments[0],l=arguments[1],c=arguments[2];if(u.getEnvelopeInternal().distance(l.getEnvelopeInternal())>this.minDistance)return null;i=u.getCoordinates();var h=l.getCoordinates();for(o=0;o<i.length-1;o++)for(var f=0;f<h.length-1;f++){var d;if((d=Qt.distanceLineLine(i[o],i[o+1],h[f],h[f+1]))<this.minDistance){this.minDistance=d;var p=new te(i[o],i[o+1]),g=new te(h[f],h[f+1]),v=p.closestPoints(g);c[0]=new ir(u,o,v[0]),c[1]=new ir(l,f,v[1])}if(this.minDistance<=this.terminateDistance)return null}}},computeMinDistancePoints:function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o),a=r.getCoordinate().distance(s.getCoordinate());if(a<this.minDistance&&(this.minDistance=a,n[0]=new ir(r,0,r.getCoordinate()),n[1]=new ir(s,0,s.getCoordinate())),this.minDistance<=this.terminateDistance)return null}},distance:function(){if(null===this.geom[0]||null===this.geom[1])throw new i("null geometries are not supported");return this.geom[0].isEmpty()||this.geom[1].isEmpty()?0:(this.computeMinDistance(),this.minDistance)},computeMinDistanceLines:function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(r,s,n),this.minDistance<=this.terminateDistance)return null}},interfaces_:function(){return[]},getClass:function(){return sr}}),sr.distance=function(t,e){return new sr(t,e).distance()},sr.isWithinDistance=function(t,e,n){return new sr(t,e,n).distance()<=n},sr.nearestPoints=function(t,e){return new sr(t,e).nearestPoints()};var hs=Object.freeze({DistanceOp:sr});e(ar.prototype,{getCoordinates:function(){if(null===this.coordinates){for(var t=0,e=0,n=new C,i=this.directedEdges.iterator();i.hasNext();){var r=i.next();r.getEdgeDirection()?t++:e++,n.add(r.getEdge().getLine().getCoordinates(),!1,r.getEdgeDirection())}this.coordinates=n.toCoordinateArray(),e>t&&H.reverse(this.coordinates)}return this.coordinates},toLineString:function(){return this.factory.createLineString(this.getCoordinates())},add:function(t){this.directedEdges.add(t)},interfaces_:function(){return[]},getClass:function(){return ar}}),e(ur.prototype,{setVisited:function(t){this._isVisited=t},isMarked:function(){return this._isMarked},setData:function(t){this.data=t},getData:function(){return this.data},setMarked:function(t){this._isMarked=t},getContext:function(){return this.data},isVisited:function(){return this._isVisited},setContext:function(t){this.data=t},interfaces_:function(){return[]},getClass:function(){return ur}}),ur.getComponentWithVisitedState=function(t,e){for(;t.hasNext();){var n=t.next();if(n.isVisited()===e)return n}return null},ur.setVisited=function(t,e){for(;t.hasNext();)t.next().setVisited(e)},ur.setMarked=function(t,e){for(;t.hasNext();)t.next().setMarked(e)},c(lr,ur),e(lr.prototype,{isRemoved:function(){return null===this.parentEdge},compareDirection:function(t){return this.quadrant>t.quadrant?1:this.quadrant<t.quadrant?-1:Qt.computeOrientation(t.p0,t.p1,this.p1)},getCoordinate:function(){return this.from.getCoordinate()},print:function(t){var e=this.getClass().getName(),n=e.lastIndexOf("."),i=e.substring(n+1);t.print("  "+i+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+this.angle)},getDirectionPt:function(){return this.p1},getAngle:function(){return this.angle},compareTo:function(t){var e=t;return this.compareDirection(e)},getFromNode:function(){return this.from},getSym:function(){return this.sym},setEdge:function(t){this.parentEdge=t},remove:function(){this.sym=null,this.parentEdge=null},getEdge:function(){return this.parentEdge},getQuadrant:function(){return this.quadrant},setSym:function(t){this.sym=t},getToNode:function(){return this.to},getEdgeDirection:function(){return this.edgeDirection},interfaces_:function(){return[o]},getClass:function(){return lr}}),lr.toEdges=function(t){for(var e=new b,n=t.iterator();n.hasNext();)e.add(n.next().parentEdge);return e},c(cr,lr),e(cr.prototype,{getNext:function(){return 2!==this.getToNode().getDegree()?null:this.getToNode().getOutEdges().getEdges().get(0)===this.getSym()?this.getToNode().getOutEdges().getEdges().get(1):(f.isTrue(this.getToNode().getOutEdges().getEdges().get(1)===this.getSym()),this.getToNode().getOutEdges().getEdges().get(0))},interfaces_:function(){return[]},getClass:function(){return cr}}),c(hr,ur),e(hr.prototype,{isRemoved:function(){return null===this.dirEdge},setDirectedEdges:function(t,e){this.dirEdge=[t,e],t.setEdge(this),e.setEdge(this),t.setSym(e),e.setSym(t),t.getFromNode().addOutEdge(t),e.getFromNode().addOutEdge(e)},getDirEdge:function(){if(Number.isInteger(arguments[0])){var t=arguments[0];return this.dirEdge[t]}if(arguments[0]instanceof dr){var e=arguments[0];return this.dirEdge[0].getFromNode()===e?this.dirEdge[0]:this.dirEdge[1].getFromNode()===e?this.dirEdge[1]:null}},remove:function(){this.dirEdge=null},getOppositeNode:function(t){return this.dirEdge[0].getFromNode()===t?this.dirEdge[0].getToNode():this.dirEdge[1].getFromNode()===t?this.dirEdge[1].getToNode():null},interfaces_:function(){return[]},getClass:function(){return hr}}),e(fr.prototype,{getNextEdge:function(t){var e=this.getIndex(t);return this.outEdges.get(this.getIndex(e+1))},getCoordinate:function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},iterator:function(){return this.sortEdges(),this.outEdges.iterator()},sortEdges:function(){this.sorted||(Zo.sort(this.outEdges),this.sorted=!0)},remove:function(t){this.outEdges.remove(t)},getEdges:function(){return this.sortEdges(),this.outEdges},getNextCWEdge:function(t){var e=this.getIndex(t);return this.outEdges.get(this.getIndex(e-1))},getIndex:function(){if(arguments[0]instanceof hr){var t=arguments[0];this.sortEdges();for(var e=0;e<this.outEdges.size();e++)if(this.outEdges.get(e).getEdge()===t)return e;return-1}if(arguments[0]instanceof lr){var n=arguments[0];for(this.sortEdges(),e=0;e<this.outEdges.size();e++)if(this.outEdges.get(e)===n)return e;return-1}if(Number.isInteger(arguments[0])){var i=arguments[0],r=i%this.outEdges.size();return r<0&&(r+=this.outEdges.size()),r}},add:function(t){this.outEdges.add(t),this.sorted=!1},getDegree:function(){return this.outEdges.size()},interfaces_:function(){return[]},getClass:function(){return fr}}),c(dr,ur),e(dr.prototype,{isRemoved:function(){return null===this.pt},addOutEdge:function(t){this.deStar.add(t)},getCoordinate:function(){return this.pt},getOutEdges:function(){return this.deStar},remove:function(){if(0===arguments.length)this.pt=null;else if(1===arguments.length){var t=arguments[0];this.deStar.remove(t)}},getIndex:function(t){return this.deStar.getIndex(t)},getDegree:function(){return this.deStar.getDegree()},interfaces_:function(){return[]},getClass:function(){return dr}}),dr.getEdgesBetween=function(t,e){var n=new $(lr.toEdges(t.getOutEdges().getEdges())),i=lr.toEdges(e.getOutEdges().getEdges());return n.retainAll(i),n},c(pr,hr),e(pr.prototype,{getLine:function(){return this.line},interfaces_:function(){return[]},getClass:function(){return pr}}),e(gr.prototype,{find:function(t){return this.nodeMap.get(t)},iterator:function(){return this.nodeMap.values().iterator()},remove:function(t){return this.nodeMap.remove(t)},values:function(){return this.nodeMap.values()},add:function(t){return this.nodeMap.put(t.getCoordinate(),t),t},interfaces_:function(){return[]},getClass:function(){return gr}}),e(vr.prototype,{findNodesOfDegree:function(t){for(var e=new b,n=this.nodeIterator();n.hasNext();){var i=n.next();i.getDegree()===t&&e.add(i)}return e},dirEdgeIterator:function(){return this.dirEdges.iterator()},edgeIterator:function(){return this.edges.iterator()},remove:function(){if(arguments[0]instanceof hr){var t=arguments[0];this.remove(t.getDirEdge(0)),this.remove(t.getDirEdge(1)),this.edges.remove(t),t.remove()}else if(arguments[0]instanceof lr){var e=arguments[0];null!==(o=e.getSym())&&o.setSym(null),e.getFromNode().remove(e),e.remove(),this.dirEdges.remove(e)}else if(arguments[0]instanceof dr){for(var n=arguments[0],i=n.getOutEdges().getEdges(),r=i.iterator();r.hasNext();){var o,s=r.next();null!==(o=s.getSym())&&this.remove(o),this.dirEdges.remove(s);var a=s.getEdge();null!==a&&this.edges.remove(a)}this.nodeMap.remove(n.getCoordinate()),n.remove()}},findNode:function(t){return this.nodeMap.find(t)},getEdges:function(){return this.edges},nodeIterator:function(){return this.nodeMap.iterator()},contains:function(){if(arguments[0]instanceof hr){var t=arguments[0];return this.edges.contains(t)}if(arguments[0]instanceof lr){var e=arguments[0];return this.dirEdges.contains(e)}},add:function(){if(arguments[0]instanceof dr){var t=arguments[0];this.nodeMap.add(t)}else if(arguments[0]instanceof hr){var e=arguments[0];this.edges.add(e),this.add(e.getDirEdge(0)),this.add(e.getDirEdge(1))}else if(arguments[0]instanceof lr){var n=arguments[0];this.dirEdges.add(n)}},getNodes:function(){return this.nodeMap.values()},interfaces_:function(){return[]},getClass:function(){return vr}}),c(mr,vr),e(mr.prototype,{addEdge:function(t){if(t.isEmpty())return null;var e=H.removeRepeatedPoints(t.getCoordinates());if(e.length<=1)return null;var n=e[0],i=e[e.length-1],r=this.getNode(n),o=this.getNode(i),s=new cr(r,o,e[1],!0),a=new cr(o,r,e[e.length-2],!1),u=new pr(t);u.setDirectedEdges(s,a),this.add(u)},getNode:function(t){var e=this.findNode(t);return null===e&&(e=new dr(t),this.add(e)),e},interfaces_:function(){return[]},getClass:function(){return mr}}),e(yr.prototype,{buildEdgeStringsForUnprocessedNodes:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next();e.isMarked()||(f.isTrue(2===e.getDegree()),this.buildEdgeStringsStartingAt(e),e.setMarked(!0))}},buildEdgeStringsForNonDegree2Nodes:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next();2!==e.getDegree()&&(this.buildEdgeStringsStartingAt(e),e.setMarked(!0))}},buildEdgeStringsForObviousStartNodes:function(){this.buildEdgeStringsForNonDegree2Nodes()},getMergedLineStrings:function(){return this.merge(),this.mergedLineStrings},buildEdgeStringsStartingAt:function(t){for(var e=t.getOutEdges().iterator();e.hasNext();){var n=e.next();n.getEdge().isMarked()||this.edgeStrings.add(this.buildEdgeStringStartingWith(n))}},merge:function(){if(null!==this.mergedLineStrings)return null;ur.setMarked(this.graph.nodeIterator(),!1),ur.setMarked(this.graph.edgeIterator(),!1),this.edgeStrings=new b,this.buildEdgeStringsForObviousStartNodes(),this.buildEdgeStringsForIsolatedLoops(),this.mergedLineStrings=new b;for(var t=this.edgeStrings.iterator();t.hasNext();){var e=t.next();this.mergedLineStrings.add(e.toLineString())}},buildEdgeStringStartingWith:function(t){var e=new ar(this.factory),n=t;do{e.add(n),n.getEdge().setMarked(!0),n=n.getNext()}while(null!==n&&n!==t);return e},add:function(){if(arguments[0]instanceof j){var t=arguments[0];t.apply({interfaces_:function(){return[R]},filter:function(t){t instanceof wt&&this.add(t)}})}else if(D(arguments[0],v)){var e=arguments[0];this.mergedLineStrings=null;for(var n=e.iterator();n.hasNext();){var i=n.next();this.add(i)}}else if(arguments[0]instanceof wt){var r=arguments[0];null===this.factory&&(this.factory=r.getFactory()),this.graph.addEdge(r)}},buildEdgeStringsForIsolatedLoops:function(){this.buildEdgeStringsForUnprocessedNodes()},interfaces_:function(){return[]},getClass:function(){return yr}});var fs=Object.freeze({LineMerger:yr}),ds=Object.freeze({OverlayOp:Xn});c(xr,lr),e(xr.prototype,{getNext:function(){return this.next},isInRing:function(){return null!==this.edgeRing},setRing:function(t){this.edgeRing=t},setLabel:function(t){this.label=t},getLabel:function(){return this.label},setNext:function(t){this.next=t},getRing:function(){return this.edgeRing},interfaces_:function(){return[]},getClass:function(){return xr}}),c(Er,hr),e(Er.prototype,{getLine:function(){return this.line},interfaces_:function(){return[]},getClass:function(){return Er}}),e(br.prototype,{visitInteriorRing:function(t,e){var n=t.getCoordinates(),i=n[0],r=br.findDifferentPoint(n,i),o=e.findEdgeInSameDirection(i,r),s=e.findEdgeEnd(o),a=null;s.getLabel().getLocation(0,$e.RIGHT)===S.INTERIOR?a=s:s.getSym().getLabel().getLocation(0,$e.RIGHT)===S.INTERIOR&&(a=s.getSym()),f.isTrue(null!==a,"unable to find dirEdge with Interior on RHS"),this.visitLinkedDirectedEdges(a)},visitShellInteriors:function(t,e){if(t instanceof Dt){var n=t;this.visitInteriorRing(n.getExteriorRing(),e)}if(t instanceof Tt)for(var i=t,r=0;r<i.getNumGeometries();r++)n=i.getGeometryN(r),this.visitInteriorRing(n.getExteriorRing(),e)},getCoordinate:function(){return this.disconnectedRingcoord},setInteriorEdgesInResult:function(t){for(var e=t.getEdgeEnds().iterator();e.hasNext();){var n=e.next();n.getLabel().getLocation(0,$e.RIGHT)===S.INTERIOR&&n.setInResult(!0)}},visitLinkedDirectedEdges:function(t){var e=t,n=t;do{f.isTrue(null!==n,"found null Directed Edge"),n.setVisited(!0),n=n.getNext()}while(n!==e)},buildEdgeRings:function(t){for(var e=new b,n=t.iterator();n.hasNext();){var i=n.next();if(i.isInResult()&&null===i.getEdgeRing()){var r=new rn(i,this.geometryFactory);r.linkDirectedEdgesForMinimalEdgeRings();var o=r.buildMinimalRings();e.addAll(o)}}return e},hasUnvisitedShellEdge:function(t){for(var e=0;e<t.size();e++){var n=t.get(e);if(!n.isHole()){var i=n.getEdges(),r=i.get(0);if(r.getLabel().getLocation(0,$e.RIGHT)===S.INTERIOR)for(var o=0;o<i.size();o++)if(!(r=i.get(o)).isVisited())return this.disconnectedRingcoord=r.getCoordinate(),!0}}return!1},isInteriorsConnected:function(){var t=new b;this.geomGraph.computeSplitEdges(t);var e=new hn(new xn);e.addEdges(t),this.setInteriorEdgesInResult(e),e.linkResultDirectedEdges();var n=this.buildEdgeRings(e.getEdgeEnds());return this.visitShellInteriors(this.geomGraph.getGeometry(),e),!this.hasUnvisitedShellEdge(n)},interfaces_:function(){return[]},getClass:function(){return br}}),br.findDifferentPoint=function(t,e){for(var n=0;n<t.length;n++)if(!t[n].equals(e))return t[n];return null},e(Cr.prototype,{createEdgeEndForNext:function(t,e,n,i){var r=n.segmentIndex+1;if(r>=t.getNumPoints()&&null===i)return null;var o=t.getCoordinate(r);null!==i&&i.segmentIndex===n.segmentIndex&&(o=i.coord);var s=new un(t,n.coord,o,new tn(t.getLabel()));e.add(s)},createEdgeEndForPrev:function(t,e,n,i){var r=n.segmentIndex;if(0===n.dist){if(0===r)return null;r--}var o=t.getCoordinate(r);null!==i&&i.segmentIndex>=r&&(o=i.coord);var s=new tn(t.getLabel());s.flip();var a=new un(t,n.coord,o,s);e.add(a)},computeEdgeEnds:function(){if(1===arguments.length){for(var t=arguments[0],e=new b,n=t;n.hasNext();){var i=n.next();this.computeEdgeEnds(i,e)}return e}if(2===arguments.length){var r=arguments[0],o=arguments[1],s=r.getEdgeIntersectionList();s.addEndpoints();var a=s.iterator(),u=null,l=null;if(!a.hasNext())return null;var c=a.next();do{u=l,l=c,c=null,a.hasNext()&&(c=a.next()),null!==l&&(this.createEdgeEndForPrev(r,o,l,u),this.createEdgeEndForNext(r,o,l,c))}while(null!==l)}},interfaces_:function(){return[]},getClass:function(){return Cr}}),c(wr,un),e(wr.prototype,{insert:function(t){this.edgeEnds.add(t)},print:function(t){t.println("EdgeEndBundle--\x3e Label: "+this.label);for(var e=this.iterator();e.hasNext();)e.next().print(t),t.println()},iterator:function(){return this.edgeEnds.iterator()},getEdgeEnds:function(){return this.edgeEnds},computeLabelOn:function(t,e){for(var n=0,i=!1,r=this.iterator();r.hasNext();)(o=r.next().getLabel().getLocation(t))===S.BOUNDARY&&n++,o===S.INTERIOR&&(i=!0);var o=S.NONE;i&&(o=S.INTERIOR),n>0&&(o=Gn.determineBoundary(e,n)),this.label.setLocation(t,o)},computeLabelSide:function(t,e){for(var n=this.iterator();n.hasNext();){var i=n.next();if(i.getLabel().isArea()){var r=i.getLabel().getLocation(t,e);if(r===S.INTERIOR)return this.label.setLocation(t,e,S.INTERIOR),null;r===S.EXTERIOR&&this.label.setLocation(t,e,S.EXTERIOR)}}},getLabel:function(){return this.label},computeLabelSides:function(t){this.computeLabelSide(t,$e.LEFT),this.computeLabelSide(t,$e.RIGHT)},updateIM:function(t){Vn.updateIM(this.label,t)},computeLabel:function(t){for(var e=!1,n=this.iterator();n.hasNext();)n.next().getLabel().isArea()&&(e=!0);this.label=e?new tn(S.NONE,S.NONE,S.NONE):new tn(S.NONE);for(var i=0;i<2;i++)this.computeLabelOn(i,t),e&&this.computeLabelSides(i)},interfaces_:function(){return[]},getClass:function(){return wr}}),c(_r,mn),e(_r.prototype,{updateIM:function(t){for(var e=this.iterator();e.hasNext();)e.next().updateIM(t)},insert:function(t){var e=this.edgeMap.get(t);null===e?(e=new wr(t),this.insertEdgeEnd(t,e)):e.insert(t)},interfaces_:function(){return[]},getClass:function(){return _r}}),c(Ar,sn),e(Ar.prototype,{updateIMFromEdges:function(t){this.edges.updateIM(t)},computeIM:function(t){t.setAtLeastIfValid(this.label.getLocation(0),this.label.getLocation(1),0)},interfaces_:function(){return[]},getClass:function(){return Ar}}),c(Sr,cn),e(Sr.prototype,{createNode:function(t){return new Ar(t,new _r)},interfaces_:function(){return[]},getClass:function(){return Sr}}),e(Dr.prototype,{insertEdgeEnds:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.nodes.add(n)}},getNodeIterator:function(){return this.nodes.iterator()},copyNodesAndLabels:function(t,e){for(var n=t.getNodeIterator();n.hasNext();){var i=n.next();this.nodes.addNode(i.getCoordinate()).setLabel(e,i.getLabel().getLocation(e))}},build:function(t){this.computeIntersectionNodes(t,0),this.copyNodesAndLabels(t,0);var e=(new Cr).computeEdgeEnds(t.getEdgeIterator());this.insertEdgeEnds(e)},computeIntersectionNodes:function(t,e){for(var n=t.getEdgeIterator();n.hasNext();)for(var i=n.next(),r=i.getLabel().getLocation(e),o=i.getEdgeIntersectionList().iterator();o.hasNext();){var s=o.next(),a=this.nodes.addNode(s.coord);r===S.BOUNDARY?a.setLabelBoundary(e):a.getLabel().isNull(e)&&a.setLabel(e,S.INTERIOR)}},interfaces_:function(){return[]},getClass:function(){return Dr}}),e(Lr.prototype,{isNodeEdgeAreaLabelsConsistent:function(){for(var t=this.nodeGraph.getNodeIterator();t.hasNext();){var e=t.next();if(!e.getEdges().isAreaLabelsConsistent(this.geomGraph))return this.invalidPoint=e.getCoordinate().copy(),!1}return!0},getInvalidPoint:function(){return this.invalidPoint},hasDuplicateRings:function(){for(var t=this.nodeGraph.getNodeIterator();t.hasNext();)for(var e=t.next().getEdges().iterator();e.hasNext();){var n=e.next();if(n.getEdgeEnds().size()>1)return this.invalidPoint=n.getEdge().getCoordinate(0),!0}return!1},isNodeConsistentArea:function(){var t=this.geomGraph.computeSelfNodes(this.li,!0,!0);return t.hasProperIntersection()?(this.invalidPoint=t.getProperIntersectionPoint(),!1):(this.nodeGraph.build(this.geomGraph),this.isNodeEdgeAreaLabelsConsistent())},interfaces_:function(){return[]},getClass:function(){return Lr}}),e(Fr.prototype,{buildIndex:function(){this.index=new Te;for(var t=0;t<this.rings.size();t++){var e=this.rings.get(t),n=e.getEnvelopeInternal();this.index.insert(n,e)}},getNestedPoint:function(){return this.nestedPt},isNonNested:function(){this.buildIndex();for(var t=0;t<this.rings.size();t++)for(var e=this.rings.get(t),n=e.getCoordinates(),i=this.index.query(e.getEnvelopeInternal()),r=0;r<i.size();r++){var o=i.get(r),s=o.getCoordinates();if(e!==o&&e.getEnvelopeInternal().intersects(o.getEnvelopeInternal())){var a=Mr.findPtNotNode(n,o,this.graph);if(null!==a&&Qt.isPointInRing(a,s))return this.nestedPt=a,!1}}return!0},add:function(t){this.rings.add(t),this.totalEnv.expandToInclude(t.getEnvelopeInternal())},interfaces_:function(){return[]},getClass:function(){return Fr}}),e(Tr.prototype,{getErrorType:function(){return this.errorType},getMessage:function(){return Tr.errMsg[this.errorType]},getCoordinate:function(){return this.pt},toString:function(){var t="";return null!==this.pt&&(t=" at or near point "+this.pt),this.getMessage()+t},interfaces_:function(){return[]},getClass:function(){return Tr}}),Tr.ERROR=0,Tr.REPEATED_POINT=1,Tr.HOLE_OUTSIDE_SHELL=2,Tr.NESTED_HOLES=3,Tr.DISCONNECTED_INTERIOR=4,Tr.SELF_INTERSECTION=5,Tr.RING_SELF_INTERSECTION=6,Tr.NESTED_SHELLS=7,Tr.DUPLICATE_RINGS=8,Tr.TOO_FEW_POINTS=9,Tr.INVALID_COORDINATE=10,Tr.RING_NOT_CLOSED=11,Tr.errMsg=["Topology Validation Error","Repeated Point","Hole lies outside shell","Holes are nested","Interior is disconnected","Self-intersection","Ring Self-intersection","Nested shells","Duplicate Rings","Too few distinct points in geometry component","Invalid Coordinate","Ring is not closed"],e(Mr.prototype,{checkInvalidCoordinates:function(){if(arguments[0]instanceof Array){for(var t=arguments[0],e=0;e<t.length;e++)if(!Mr.isValid(t[e]))return this.validErr=new Tr(Tr.INVALID_COORDINATE,t[e]),null}else if(arguments[0]instanceof Dt){var n=arguments[0];if(this.checkInvalidCoordinates(n.getExteriorRing().getCoordinates()),null!==this.validErr)return null;for(e=0;e<n.getNumInteriorRing();e++)if(this.checkInvalidCoordinates(n.getInteriorRingN(e).getCoordinates()),null!==this.validErr)return null}},checkHolesNotNested:function(t,e){for(var n=new Fr(e),i=0;i<t.getNumInteriorRing();i++){var r=t.getInteriorRingN(i);n.add(r)}n.isNonNested()||(this.validErr=new Tr(Tr.NESTED_HOLES,n.getNestedPoint()))},checkConsistentArea:function(t){var e=new Lr(t);return e.isNodeConsistentArea()?void(e.hasDuplicateRings()&&(this.validErr=new Tr(Tr.DUPLICATE_RINGS,e.getInvalidPoint()))):(this.validErr=new Tr(Tr.SELF_INTERSECTION,e.getInvalidPoint()),null)},isValid:function(){return this.checkValid(this.parentGeometry),null===this.validErr},checkShellInsideHole:function(t,e,n){var i=t.getCoordinates(),r=e.getCoordinates(),o=Mr.findPtNotNode(i,e,n);if(null!==o&&!Qt.isPointInRing(o,r))return o;var s=Mr.findPtNotNode(r,t,n);return null!==s?Qt.isPointInRing(s,i)?s:null:(f.shouldNeverReachHere("points in shell and hole appear to be equal"),null)},checkNoSelfIntersectingRings:function(t){for(var e=t.getEdgeIterator();e.hasNext();){var n=e.next();if(this.checkNoSelfIntersectingRing(n.getEdgeIntersectionList()),null!==this.validErr)return null}},checkConnectedInteriors:function(t){var e=new br(t);e.isInteriorsConnected()||(this.validErr=new Tr(Tr.DISCONNECTED_INTERIOR,e.getCoordinate()))},checkNoSelfIntersectingRing:function(t){for(var e=new at,n=!0,i=t.iterator();i.hasNext();){var r=i.next();if(n)n=!1;else{if(e.contains(r.coord))return this.validErr=new Tr(Tr.RING_SELF_INTERSECTION,r.coord),null;e.add(r.coord)}}},checkHolesInShell:function(t,e){for(var n=t.getExteriorRing(),i=new ui(n),r=0;r<t.getNumInteriorRing();r++){var o=t.getInteriorRingN(r),s=Mr.findPtNotNode(o.getCoordinates(),n,e);if(null===s)return null;if(!i.isInside(s))return this.validErr=new Tr(Tr.HOLE_OUTSIDE_SHELL,s),null}},checkTooFewPoints:function(t){if(t.hasTooFewPoints())return this.validErr=new Tr(Tr.TOO_FEW_POINTS,t.getInvalidPoint()),null},getValidationError:function(){return this.checkValid(this.parentGeometry),this.validErr},checkValid:function(){if(arguments[0]instanceof At){var t=arguments[0];this.checkInvalidCoordinates(t.getCoordinates())}else if(arguments[0]instanceof Lt){var e=arguments[0];this.checkInvalidCoordinates(e.getCoordinates())}else if(arguments[0]instanceof Ft){var n=arguments[0];if(this.checkInvalidCoordinates(n.getCoordinates()),null!==this.validErr)return null;if(this.checkClosedRing(n),null!==this.validErr)return null;var i=new Gn(0,n);if(this.checkTooFewPoints(i),null!==this.validErr)return null;var r=new Kt;i.computeSelfNodes(r,!0,!0),this.checkNoSelfIntersectingRings(i)}else if(arguments[0]instanceof wt){var o=arguments[0];if(this.checkInvalidCoordinates(o.getCoordinates()),null!==this.validErr)return null;i=new Gn(0,o),this.checkTooFewPoints(i)}else if(arguments[0]instanceof Dt){var s=arguments[0];if(this.checkInvalidCoordinates(s),null!==this.validErr)return null;if(this.checkClosedRings(s),null!==this.validErr)return null;if(i=new Gn(0,s),this.checkTooFewPoints(i),null!==this.validErr)return null;if(this.checkConsistentArea(i),null!==this.validErr)return null;if(!this.isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(i),null!==this.validErr))return null;if(this.checkHolesInShell(s,i),null!==this.validErr)return null;if(this.checkHolesNotNested(s,i),null!==this.validErr)return null;this.checkConnectedInteriors(i)}else if(arguments[0]instanceof Tt){for(var a=arguments[0],u=0;u<a.getNumGeometries();u++){var l=a.getGeometryN(u);if(this.checkInvalidCoordinates(l),null!==this.validErr)return null;if(this.checkClosedRings(l),null!==this.validErr)return null}if(i=new Gn(0,a),this.checkTooFewPoints(i),null!==this.validErr)return null;if(this.checkConsistentArea(i),null!==this.validErr)return null;if(!this.isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(i),null!==this.validErr))return null;for(u=0;u<a.getNumGeometries();u++)if(l=a.getGeometryN(u),this.checkHolesInShell(l,i),null!==this.validErr)return null;for(u=0;u<a.getNumGeometries();u++)if(l=a.getGeometryN(u),this.checkHolesNotNested(l,i),null!==this.validErr)return null;if(this.checkShellsNotNested(a,i),null!==this.validErr)return null;this.checkConnectedInteriors(i)}else if(arguments[0]instanceof ft){var c=arguments[0];for(u=0;u<c.getNumGeometries();u++){var h=c.getGeometryN(u);if(this.checkValid(h),null!==this.validErr)return null}}else if(arguments[0]instanceof j){var f=arguments[0];if(this.validErr=null,f.isEmpty())return null;if(f instanceof At)this.checkValid(f);else if(f instanceof Lt)this.checkValid(f);else if(f instanceof Ft)this.checkValid(f);else if(f instanceof wt)this.checkValid(f);else if(f instanceof Dt)this.checkValid(f);else if(f instanceof Tt)this.checkValid(f);else{if(!(f instanceof ft))throw new UnsupportedOperationException(f.getClass().getName());this.checkValid(f)}}},setSelfTouchingRingFormingHoleValid:function(t){this.isSelfTouchingRingFormingHoleValid=t},checkShellNotNested:function(t,e,n){var i=t.getCoordinates(),r=e.getExteriorRing(),o=r.getCoordinates(),s=Mr.findPtNotNode(i,r,n);if(null===s)return null;if(!Qt.isPointInRing(s,o))return null;if(e.getNumInteriorRing()<=0)return this.validErr=new Tr(Tr.NESTED_SHELLS,s),null;for(var a=null,u=0;u<e.getNumInteriorRing();u++){var l=e.getInteriorRingN(u);if(null===(a=this.checkShellInsideHole(t,l,n)))return null}this.validErr=new Tr(Tr.NESTED_SHELLS,a)},checkClosedRings:function(t){if(this.checkClosedRing(t.getExteriorRing()),null!==this.validErr)return null;for(var e=0;e<t.getNumInteriorRing();e++)if(this.checkClosedRing(t.getInteriorRingN(e)),null!==this.validErr)return null},checkClosedRing:function(t){if(!t.isClosed()){var e=null;t.getNumPoints()>=1&&(e=t.getCoordinateN(0)),this.validErr=new Tr(Tr.RING_NOT_CLOSED,e)}},checkShellsNotNested:function(t,e){for(var n=0;n<t.getNumGeometries();n++)for(var i=t.getGeometryN(n).getExteriorRing(),r=0;r<t.getNumGeometries();r++)if(n!==r){var o=t.getGeometryN(r);if(this.checkShellNotNested(i,o,e),null!==this.validErr)return null}},interfaces_:function(){return[]},getClass:function(){return Mr}}),Mr.findPtNotNode=function(t,e,n){for(var i=n.findEdge(e).getEdgeIntersectionList(),r=0;r<t.length;r++){var o=t[r];if(!i.isIntersection(o))return o}return null},Mr.isValid=function(){if(arguments[0]instanceof j){var t=arguments[0],e=new Mr(t);return e.isValid()}if(arguments[0]instanceof d){var n=arguments[0];return!(r.isNaN(n.x)||r.isInfinite(n.x)||r.isNaN(n.y)||r.isInfinite(n.y))}},e(Ir.prototype,{isIncluded:function(){return this._isIncluded},getCoordinates:function(){if(null===this.ringPts){for(var t=new C,e=this.deList.iterator();e.hasNext();){var n=e.next(),i=n.getEdge();Ir.addEdge(i.getLine().getCoordinates(),n.getEdgeDirection(),t)}this.ringPts=t.toCoordinateArray()}return this.ringPts},isIncludedSet:function(){return this._isIncludedSet},isValid:function(){return this.getCoordinates(),!(this.ringPts.length<=3)&&(this.getRing(),Mr.isValid(this.ring))},build:function(t){var e=t;do{this.add(e),e.setRing(this),e=e.getNext(),f.isTrue(null!==e,"found null DE in ring"),f.isTrue(e===t||!e.isInRing(),"found DE already in ring")}while(e!==t)},isOuterHole:function(){return!!this._isHole&&!this.hasShell()},getPolygon:function(){var t=null;if(null!==this.holes){t=new Array(this.holes.size()).fill(null);for(var e=0;e<this.holes.size();e++)t[e]=this.holes.get(e)}return this.factory.createPolygon(this.ring,t)},isHole:function(){return this._isHole},isProcessed:function(){return this._isProcessed},addHole:function(){if(arguments[0]instanceof Ft){var t=arguments[0];null===this.holes&&(this.holes=new b),this.holes.add(t)}else if(arguments[0]instanceof Ir){var e=arguments[0];e.setShell(this);var n=e.getRing();null===this.holes&&(this.holes=new b),this.holes.add(n)}},setIncluded:function(t){this._isIncluded=t,this._isIncludedSet=!0},getOuterHole:function(){if(this.isHole())return null;for(var t=0;t<this.deList.size();t++){var e=this.deList.get(t).getSym().getRing();if(e.isOuterHole())return e}return null},computeHole:function(){var t=this.getRing();this._isHole=Qt.isCCW(t.getCoordinates())},hasShell:function(){return null!==this.shell},isOuterShell:function(){return null!==this.getOuterHole()},getLineString:function(){return this.getCoordinates(),this.factory.createLineString(this.ringPts)},toString:function(){return Wt.toLineString(new Nt(this.getCoordinates()))},getShell:function(){return this.isHole()?this.shell:this},add:function(t){this.deList.add(t)},getRing:function(){if(null!==this.ring)return this.ring;this.getCoordinates(),this.ringPts.length<3&&B.out.println(this.ringPts);try{this.ring=this.factory.createLinearRing(this.ringPts)}catch(t){if(!(t instanceof _))throw t;B.out.println(this.ringPts)}return this.ring},updateIncluded:function(){if(this.isHole())return null;for(var t=0;t<this.deList.size();t++){var e=this.deList.get(t).getSym().getRing().getShell();if(null!==e&&e.isIncludedSet())return this.setIncluded(!e.isIncluded()),null}},setShell:function(t){this.shell=t},setProcessed:function(t){this._isProcessed=t},interfaces_:function(){return[]},getClass:function(){return Ir}}),Ir.findDirEdgesInRing=function(t){var e=t,n=new b;do{n.add(e),e=e.getNext(),f.isTrue(null!==e,"found null DE in ring"),f.isTrue(e===t||!e.isInRing(),"found DE already in ring")}while(e!==t);return n},Ir.addEdge=function(t,e,n){if(e)for(var i=0;i<t.length;i++)n.add(t[i],!1);else for(i=t.length-1;i>=0;i--)n.add(t[i],!1)},Ir.findEdgeRingContaining=function(t,e){for(var n=t.getRing(),i=n.getEnvelopeInternal(),r=n.getCoordinateN(0),o=null,s=null,a=e.iterator();a.hasNext();){var u=a.next(),l=u.getRing(),c=l.getEnvelopeInternal();if(!c.equals(i)&&c.contains(i)){r=H.ptNotInList(n.getCoordinates(),l.getCoordinates());var h=!1;Qt.isPointInRing(r,l.getCoordinates())&&(h=!0),h&&(null===o||s.contains(c))&&(s=(o=u).getRing().getEnvelopeInternal())}}return o},e(Pr.prototype,{compare:function(t,e){var n=e;return t.getRing().getEnvelope().compareTo(n.getRing().getEnvelope())},interfaces_:function(){return[a]},getClass:function(){return Pr}}),Ir.EnvelopeComparator=Pr,c(Or,vr),e(Or.prototype,{findEdgeRing:function(t){var e=new Ir(this.factory);return e.build(t),e},computeDepthParity:function(){if(0===arguments.length)for(;;){var t=null;if(null===t)return null;this.computeDepthParity(t)}else 1===arguments.length&&arguments[0]},computeNextCWEdges:function(){for(var t=this.nodeIterator();t.hasNext();){var e=t.next();Or.computeNextCWEdges(e)}},addEdge:function(t){if(t.isEmpty())return null;var e=H.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return null;var n=e[0],i=e[e.length-1],r=this.getNode(n),o=this.getNode(i),s=new xr(r,o,e[1],!0),a=new xr(o,r,e[e.length-2],!1),u=new Er(t);u.setDirectedEdges(s,a),this.add(u)},deleteCutEdges:function(){this.computeNextCWEdges(),Or.findLabeledEdgeRings(this.dirEdges);for(var t=new b,e=this.dirEdges.iterator();e.hasNext();){var n=e.next();if(!n.isMarked()){var i=n.getSym();if(n.getLabel()===i.getLabel()){n.setMarked(!0),i.setMarked(!0);var r=n.getEdge();t.add(r.getLine())}}}return t},getEdgeRings:function(){this.computeNextCWEdges(),Or.label(this.dirEdges,-1);var t=Or.findLabeledEdgeRings(this.dirEdges);this.convertMaximalToMinimalEdgeRings(t);for(var e=new b,n=this.dirEdges.iterator();n.hasNext();){var i=n.next();if(!i.isMarked()&&!i.isInRing()){var r=this.findEdgeRing(i);e.add(r)}}return e},getNode:function(t){var e=this.findNode(t);return null===e&&(e=new dr(t),this.add(e)),e},convertMaximalToMinimalEdgeRings:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=n.getLabel(),r=Or.findIntersectionNodes(n,i);if(null!==r)for(var o=r.iterator();o.hasNext();){var s=o.next();Or.computeNextCCWEdges(s,i)}}},deleteDangles:function(){for(var t=this.findNodesOfDegree(1),e=new $,n=new re,i=t.iterator();i.hasNext();)n.push(i.next());for(;!n.isEmpty();){var r=n.pop();for(Or.deleteAllEdges(r),i=r.getOutEdges().getEdges().iterator();i.hasNext();){var o=i.next();o.setMarked(!0);var s=o.getSym();null!==s&&s.setMarked(!0);var a=o.getEdge();e.add(a.getLine());var u=o.getToNode();1===Or.getDegreeNonDeleted(u)&&n.push(u)}}return e},interfaces_:function(){return[]},getClass:function(){return Or}}),Or.findLabeledEdgeRings=function(t){for(var e=new b,n=1,i=t.iterator();i.hasNext();){var r=i.next();if(!(r.isMarked()||r.getLabel()>=0)){e.add(r);var o=Ir.findDirEdgesInRing(r);Or.label(o,n),n++}}return e},Or.getDegreeNonDeleted=function(t){for(var e=0,n=t.getOutEdges().getEdges().iterator();n.hasNext();)n.next().isMarked()||e++;return e},Or.deleteAllEdges=function(t){for(var e=t.getOutEdges().getEdges().iterator();e.hasNext();){var n=e.next();n.setMarked(!0);var i=n.getSym();null!==i&&i.setMarked(!0)}},Or.label=function(t,e){for(var n=t.iterator();n.hasNext();)n.next().setLabel(e)},Or.computeNextCWEdges=function(t){for(var e=null,n=null,i=t.getOutEdges().getEdges().iterator();i.hasNext();){var r=i.next();r.isMarked()||(null===e&&(e=r),null!==n&&n.getSym().setNext(r),n=r)}null!==n&&n.getSym().setNext(e)},Or.computeNextCCWEdges=function(t,e){for(var n=null,i=null,r=t.getOutEdges().getEdges(),o=r.size()-1;o>=0;o--){var s=r.get(o),a=s.getSym(),u=null;s.getLabel()===e&&(u=s);var l=null;a.getLabel()===e&&(l=a),null===u&&null===l||(null!==l&&(i=l),null!==u&&(null!==i&&(i.setNext(u),i=null),null===n&&(n=u)))}null!==i&&(f.isTrue(null!==n),i.setNext(n))},Or.getDegree=function(t,e){for(var n=0,i=t.getOutEdges().getEdges().iterator();i.hasNext();)i.next().getLabel()===e&&n++;return n},Or.findIntersectionNodes=function(t,e){var n=t,i=null;do{var r=n.getFromNode();Or.getDegree(r,e)>1&&(null===i&&(i=new b),i.add(r)),n=n.getNext(),f.isTrue(null!==n,"found null DE in ring"),f.isTrue(n===t||!n.isInRing(),"found DE already in ring")}while(n!==t);return i},e(Br.prototype,{getGeometry:function(){return null===this.geomFactory&&(this.geomFactory=new Ht),this.polygonize(),this.extractOnlyPolygonal?this.geomFactory.buildGeometry(this.polyList):this.geomFactory.createGeometryCollection(Ht.toGeometryArray(this.polyList))},getInvalidRingLines:function(){return this.polygonize(),this.invalidRingLines},findValidRings:function(t,e,n){for(var i=t.iterator();i.hasNext();){var r=i.next();r.isValid()?e.add(r):n.add(r.getLineString())}},polygonize:function(){if(null!==this.polyList)return null;if(this.polyList=new b,null===this.graph)return null;this.dangles=this.graph.deleteDangles(),this.cutEdges=this.graph.deleteCutEdges();var t=this.graph.getEdgeRings(),e=new b;this.invalidRingLines=new b,this.isCheckingRingsValid?this.findValidRings(t,e,this.invalidRingLines):e=t,this.findShellsAndHoles(e),Br.assignHolesToShells(this.holeList,this.shellList),Zo.sort(this.shellList,new Ir.EnvelopeComparator);var n=!0;this.extractOnlyPolygonal&&(Br.findDisjointShells(this.shellList),n=!1),this.polyList=Br.extractPolygons(this.shellList,n)},getDangles:function(){return this.polygonize(),this.dangles},getCutEdges:function(){return this.polygonize(),this.cutEdges},getPolygons:function(){return this.polygonize(),this.polyList},add:function(){if(D(arguments[0],v))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.add(n)}else if(arguments[0]instanceof wt){var i=arguments[0];this.geomFactory=i.getFactory(),null===this.graph&&(this.graph=new Or(this.geomFactory)),this.graph.addEdge(i)}else if(arguments[0]instanceof j){var r=arguments[0];r.apply(this.lineStringAdder)}},setCheckRingsValid:function(t){this.isCheckingRingsValid=t},findShellsAndHoles:function(t){this.holeList=new b,this.shellList=new b;for(var e=t.iterator();e.hasNext();){var n=e.next();n.computeHole(),n.isHole()?this.holeList.add(n):this.shellList.add(n)}},interfaces_:function(){return[]},getClass:function(){return Br}}),Br.findOuterShells=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=n.getOuterHole();null===i||i.isProcessed()||(n.setIncluded(!0),i.setProcessed(!0))}},Br.extractPolygons=function(t,e){for(var n=new b,i=t.iterator();i.hasNext();){var r=i.next();(e||r.isIncluded())&&n.add(r.getPolygon())}return n},Br.assignHolesToShells=function(t,e){for(var n=t.iterator();n.hasNext();){var i=n.next();Br.assignHoleToShell(i,e)}},Br.assignHoleToShell=function(t,e){var n=Ir.findEdgeRingContaining(t,e);null!==n&&n.addHole(t)},Br.findDisjointShells=function(t){Br.findOuterShells(t);var e=null;do{e=!1;for(var n=t.iterator();n.hasNext();){var i=n.next();i.isIncludedSet()||(i.updateIncluded(),i.isIncludedSet()||(e=!0))}}while(e)},e(Nr.prototype,{filter:function(t){t instanceof wt&&this.p.add(t)},interfaces_:function(){return[R]},getClass:function(){return Nr}}),Br.LineStringAdder=Nr;var ps=Object.freeze({Polygonizer:Br});e(kr.prototype,{insertEdgeEnds:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.nodes.add(n)}},computeProperIntersectionIM:function(t,e){var n=this.arg[0].getGeometry().getDimension(),i=this.arg[1].getGeometry().getDimension(),r=t.hasProperIntersection(),o=t.hasProperInteriorIntersection();2===n&&2===i?r&&e.setAtLeast("212101212"):2===n&&1===i?(r&&e.setAtLeast("FFF0FFFF2"),o&&e.setAtLeast("1FFFFF1FF")):1===n&&2===i?(r&&e.setAtLeast("F0FFFFFF2"),o&&e.setAtLeast("1F1FFFFFF")):1===n&&1===i&&o&&e.setAtLeast("0FFFFFFFF")},labelIsolatedEdges:function(t,e){for(var n=this.arg[t].getEdgeIterator();n.hasNext();){var i=n.next();i.isIsolated()&&(this.labelIsolatedEdge(i,e,this.arg[e].getGeometry()),this.isolatedEdges.add(i))}},labelIsolatedEdge:function(t,e,n){if(n.getDimension()>0){var i=this.ptLocator.locate(t.getCoordinate(),n);t.getLabel().setAllLocations(e,i)}else t.getLabel().setAllLocations(e,S.EXTERIOR)},computeIM:function(){var t=new ee;if(t.set(S.EXTERIOR,S.EXTERIOR,2),!this.arg[0].getGeometry().getEnvelopeInternal().intersects(this.arg[1].getGeometry().getEnvelopeInternal()))return this.computeDisjointIM(t),t;this.arg[0].computeSelfNodes(this.li,!1),this.arg[1].computeSelfNodes(this.li,!1);var e=this.arg[0].computeEdgeIntersections(this.arg[1],this.li,!1);this.computeIntersectionNodes(0),this.computeIntersectionNodes(1),this.copyNodesAndLabels(0),this.copyNodesAndLabels(1),this.labelIsolatedNodes(),this.computeProperIntersectionIM(e,t);var n=new Cr,i=n.computeEdgeEnds(this.arg[0].getEdgeIterator());this.insertEdgeEnds(i);var r=n.computeEdgeEnds(this.arg[1].getEdgeIterator());return this.insertEdgeEnds(r),this.labelNodeEdges(),this.labelIsolatedEdges(0,1),this.labelIsolatedEdges(1,0),this.updateIM(t),t},labelNodeEdges:function(){for(var t=this.nodes.iterator();t.hasNext();)t.next().getEdges().computeLabelling(this.arg)},copyNodesAndLabels:function(t){for(var e=this.arg[t].getNodeIterator();e.hasNext();){var n=e.next();this.nodes.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},labelIntersectionNodes:function(t){for(var e=this.arg[t].getEdgeIterator();e.hasNext();)for(var n=e.next(),i=n.getLabel().getLocation(t),r=n.getEdgeIntersectionList().iterator();r.hasNext();){var o=r.next(),s=this.nodes.find(o.coord);s.getLabel().isNull(t)&&(i===S.BOUNDARY?s.setLabelBoundary(t):s.setLabel(t,S.INTERIOR))}},labelIsolatedNode:function(t,e){var n=this.ptLocator.locate(t.getCoordinate(),this.arg[e].getGeometry());t.getLabel().setAllLocations(e,n)},computeIntersectionNodes:function(t){for(var e=this.arg[t].getEdgeIterator();e.hasNext();)for(var n=e.next(),i=n.getLabel().getLocation(t),r=n.getEdgeIntersectionList().iterator();r.hasNext();){var o=r.next(),s=this.nodes.addNode(o.coord);i===S.BOUNDARY?s.setLabelBoundary(t):s.getLabel().isNull(t)&&s.setLabel(t,S.INTERIOR)}},labelIsolatedNodes:function(){for(var t=this.nodes.iterator();t.hasNext();){var e=t.next(),n=e.getLabel();f.isTrue(n.getGeometryCount()>0,"node with empty label found"),e.isIsolated()&&(n.isNull(0)?this.labelIsolatedNode(e,0):this.labelIsolatedNode(e,1))}},updateIM:function(t){for(var e=this.isolatedEdges.iterator();e.hasNext();)e.next().updateIM(t);for(var n=this.nodes.iterator();n.hasNext();){var i=n.next();i.updateIM(t),i.updateIMFromEdges(t)}},computeDisjointIM:function(t){var e=this.arg[0].getGeometry();e.isEmpty()||(t.set(S.INTERIOR,S.EXTERIOR,e.getDimension()),t.set(S.BOUNDARY,S.EXTERIOR,e.getBoundaryDimension()));var n=this.arg[1].getGeometry();n.isEmpty()||(t.set(S.EXTERIOR,S.INTERIOR,n.getDimension()),t.set(S.EXTERIOR,S.BOUNDARY,n.getBoundaryDimension()))},interfaces_:function(){return[]},getClass:function(){return kr}}),e(Rr.prototype,{isContainedInBoundary:function(t){if(t instanceof Dt)return!1;if(t instanceof At)return this.isPointContainedInBoundary(t);if(t instanceof wt)return this.isLineStringContainedInBoundary(t);for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);if(!this.isContainedInBoundary(n))return!1}return!0},isLineSegmentContainedInBoundary:function(t,e){if(t.equals(e))return this.isPointContainedInBoundary(t);if(t.x===e.x){if(t.x===this.rectEnv.getMinX()||t.x===this.rectEnv.getMaxX())return!0}else if(t.y===e.y&&(t.y===this.rectEnv.getMinY()||t.y===this.rectEnv.getMaxY()))return!0;return!1},isLineStringContainedInBoundary:function(t){for(var e=t.getCoordinateSequence(),n=new d,i=new d,r=0;r<e.size()-1;r++)if(e.getCoordinate(r,n),e.getCoordinate(r+1,i),!this.isLineSegmentContainedInBoundary(n,i))return!1;return!0},isPointContainedInBoundary:function(){if(arguments[0]instanceof At){var t=arguments[0];return this.isPointContainedInBoundary(t.getCoordinate())}if(arguments[0]instanceof d){var e=arguments[0];return e.x===this.rectEnv.getMinX()||e.x===this.rectEnv.getMaxX()||e.y===this.rectEnv.getMinY()||e.y===this.rectEnv.getMaxY()}},contains:function(t){return!!this.rectEnv.contains(t.getEnvelopeInternal())&&!this.isContainedInBoundary(t)},interfaces_:function(){return[]},getClass:function(){return Rr}}),Rr.contains=function(t,e){return new Rr(t).contains(e)},e(jr.prototype,{intersects:function(t,e){var n=new w(t,e);if(!this.rectEnv.intersects(n))return!1;if(this.rectEnv.intersects(t))return!0;if(this.rectEnv.intersects(e))return!0;if(t.compareTo(e)>0){var i=t;t=e,e=i}var r=!1;return e.y>t.y&&(r=!0),r?this.li.computeIntersection(t,e,this.diagDown0,this.diagDown1):this.li.computeIntersection(t,e,this.diagUp0,this.diagUp1),!!this.li.hasIntersection()},interfaces_:function(){return[]},getClass:function(){return jr}}),e(Vr.prototype,{applyTo:function(t){for(var e=0;e<t.getNumGeometries()&&!this._isDone;e++){var n=t.getGeometryN(e);if(n instanceof ft)this.applyTo(n);else if(this.visit(n),this.isDone())return this._isDone=!0,null}},interfaces_:function(){return[]},getClass:function(){return Vr}}),e(Gr.prototype,{intersects:function(t){if(!this.rectEnv.intersects(t.getEnvelopeInternal()))return!1;var e=new zr(this.rectEnv);if(e.applyTo(t),e.intersects())return!0;var n=new qr(this.rectangle);if(n.applyTo(t),n.containsPoint())return!0;var i=new Ur(this.rectangle);return i.applyTo(t),!!i.intersects()},interfaces_:function(){return[]},getClass:function(){return Gr}}),Gr.intersects=function(t,e){return new Gr(t).intersects(e)},c(zr,Vr),e(zr.prototype,{isDone:function(){return!0===this._intersects},visit:function(t){var e=t.getEnvelopeInternal();return this.rectEnv.intersects(e)?this.rectEnv.contains(e)||e.getMinX()>=this.rectEnv.getMinX()&&e.getMaxX()<=this.rectEnv.getMaxX()||e.getMinY()>=this.rectEnv.getMinY()&&e.getMaxY()<=this.rectEnv.getMaxY()?(this._intersects=!0,null):void 0:null},intersects:function(){return this._intersects},interfaces_:function(){return[]},getClass:function(){return zr}}),c(qr,Vr),e(qr.prototype,{isDone:function(){return!0===this._containsPoint},visit:function(t){if(!(t instanceof Dt))return null;var e=t.getEnvelopeInternal();if(!this.rectEnv.intersects(e))return null;for(var n=new d,i=0;i<4;i++)if(this.rectSeq.getCoordinate(i,n),e.contains(n)&&vn.containsPointInPolygon(n,t))return this._containsPoint=!0,null},containsPoint:function(){return this._containsPoint},interfaces_:function(){return[]},getClass:function(){return qr}}),c(Ur,Vr),e(Ur.prototype,{intersects:function(){return this.hasIntersection},isDone:function(){return!0===this.hasIntersection},visit:function(t){var e=t.getEnvelopeInternal();if(!this.rectEnv.intersects(e))return null;var n=Tn.getLines(t);this.checkIntersectionWithLineStrings(n)},checkIntersectionWithLineStrings:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();if(this.checkIntersectionWithSegments(n),this.hasIntersection)return null}},checkIntersectionWithSegments:function(t){for(var e=t.getCoordinateSequence(),n=1;n<e.size();n++)if(e.getCoordinate(n-1,this.p0),e.getCoordinate(n,this.p1),this.rectIntersector.intersects(this.p0,this.p1))return this.hasIntersection=!0,null},interfaces_:function(){return[]},getClass:function(){return Ur}}),c(Xr,zn),e(Xr.prototype,{getIntersectionMatrix:function(){return this._relate.computeIM()},interfaces_:function(){return[]},getClass:function(){return Xr}}),Xr.covers=function(t,e){return!!t.getEnvelopeInternal().covers(e.getEnvelopeInternal())&&(!!t.isRectangle()||Xr.relate(t,e).isCovers())},Xr.intersects=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&(t.isRectangle()?Gr.intersects(t,e):e.isRectangle()?Gr.intersects(e,t):Xr.relate(t,e).isIntersects())},Xr.touches=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&Xr.relate(t,e).isTouches(t.getDimension(),e.getDimension())},Xr.within=function(t,e){return e.contains(t)},Xr.coveredBy=function(t,e){return Xr.covers(e,t)},Xr.relate=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return new Xr(t,e).getIntersectionMatrix()}if(3===arguments.length){if("string"==typeof arguments[2]&&arguments[0]instanceof j&&arguments[1]instanceof j){var n=arguments[0],i=arguments[1],r=arguments[2];return Xr.relateWithCheck(n,i).matches(r)}if(D(arguments[2],G)&&arguments[0]instanceof j&&arguments[1]instanceof j){var o=arguments[0],s=arguments[1],a=arguments[2];return new Xr(o,s,a).getIntersectionMatrix()}}},Xr.overlaps=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&Xr.relate(t,e).isOverlaps(t.getDimension(),e.getDimension())},Xr.disjoint=function(t,e){return!t.intersects(e)},Xr.relateWithCheck=function(t,e){return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Xr.relate(t,e)},Xr.crosses=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&Xr.relate(t,e).isCrosses(t.getDimension(),e.getDimension())},Xr.contains=function(t,e){return!!t.getEnvelopeInternal().contains(e.getEnvelopeInternal())&&(t.isRectangle()?Rr.contains(t,e):Xr.relate(t,e).isContains())};var gs=Object.freeze({RelateOp:Xr});e(Hr.prototype,{extractElements:function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n);this.skipEmpty&&i.isEmpty()||e.add(i)}},combine:function(){for(var t=new b,e=this.inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this.geomFactory?this.geomFactory.createGeometryCollection(null):null:this.geomFactory.buildGeometry(t)},interfaces_:function(){return[]},getClass:function(){return Hr}}),Hr.combine=function(){if(1===arguments.length){var t=arguments[0];return new Hr(t).combine()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return new Hr(Hr.createList(e,n)).combine()}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];return new Hr(Hr.createList(i,r,o)).combine()}},Hr.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},Hr.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return(n=new b).add(t),n.add(e),n}if(3===arguments.length){var n,i=arguments[0],r=arguments[1],o=arguments[2];return(n=new b).add(i),n.add(r),n.add(o),n}},e(Yr.prototype,{union:function(){for(var t=new me,e=new at,n=0;n<this.pointGeom.getNumGeometries();n++){var i=this.pointGeom.getGeometryN(n).getCoordinate();t.locate(i,this.otherGeom)===S.EXTERIOR&&e.add(i)}if(0===e.size())return this.otherGeom;var r,o=H.toCoordinateArray(e);return r=1===o.length?this.geomFact.createPoint(o[0]):this.geomFact.createMultiPointFromCoords(o),Hr.combine(r,this.otherGeom)},interfaces_:function(){return[]},getClass:function(){return Yr}}),Yr.union=function(t,e){return new Yr(t,e).union()},e(Wr.prototype,{filter:function(t){-1!==this.sortIndex&&t.getSortIndex()!==this.sortIndex||this.comps.add(t)},interfaces_:function(){return[ct]},getClass:function(){return Wr}}),Wr.extract=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return Wr.extract(t,e,new b)}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];return n.getSortIndex()===i?r.add(n):n instanceof ft&&n.apply(new Wr(i,r)),r}},e(Jr.prototype,{reduceToGeometries:function(t){for(var e=new b,n=t.iterator();n.hasNext();){var i=n.next(),r=null;D(i,y)?r=this.unionTree(i):i instanceof j&&(r=i),e.add(r)}return e},extractByEnvelope:function(t,e,n){for(var i=new b,r=0;r<e.getNumGeometries();r++){var o=e.getGeometryN(r);o.getEnvelopeInternal().intersects(t)?i.add(o):n.add(o)}return this.geomFactory.buildGeometry(i)},unionOptimized:function(t,e){var n=t.getEnvelopeInternal(),i=e.getEnvelopeInternal();if(!n.intersects(i))return Hr.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var r=n.intersection(i);return this.unionUsingEnvelopeIntersection(t,e,r)},union:function(){if(null===this.inputPolys)throw new IllegalStateException("union() method cannot be called twice");if(this.inputPolys.isEmpty())return null;this.geomFactory=this.inputPolys.iterator().next().getFactory();for(var t=new Te(Jr.STRTREE_NODE_CAPACITY),e=this.inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this.inputPolys=null;var i=t.itemsTree();return this.unionTree(i)},binaryUnion:function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2];if(i-n<=1){var r=Jr.getGeometry(e,n);return this.unionSafe(r,null)}if(i-n==2)return this.unionSafe(Jr.getGeometry(e,n),Jr.getGeometry(e,n+1));var o=Math.trunc((i+n)/2),s=(r=this.binaryUnion(e,n,o),this.binaryUnion(e,o,i));return this.unionSafe(r,s)}},repeatedUnion:function(t){for(var e=null,n=t.iterator();n.hasNext();){var i=n.next();e=null===e?i.copy():e.union(i)}return e},unionSafe:function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},unionActual:function(t,e){return Jr.restrictToPolygons(t.union(e))},unionTree:function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},unionUsingEnvelopeIntersection:function(t,e,n){var i=new b,r=this.extractByEnvelope(n,t,i),o=this.extractByEnvelope(n,e,i),s=this.unionActual(r,o);return i.add(s),Hr.combine(i)},bufferUnion:function(){if(1===arguments.length){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().createGeometryCollection([e,n]).buffer(0)}},interfaces_:function(){return[]},getClass:function(){return Jr}}),Jr.restrictToPolygons=function(t){if(D(t,St))return t;var e=nr.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(Ht.toPolygonArray(e))},Jr.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},Jr.union=function(t){return new Jr(t).union()},Jr.STRTREE_NODE_CAPACITY=4,e(Kr.prototype,{unionNoOpt:function(t){var e=this.geomFact.createPoint();return Yn.overlayOp(t,e,Xn.UNION)},unionWithNull:function(t,e){return null===t&&null===e?null:null===e?t:null===t?e:t.union(e)},extract:function(){if(D(arguments[0],v))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.extract(n)}else if(arguments[0]instanceof j){var i=arguments[0];null===this.geomFact&&(this.geomFact=i.getFactory()),Wr.extract(i,j.SORTINDEX_POLYGON,this.polygons),Wr.extract(i,j.SORTINDEX_LINESTRING,this.lines),Wr.extract(i,j.SORTINDEX_POINT,this.points)}},union:function(){if(null===this.geomFact)return null;var t=null;if(this.points.size()>0){var e=this.geomFact.buildGeometry(this.points);t=this.unionNoOpt(e)}var n=null;if(this.lines.size()>0){var i=this.geomFact.buildGeometry(this.lines);n=this.unionNoOpt(i)}var r=null;this.polygons.size()>0&&(r=Jr.union(this.polygons));var o=this.unionWithNull(n,r),s=null;return s=null===t?o:null===o?t:Yr.union(t,o),null===s?this.geomFact.createGeometryCollection():s},interfaces_:function(){return[]},getClass:function(){return Kr}}),Kr.union=function(){if(1===arguments.length){if(D(arguments[0],v)){var t=arguments[0];return new Kr(t).union()}if(arguments[0]instanceof j){var e=arguments[0];return new Kr(e).union()}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return new Kr(n,i).union()}};var vs=Object.freeze({UnaryUnionOp:Kr}),ms=Object.freeze({IsValidOp:Mr,ConsistentAreaTester:Lr}),ys=Object.freeze({BoundaryOp:pt,IsSimpleOp:Oi,buffer:cs,distance:hs,linemerge:fs,overlay:ds,polygonize:ps,relate:gs,union:vs,valid:ms});c(Zr,Mt.CoordinateOperation),e(Zr.prototype,{editCoordinates:function(t,e){if(0===t.length)return null;for(var n=new Array(t.length).fill(null),i=0;i<t.length;i++){var r=new d(t[i]);this.targetPM.makePrecise(r),n[i]=r}var o=new C(n,!1).toCoordinateArray(),s=0;e instanceof wt&&(s=2),e instanceof Ft&&(s=4);var a=n;return this.removeCollapsed&&(a=null),o.length<s?a:o},interfaces_:function(){return[]},getClass:function(){return Zr}}),e($r.prototype,{fixPolygonalTopology:function(t){var e=t;this.changePrecisionModel||(e=this.changePM(t,this.targetPM));var n=e.buffer(0),i=n;return this.changePrecisionModel||(i=this.changePM(n,t.getPrecisionModel())),i},reducePointwise:function(t){var e=null;e=this.changePrecisionModel?new Mt(this.createFactory(t.getFactory(),this.targetPM)):new Mt;var n=this.removeCollapsed;return t.getDimension()>=2&&(n=!0),e.edit(t,new Zr(this.targetPM,n))},changePM:function(t,e){return this.createEditor(t.getFactory(),e).edit(t,new Mt.NoOpGeometryOperation)},setRemoveCollapsedComponents:function(t){this.removeCollapsed=t},createFactory:function(t,e){return new Ht(e,t.getSRID(),t.getCoordinateSequenceFactory())},setChangePrecisionModel:function(t){this.changePrecisionModel=t},reduce:function(t){var e=this.reducePointwise(t);return this.isPointwise?e:D(e,St)?e.isValid()?e:this.fixPolygonalTopology(e):e},setPointwise:function(t){this.isPointwise=t},createEditor:function(t,e){return t.getPrecisionModel()===e?new Mt:new Mt(this.createFactory(t,e))},interfaces_:function(){return[]},getClass:function(){return $r}}),$r.reduce=function(t,e){return new $r(e).reduce(t)},$r.reducePointwise=function(t,e){var n=new $r(e);return n.setPointwise(!0),n.reduce(t)};var xs=Object.freeze({GeometryPrecisionReducer:$r});e(Qr.prototype,{simplifySection:function(t,e){if(t+1===e)return null;this.seg.p0=this.pts[t],this.seg.p1=this.pts[e];for(var n=-1,i=t,r=t+1;r<e;r++){var o=this.seg.distance(this.pts[r]);o>n&&(n=o,i=r)}if(n<=this.distanceTolerance)for(r=t+1;r<e;r++)this.usePt[r]=!1;else this.simplifySection(t,i),this.simplifySection(i,e)},setDistanceTolerance:function(t){this.distanceTolerance=t},simplify:function(){this.usePt=new Array(this.pts.length).fill(null);for(var t=0;t<this.pts.length;t++)this.usePt[t]=!0;this.simplifySection(0,this.pts.length-1);var e=new C;for(t=0;t<this.pts.length;t++)this.usePt[t]&&e.add(new d(this.pts[t]));return e.toCoordinateArray()},interfaces_:function(){return[]},getClass:function(){return Qr}}),Qr.simplify=function(t,e){var n=new Qr(t);return n.setDistanceTolerance(e),n.simplify()},e(to.prototype,{setEnsureValid:function(t){this.isEnsureValidTopology=t},getResultGeometry:function(){return this.inputGeom.isEmpty()?this.inputGeom.copy():new eo(this.isEnsureValidTopology,this.distanceTolerance).transform(this.inputGeom)},setDistanceTolerance:function(t){if(t<0)throw new i("Tolerance must be non-negative");this.distanceTolerance=t},interfaces_:function(){return[]},getClass:function(){return to}}),to.simplify=function(t,e){var n=new to(t);return n.setDistanceTolerance(e),n.getResultGeometry()},c(eo,ue),e(eo.prototype,{transformPolygon:function(t,e){if(t.isEmpty())return null;var n=ue.prototype.transformPolygon.call(this,t,e);return e instanceof Tt?n:this.createValidArea(n)},createValidArea:function(t){return this.isEnsureValidTopology?t.buffer(0):t},transformCoordinates:function(t,e){var n,i=t.toCoordinateArray();return n=0===i.length?new Array(0).fill(null):Qr.simplify(i,this.distanceTolerance),this.factory.getCoordinateSequenceFactory().create(n)},transformMultiPolygon:function(t,e){var n=ue.prototype.transformMultiPolygon.call(this,t,e);return this.createValidArea(n)},transformLinearRing:function(t,e){var n=e instanceof Dt,i=ue.prototype.transformLinearRing.call(this,t,e);return!n||i instanceof Ft?i:null},interfaces_:function(){return[]},getClass:function(){return eo}}),to.DPTransformer=eo,c(no,te),e(no.prototype,{getIndex:function(){return this.index},getParent:function(){return this.parent},interfaces_:function(){return[]},getClass:function(){return no}}),e(io.prototype,{addToResult:function(t){this.resultSegs.add(t)},asLineString:function(){return this.parentLine.getFactory().createLineString(io.extractCoordinates(this.resultSegs))},getResultSize:function(){var t=this.resultSegs.size();return 0===t?0:t+1},getParent:function(){return this.parentLine},getSegment:function(t){return this.segs[t]},getParentCoordinates:function(){return this.parentLine.getCoordinates()},getMinimumSize:function(){return this.minimumSize},asLinearRing:function(){return this.parentLine.getFactory().createLinearRing(io.extractCoordinates(this.resultSegs))},getSegments:function(){return this.segs},init:function(){var t=this.parentLine.getCoordinates();this.segs=new Array(t.length-1).fill(null);for(var e=0;e<t.length-1;e++){var n=new no(t[e],t[e+1],this.parentLine,e);this.segs[e]=n}},getResultCoordinates:function(){return io.extractCoordinates(this.resultSegs)},interfaces_:function(){return[]},getClass:function(){return io}}),io.extractCoordinates=function(t){for(var e=new Array(t.size()+1).fill(null),n=null,i=0;i<t.size();i++)n=t.get(i),e[i]=n.p0;return e[e.length-1]=n.p1,e},e(ro.prototype,{remove:function(t){this.index.remove(new w(t.p0,t.p1),t)},add:function(){if(arguments[0]instanceof io)for(var t=arguments[0],e=t.getSegments(),n=0;n<e.length;n++){var i=e[n];this.add(i)}else if(arguments[0]instanceof te){var r=arguments[0];this.index.insert(new w(r.p0,r.p1),r)}},query:function(t){var e=new w(t.p0,t.p1),n=new oo(t);return this.index.query(e,n),n.getItems()},interfaces_:function(){return[]},getClass:function(){return ro}}),e(oo.prototype,{visitItem:function(t){var e=t;w.intersects(e.p0,e.p1,this.querySeg.p0,this.querySeg.p1)&&this.items.add(t)},getItems:function(){return this.items},interfaces_:function(){return[_e]},getClass:function(){return oo}}),e(so.prototype,{flatten:function(t,e){var n=new te(this.linePts[t],this.linePts[e]);return this.remove(this.line,t,e),this.outputIndex.add(n),n},hasBadIntersection:function(t,e,n){return!!this.hasBadOutputIntersection(n)||!!this.hasBadInputIntersection(t,e,n)},setDistanceTolerance:function(t){this.distanceTolerance=t},simplifySection:function(t,e,n){n+=1;var i=new Array(2).fill(null);if(t+1===e){var r=this.line.getSegment(t);return this.line.addToResult(r),null}var o=!0;this.line.getResultSize()<this.line.getMinimumSize()&&n+1<this.line.getMinimumSize()&&(o=!1);var s=new Array(1).fill(null),a=this.findFurthestPoint(this.linePts,t,e,s);s[0]>this.distanceTolerance&&(o=!1);var u=new te;if(u.p0=this.linePts[t],u.p1=this.linePts[e],i[0]=t,i[1]=e,this.hasBadIntersection(this.line,i,u)&&(o=!1),o)return r=this.flatten(t,e),this.line.addToResult(r),null;this.simplifySection(t,a,n),this.simplifySection(a,e,n)},hasBadOutputIntersection:function(t){for(var e=this.outputIndex.query(t).iterator();e.hasNext();){var n=e.next();if(this.hasInteriorIntersection(n,t))return!0}return!1},findFurthestPoint:function(t,e,n,i){var r=new te;r.p0=t[e],r.p1=t[n];for(var o=-1,s=e,a=e+1;a<n;a++){var u=t[a],l=r.distance(u);l>o&&(o=l,s=a)}return i[0]=o,s},simplify:function(t){this.line=t,this.linePts=t.getParentCoordinates(),this.simplifySection(0,this.linePts.length-1,0)},remove:function(t,e,n){for(var i=e;i<n;i++){var r=t.getSegment(i);this.inputIndex.remove(r)}},hasInteriorIntersection:function(t,e){return this.li.computeIntersection(t.p0,t.p1,e.p0,e.p1),this.li.isInteriorIntersection()},hasBadInputIntersection:function(t,e,n){for(var i=this.inputIndex.query(n).iterator();i.hasNext();){var r=i.next();if(this.hasInteriorIntersection(r,n)){if(so.isInLineSection(t,e,r))continue;return!0}}return!1},interfaces_:function(){return[]},getClass:function(){return so}}),so.isInLineSection=function(t,e,n){if(n.getParent()!==t.getParent())return!1;var i=n.getIndex();return i>=e[0]&&i<e[1]},e(ao.prototype,{setDistanceTolerance:function(t){this.distanceTolerance=t},simplify:function(t){for(var e=t.iterator();e.hasNext();)this.inputIndex.add(e.next());for(e=t.iterator();e.hasNext();){var n=new so(this.inputIndex,this.outputIndex);n.setDistanceTolerance(this.distanceTolerance),n.simplify(e.next())}},interfaces_:function(){return[]},getClass:function(){return ao}}),e(uo.prototype,{getResultGeometry:function(){return this.inputGeom.isEmpty()?this.inputGeom.copy():(this.linestringMap=new qt,this.inputGeom.apply(new co(this)),this.lineSimplifier.simplify(this.linestringMap.values()),new lo(this.linestringMap).transform(this.inputGeom))},setDistanceTolerance:function(t){if(t<0)throw new i("Tolerance must be non-negative");this.lineSimplifier.setDistanceTolerance(t)},interfaces_:function(){return[]},getClass:function(){return uo}}),uo.simplify=function(t,e){var n=new uo(t);return n.setDistanceTolerance(e),n.getResultGeometry()},c(lo,ue),e(lo.prototype,{transformCoordinates:function(t,e){if(0===t.size())return null;if(e instanceof wt){var n=this.linestringMap.get(e);return this.createCoordinateSequence(n.getResultCoordinates())}return ue.prototype.transformCoordinates.call(this,t,e)},interfaces_:function(){return[]},getClass:function(){return lo}}),e(co.prototype,{filter:function(t){if(t instanceof wt){var e=t;if(e.isEmpty())return null;var n=e.isClosed()?4:2,i=new io(e,n);this.tps.linestringMap.put(e,i)}},interfaces_:function(){return[R]},getClass:function(){return co}}),uo.LineStringTransformer=lo,uo.LineStringMapBuilderFilter=co;var Es=Object.freeze({DouglasPeuckerSimplifier:to,TopologyPreservingSimplifier:uo});e(ho.prototype,{splitAt:function(){if(1===arguments.length){var t=arguments[0],e=this.minimumLen/this.segLen;if(t.distance(this.seg.p0)<this.minimumLen)return this.splitPt=this.seg.pointAlong(e),null;if(t.distance(this.seg.p1)<this.minimumLen)return this.splitPt=ho.pointAlongReverse(this.seg,e),null;this.splitPt=t}else if(2===arguments.length){var n=arguments[0],i=arguments[1],r=this.getConstrainedLength(n),o=r/this.segLen;i.equals2D(this.seg.p0)?this.splitPt=this.seg.pointAlong(o):this.splitPt=ho.pointAlongReverse(this.seg,o)}},setMinimumLength:function(t){this.minimumLen=t},getConstrainedLength:function(t){return t<this.minimumLen?this.minimumLen:t},getSplitPoint:function(){return this.splitPt},interfaces_:function(){return[]},getClass:function(){return ho}}),ho.pointAlongReverse=function(t,e){var n=new d;return n.x=t.p1.x-e*(t.p1.x-t.p0.x),n.y=t.p1.y-e*(t.p1.y-t.p0.y),n},e(fo.prototype,{findSplitPoint:function(t,e){},interfaces_:function(){return[]},getClass:function(){return fo}}),e(po.prototype,{findSplitPoint:function(t,e){var n=t.getLineSegment(),i=n.getLength()/2,r=new ho(n),o=po.projectedSplitPoint(t,e),s=2*o.distance(e)*.8;return s>i&&(s=i),r.setMinimumLength(s),r.splitAt(o),r.getSplitPoint()},interfaces_:function(){return[fo]},getClass:function(){return po}}),po.projectedSplitPoint=function(t,e){return t.getLineSegment().project(e)},e(go.prototype,{interfaces_:function(){return[]},getClass:function(){return go}}),go.triArea=function(t,e,n){return(e.x-t.x)*(n.y-t.y)-(e.y-t.y)*(n.x-t.x)},go.isInCircleDDNormalized=function(t,e,n,i){var r=I.valueOf(t.x).selfSubtract(i.x),o=I.valueOf(t.y).selfSubtract(i.y),s=I.valueOf(e.x).selfSubtract(i.x),a=I.valueOf(e.y).selfSubtract(i.y),u=I.valueOf(n.x).selfSubtract(i.x),l=I.valueOf(n.y).selfSubtract(i.y),c=r.multiply(a).selfSubtract(s.multiply(o)),h=s.multiply(l).selfSubtract(u.multiply(a)),f=u.multiply(o).selfSubtract(r.multiply(l)),d=r.multiply(r).selfAdd(o.multiply(o)),p=s.multiply(s).selfAdd(a.multiply(a)),g=u.multiply(u).selfAdd(l.multiply(l));return d.selfMultiply(h).selfAdd(p.selfMultiply(f)).selfAdd(g.selfMultiply(c)).doubleValue()>0},go.checkRobustInCircle=function(t,e,n,i){var r=go.isInCircleNonRobust(t,e,n,i),o=go.isInCircleDDSlow(t,e,n,i),s=go.isInCircleCC(t,e,n,i),a=hi.circumcentre(t,e,n);B.out.println("p radius diff a = "+Math.abs(i.distance(a)-t.distance(a))/t.distance(a)),r===o&&r===s||(B.out.println("inCircle robustness failure (double result = "+r+", DD result = "+o+", CC result = "+s+")"),B.out.println(Wt.toLineString(new Nt([t,e,n,i]))),B.out.println("Circumcentre = "+Wt.toPoint(a)+" radius = "+t.distance(a)),B.out.println("p radius diff a = "+Math.abs(i.distance(a)/t.distance(a)-1)),B.out.println("p radius diff b = "+Math.abs(i.distance(a)/e.distance(a)-1)),B.out.println("p radius diff c = "+Math.abs(i.distance(a)/n.distance(a)-1)),B.out.println())},go.isInCircleDDFast=function(t,e,n,i){var r=I.sqr(t.x).selfAdd(I.sqr(t.y)).selfMultiply(go.triAreaDDFast(e,n,i)),o=I.sqr(e.x).selfAdd(I.sqr(e.y)).selfMultiply(go.triAreaDDFast(t,n,i)),s=I.sqr(n.x).selfAdd(I.sqr(n.y)).selfMultiply(go.triAreaDDFast(t,e,i)),a=I.sqr(i.x).selfAdd(I.sqr(i.y)).selfMultiply(go.triAreaDDFast(t,e,n));return r.selfSubtract(o).selfAdd(s).selfSubtract(a).doubleValue()>0},go.isInCircleCC=function(t,e,n,i){var r=hi.circumcentre(t,e,n),o=t.distance(r);return i.distance(r)-o<=0},go.isInCircleNormalized=function(t,e,n,i){var r=t.x-i.x,o=t.y-i.y,s=e.x-i.x,a=e.y-i.y,u=n.x-i.x,l=n.y-i.y;return(r*r+o*o)*(s*l-u*a)+(s*s+a*a)*(u*o-r*l)+(u*u+l*l)*(r*a-s*o)>0},go.isInCircleDDSlow=function(t,e,n,i){var r=I.valueOf(i.x),o=I.valueOf(i.y),s=I.valueOf(t.x),a=I.valueOf(t.y),u=I.valueOf(e.x),l=I.valueOf(e.y),c=I.valueOf(n.x),h=I.valueOf(n.y),f=s.multiply(s).add(a.multiply(a)).multiply(go.triAreaDDSlow(u,l,c,h,r,o)),d=u.multiply(u).add(l.multiply(l)).multiply(go.triAreaDDSlow(s,a,c,h,r,o)),p=c.multiply(c).add(h.multiply(h)).multiply(go.triAreaDDSlow(s,a,u,l,r,o)),g=r.multiply(r).add(o.multiply(o)).multiply(go.triAreaDDSlow(s,a,u,l,c,h));return f.subtract(d).add(p).subtract(g).doubleValue()>0},go.isInCircleNonRobust=function(t,e,n,i){return(t.x*t.x+t.y*t.y)*go.triArea(e,n,i)-(e.x*e.x+e.y*e.y)*go.triArea(t,n,i)+(n.x*n.x+n.y*n.y)*go.triArea(t,e,i)-(i.x*i.x+i.y*i.y)*go.triArea(t,e,n)>0},go.isInCircleRobust=function(t,e,n,i){return go.isInCircleNormalized(t,e,n,i)},go.triAreaDDSlow=function(t,e,n,i,r,o){return n.subtract(t).multiply(o.subtract(e)).subtract(i.subtract(e).multiply(r.subtract(t)))},go.triAreaDDFast=function(t,e,n){var i=I.valueOf(e.x).selfSubtract(t.x).selfMultiply(I.valueOf(n.y).selfSubtract(t.y)),r=I.valueOf(e.y).selfSubtract(t.y).selfMultiply(I.valueOf(n.x).selfSubtract(t.x));return i.selfSubtract(r)},e(vo.prototype,{circleCenter:function(t,e){var n,i=new vo(this.getX(),this.getY()),r=new N(this.bisector(i,t),this.bisector(t,e)),o=null;try{o=new vo(r.getX(),r.getY())}catch(n){if(!(n instanceof A))throw n;B.err.println("a: "+i+"  b: "+t+"  c: "+e),B.err.println(n)}return o},dot:function(t){return this.p.x*t.getX()+this.p.y*t.getY()},magn:function(){return Math.sqrt(this.p.x*this.p.x+this.p.y*this.p.y)},getZ:function(){return this.p.z},bisector:function(t,e){var n=e.getX()-t.getX(),i=e.getY()-t.getY(),r=new N(t.getX()+n/2,t.getY()+i/2,1),o=new N(t.getX()-i+n/2,t.getY()+n+i/2,1);return new N(r,o)},equals:function(){if(1===arguments.length){var t=arguments[0];return this.p.x===t.getX()&&this.p.y===t.getY()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.p.distance(e.getCoordinate())<n}},getCoordinate:function(){return this.p},isInCircle:function(t,e,n){return go.isInCircleRobust(t.p,e.p,n.p,this.p)},interpolateZValue:function(t,e,n){var i=t.getX(),r=t.getY(),o=e.getX()-i,s=n.getX()-i,a=e.getY()-r,u=n.getY()-r,l=o*u-s*a,c=this.getX()-i,h=this.getY()-r,f=(u*c-s*h)/l,d=(-a*c+o*h)/l;return t.getZ()+f*(e.getZ()-t.getZ())+d*(n.getZ()-t.getZ())},midPoint:function(t){return new vo((this.p.x+t.getX())/2,(this.p.y+t.getY())/2,(this.p.z+t.getZ())/2)},rightOf:function(t){return this.isCCW(t.dest(),t.orig())},isCCW:function(t,e){return(t.p.x-this.p.x)*(e.p.y-this.p.y)-(t.p.y-this.p.y)*(e.p.x-this.p.x)>0},getX:function(){return this.p.x},crossProduct:function(t){return this.p.x*t.getY()-this.p.y*t.getX()},setZ:function(t){this.p.z=t},times:function(t){return new vo(t*this.p.x,t*this.p.y)},cross:function(){return new vo(this.p.y,-this.p.x)},leftOf:function(t){return this.isCCW(t.orig(),t.dest())},toString:function(){return"POINT ("+this.p.x+" "+this.p.y+")"},sub:function(t){return new vo(this.p.x-t.getX(),this.p.y-t.getY())},getY:function(){return this.p.y},classify:function(t,e){var n=this,i=e.sub(t),r=n.sub(t),o=i.crossProduct(r);return o>0?vo.LEFT:o<0?vo.RIGHT:i.getX()*r.getX()<0||i.getY()*r.getY()<0?vo.BEHIND:i.magn()<r.magn()?vo.BEYOND:t.equals(n)?vo.ORIGIN:e.equals(n)?vo.DESTINATION:vo.BETWEEN},sum:function(t){return new vo(this.p.x+t.getX(),this.p.y+t.getY())},distance:function(t,e){return Math.sqrt(Math.pow(e.getX()-t.getX(),2)+Math.pow(e.getY()-t.getY(),2))},circumRadiusRatio:function(t,e){var n=this.circleCenter(t,e),i=this.distance(n,t),r=this.distance(this,t),o=this.distance(t,e);return o<r&&(r=o),(o=this.distance(e,this))<r&&(r=o),i/r},interfaces_:function(){return[]},getClass:function(){return vo}}),vo.interpolateZ=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=e.distance(n),r=t.distance(e),o=n.z-e.z,s=e.z+o*(r/i);return s}if(4===arguments.length){var a=arguments[0],u=arguments[1],l=arguments[2],c=arguments[3],h=u.x,f=u.y,d=l.x-h,p=c.x-h,g=l.y-f,v=c.y-f,m=d*v-p*g,y=a.x-h,x=a.y-f,E=(v*y-p*x)/m,b=(-g*y+d*x)/m,C=u.z+E*(l.z-u.z)+b*(c.z-u.z);return C}},vo.LEFT=0,vo.RIGHT=1,vo.BEYOND=2,vo.BEHIND=3,vo.BETWEEN=4,vo.ORIGIN=5,vo.DESTINATION=6,c(mo,vo),e(mo.prototype,{getConstraint:function(){return this.constraint},setOnConstraint:function(t){this._isOnConstraint=t},merge:function(t){t._isOnConstraint&&(this._isOnConstraint=!0,this.constraint=t.constraint)},isOnConstraint:function(){return this._isOnConstraint},setConstraint:function(t){this._isOnConstraint=!0,this.constraint=t},interfaces_:function(){return[]},getClass:function(){return mo}}),e(yo.prototype,{equalsNonOriented:function(t){return!!this.equalsOriented(t)||!!this.equalsOriented(t.sym())},toLineSegment:function(){return new te(this.vertex.getCoordinate(),this.dest().getCoordinate())},dest:function(){return this.sym().orig()},oNext:function(){return this.next},equalsOriented:function(t){return!(!this.orig().getCoordinate().equals2D(t.orig().getCoordinate())||!this.dest().getCoordinate().equals2D(t.dest().getCoordinate()))},dNext:function(){return this.sym().oNext().sym()},lPrev:function(){return this.next.sym()},rPrev:function(){return this.sym().oNext()},rot:function(){return this._rot},oPrev:function(){return this._rot.next._rot},sym:function(){return this._rot._rot},setOrig:function(t){this.vertex=t},lNext:function(){return this.invRot().oNext().rot()},getLength:function(){return this.orig().getCoordinate().distance(this.dest().getCoordinate())},invRot:function(){return this._rot.sym()},setDest:function(t){this.sym().setOrig(t)},setData:function(t){this.data=t},getData:function(){return this.data},delete:function(){this._rot=null},orig:function(){return this.vertex},rNext:function(){return this._rot.next.invRot()},toString:function(){var t=this.vertex.getCoordinate(),e=this.dest().getCoordinate();return Wt.toLineString(t,e)},isLive:function(){return null!==this._rot},getPrimary:function(){return this.orig().getCoordinate().compareTo(this.dest().getCoordinate())<=0?this:this.sym()},dPrev:function(){return this.invRot().oNext().invRot()},setNext:function(t){this.next=t},interfaces_:function(){return[]},getClass:function(){return yo}}),yo.makeEdge=function(t,e){var n=new yo,i=new yo,r=new yo,o=new yo;n._rot=i,i._rot=r,r._rot=o,o._rot=n,n.setNext(n),i.setNext(o),r.setNext(r),o.setNext(i);var s=n;return s.setOrig(t),s.setDest(e),s},yo.swap=function(t){var e=t.oPrev(),n=t.sym().oPrev();yo.splice(t,e),yo.splice(t.sym(),n),yo.splice(t,e.lNext()),yo.splice(t.sym(),n.lNext()),t.setOrig(e.dest()),t.setDest(n.dest())},yo.splice=function(t,e){var n=t.oNext().rot(),i=e.oNext().rot(),r=e.oNext(),o=t.oNext(),s=i.oNext(),a=n.oNext();t.setNext(r),e.setNext(o),n.setNext(s),i.setNext(a)},yo.connect=function(t,e){var n=yo.makeEdge(t.dest(),e.orig());return yo.splice(n,t.lNext()),yo.splice(n.sym(),e),n},e(xo.prototype,{insertSite:function(t){var e=this.subdiv.locate(t);if(this.subdiv.isVertexOfEdge(e,t))return e;this.subdiv.isOnEdge(e,t.getCoordinate())&&(e=e.oPrev(),this.subdiv.delete(e.oNext()));var n=this.subdiv.makeEdge(e.orig(),t);yo.splice(n,e);var i=n;do{e=(n=this.subdiv.connect(e,n.sym())).oPrev()}while(e.lNext()!==i);for(;;){var r=e.oPrev();if(r.dest().rightOf(e)&&t.isInCircle(e.orig(),r.dest(),e.dest()))yo.swap(e),e=e.oPrev();else{if(e.oNext()===i)return n;e=e.oNext().lPrev()}}},insertSites:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertSite(n)}},interfaces_:function(){return[]},getClass:function(){return xo}}),e(Eo.prototype,{locate:function(t){},interfaces_:function(){return[]},getClass:function(){return Eo}}),e(bo.prototype,{init:function(){this.lastEdge=this.findEdge()},locate:function(t){this.lastEdge.isLive()||this.init();var e=this.subdiv.locateFromEdge(t,this.lastEdge);return this.lastEdge=e,e},findEdge:function(){return this.subdiv.getEdges().iterator().next()},interfaces_:function(){return[Eo]},getClass:function(){return bo}}),c(Co,l),e(Co.prototype,{getSegment:function(){return this.seg},interfaces_:function(){return[]},getClass:function(){return Co}}),Co.msgWithSpatial=function(t,e){return null!==e?t+" [ "+e+" ]":t},e(wo.prototype,{visit:function(t){},interfaces_:function(){return[]},getClass:function(){return wo}}),e(_o.prototype,{getTriangleVertices:function(t){var e=new Do;return this.visitTriangles(e,t),e.getTriangleVertices()},isFrameVertex:function(t){return!!t.equals(this.frameVertex[0])||!!t.equals(this.frameVertex[1])||!!t.equals(this.frameVertex[2])},isVertexOfEdge:function(t,e){return!(!e.equals(t.orig(),this.tolerance)&&!e.equals(t.dest(),this.tolerance))},connect:function(t,e){var n=yo.connect(t,e);return this.quadEdges.add(n),n},getVoronoiCellPolygon:function(t,e){var n=new b,i=t;do{var r=t.rot().orig().getCoordinate();n.add(r),t=t.oPrev()}while(t!==i);var o=new C;o.addAll(n,!1),o.closeRing(),o.size()<4&&(B.out.println(o),o.add(o.get(o.size()-1),!0));var s=o.toCoordinateArray(),a=e.createPolygon(e.createLinearRing(s),null),u=i.orig();return a.setUserData(u.getCoordinate()),a},setLocator:function(t){this.locator=t},initSubdiv:function(){var t=this.makeEdge(this.frameVertex[0],this.frameVertex[1]),e=this.makeEdge(this.frameVertex[1],this.frameVertex[2]);yo.splice(t.sym(),e);var n=this.makeEdge(this.frameVertex[2],this.frameVertex[0]);return yo.splice(e.sym(),n),yo.splice(n.sym(),t),t},isFrameBorderEdge:function(t){var e=new Array(3).fill(null);_o.getTriangleEdges(t,e);var n=new Array(3).fill(null);_o.getTriangleEdges(t.sym(),n);var i=t.lNext().dest();if(this.isFrameVertex(i))return!0;var r=t.sym().lNext().dest();return!!this.isFrameVertex(r)},makeEdge:function(t,e){var n=yo.makeEdge(t,e);return this.quadEdges.add(n),n},visitTriangles:function(t,e){this.visitedKey++;var n=new re;n.push(this.startingEdge);for(var i=new $;!n.empty();){var r=n.pop();if(!i.contains(r)){var o=this.fetchTriangleToVisit(r,n,e,i);null!==o&&t.visit(o)}}},isFrameEdge:function(t){return!(!this.isFrameVertex(t.orig())&&!this.isFrameVertex(t.dest()))},isOnEdge:function(t,e){return this.seg.setCoordinates(t.orig().getCoordinate(),t.dest().getCoordinate()),this.seg.distance(e)<this.edgeCoincidenceTolerance},getEnvelope:function(){return new w(this.frameEnv)},createFrame:function(t){var e,n=t.getWidth(),i=t.getHeight();e=n>i?10*n:10*i,this.frameVertex[0]=new vo((t.getMaxX()+t.getMinX())/2,t.getMaxY()+e),this.frameVertex[1]=new vo(t.getMinX()-e,t.getMinY()-e),this.frameVertex[2]=new vo(t.getMaxX()+e,t.getMinY()-e),this.frameEnv=new w(this.frameVertex[0].getCoordinate(),this.frameVertex[1].getCoordinate()),this.frameEnv.expandToInclude(this.frameVertex[2].getCoordinate())},getTriangleCoordinates:function(t){var e=new Lo;return this.visitTriangles(e,t),e.getTriangles()},getVertices:function(t){for(var e=new $,n=this.quadEdges.iterator();n.hasNext();){var i=n.next(),r=i.orig();!t&&this.isFrameVertex(r)||e.add(r);var o=i.dest();!t&&this.isFrameVertex(o)||e.add(o)}return e},fetchTriangleToVisit:function(t,e,n,i){var r=t,o=0,s=!1;do{this.triEdges[o]=r,this.isFrameEdge(r)&&(s=!0);var a=r.sym();i.contains(a)||e.push(a),i.add(r),o++,r=r.lNext()}while(r!==t);return s&&!n?null:this.triEdges},getEdges:function(){if(0===arguments.length)return this.quadEdges;if(1===arguments.length){for(var t=arguments[0],e=this.getPrimaryEdges(!1),n=new Array(e.size()).fill(null),i=0,r=e.iterator();r.hasNext();){var o=r.next();n[i++]=t.createLineString([o.orig().getCoordinate(),o.dest().getCoordinate()])}return t.createMultiLineString(n)}},getVertexUniqueEdges:function(t){for(var e=new b,n=new $,i=this.quadEdges.iterator();i.hasNext();){var r=i.next(),o=r.orig();n.contains(o)||(n.add(o),!t&&this.isFrameVertex(o)||e.add(r));var s=r.sym(),a=s.orig();n.contains(a)||(n.add(a),!t&&this.isFrameVertex(a)||e.add(s))}return e},getTriangleEdges:function(t){var e=new So;return this.visitTriangles(e,t),e.getTriangleEdges()},getPrimaryEdges:function(t){this.visitedKey++;var e=new b,n=new re;n.push(this.startingEdge);for(var i=new $;!n.empty();){var r=n.pop();if(!i.contains(r)){var o=r.getPrimary();!t&&this.isFrameEdge(o)||e.add(o),n.push(r.oNext()),n.push(r.sym().oNext()),i.add(r),i.add(r.sym())}}return e},delete:function(t){yo.splice(t,t.oPrev()),yo.splice(t.sym(),t.sym().oPrev());var e=t.sym(),n=t.rot(),i=t.rot().sym();this.quadEdges.remove(t),this.quadEdges.remove(e),this.quadEdges.remove(n),this.quadEdges.remove(i),t.delete(),e.delete(),n.delete(),i.delete()},locateFromEdge:function(t,e){for(var n=0,i=this.quadEdges.size(),r=e;;){if(++n>i)throw new Co(r.toLineSegment());if(t.equals(r.orig())||t.equals(r.dest()))break;if(t.rightOf(r))r=r.sym();else if(t.rightOf(r.oNext())){if(t.rightOf(r.dPrev()))break;r=r.dPrev()}else r=r.oNext()}return r},getTolerance:function(){return this.tolerance},getVoronoiCellPolygons:function(t){this.visitTriangles(new Ao,!0);for(var e=new b,n=this.getVertexUniqueEdges(!1).iterator();n.hasNext();){var i=n.next();e.add(this.getVoronoiCellPolygon(i,t))}return e},getVoronoiDiagram:function(t){var e=this.getVoronoiCellPolygons(t);return t.createGeometryCollection(Ht.toGeometryArray(e))},getTriangles:function(t){for(var e=this.getTriangleCoordinates(!1),n=new Array(e.size()).fill(null),i=0,r=e.iterator();r.hasNext();){var o=r.next();n[i++]=t.createPolygon(t.createLinearRing(o),null)}return t.createGeometryCollection(n)},insertSite:function(t){var e=this.locate(t);if(t.equals(e.orig(),this.tolerance)||t.equals(e.dest(),this.tolerance))return e;var n=this.makeEdge(e.orig(),t);yo.splice(n,e);var i=n;do{e=(n=this.connect(e,n.sym())).oPrev()}while(e.lNext()!==i);return i},locate:function(){if(1===arguments.length){if(arguments[0]instanceof vo){var t=arguments[0];return this.locator.locate(t)}if(arguments[0]instanceof d){var e=arguments[0];return this.locator.locate(new vo(e))}}else if(2===arguments.length){var n=arguments[0],i=arguments[1],r=this.locator.locate(new vo(n));if(null===r)return null;var o=r;r.dest().getCoordinate().equals2D(n)&&(o=r.sym());var s=o;do{if(s.dest().getCoordinate().equals2D(i))return s;s=s.oNext()}while(s!==o);return null}},interfaces_:function(){return[]},getClass:function(){return _o}}),_o.getTriangleEdges=function(t,e){if(e[0]=t,e[1]=e[0].lNext(),e[2]=e[1].lNext(),e[2].lNext()!==e[0])throw new i("Edges do not form a triangle")},e(Ao.prototype,{visit:function(t){for(var e=t[0].orig().getCoordinate(),n=t[1].orig().getCoordinate(),i=t[2].orig().getCoordinate(),r=new vo(hi.circumcentre(e,n,i)),o=0;o<3;o++)t[o].rot().setOrig(r)},interfaces_:function(){return[wo]},getClass:function(){return Ao}}),e(So.prototype,{getTriangleEdges:function(){return this.triList},visit:function(t){this.triList.add(t.clone())},interfaces_:function(){return[wo]},getClass:function(){return So}}),e(Do.prototype,{visit:function(t){this.triList.add([t[0].orig(),t[1].orig(),t[2].orig()])},getTriangleVertices:function(){return this.triList},interfaces_:function(){return[wo]},getClass:function(){return Do}}),e(Lo.prototype,{checkTriangleSize:function(t){t.length>=2?Wt.toLineString(t[0],t[1]):t.length>=1&&Wt.toPoint(t[0])},visit:function(t){this.coordList.clear();for(var e=0;e<3;e++){var n=t[e].orig();this.coordList.add(n.getCoordinate())}if(this.coordList.size()>0){this.coordList.closeRing();var i=this.coordList.toCoordinateArray();if(4!==i.length)return null;this.triCoords.add(i)}},getTriangles:function(){return this.triCoords},interfaces_:function(){return[wo]},getClass:function(){return Lo}}),_o.TriangleCircumcentreVisitor=Ao,_o.TriangleEdgesListVisitor=So,_o.TriangleVertexListVisitor=Do,_o.TriangleCoordinatesVisitor=Lo,_o.EDGE_COINCIDENCE_TOL_FACTOR=1e3,e(Fo.prototype,{getLineSegment:function(){return this.ls},getEndZ:function(){return this.ls.getCoordinate(1).z},getStartZ:function(){return this.ls.getCoordinate(0).z},intersection:function(t){return this.ls.intersection(t.getLineSegment())},getStart:function(){return this.ls.getCoordinate(0)},getEnd:function(){return this.ls.getCoordinate(1)},getEndY:function(){return this.ls.getCoordinate(1).y},getStartX:function(){return this.ls.getCoordinate(0).x},equalsTopo:function(t){return this.ls.equalsTopo(t.getLineSegment())},getStartY:function(){return this.ls.getCoordinate(0).y},setData:function(t){this.data=t},getData:function(){return this.data},getEndX:function(){return this.ls.getCoordinate(1).x},toString:function(){return this.ls.toString()},interfaces_:function(){return[]},getClass:function(){return Fo}}),e(To.prototype,{visit:function(t){},interfaces_:function(){return[]},getClass:function(){return To}}),e(Mo.prototype,{isRepeated:function(){return this.count>1},getRight:function(){return this.right},getCoordinate:function(){return this.p},setLeft:function(t){this.left=t},getX:function(){return this.p.x},getData:function(){return this.data},getCount:function(){return this.count},getLeft:function(){return this.left},getY:function(){return this.p.y},increment:function(){this.count=this.count+1},setRight:function(t){this.right=t},interfaces_:function(){return[]},getClass:function(){return Mo}}),e(Io.prototype,{insert:function(){if(1===arguments.length){var t=arguments[0];return this.insert(t,null)}if(2===arguments.length){var e=arguments[0],n=arguments[1];if(null===this.root)return this.root=new Mo(e,n),this.root;if(this.tolerance>0){var i=this.findBestMatchNode(e);if(null!==i)return i.increment(),i}return this.insertExact(e,n)}},query:function(){var t=arguments,e=this;if(1===arguments.length){var n=arguments[0],i=new b;return this.query(n,i),i}if(2===arguments.length)if(arguments[0]instanceof w&&D(arguments[1],y))!function(){var n=t[0],i=t[1];e.queryNode(e.root,n,!0,{interfaces_:function(){return[To]},visit:function(t){i.add(t)}})}();else if(arguments[0]instanceof w&&D(arguments[1],To)){var r=arguments[0],o=arguments[1];this.queryNode(this.root,r,!0,o)}},queryNode:function(t,e,n,i){if(null===t)return null;var r=null,o=null,s=null;n?(r=e.getMinX(),o=e.getMaxX(),s=t.getX()):(r=e.getMinY(),o=e.getMaxY(),s=t.getY());var a=s<=o;r<s&&this.queryNode(t.getLeft(),e,!n,i),e.contains(t.getCoordinate())&&i.visit(t),a&&this.queryNode(t.getRight(),e,!n,i)},findBestMatchNode:function(t){var e=new Po(t,this.tolerance);return this.query(e.queryEnvelope(),e),e.getNode()},isEmpty:function(){return null===this.root},insertExact:function(t,e){for(var n=this.root,i=this.root,r=!0,o=!0;null!==n;){if(null!==n&&t.distance(n.getCoordinate())<=this.tolerance)return n.increment(),n;o=r?t.x<n.getX():t.y<n.getY(),i=n,n=o?n.getLeft():n.getRight(),r=!r}this.numberOfNodes=this.numberOfNodes+1;var s=new Mo(t,e);return o?i.setLeft(s):i.setRight(s),s},interfaces_:function(){return[]},getClass:function(){return Io}}),Io.toCoordinates=function(){if(1===arguments.length){var t=arguments[0];return Io.toCoordinates(t,!1)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],i=new C,r=e.iterator();r.hasNext();)for(var o=r.next(),s=n?o.getCount():1,a=0;a<s;a++)i.add(o.getCoordinate(),!0);return i.toCoordinateArray()}},e(Po.prototype,{visit:function(t){var e=this.p.distance(t.getCoordinate());if(!(e<=this.tolerance))return null;var n=!1;(null===this.matchNode||e<this.matchDist||null!==this.matchNode&&e===this.matchDist&&t.getCoordinate().compareTo(this.matchNode.getCoordinate())<1)&&(n=!0),n&&(this.matchNode=t,this.matchDist=e)},queryEnvelope:function(){var t=new w(this.p);return t.expandBy(this.tolerance),t},getNode:function(){return this.matchNode},interfaces_:function(){return[To]},getClass:function(){return Po}}),Io.BestMatchVisitor=Po,e(Oo.prototype,{getInitialVertices:function(){return this.initialVertices},getKDT:function(){return this.kdt},enforceConstraints:function(){this.addConstraintVertices();var t=0,e=0;do{e=this.enforceGabriel(this.segments),t++}while(e>0&&t<Oo.MAX_SPLIT_ITER)},insertSites:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertSite(n)}},getVertexFactory:function(){return this.vertexFactory},getPointArray:function(){for(var t=new Array(this.initialVertices.size()+this.segVertices.size()).fill(null),e=0,n=this.initialVertices.iterator();n.hasNext();){var i=n.next();t[e++]=i.getCoordinate()}for(var r=this.segVertices.iterator();r.hasNext();)i=r.next(),t[e++]=i.getCoordinate();return t},setConstraints:function(t,e){this.segments=t,this.segVertices=e},computeConvexHull:function(){var t=new Ht,e=new se(this.getPointArray(),t);this.convexHull=e.getConvexHull()},addConstraintVertices:function(){this.computeConvexHull(),this.insertSites(this.segVertices)},findNonGabrielPoint:function(t){var e=t.getStart(),n=t.getEnd(),i=new d((e.x+n.x)/2,(e.y+n.y)/2),o=e.distance(i),s=new w(i);s.expandBy(o);for(var a=this.kdt.query(s),u=null,l=r.MAX_VALUE,c=a.iterator();c.hasNext();){var h=c.next().getCoordinate();if(!h.equals2D(e)&&!h.equals2D(n)){var f=i.distance(h);f<o&&(null===u||f<l)&&(u=h,l=f)}}return u},getConstraintSegments:function(){return this.segments},setSplitPointFinder:function(t){this.splitFinder=t},getConvexHull:function(){return this.convexHull},getTolerance:function(){return this.tolerance},enforceGabriel:function(t){for(var e=new b,n=0,i=new b,r=t.iterator();r.hasNext();){var o=r.next(),s=this.findNonGabrielPoint(o);if(null!==s){this.splitPt=this.splitFinder.findSplitPoint(o,s);var a=this.createVertex(this.splitPt,o),u=(this.insertSite(a),new Fo(o.getStartX(),o.getStartY(),o.getStartZ(),a.getX(),a.getY(),a.getZ(),o.getData())),l=new Fo(a.getX(),a.getY(),a.getZ(),o.getEndX(),o.getEndY(),o.getEndZ(),o.getData());e.add(u),e.add(l),i.add(o),n+=1}}return t.removeAll(i),t.addAll(e),n},createVertex:function(){if(1===arguments.length){var t=arguments[0],e=null;return null!==this.vertexFactory?this.vertexFactory.createVertex(t,null):new mo(t)}if(2===arguments.length){var n=arguments[0],i=arguments[1];return e=null,(e=null!==this.vertexFactory?this.vertexFactory.createVertex(n,i):new mo(n)).setOnConstraint(!0),e}},getSubdivision:function(){return this.subdiv},computeBoundingBox:function(){var t=Oo.computeVertexEnvelope(this.initialVertices),e=Oo.computeVertexEnvelope(this.segVertices),n=new w(t);n.expandToInclude(e);var i=.2*n.getWidth(),r=.2*n.getHeight(),o=Math.max(i,r);this.computeAreaEnv=new w(n),this.computeAreaEnv.expandBy(o)},setVertexFactory:function(t){this.vertexFactory=t},formInitialDelaunay:function(){this.computeBoundingBox(),this.subdiv=new _o(this.computeAreaEnv,this.tolerance),this.subdiv.setLocator(new bo(this.subdiv)),this.incDel=new xo(this.subdiv),this.insertSites(this.initialVertices)},insertSite:function(){if(arguments[0]instanceof mo){var t=arguments[0],e=this.kdt.insert(t.getCoordinate(),t);if(e.isRepeated()){var n=e.getData();return n.merge(t),n}return this.incDel.insertSite(t),t}if(arguments[0]instanceof d){var i=arguments[0];this.insertSite(this.createVertex(i))}},interfaces_:function(){return[]},getClass:function(){return Oo}}),Oo.computeVertexEnvelope=function(t){for(var e=new w,n=t.iterator();n.hasNext();){var i=n.next();e.expandToInclude(i.getCoordinate())}return e},Oo.MAX_SPLIT_ITER=99,e(Bo.prototype,{create:function(){if(null!==this.subdiv)return null;var t=Bo.envelope(this.siteCoords),e=Bo.toVertices(this.siteCoords);this.subdiv=new _o(t,this.tolerance),new xo(this.subdiv).insertSites(e)},setTolerance:function(t){this.tolerance=t},setSites:function(){if(arguments[0]instanceof j){var t=arguments[0];this.siteCoords=Bo.extractUniqueCoordinates(t)}else if(D(arguments[0],v)){var e=arguments[0];this.siteCoords=Bo.unique(H.toCoordinateArray(e))}},getEdges:function(t){return this.create(),this.subdiv.getEdges(t)},getSubdivision:function(){return this.create(),this.subdiv},getTriangles:function(t){return this.create(),this.subdiv.getTriangles(t)},interfaces_:function(){return[]},getClass:function(){return Bo}}),Bo.extractUniqueCoordinates=function(t){if(null===t)return new C;var e=t.getCoordinates();return Bo.unique(e)},Bo.envelope=function(t){for(var e=new w,n=t.iterator();n.hasNext();){var i=n.next();e.expandToInclude(i)}return e},Bo.unique=function(t){var e=H.copyDeep(t);return ut.sort(e),new C(e,!1)},Bo.toVertices=function(t){for(var e=new b,n=t.iterator();n.hasNext();){var i=n.next();e.add(new vo(i))}return e},e(No.prototype,{createSiteVertices:function(t){for(var e=new b,n=t.iterator();n.hasNext();){var i=n.next();this.constraintVertexMap.containsKey(i)||e.add(new mo(i))}return e},create:function(){if(null!==this.subdiv)return null;var t=Bo.envelope(this.siteCoords),e=new b;null!==this.constraintLines&&(t.expandToInclude(this.constraintLines.getEnvelopeInternal()),this.createVertices(this.constraintLines),e=No.createConstraintSegments(this.constraintLines));var n=new Oo(this.createSiteVertices(this.siteCoords),this.tolerance);n.setConstraints(e,new b(this.constraintVertexMap.values())),n.formInitialDelaunay(),n.enforceConstraints(),this.subdiv=n.getSubdivision()},setTolerance:function(t){this.tolerance=t},setConstraints:function(t){this.constraintLines=t},setSites:function(t){this.siteCoords=Bo.extractUniqueCoordinates(t)},getEdges:function(t){return this.create(),this.subdiv.getEdges(t)},getSubdivision:function(){return this.create(),this.subdiv},getTriangles:function(t){return this.create(),this.subdiv.getTriangles(t)},createVertices:function(t){for(var e=t.getCoordinates(),n=0;n<e.length;n++){var i=new mo(e[n]);this.constraintVertexMap.put(e[n],i)}},interfaces_:function(){return[]},getClass:function(){return No}}),No.createConstraintSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=Tn.getLines(t),n=new b,i=e.iterator();i.hasNext();){var r=i.next();No.createConstraintSegments(r,n)}return n}if(2===arguments.length){var o=arguments[0],s=arguments[1],a=o.getCoordinates();for(i=1;i<a.length;i++)s.add(new Fo(a[i-1],a[i]))}},e(ko.prototype,{create:function(){if(null!==this.subdiv)return null;var t=Bo.envelope(this.siteCoords);this.diagramEnv=t;var e=Math.max(this.diagramEnv.getWidth(),this.diagramEnv.getHeight());this.diagramEnv.expandBy(e),null!==this.clipEnv&&this.diagramEnv.expandToInclude(this.clipEnv);var n=Bo.toVertices(this.siteCoords);this.subdiv=new _o(t,this.tolerance),new xo(this.subdiv).insertSites(n)},getDiagram:function(t){this.create();var e=this.subdiv.getVoronoiDiagram(t);return ko.clipGeometryCollection(e,this.diagramEnv)},setTolerance:function(t){this.tolerance=t},setSites:function(){if(arguments[0]instanceof j){var t=arguments[0];this.siteCoords=Bo.extractUniqueCoordinates(t)}else if(D(arguments[0],v)){var e=arguments[0];this.siteCoords=Bo.unique(H.toCoordinateArray(e))}},setClipEnvelope:function(t){this.clipEnv=t},getSubdivision:function(){return this.create(),this.subdiv},interfaces_:function(){return[]},getClass:function(){return ko}}),ko.clipGeometryCollection=function(t,e){for(var n=t.getFactory().toGeometry(e),i=new b,r=0;r<t.getNumGeometries();r++){var o=t.getGeometryN(r),s=null;e.contains(o.getEnvelopeInternal())?s=o:e.intersects(o.getEnvelopeInternal())&&(s=n.intersection(o)).setUserData(o.getUserData()),null===s||s.isEmpty()||i.add(s)}return t.getFactory().createGeometryCollection(Ht.toGeometryArray(i))};var bs=Object.freeze({Vertex:vo}),Cs=Object.freeze({ConformingDelaunayTriangulationBuilder:No,DelaunayTriangulationBuilder:Bo,VoronoiDiagramBuilder:ko,quadedge:bs});e(Ro.prototype,{interfaces_:function(){return[]},getClass:function(){return Ro}}),Ro.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Xn.createEmptyResult(Xn.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Yn.overlayOp(t,e,Xn.UNION)},e(j.prototype,{equalsTopo:function(t){return!!this.getEnvelopeInternal().equals(t.getEnvelopeInternal())&&Xr.relate(this,t).isEquals(this.getDimension(),t.getDimension())},union:function(){if(0===arguments.length)return Kr.union(this);if(1===arguments.length){var t=arguments[0];return Ro.union(this,t)}},isValid:function(){return Mr.isValid(this)},intersection:function(t){if(this.isEmpty()||t.isEmpty())return Xn.createEmptyResult(Xn.INTERSECTION,this,t,this.factory);if(this.isGeometryCollection()){var e=t;return Ze.map(this,{interfaces_:function(){return[MapOp]},map:function(t){return t.intersection(e)}})}return this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(t),Yn.overlayOp(this,t,Xn.INTERSECTION)},covers:function(t){return Xr.covers(this,t)},coveredBy:function(t){return Xr.coveredBy(this,t)},touches:function(t){return Xr.touches(this,t)},intersects:function(t){return Xr.intersects(this,t)},within:function(t){return Xr.within(this,t)},overlaps:function(t){return Xr.overlaps(this,t)},disjoint:function(t){return Xr.disjoint(this,t)},crosses:function(t){return Xr.crosses(this,t)},buffer:function(){if(1===arguments.length){var t=arguments[0];return er.bufferOp(this,t)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return er.bufferOp(this,e,n)}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];return er.bufferOp(this,i,r,o)}},convexHull:function(){return new se(this).getConvexHull()},relate:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xr.relate.apply(Xr,[this].concat(e))},getCentroid:function(){if(this.isEmpty())return this.factory.createPoint();var t=ne.getCentroid(this);return this.createPointFromInternalCoord(t,this)},getInteriorPoint:function(){if(this.isEmpty())return this.factory.createPoint();var t=null,e=this.getDimension();return t=0===e?new Zn(this).getInteriorPoint():1===e?new Kn(this).getInteriorPoint():new Wn(this).getInteriorPoint(),this.createPointFromInternalCoord(t,this)},symDifference:function(t){if(this.isEmpty()||t.isEmpty()){if(this.isEmpty()&&t.isEmpty())return Xn.createEmptyResult(Xn.SYMDIFFERENCE,this,t,this.factory);if(this.isEmpty())return t.copy();if(t.isEmpty())return this.copy()}return this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(t),Yn.overlayOp(this,t,Xn.SYMDIFFERENCE)},createPointFromInternalCoord:function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},toText:function(){return(new Wt).write(this)},toString:function(){this.toText()},contains:function(t){return Xr.contains(this,t)},difference:function(t){return this.isEmpty()?Xn.createEmptyResult(Xn.DIFFERENCE,this,t,this.factory):t.isEmpty()?this.copy():(this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(t),Yn.overlayOp(this,t,Xn.DIFFERENCE))},isSimple:function(){return new Oi(this).isSimple()},isWithinDistance:function(t,e){return!(this.getEnvelopeInternal().distance(t.getEnvelopeInternal())>e)&&sr.isWithinDistance(this,t,e)},distance:function(t){return sr.distance(this,t)},isEquivalentClass:function(t){return this.getClass()===t.getClass()}}),t.version="1.3.0 (6e65adb)",t.algorithm=$o,t.densify=Qo,t.dissolve=ts,t.geom=Ko,t.geomgraph=es,t.index=rs,t.io=us,t.noding=ls,t.operation=ys,t.precision=xs,t.simplify=Es,t.triangulate=Cs,Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,n){var i=n(63);t.exports=function(){for(var t=new i.io.GeoJSONReader,e=t.read(JSON.stringify(arguments[0].geometry)),n=1;n<arguments.length;n++)e=e.union(t.read(JSON.stringify(arguments[n].geometry)));var r=new i.io.GeoJSONWriter;return{type:"Feature",geometry:e=r.write(e),properties:arguments[0].properties}}},function(t,e,n){var i=n(0),r=n(2),o=r.getCoords,s=r.getGeomType;function a(t,e,n){var i={type:e,coordinates:n};return t.bbox&&(i.bbox=t.bbox),i}function u(t){var e,n,i,r,s,a=o(t);if(2===a.length&&(e=a[0],n=a[1],e[0]!==n[0]||e[1]!==n[1]))return a;var u=[],c=a.length-1;u.push(a[0]);for(var h=1;h<c;h++)i=a[h-1],r=a[h],l(i,s=a[h+1],r)||u.push(r);return u.push(s),u}function l(t,e,n){var i=n[0],r=n[1],o=t[0],s=t[1],a=e[0],u=e[1],l=a-o,c=u-s;return 0===(i-o)*c-(r-s)*l&&(Math.abs(l)>=Math.abs(c)?l>0?o<=i&&i<=a:a<=i&&i<=o:c>0?s<=r&&r<=u:u<=r&&r<=s)}t.exports=function(t,e){if(!t)throw new Error("geojson is required");var n=s(t),r=[];switch(n){case"LineString":r=u(t);break;case"MultiLineString":case"Polygon":o(t).forEach((function(t){r.push(u(t))}));break;case"MultiPolygon":o(t).forEach((function(t){var e=[];t.forEach((function(t){e.push(u(t))})),r.push(e)}));break;case"Point":return t;case"MultiPoint":var l={};o(t).forEach((function(t){var e=t.join("-");l.hasOwnProperty(e)||(r.push(t),l[e]=!0)}));break;default:throw new Error(n+" geometry not supported")}return t.coordinates?!0===e?(t.coordinates=r,t):a(t,n,r):!0===e?(t.geometry.coordinates=r,t):function(t,e,n){var r=i.feature(a(t.geometry,e,n),t.properties);t.id&&(r.id=t.id);t.bbox&&(r.bbox=t.bbox);return r}(t,n,r)}},function(t,e,n){var i=n(22),r=n(0).polygon;t.exports=function(t,e,n,o,s){if(!t)throw new Error("center is required");if(!e)throw new Error("radius is required");n=n||64,s=s||t.properties||{};for(var a=[],u=0;u<n;u++)a.push(i(t,e,360*u/n,o).geometry.coordinates);return a.push(a[0]),r([a],s)}},function(t,e,n){var i=n(6),r=n(0).point;t.exports=function(t,e){var n=i(t),o=(n[0]+n[2])/2,s=(n[1]+n[3])/2;return r([o,s],e)}},function(t,e,n){var i=n(1),r=n(0),o=r.point,s=i.coordEach,a=i.featureEach,u=r.featureCollection;t.exports=function(t){var e=[];return"FeatureCollection"===t.type?a(t,(function(t){s(t,(function(n){e.push(o(n,t.properties))}))})):s(t,(function(n){e.push(o(n,t.properties))})),u(e)}},function(t,e,n){var i=n(1).coordEach;t.exports=function(t,e,n,r){if(e=null==e||isNaN(e)?6:e,n=null==n||isNaN(n)?3:n,!t)throw new Error("<geojson> is required");if("number"!=typeof e)throw new Error("<precision> must be a number");if("number"!=typeof n)throw new Error("<coordinates> must be a number");!1!==r&&void 0!==r||(t=JSON.parse(JSON.stringify(t)));var o=Math.pow(10,e);return i(t,(function(t){!function(t,e,n){t.length>n&&t.splice(n,t.length);for(var i=0;i<t.length;i++)t[i]=Math.round(t[i]*e)/e}(t,o,n)})),t}},function(t,e){function n(t,e){if(!t)throw new Error("No geometry passed");return{type:"Feature",properties:e||{},geometry:t}}t.exports.feature=n,t.exports.point=function(t,e){if(!t)throw new Error("No coordinates passed");if(void 0===t.length)throw new Error("Coordinates must be an array");if(t.length<2)throw new Error("Coordinates must be at least 2 numbers long");if("number"!=typeof t[0]||"number"!=typeof t[1])throw new Error("Coordinates must numbers");return n({type:"Point",coordinates:t},e)},t.exports.polygon=function(t,e){if(!t)throw new Error("No coordinates passed");for(var i=0;i<t.length;i++){var r=t[i];if(r.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var o=0;o<r[r.length-1].length;o++)if(r[r.length-1][o]!==r[0][o])throw new Error("First and last Position are not equivalent.")}return n({type:"Polygon",coordinates:t},e)},t.exports.lineString=function(t,e){if(!t)throw new Error("No coordinates passed");return n({type:"LineString",coordinates:t},e)},t.exports.featureCollection=function(t){if(!t)throw new Error("No features passed");return{type:"FeatureCollection",features:t}},t.exports.multiLineString=function(t,e){if(!t)throw new Error("No coordinates passed");return n({type:"MultiLineString",coordinates:t},e)},t.exports.multiPoint=function(t,e){if(!t)throw new Error("No coordinates passed");return n({type:"MultiPoint",coordinates:t},e)},t.exports.multiPolygon=function(t,e){if(!t)throw new Error("No coordinates passed");return n({type:"MultiPolygon",coordinates:t},e)},t.exports.geometryCollection=function(t,e){if(!t)throw new Error("No geometries passed");return n({type:"GeometryCollection",geometries:t},e)};var i={miles:3960,nauticalmiles:3441.145,degrees:57.2957795,radians:1,inches:250905600,yards:6969600,meters:6373e3,metres:6373e3,kilometers:6373,kilometres:6373,feet:20908792.65};t.exports.radiansToDistance=function(t,e){var n=i[e||"kilometers"];if(void 0===n)throw new Error("Invalid unit");return t*n},t.exports.distanceToRadians=function(t,e){var n=i[e||"kilometers"];if(void 0===n)throw new Error("Invalid unit");return t/n},t.exports.distanceToDegrees=function(t,e){var n=i[e||"kilometers"];if(void 0===n)throw new Error("Invalid unit");return t/n*57.2958}},function(t,e,n){var i=n(2).getCoords,r=n(0),o=r.lineString,s=r.multiLineString,a=r.featureCollection;function u(t,e){return t.length>1?s(t,e):o(t[0],e)}t.exports=function(t,e){var n,r=(n=t).geometry?n.geometry.type:n.type,o=i(t);if(e=e||t.properties||{},!o.length)throw new Error("polygon must contain coordinates");switch(r){case"Polygon":return u(o,e);case"MultiPolygon":var s=[];return o.forEach((function(t){s.push(u(t,e))})),a(s);default:throw new Error("geom "+r+" not supported")}}},function(t,e,n){"use strict";var i={parseDMS:function(t){if("number"==typeof t&&isFinite(t))return Number(t);var e,n=String(t).trim().replace(/^-/,"").replace(/[NSEW]$/i,"").split(/[^0-9.,]+/);if(""==n[n.length-1]&&n.splice(n.length-1),""==n)return NaN;switch(n.length){case 3:e=n[0]/1+n[1]/60+n[2]/3600;break;case 2:e=n[0]/1+n[1]/60;break;case 1:e=n[0];break;default:return NaN}return/^-|[WS]$/i.test(t.trim())&&(e=-e),Number(e)},separator:"",toDMS:function(t,e,n){if(isNaN(t))return null;if(void 0===e&&(e="dms"),void 0===n)switch(e){case"d":case"deg":n=4;break;case"dm":case"deg+min":n=2;break;case"dms":case"deg+min+sec":n=0;break;default:e="dms",n=0}var r,o,s,a;switch(t=Math.abs(t),e){default:case"d":case"deg":(o=t.toFixed(n))<100&&(o="0"+o),o<10&&(o="0"+o),r=o+"";break;case"dm":case"deg+min":o=Math.floor(t),60==(s=(60*t%60).toFixed(n))&&(s=0,o++),s<10&&(s="0"+s),r=(o=("000"+o).slice(-3))+""+i.separator+s+"";break;case"dms":case"deg+min+sec":o=Math.floor(t),s=Math.floor(3600*t/60)%60,60==(a=(3600*t%60).toFixed(n))&&(a=(0).toFixed(n),s++),60==s&&(s=0,o++),o=("000"+o).slice(-3),s=("00"+s).slice(-2),a<10&&(a="0"+a),r=o+""+i.separator+s+""+i.separator+a+""}return r},toLat:function(t,e,n){var r=i.toDMS(t,e,n);return null===r?"":r.slice(1)+i.separator+(t<0?"S":"N")},toLon:function(t,e,n){var r=i.toDMS(t,e,n);return null===r?"":r+i.separator+(t<0?"W":"E")},toBrng:function(t,e,n){t=(Number(t)+360)%360;var r=i.toDMS(t,e,n);return null===r?"":r.replace("360","0")},compassPoint:function(t,e){void 0===e&&(e=3),t=(t%360+360)%360;var n=4*Math.pow(2,e-1);return["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"][Math.round(t*n/360)%n*16/n]}};t.exports&&(t.exports=i)},function(t,e,n){var i=n(57),r=n(53),o=n(25),s=n(76),a=n(24),u=n(115),l=Object.getOwnPropertyDescriptor;e.f=n(17)?l:function(t,e){if(t=o(t),e=s(e,!0),u)try{return l(t,e)}catch(t){}if(a(t,e))return r(!i.f.call(t,e),t[e])}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(n(19)),r=s(n(3));n(11);var o=s(n(43));function s(t){return t&&t.__esModule?t:{default:t}}var a={valueName:"value",defaultValue:"undefined",destroyDsAfterRemove:!0,lazy:!1},u=L.Layer.extend({initialize:function(t){t=(0,r.default)({},a,t),L.setOptions(this,t),this._frames={},this._runningFrames={},this._loopPausing=!1},_initDs:function(){var t=this.options.ds;if(!(t instanceof o.default))throw new Error("ds must be instance of Datasource");this._ds=t,this._ds.on("loadstart",this._onDsLoadStart,this),this._ds.on("loaddata",this._onDsLoadData,this),this._ds.on("load",this._onDsLoad,this),this._ds.on("loaderror",this._onDsLoadError,this),this.options.lazy||this._ds.request()},_onDsLoadStart:function(t){this.fire("loadstart",{rid:t})},_onDsLoadData:function(t,e,n){this._dataID=n,this.fire("loaddata",{data:e,rid:t,dataUrl:n})},_onDsLoad:function(t){this.fire("load",{rid:t})},_onDsLoadError:function(t,e){this.fire("loaderror",{error:e,rid:t})},_destroyDs:function(){if(this._ds&&this.options.destroyDsAfterRemove)return this._ds.destroy();this._ds.removeListener("loadstart",this._onDsLoadStart,this),this._ds.removeListener("loaddata",this._onDsLoadData,this),this._ds.removeListener("load",this._onDsLoad,this),this._ds.removeListener("loaderror",this._onDsLoadError,this)},getValue:function(t){return(null==this.options.getValue?t.properties[this.options.valueName]?t.properties[this.options.valueName]:" ":this.options.getValue(t))||this.options.defaultValue},clearFrames:function(){var t=this;(0,i.default)(this._runningFrames).forEach((function(e){var n=t._runningFrames[e];n&&(L.Util.cancelAnimFrame(n.requestAnimFrameID),t._runningFrames[e]=null)})),this._frameFuncs={}},pauseLoop:function(){this._loopPausing=!0},resumeLoop:function(){this._loopPausing=!1,this.loop()},loop:function(){var t=this;this._loopPausing||(0,i.default)(this._frames).forEach((function(e){if(null==t._runningFrames[e]&&0!==t._frames[e].length){var n=t._runningFrame=t._frames[e].shift();n.requestAnimFrameID=L.Util.requestAnimFrame((function(){n.func(),t._runningFrames[e]=null,t.loop()}))}}))},raf:function(t,e){var n=this._dataID||"default";if(e)throw new Error("not support immediate");null==this._frames[n]&&(this._frames[n]=[]),this._frames[n].push({func:t}),this.loop()}});e.default=u},function(t,e,n){var i=n(20),r=n(8).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e,n){var i=n(20);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){var i=n(80)("keys"),r=n(56);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,e,n){var i=n(4),r=n(8),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n(42)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var i=n(14),r=n(226),o=n(81),s=n(79)("IE_PROTO"),a=function(){},u=function(){var t,e=n(75)("iframe"),i=o.length;for(e.style.display="none",n(120).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;i--;)delete u.prototype[o[i]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=i(t),n=new a,a.prototype=null,n[s]=t):n=u(),void 0===e?n:r(n,e)}},function(t,e,n){var i=n(41),r=n(9)("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?n:o?i(e):"Object"==(s=i(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var i=n(12),r=n(4),o=n(32);t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],s={};s[t]=e(n),i(i.S+i.F*o((function(){n(1)})),"Object",s)}},function(t,e,n){e.f=n(9)},function(t,e,n){var i=n(8),r=n(4),o=n(42),s=n(86),a=n(18).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},function(t,e,n){"use strict";var i=n(55);function r(t){var e,n;this.promise=new t((function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i})),this.resolve=i(e),this.reject=i(n)}t.exports.f=function(t){return new r(t)}},function(t,e,n){t.exports=n(266)},function(t,e,n){t.exports={default:n(268),__esModule:!0}},function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var u,l=[],c=!1,h=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):h=-1,l.length&&d())}function d(){if(!c){var t=a(f);c=!0;for(var e=l.length;e;){for(u=l,l=[];++h<e;)u&&u[h].run();h=-1,e=l.length}u=null,c=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new p(t,e)),1!==l.length||c||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var i=n(1).coordEach,r=n(317),o=n(0).polygon;t.exports=function(t){var e=[];i(t,(function(t){e.push([t[0],t[1]])}));var n=r(e);if(n.length>=3){for(var s=[],a=0;a<n.length;a++)s.push(e[n[a][0]]);return s.push(e[n[n.length-1][1]]),o([s])}}},function(t,e,n){"use strict";var i=n(141),r=n(321),o=n(322),s=n(324);function a(t,e){for(var n=new Array(t.length-1),i=1;i<t.length;++i)for(var r=n[i-1]=new Array(t.length-1),o=0,s=0;o<t.length;++o)o!==e&&(r[s++]=t[i][o]);return n}function u(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",u(t.slice(0,e)),",",u(t.slice(e)),")"].join("")}function l(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var e=[],n=0;n<t.length;++n)e.push(["scale(",u(l(a(t,n))),",",(i=n,1&i?"-":""),t[0][n],")"].join(""));return e;var i}function c(t){for(var e=[],n=[],c=function(t){for(var e=new Array(t),n=0;n<t;++n){e[n]=new Array(t);for(var i=0;i<t;++i)e[n][i]=["m",i,"[",t-n-1,"]"].join("")}return e}(t),h=[],f=0;f<t;++f)0==(1&f)?e.push.apply(e,l(a(c,f))):n.push.apply(n,l(a(c,f))),h.push("m"+f);var d=u(e),p=u(n),g="orientation"+t+"Exact",v=["function ",g,"(",h.join(),"){var p=",d,",n=",p,",d=sub(p,n);return d[d.length-1];};return ",g].join("");return new Function("sum","prod","scale","sub",v)(r,i,o,s)}var h=c(3),f=c(4),d=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,n){var i,r=(t[1]-n[1])*(e[0]-n[0]),o=(t[0]-n[0])*(e[1]-n[1]),s=r-o;if(r>0){if(o<=0)return s;i=r+o}else{if(!(r<0))return s;if(o>=0)return s;i=-(r+o)}var a=33306690738754716e-32*i;return s>=a||s<=-a?s:h(t,e,n)},function(t,e,n,i){var r=t[0]-i[0],o=e[0]-i[0],s=n[0]-i[0],a=t[1]-i[1],u=e[1]-i[1],l=n[1]-i[1],c=t[2]-i[2],h=e[2]-i[2],d=n[2]-i[2],p=o*l,g=s*u,v=s*a,m=r*l,y=r*u,x=o*a,E=c*(p-g)+h*(v-m)+d*(y-x),b=7771561172376103e-31*((Math.abs(p)+Math.abs(g))*Math.abs(c)+(Math.abs(v)+Math.abs(m))*Math.abs(h)+(Math.abs(y)+Math.abs(x))*Math.abs(d));return E>b||-E>b?E:f(t,e,n,i)}];function p(t){var e=d[t.length];return e||(e=d[t.length]=c(t.length)),e.apply(void 0,t)}!function(){for(;d.length<=5;)d.push(c(d.length));for(var e=[],n=["slow"],i=0;i<=5;++i)e.push("a"+i),n.push("o"+i);var r=["function getOrientation(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(i=2;i<=5;++i)r.push("case ",i,":return o",i,"(",e.slice(0,i).join(),");");r.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(r.join(""));var o=Function.apply(void 0,n);for(t.exports=o.apply(void 0,[p].concat(d)),i=0;i<=5;++i)t.exports[i]=d[i]}()},function(t,e,n){var i=n(0),r=i.polygon,o=i.featureCollection;function s(t,e,n){this.a=t,this.b=e,this.c=n;var i,r,o=e.x-t.x,s=e.y-t.y,a=n.x-t.x,u=n.y-t.y,l=o*(t.x+e.x)+s*(t.y+e.y),c=a*(t.x+n.x)+u*(t.y+n.y),h=2*(o*(n.y-e.y)-s*(n.x-e.x));this.x=(u*l-s*c)/h,this.y=(o*c-a*l)/h,i=this.x-t.x,r=this.y-t.y,this.r=i*i+r*r}function a(t,e){return e.x-t.x}function u(t){var e,n,i,r,o,s=t.length;t:for(;s;)for(n=t[--s],e=t[--s],i=s;i;)if(o=t[--i],e===(r=t[--i])&&n===o||e===o&&n===r){t.splice(s,2),t.splice(i,2),s-=2;continue t}}t.exports=function(t,e){if("FeatureCollection"!==t.type)throw new Error("points must be a FeatureCollection");var n=!1;return o(function(t){if(t.length<3)return[];t.sort(a);var e,n,i,r,o,l,c=t.length-1,h=t[c].x,f=t[0].x,d=t[c].y,p=d;for(;c--;)t[c].y<d&&(d=t[c].y),t[c].y>p&&(p=t[c].y);var g,v=f-h,m=p-d,y=v>m?v:m,x=.5*(f+h),E=.5*(p+d),b=[new s({x:x-20*y,y:E-y,__sentinel:!0},{x:x,y:E+20*y,__sentinel:!0},{x:x+20*y,y:E-y,__sentinel:!0})],C=[],w=[];c=t.length;for(;c--;){for(w.length=0,g=b.length;g--;)(v=t[c].x-b[g].x)>0&&v*v>b[g].r?(C.push(b[g]),b.splice(g,1)):(m=t[c].y-b[g].y,v*v+m*m>b[g].r||(w.push(b[g].a,b[g].b,b[g].b,b[g].c,b[g].c,b[g].a),b.splice(g,1)));for(u(w),g=w.length;g;)n=w[--g],e=w[--g],i=t[c],r=n.x-e.x,o=n.y-e.y,l=2*(r*(i.y-n.y)-o*(i.x-n.x)),Math.abs(l)>1e-12&&b.push(new s(e,n,i))}Array.prototype.push.apply(C,b),c=C.length;for(;c--;)(C[c].a.__sentinel||C[c].b.__sentinel||C[c].c.__sentinel)&&C.splice(c,1);return C}(t.features.map((function(t){var i={x:t.geometry.coordinates[0],y:t.geometry.coordinates[1]};return e?i.z=t.properties[e]:3===t.geometry.coordinates.length&&(n=!0,i.z=t.geometry.coordinates[2]),i}))).map((function(t){var e=[t.a.x,t.a.y],i=[t.b.x,t.b.y],o=[t.c.x,t.c.y],s={};return n?(e.push(t.a.z),i.push(t.b.z),o.push(t.c.z)):s={a:t.a.z,b:t.b.z,c:t.c.z},r([[e,i,o,e]],s)})))}},function(t,e,n){var i=n(145).geometry,r=n(1).geomReduce;t.exports=function(t){return r(t,(function(t,e){return t+i(e)}),0)}},function(t,e,n){var i=n(1),r=n(147),o=n(99),s=n(2),a=n(46),u=n(47),l=n(100),c=n(0).featureCollection,h=s.getCoords,f=i.featureEach,d=i.segmentEach;function p(t,e){var n=h(e),i=h(t),o=i[0],s=i[i.length-1],a=t.geometry.coordinates;return r(n[0],o)?a.unshift(n[1]):r(n[0],s)?a.push(n[1]):r(n[1],o)?a.unshift(n[0]):r(n[1],s)&&a.push(n[0]),t}t.exports=function(t,e,n){var i=[];n=n||0;var s,g=o();return g.load(a(t)),d(e,(function(t){var e=!1;f(g.search(t),(function(i){if(!1===e){var o=h(t).sort(),a=h(i).sort();r(o,a)||(0===n?l(o[0],i)&&l(o[1],i):u(i,o[0]).properties.dist<=n&&u(i,o[1]).properties.dist<=n)?(e=!0,s=s?p(s,t):t):(0===n?l(a[0],t)&&l(a[1],t):u(t,a[0]).properties.dist<=n&&u(t,a[1]).properties.dist<=n)&&(s=s?p(s,i):i)}})),!1===e&&s&&(i.push(s),s=void 0)})),s&&i.push(s),c(i)}},function(t,e,n){"use strict";var i=n(339);t.exports=Function.prototype.bind||i},function(t,e,n){var i=n(35),r=n(1),o=r.featureEach,s=r.coordEach;function a(t){var e=[t[0],t[1]],n=[t[0],t[3]],i=[t[2],t[3]];return{type:"Feature",bbox:t,properties:{},geometry:{type:"Polygon",coordinates:[[e,[t[2],t[1]],i,n,e]]}}}function u(t){var e=[1/0,1/0,-1/0,-1/0];return s(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}t.exports=function(t){var e=i(t);return e.insert=function(t){if(Array.isArray(t)){var e=t;(t=a(e)).bbox=e}else t.bbox=t.bbox?t.bbox:u(t);return i.prototype.insert.call(this,t)},e.load=function(t){var e=[];return Array.isArray(t)?t.forEach((function(t){var n=a(t);n.bbox=t,e.push(n)})):o(t,(function(t){t.bbox=t.bbox?t.bbox:u(t),e.push(t)})),i.prototype.load.call(this,e)},e.remove=function(t){if(Array.isArray(t)){var e=t;(t=a(e)).bbox=e}return i.prototype.remove.call(this,t)},e.clear=function(){return i.prototype.clear.call(this)},e.search=function(t){return{type:"FeatureCollection",features:i.prototype.search.call(this,this.toBBox(t))}},e.collides=function(t){return i.prototype.collides.call(this,this.toBBox(t))},e.all=function(){return{type:"FeatureCollection",features:i.prototype.all.call(this)}},e.toJSON=function(){return i.prototype.toJSON.call(this)},e.fromJSON=function(t){return i.prototype.fromJSON.call(this,t)},e.toBBox=function(t){var e;return{minX:(e=t.bbox?t.bbox:Array.isArray(t)&&4===t.length?t:u(t))[0],minY:e[1],maxX:e[2],maxY:e[3]}},e}},function(t,e,n){var i=n(2).getCoords;function r(t,e,n,i){var r=n[0]-t[0],o=n[1]-t[1],s=e[0]-t[0],a=e[1]-t[1];return 0==r*a-o*s&&(i?"start"===i?Math.abs(s)>=Math.abs(a)?s>0?t[0]<n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<t[0]:a>0?t[1]<n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<t[1]:"end"===i?Math.abs(s)>=Math.abs(a)?s>0?t[0]<=n[0]&&n[0]<e[0]:e[0]<n[0]&&n[0]<=t[0]:a>0?t[1]<=n[1]&&n[1]<e[1]:e[1]<n[1]&&n[1]<=t[1]:"both"===i?Math.abs(s)>=Math.abs(a)?s>0?t[0]<n[0]&&n[0]<e[0]:e[0]<n[0]&&n[0]<t[0]:a>0?t[1]<n[1]&&n[1]<e[1]:e[1]<n[1]&&n[1]<t[1]:void 0:Math.abs(s)>=Math.abs(a)?s>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:a>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1])}t.exports=function(t,e,n){for(var o=i(t),s=i(e),a=0;a<s.length-1;a++){var u=!1;if(n&&(0===a&&(u="start"),a===s.length-2&&(u="end"),0===a&&a+1===s.length-1&&(u="both")),r(s[a],s[a+1],o,u))return!0}return!1}},function(t,e,n){var i=n(6),r=n(102);t.exports=function(t){return r(i(t))}},function(t,e,n){var i=n(0).polygon;t.exports=function(t){var e=[t[0],t[1]],n=[t[0],t[3]],r=[t[2],t[3]],o=[t[2],t[1]];return i([[e,o,r,n,e]])}},function(t,e,n){var i=n(5),r=n(1).segmentReduce;t.exports=function(t,e){if(!t)throw new Error("geojson is required");return r(t,(function(t,n){var r=n.geometry.coordinates;return t+i(r[0],r[1],e)}),0)}},function(t,e,n){var i=n(28),r=n(5),o=n(22),s=n(0).lineString;t.exports=function(t,e,n,a){var u,l=[];if("Feature"===t.type)u=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");u=t.coordinates}for(var c,h,f,d=0,p=0;p<u.length&&!(e>=d&&p===u.length-1);p++){if(d>e&&0===l.length){if(!(c=e-d))return l.push(u[p]),s(l);h=i(u[p],u[p-1])-180,f=o(u[p],c,h,a),l.push(f.geometry.coordinates)}if(d>=n)return(c=n-d)?(h=i(u[p],u[p-1])-180,f=o(u[p],c,h,a),l.push(f.geometry.coordinates),s(l)):(l.push(u[p]),s(l));if(d>=e&&l.push(u[p]),p===u.length-1)return s(l);d+=r(u[p],u[p+1],a)}return s(u[u.length-1])}},function(t,e,n){var i=n(5),r=n(6),o=n(0),s=o.point,a=o.polygon,u=o.featureCollection;t.exports=function(t,e,n,o){var l=[];if(!t)throw new Error("bbox is required");if(Array.isArray(t)||(t=r(t)),4!==t.length)throw new Error("bbox must contain 4 numbers");var c=t[0],h=t[1],f=t[2],d=t[3],p=i(s([c,h]),s([f,h]),n),g=i(s([c,h]),s([c,d]),n),v=Math.ceil(p/e),m=Math.ceil(g/e),y=e/p*(f-c);!0===o&&(y*=p/e/v);var x=e/g*(d-h);!0===o&&(x*=g/e/m);for(var E=c,b=0;b<v;b++){for(var C=h,w=0;w<m;w++){var _=a([[[E,C],[E,C+x],[E+y,C+x],[E+y,C],[E,C]]]);l.push(_),C+=x}E+=y}return u(l)}},function(t,e,n){var i=n(1).flattenEach,r=n(0).featureCollection;t.exports=function(t){if(!t)throw new Error("geojson is required");var e=[];return i(t,(function(t){e.push(t)})),r(e)}},function(t,e,n){var i=n(22),r=n(66),o=n(0).lineString;function s(t){var e=t%360;return e<0&&(e+=360),e}t.exports=function(t,e,n,a,u,l){if(!t)throw new Error("center is required");if(null==n)throw new Error("bearing1 is required");if(null==a)throw new Error("bearing2 is required");if(!e)throw new Error("radius is required");u=u||64;var c=s(n),h=s(a),f=t.properties;if(c===h)return o(r(t,e,u,l).geometry.coordinates[0],f);for(var d=c,p=c<h?h:h+360,g=d,v=[],m=0;g<p;)v.push(i(t,e,g,l).geometry.coordinates),g=d+360*++m/u;return g>p&&v.push(i(t,e,p,l).geometry.coordinates),o(v,f)}},function(t,e,n){"use strict";e.LatLonSpherical=n(365),e.LatLonEllipsoidal=n(50);var i=n(366);for(var r in i)e.LatLonEllipsoidal[r]=i[r];e.LatLonVectors=n(367),e.Vector3d=n(109),e.Utm=n(192),e.Mgrs=n(368),e.OsGridRef=n(369),e.Dms=n(72)},function(t,e,n){"use strict";function i(t,e,n){if(!(this instanceof i))return new i(t,e,n);this.x=Number(t),this.y=Number(e),this.z=Number(n)}i.prototype.plus=function(t){if(!(t instanceof i))throw new TypeError("v is not Vector3d object");return new i(this.x+t.x,this.y+t.y,this.z+t.z)},i.prototype.minus=function(t){if(!(t instanceof i))throw new TypeError("v is not Vector3d object");return new i(this.x-t.x,this.y-t.y,this.z-t.z)},i.prototype.times=function(t){return t=Number(t),new i(this.x*t,this.y*t,this.z*t)},i.prototype.dividedBy=function(t){return t=Number(t),new i(this.x/t,this.y/t,this.z/t)},i.prototype.dot=function(t){if(!(t instanceof i))throw new TypeError("v is not Vector3d object");return this.x*t.x+this.y*t.y+this.z*t.z},i.prototype.cross=function(t){if(!(t instanceof i))throw new TypeError("v is not Vector3d object");return new i(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)},i.prototype.negate=function(){return new i(-this.x,-this.y,-this.z)},i.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},i.prototype.unit=function(){var t=this.length();return 1==t||0==t?this:new i(this.x/t,this.y/t,this.z/t)},i.prototype.angleTo=function(t,e){if(!(t instanceof i))throw new TypeError("v is not Vector3d object");if(!(e instanceof i||null==e))throw new TypeError("n is not Vector3d object");var n=null==e?1:Math.sign(this.cross(t).dot(e)),r=this.cross(t).length()*n,o=this.dot(t);return Math.atan2(r,o)},i.prototype.rotateAround=function(t,e){if(!(t instanceof i))throw new TypeError("axis is not Vector3d object");for(var n=this.unit(),r=[n.x,n.y,n.z],o=t.unit(),s=Math.sin(e),a=Math.cos(e),u=[[o.x*o.x*(1-a)+a,o.x*o.y*(1-a)-o.z*s,o.x*o.z*(1-a)+o.y*s],[o.y*o.x*(1-a)+o.z*s,o.y*o.y*(1-a)+a,o.y*o.z*(1-a)-o.x*s],[o.z*o.x*(1-a)-o.y*s,o.z*o.y*(1-a)+o.x*s,o.z*o.z*(1-a)+a]],l=[0,0,0],c=0;c<3;c++)for(var h=0;h<3;h++)l[c]+=u[c][h]*r[h];return new i(l[0],l[1],l[2])},i.prototype.toString=function(t){var e=void 0===t?3:Number(t);return"["+this.x.toFixed(e)+","+this.y.toFixed(e)+","+this.z.toFixed(e)+"]"},void 0===Math.sign&&(Math.sign=function(t){return 0===(t=+t)||isNaN(t)?t:t>0?1:-1}),t.exports&&(t.exports=i)},function(t,e,n){var i=n(2).getCoords;t.exports=function(t){if(!t)throw new Error("line is required");var e=t.geometry?t.geometry.type:t.type;if(!Array.isArray(t)&&"LineString"!==e)throw new Error("geometry must be a LineString");for(var n,r,o=i(t),s=0,a=1;a<o.length;)n=r||o[0],s+=((r=o[a])[0]-n[0])*(r[1]+n[1]),a++;return s>0}},function(t,e,n){"use strict";var i=n(7),r=n(0).point;t.exports={orientationIndex:function(t,e,n){var i=e[0]-t[0],r=e[1]-t[1],o=n[0]-e[0],s=n[1]-e[1];return Math.sign(i*s-o*r)},envelopeIsEqual:function(t,e){var n=t.geometry.coordinates.map((function(t){return t[0]})),i=t.geometry.coordinates.map((function(t){return t[1]})),r=e.geometry.coordinates.map((function(t){return t[0]})),o=e.geometry.coordinates.map((function(t){return t[1]}));return Math.max(null,n)===Math.max(null,r)&&Math.max(null,i)===Math.max(null,o)&&Math.min(null,n)===Math.min(null,r)&&Math.min(null,i)===Math.min(null,o)},envelopeContains:function(t,e){return e.geometry.coordinates[0].every((function(e){return i(r(e),t)}))},coordinatesEqual:function(t,e){return t[0]===e[0]&&t[1]===e[1]}}},function(t,e,n){var i=n(78),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e,n){var i=n(84),r=n(9)("iterator"),o=n(33);t.exports=n(4).getIteratorMethod=function(t){if(null!=t)return t[r]||t["@@iterator"]||o[i(t)]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(n(19)),r=a(n(3));n(11);var o=a(n(74)),s=n(10);function a(t){return t&&t.__esModule?t:{default:t}}var u=0,l={canvasBuffer:{width:function(t){return 3*t},height:function(t){return 3*t}}},c=o.default.extend({initialize:function(t){t=(0,r.default)({},l,t),o.default.prototype.initialize.call(this,t)},_initEvents:function(){var t=this;this.on("loadstart",(function(e){t.data={type:"FeatureCollection",features:[]}})),this.on("loaddata",(function(e){t.renderRid!==e.rid&&(t.clearFrames(),t._lockAllCanvas(),t.renderRid=e.rid),t.data.features=t.data.features.concat(e.data.features),t.render(e.data)})),this.on("load",(function(){t.once("renderdone",(function(){t._removeLockedCanvas()}))}))},_initMapEvent:function(){var t=this._map;t.on("resize",this._onMapResize,this),t.on("movestart",this._onMapMovestart,this),t.on("moveend",this._onMapMoveend,this),t.on("zoomstart",this._onZoomstart,this),t.on("zoomend",this._onZoomend,this)},_removeMapEvent:function(){var t=this._map;t.off("resize",this._onMapResize,this),t.off("movestart",this._onMapMovestart,this),t.off("moveend",this._onMapMoveend,this),t.off("zoomstart",this._onZoomstart,this),t.off("zoomend",this._onZoomend,this)},_destroy:function(){var t=this.getPane(),e=this.getContainer();t&&t.removeChild(e),this._removeMapEvent(),this.clearFrames(),this._destroyDs(),this.animationFrame&&window.cancelAnimationFrame(this.animationFrame),this.off()},_reset:function(){this.renderLayerBounds=null;for(var t=this._map,e=this.getNodes(),n=(t.getSize(),this.getRenderLayerBounds()),i=t.containerPointToLayerPoint(n.min),r=n.max.x-n.min.x,o=n.max.y-n.min.y,s=0,a=e.length;s<a;s++){var u=e[s];L.DomUtil.setPosition(u,i),u.width!==r&&(u.width=r),u.height!==o&&(u.height=o)}},_forceRender:function(){var t=this;this.clearFrames(),this.raf((function(){t._lockAllCanvas(),t.render(t.data),t.once("renderdone",(function(){t._removeLockedCanvas()}))}))},_getUnlockedCanvas:function(){for(var t=this.getContainer(),e=[],n=0,i=t.childNodes.length;n<i;n++){var r=t.childNodes[n];L.DomUtil.hasClass(r,"geoengine-locked-canvas")||e.push(r)}return e},_getLockedCanvas:function(){for(var t=this.getContainer(),e=[],n=0,i=t.childNodes.length;n<i;n++){var r=t.childNodes[n];L.DomUtil.hasClass(r,"geoengine-locked-canvas")&&e.push(r)}return e},_lockAllCanvas:function(){this._getUnlockedCanvas().forEach((function(t){L.DomUtil.addClass(t,"geoengine-locked-canvas")}))},_removeLockedCanvas:function(){var t=this.getContainer();this._getLockedCanvas().forEach((function(e){t.removeChild(e)}))},getBufferedOffset:function(){var t=this.options.canvasBuffer,e=(this._map,this._map.getSize()),n=t.width(e.x),i=t.height(e.y);return L.point([(n-e.x)/2,(i-e.y)/2])},getViewLayerBounsd:function(){var t=this._map,e=t.getSize();return L.bounds([t.containerPointToLayerPoint(L.point([0,0])),t.containerPointToLayerPoint([e.x,e.y])])},getRenderContainerBounds:function(){this._map;var t=this._map.getSize(),e=this.getBufferedOffset();return L.bounds([L.point([0,0]).subtract(e),L.point([t.x,t.y]).add(e)])},getRenderLayerBounds:function(){try{var t=this._map,e=this._map.getSize(),n=this.getBufferedOffset();return L.bounds([t.containerPointToLayerPoint(L.point([0,0]).subtract(n)),t.containerPointToLayerPoint(L.point([e.x,e.y]).add(n))])}catch(t){return L.bounds([L.point(0,0),L.point(0,0)])}},outOfRenderLayerBounds:function(){if(!this.renderLayerBounds)return!0;var t=this._map,e=this._map.getSize(),n=L.bounds([t.containerPointToLayerPoint(L.point([0,0])),t.containerPointToLayerPoint(L.point([e.x,e.y]))]);return!this.renderLayerBounds.contains(n.min)||!this.renderLayerBounds.contains(n.max)},_onMapResize:function(){this.clearFrames(),this._reset()},_onMapMovestart:function(){this.pauseLoop()},_onMapMoveend:function(){this.resumeLoop(),this.outOfRenderLayerBounds()&&(this.clearFrames(),this._forceRender())},_onZoomstart:function(t){this.clearFrames(),this.clearAllCanvas()},_onZoomend:function(t){this._reset(),this.clearFrames(),this._forceRender()},createCanvas:function(){var t=this._map,e=L.DomUtil.create("canvas","leaflet-canvas-layer leaflet-layer"),n=L.DomUtil.testProp(["transformOrigin","WebkitTransformOrigin","msTransformOrigin"]);e.style[n]="50% 50%",e.style["pointer-events"]="none";var i=t.getSize(),r=this.options.canvasBuffer;e.width=r.width(i.x),e.height=r.height(i.y);var o=t.options.zoomAnimation&&L.Browser.any3d;return L.DomUtil.addClass(e,"leaflet-zoom-"+(o?"animated":"hide")),this.getContainer().appendChild(e),L.DomUtil.setPosition(e,this.getRenderLayerBounds().min),e},onAdd:function(t){this._map=t,this._initEvents(),this._initMapEvent(),this._initDs()},onRemove:function(){this._destroy()},clearCanvas:function(t){t.getContext("2d").clearRect(0,0,t.width,t.height)},clearAllCanvas:function(){for(var t=this.getNodes(),e=0,n=t.length;e<n;e++)this.clearCanvas(t[e])},setOptions:function(t){var e=(0,s.isAnyRenderOptionsChange)(t,this.options,this._forceRenderKeys);if(L.setOptions(this,t),t.ds&&this._ds!==t.ds)return this._ds.destroy(),void this._initDs();e&&this._forceRender()},getContainer:function(){if(this.container)return this.container;var t=this.getPane(),e=this.container=L.DomUtil.create("div","geoengine-canvas-container");this.container.setAttribute("id",this.options.id||"gas-layer-gl-"+u++);var n=(0,r.default)({position:"absolute"},this.options.style);return(0,i.default)(n).map((function(t){e.style[t]=n[t]})),t.appendChild(e),e},getNodes:function(){return this.getContainer().childNodes},render:function(){throw new Error("expect render function to be override")}});e.default=c},function(t,e,n){t.exports=!n(17)&&!n(32)((function(){return 7!=Object.defineProperty(n(75)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var i=n(24),r=n(25),o=n(219)(!1),s=n(79)("IE_PROTO");t.exports=function(t,e){var n,a=r(t),u=0,l=[];for(n in a)n!=s&&i(a,n)&&l.push(n);for(;e.length>u;)i(a,n=e[u++])&&(~o(l,n)||l.push(n));return l}},function(t,e,n){var i=n(41);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e,n){"use strict";var i=n(42),r=n(12),o=n(119),s=n(23),a=n(33),u=n(225),l=n(59),c=n(121),h=n(9)("iterator"),f=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,e,n,p,g,v,m){u(n,e,p);var y,x,E,b=function(t){if(!f&&t in A)return A[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},C=e+" Iterator",w="values"==g,_=!1,A=t.prototype,S=A[h]||A["@@iterator"]||g&&A[g],D=S||b(g),L=g?w?b("entries"):D:void 0,F="Array"==e&&A.entries||S;if(F&&(E=c(F.call(new t)))!==Object.prototype&&E.next&&(l(E,C,!0),i||"function"==typeof E[h]||s(E,h,d)),w&&S&&"values"!==S.name&&(_=!0,D=function(){return S.call(this)}),i&&!m||!f&&!_&&A[h]||s(A,h,D),a[e]=D,a[C]=d,g)if(y={values:w?D:b("values"),keys:v?D:b("keys"),entries:L},m)for(x in y)x in A||o(A,x,y[x]);else r(r.P+r.F*(f||_),e,y);return y}},function(t,e,n){t.exports=n(23)},function(t,e,n){var i=n(8).document;t.exports=i&&i.documentElement},function(t,e,n){var i=n(24),r=n(38),o=n(79)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){var i=n(116),r=n(81).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(t,e){},function(t,e,n){var i=n(14),r=n(55),o=n(9)("species");t.exports=function(t,e){var n,s=i(t).constructor;return void 0===s||null==(n=i(s)[o])?e:r(n)}},function(t,e,n){var i,r,o,s=n(37),a=n(259),u=n(120),l=n(75),c=n(8),h=c.process,f=c.setImmediate,d=c.clearImmediate,p=c.MessageChannel,g=c.Dispatch,v=0,m={},y=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},x=function(t){y.call(t.data)};f&&d||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++v]=function(){a("function"==typeof t?t:Function(t),e)},i(v),v},d=function(t){delete m[t]},"process"==n(41)(h)?i=function(t){h.nextTick(s(y,t,1))}:g&&g.now?i=function(t){g.now(s(y,t,1))}:p?(o=(r=new p).port2,r.port1.onmessage=x,i=s(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(i=function(t){c.postMessage(t+"","*")},c.addEventListener("message",x,!1)):i="onreadystatechange"in l("script")?function(t){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),y.call(t)}}:function(t){setTimeout(s(y,t,1),0)}),t.exports={set:f,clear:d}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var i=n(14),r=n(20),o=n(88);t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var i=Object.prototype.hasOwnProperty,r="~";function o(){}function s(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function a(t,e,n,i,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new s(n,i||t,o),u=r?r+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],a]:t._events[u].push(a):(t._events[u]=a,t._eventsCount++),t}function u(t,e){0==--t._eventsCount?t._events=new o:delete t._events[e]}function l(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(r=!1)),l.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)i.call(t,e)&&n.push(r?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},l.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s},l.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},l.prototype.emit=function(t,e,n,i,o,s){var a=r?r+t:t;if(!this._events[a])return!1;var u,l,c=this._events[a],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,i),!0;case 5:return c.fn.call(c.context,e,n,i,o),!0;case 6:return c.fn.call(c.context,e,n,i,o,s),!0}for(l=1,u=new Array(h-1);l<h;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var f,d=c.length;for(l=0;l<d;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),h){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,n);break;case 4:c[l].fn.call(c[l].context,e,n,i);break;default:if(!u)for(f=1,u=new Array(h-1);f<h;f++)u[f-1]=arguments[f];c[l].fn.apply(c[l].context,u)}}return!0},l.prototype.on=function(t,e,n){return a(this,t,e,n,!1)},l.prototype.once=function(t,e,n){return a(this,t,e,n,!0)},l.prototype.removeListener=function(t,e,n,i){var o=r?r+t:t;if(!this._events[o])return this;if(!e)return u(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||i&&!s.once||n&&s.context!==n||u(this,o);else{for(var a=0,l=[],c=s.length;a<c;a++)(s[a].fn!==e||i&&!s[a].once||n&&s[a].context!==n)&&l.push(s[a]);l.length?this._events[o]=1===l.length?l[0]:l:u(this,o)}return this},l.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&u(this,e)):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=d(n(3)),r=d(n(21)),o=d(n(26)),s=d(n(27)),a=d(n(30)),u=d(n(31)),l=d(n(15)),c=d(n(61)),h=n(89),f=d(n(43));function d(t){return t&&t.__esModule?t:{default:t}}var p={headers:{Accept:"application/json","Content-Type":"application/json"}},g={maxCacheData:10,parseData:function(t){if(null===t)return t;if(null==t.isError)return t;if(t.isError)throw t.error;return t.data}},v=function(t){function e(t){(0,o.default)(this,e);var n=(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this,(0,i.default)({},g,t)));return n.cache=[],n}return(0,u.default)(e,t),(0,s.default)(e,[{key:"getRequestOpts",value:function(t){var e=t.headers;return(0,i.default)({},p,{headers:(0,i.default)({},p.headers,e),credentials:t.credentials,method:t.method||"GET",body:t.body})}},{key:"_request",value:function(t){var e=this,n=this.props.url,i=this.getRequestOpts(this.props);this.emitLoadStart(t);var r=this.sendRequest(n,i,(function(n,i){null!=n&&t===e.getRid()&&e.emitLoadData(t,n,i)}));return r.then((function(){e.emitLoad(t)})).catch((function(n){return e.emitLoadError(t,n)})),r}},{key:"preload",value:function(t){var e=(t=(0,i.default)({},this.props,t)).url,n=this.getRequestOpts(t);return this.sendRequest(e,n)}},{key:"sendRequest",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return l.default.isArray(t)?(0,h.all)(t.map((function(t){return n.sendOneRequest(t,e).then((function(e){return i(e,t)}))}))):this.sendOneRequest(t,e).then((function(e){return i(e,t)}))}},{key:"sendOneRequest",value:function(t,e){var n=this,i=this.getCache(t);if(i)return i.value;var r=this._sendOneRequest(t,e).then((function(e){return null===e&&n.removeCache(t),e})).catch((function(e){throw n.removeCache(t),e}));return this.setCache(t,r),r}},{key:"_sendOneRequest",value:function(t,e){var n=this;return(0,c.default)(t,e).then((function(t){return n.isDestroy?null:t.json()})).then(this.props.parseData)}},{key:"setCache",value:function(t,e){this.cache.length>=this.props.maxCacheData&&(this.cache=this.cache.slice(this.cache.length-this.props.maxCacheData+1)),this.cache.push({key:t,value:e})}},{key:"getCache",value:function(t,e){return l.default.find(this.cache,{key:t})}},{key:"removeCache",value:function(t){var e=l.default.findIndex({key:t});this.cache.splice(e,1)}},{key:"clearCache",value:function(){this.cache=[]}},{key:"_destroy",value:function(){this.clearCache()}}]),e}(f.default);e.default=v},function(t,e,n){"use strict";function i(t,e){return`${e&&e.context?e.context:"Value"} ${t}.`}function r(t){return s(Math.trunc(t))}function o(t){return t<0?-1:1}function s(t){return 0===t?0:t}function a(t,e){const n=!e.unsigned;let a,u;64===t?(u=Math.pow(2,53)-1,a=n?1-Math.pow(2,53):0):n?(a=-Math.pow(2,t-1),u=Math.pow(2,t-1)-1):(a=0,u=Math.pow(2,t)-1);const l=Math.pow(2,t),c=Math.pow(2,t-1);return(t,e)=>{void 0===e&&(e={});let h=+t;if(h=s(h),e.enforceRange){if(!Number.isFinite(h))throw new TypeError(i("is not a finite number",e));if(h=r(h),h<a||h>u)throw new TypeError(i(`is outside the accepted range of ${a} to ${u}, inclusive`,e));return h}return!Number.isNaN(h)&&e.clamp?(h=Math.min(Math.max(h,a),u),h=function(t){return s(t>0&&t%1==.5&&0==(1&t)||t<0&&t%1==-.5&&1==(1&t)?Math.floor(t):Math.round(t))}(h),h):Number.isFinite(h)&&0!==h?(h=r(h),h>=a&&h<=u?h:(h=function(t,e){const n=t%e;return o(e)!==o(n)?n+e:n}(h,l),n&&h>=c?h-l:h)):0}}function u(t,e){if("function"!=typeof t)throw new TypeError(i("is not a function",e));return t}e.any=t=>t,e.void=function(){},e.boolean=function(t){return!!t},e.byte=a(8,{unsigned:!1}),e.octet=a(8,{unsigned:!0}),e.short=a(16,{unsigned:!1}),e["unsigned short"]=a(16,{unsigned:!0}),e.long=a(32,{unsigned:!1}),e["unsigned long"]=a(32,{unsigned:!0}),e["long long"]=a(64,{unsigned:!1}),e["unsigned long long"]=a(64,{unsigned:!0}),e.double=(t,e)=>{const n=+t;if(!Number.isFinite(n))throw new TypeError(i("is not a finite floating-point value",e));return n},e["unrestricted double"]=t=>+t,e.float=(t,e)=>{const n=+t;if(!Number.isFinite(n))throw new TypeError(i("is not a finite floating-point value",e));if(Object.is(n,-0))return n;const r=Math.fround(n);if(!Number.isFinite(r))throw new TypeError(i("is outside the range of a single-precision floating-point value",e));return r},e["unrestricted float"]=t=>{const e=+t;return isNaN(e)||Object.is(e,-0)?e:Math.fround(e)},e.DOMString=function(t,e){if(void 0===e&&(e={}),e.treatNullAsEmptyString&&null===t)return"";if("symbol"==typeof t)throw new TypeError(i("is a symbol, which cannot be converted to a string",e));return String(t)},e.ByteString=(t,n)=>{const r=e.DOMString(t,n);let o;for(let t=0;void 0!==(o=r.codePointAt(t));++t)if(o>255)throw new TypeError(i("is not a valid ByteString",n));return r},e.USVString=(t,n)=>{const i=e.DOMString(t,n),r=i.length,o=[];for(let t=0;t<r;++t){const e=i.charCodeAt(t);if(e<55296||e>57343)o.push(String.fromCodePoint(e));else if(56320<=e&&e<=57343)o.push(String.fromCodePoint(65533));else if(t===r-1)o.push(String.fromCodePoint(65533));else{const n=i.charCodeAt(t+1);if(56320<=n&&n<=57343){const i=1023&e,r=1023&n;o.push(String.fromCodePoint(65536+1024*i+r)),++t}else o.push(String.fromCodePoint(65533))}}return o.join("")},e.object=(t,e)=>{if("Object"!==function(t){if(null===t)return"Null";switch(typeof t){case"undefined":return"Undefined";case"boolean":return"Boolean";case"number":return"Number";case"string":return"String";case"symbol":return"Symbol";case"object":case"function":default:return"Object"}}(t))throw new TypeError(i("is not an object",e));return t};const l=Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get;function c(t){try{return l.call(t),!0}catch(t){return!1}}e.ArrayBuffer=(t,e)=>{if(!c(t))throw new TypeError(i("is not a view on an ArrayBuffer object",e));return t};const h=Object.getOwnPropertyDescriptor(DataView.prototype,"byteLength").get;e.DataView=(t,e)=>{try{return h.call(t),t}catch(t){throw new TypeError(i("is not a view on an DataView object",e))}},[Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Uint8ClampedArray,Float32Array,Float64Array].forEach(t=>{const n=t.name,r=/^[AEIOU]/.test(n)?"an":"a";e[n]=(t,e)=>{if(!ArrayBuffer.isView(t)||t.constructor.name!==n)throw new TypeError(i(`is not ${r} ${n} object`,e));return t}}),e.ArrayBufferView=(t,e)=>{if(!ArrayBuffer.isView(t))throw new TypeError(i("is not a view on an ArrayBuffer object",e));return t},e.BufferSource=(t,e)=>{if(!ArrayBuffer.isView(t)&&!c(t))throw new TypeError(i("is not an ArrayBuffer object or a view on one",e));return t},e.DOMTimeStamp=e["unsigned long long"],e.Function=u,e.VoidFunction=u},function(t,e,n){"use strict";const i=Symbol("wrapper"),r=Symbol("impl"),o=Symbol("SameObject caches"),s=Symbol.for("[webidl2js]  constructor registry");function a(t){return t?t[i]:null}function u(t){return t?t[r]:null}const l=Symbol("internal"),c=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));const h=Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get;const f=Symbol("supports property index"),d=Symbol("supported property indices"),p=Symbol("supports property name"),g=Symbol("supported property names"),v=Symbol("indexed property get"),m=Symbol("indexed property set new"),y=Symbol("indexed property set existing"),x=Symbol("named property get"),E=Symbol("named property set new"),b=Symbol("named property set existing"),C=Symbol("named property delete");t.exports={isObject:function(t){return"object"==typeof t&&null!==t||"function"==typeof t},hasOwn:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},wrapperSymbol:i,implSymbol:r,getSameObject:function(t,e,n){return t[o]||(t[o]=Object.create(null)),e in t[o]||(t[o][e]=n()),t[o][e]},ctorRegistrySymbol:s,wrapperForImpl:a,implForWrapper:u,tryWrapperForImpl:function(t){const e=a(t);return e||t},tryImplForWrapper:function(t){const e=u(t);return e||t},iterInternalSymbol:l,IteratorPrototype:c,isArrayBuffer:function(t){try{return h.call(t),!0}catch(t){return!1}},isArrayIndexPropName:function(t){if("string"!=typeof t)return!1;const e=t>>>0;return e!==Math.pow(2,32)-1&&t===""+e},supportsPropertyIndex:f,supportedPropertyIndices:d,supportsPropertyName:p,supportedPropertyNames:g,indexedGet:v,indexedSetNew:m,indexedSetExisting:y,namedGet:x,namedSetNew:E,namedSetExisting:b,namedDelete:C}},function(t,e,n){"use strict";const i=n(133),r=n(287),o=n(135),{percentEncode:s,percentDecode:a}=n(62),u={ftp:21,file:null,http:80,https:443,ws:80,wss:443},l=Symbol("failure");function c(t){return i.ucs2.decode(t).length}function h(t,e){const n=t[e];return isNaN(n)?void 0:String.fromCodePoint(n)}function f(t){return"."===t||"%2e"===t.toLowerCase()}function d(t){return 2===t.length&&o.isASCIIAlpha(t.codePointAt(0))&&(":"===t[1]||"|"===t[1])}function p(t){return void 0!==u[t]}function g(t){return p(t.scheme)}function v(t){return!p(t.scheme)}function m(t){return u[t]}function y(t){return t<=31||t>126}const x=new Set([47,58,59,61,64,91,92,93,94,124]);function E(t){return _(t)||x.has(t)}const b=new Set([32,34,60,62,96]);function C(t){return y(t)||b.has(t)}const w=new Set([35,63,123,125]);function _(t){return C(t)||w.has(t)}function A(t,e){const n=String.fromCodePoint(t);return e(t)?function(t){const e=(void 0).from(t);let n="";for(let t=0;t<e.length;++t)n+=s(e[t]);return n}(n):n}function S(t){let e=10;if(t.length>=2&&"0"===t.charAt(0)&&"x"===t.charAt(1).toLowerCase()?(t=t.substring(2),e=16):t.length>=2&&"0"===t.charAt(0)&&(t=t.substring(1),e=8),""===t)return 0;let n=/[^0-7]/;return 10===e&&(n=/[^0-9]/),16===e&&(n=/[^0-9A-Fa-f]/),n.test(t)?l:parseInt(t,e)}function D(t,e=!1){if("["===t[0])return"]"!==t[t.length-1]?l:function(t){const e=[0,0,0,0,0,0,0,0];let n=0,r=null,s=0;if(58===(t=i.ucs2.decode(t))[s]){if(58!==t[s+1])return l;s+=2,++n,r=n}for(;s<t.length;){if(8===n)return l;if(58===t[s]){if(null!==r)return l;++s,++n,r=n;continue}let i=0,a=0;for(;a<4&&o.isASCIIHex(t[s]);)i=16*i+parseInt(h(t,s),16),++s,++a;if(46===t[s]){if(0===a)return l;if(s-=a,n>6)return l;let i=0;for(;void 0!==t[s];){let r=null;if(i>0){if(!(46===t[s]&&i<4))return l;++s}if(!o.isASCIIDigit(t[s]))return l;for(;o.isASCIIDigit(t[s]);){const e=parseInt(h(t,s));if(null===r)r=e;else{if(0===r)return l;r=10*r+e}if(r>255)return l;++s}e[n]=256*e[n]+r,++i,2!==i&&4!==i||++n}if(4!==i)return l;break}if(58===t[s]){if(++s,void 0===t[s])return l}else if(void 0!==t[s])return l;e[n]=i,++n}if(null!==r){let t=n-r;for(n=7;0!==n&&t>0;){const i=e[r+t-1];e[r+t-1]=e[n],e[n]=i,--n,--t}}else if(null===r&&8!==n)return l;return e}(t.substring(1,t.length-1));if(e)return function(t){if(e=t,-1!==e.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|\/|:|\?|@|\[|\\|\]/))return l;var e;let n="";const r=i.ucs2.decode(t);for(let t=0;t<r.length;++t)n+=A(r[t],y);return n}(t);const n=function(t,e=!1){const n=r.toASCII(t,{checkBidi:!0,checkHyphens:!1,checkJoiners:!0,useSTD3ASCIIRules:e,verifyDNSLength:e});if(null===n)return l;return n}(a((void 0).from(t)).toString());if(n===l)return l;if(-1!==n.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|%|\/|:|\?|@|\[|\\|\]/))return l;const s=function(t){const e=t.split(".");if(""===e[e.length-1]&&e.length>1&&e.pop(),e.length>4)return t;const n=[];for(const i of e){if(""===i)return t;const e=S(i);if(e===l)return t;n.push(e)}for(let t=0;t<n.length-1;++t)if(n[t]>255)return l;if(n[n.length-1]>=Math.pow(256,5-n.length))return l;let i=n.pop(),r=0;for(const t of n)i+=t*Math.pow(256,3-r),++r;return i}(n);return"number"==typeof s||s===l?s:n}function L(t){return"number"==typeof t?function(t){let e="",n=t;for(let t=1;t<=4;++t)e=String(n%256)+e,4!==t&&(e="."+e),n=Math.floor(n/256);return e}(t):t instanceof Array?"["+function(t){let e="";const n=function(t){let e=null,n=1,i=null,r=0;for(let o=0;o<t.length;++o)0!==t[o]?(r>n&&(e=i,n=r),i=null,r=0):(null===i&&(i=o),++r);r>n&&(e=i,n=r);return{idx:e,len:n}}(t).idx;let i=!1;for(let r=0;r<=7;++r)if(!i||0!==t[r])if(i&&(i=!1),n!==r)e+=t[r].toString(16),7!==r&&(e+=":");else{e+=0===r?"::":":",i=!0}return e}(t)+"]":t}function F(t){const{path:e}=t;var n;0!==e.length&&("file"===t.scheme&&1===e.length&&(n=e[0],/^[A-Za-z]:$/.test(n))||e.pop())}function T(t){return""!==t.username||""!==t.password}function M(t,e,n,r,o){if(this.pointer=0,this.input=t,this.base=e||null,this.encodingOverride=n||"utf-8",this.stateOverride=o,this.url=r,this.failure=!1,this.parseError=!1,!this.url){this.url={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,cannotBeABaseURL:!1};const t=function(t){return t.replace(/^[\u0000-\u001F\u0020]+|[\u0000-\u001F\u0020]+$/g,"")}(this.input);t!==this.input&&(this.parseError=!0),this.input=t}const s=function(t){return t.replace(/\u0009|\u000A|\u000D/g,"")}(this.input);for(s!==this.input&&(this.parseError=!0),this.input=s,this.state=o||"scheme start",this.buffer="",this.atFlag=!1,this.arrFlag=!1,this.passwordTokenSeenFlag=!1,this.input=i.ucs2.decode(this.input);this.pointer<=this.input.length;++this.pointer){const t=this.input[this.pointer],e=isNaN(t)?void 0:String.fromCodePoint(t),n=this["parse "+this.state](t,e);if(!n)break;if(n===l){this.failure=!0;break}}}M.prototype["parse scheme start"]=function(t,e){if(o.isASCIIAlpha(t))this.buffer+=e.toLowerCase(),this.state="scheme";else{if(this.stateOverride)return this.parseError=!0,l;this.state="no scheme",--this.pointer}return!0},M.prototype["parse scheme"]=function(t,e){if(o.isASCIIAlphanumeric(t)||43===t||45===t||46===t)this.buffer+=e.toLowerCase();else if(58===t){if(this.stateOverride){if(g(this.url)&&!p(this.buffer))return!1;if(!g(this.url)&&p(this.buffer))return!1;if((T(this.url)||null!==this.url.port)&&"file"===this.buffer)return!1;if("file"===this.url.scheme&&(""===this.url.host||null===this.url.host))return!1}if(this.url.scheme=this.buffer,this.stateOverride)return this.url.port===m(this.url.scheme)&&(this.url.port=null),!1;this.buffer="","file"===this.url.scheme?(47===this.input[this.pointer+1]&&47===this.input[this.pointer+2]||(this.parseError=!0),this.state="file"):g(this.url)&&null!==this.base&&this.base.scheme===this.url.scheme?this.state="special relative or authority":g(this.url)?this.state="special authority slashes":47===this.input[this.pointer+1]?(this.state="path or authority",++this.pointer):(this.url.cannotBeABaseURL=!0,this.url.path.push(""),this.state="cannot-be-a-base-URL path")}else{if(this.stateOverride)return this.parseError=!0,l;this.buffer="",this.state="no scheme",this.pointer=-1}return!0},M.prototype["parse no scheme"]=function(t){return null===this.base||this.base.cannotBeABaseURL&&35!==t?l:(this.base.cannotBeABaseURL&&35===t?(this.url.scheme=this.base.scheme,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.url.cannotBeABaseURL=!0,this.state="fragment"):"file"===this.base.scheme?(this.state="file",--this.pointer):(this.state="relative",--this.pointer),!0)},M.prototype["parse special relative or authority"]=function(t){return 47===t&&47===this.input[this.pointer+1]?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="relative",--this.pointer),!0},M.prototype["parse path or authority"]=function(t){return 47===t?this.state="authority":(this.state="path",--this.pointer),!0},M.prototype["parse relative"]=function(t){return this.url.scheme=this.base.scheme,isNaN(t)?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query):47===t?this.state="relative slash":63===t?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):35===t?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):g(this.url)&&92===t?(this.parseError=!0,this.state="relative slash"):(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(0,this.base.path.length-1),this.state="path",--this.pointer),!0},M.prototype["parse relative slash"]=function(t){return!g(this.url)||47!==t&&92!==t?47===t?this.state="authority":(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.state="path",--this.pointer):(92===t&&(this.parseError=!0),this.state="special authority ignore slashes"),!0},M.prototype["parse special authority slashes"]=function(t){return 47===t&&47===this.input[this.pointer+1]?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="special authority ignore slashes",--this.pointer),!0},M.prototype["parse special authority ignore slashes"]=function(t){return 47!==t&&92!==t?(this.state="authority",--this.pointer):this.parseError=!0,!0},M.prototype["parse authority"]=function(t,e){if(64===t){this.parseError=!0,this.atFlag&&(this.buffer="%40"+this.buffer),this.atFlag=!0;const t=c(this.buffer);for(let e=0;e<t;++e){const t=this.buffer.codePointAt(e);if(58===t&&!this.passwordTokenSeenFlag){this.passwordTokenSeenFlag=!0;continue}const n=A(t,E);this.passwordTokenSeenFlag?this.url.password+=n:this.url.username+=n}this.buffer=""}else if(isNaN(t)||47===t||63===t||35===t||g(this.url)&&92===t){if(this.atFlag&&""===this.buffer)return this.parseError=!0,l;this.pointer-=c(this.buffer)+1,this.buffer="",this.state="host"}else this.buffer+=e;return!0},M.prototype["parse hostname"]=M.prototype["parse host"]=function(t,e){if(this.stateOverride&&"file"===this.url.scheme)--this.pointer,this.state="file host";else if(58!==t||this.arrFlag)if(isNaN(t)||47===t||63===t||35===t||g(this.url)&&92===t){if(--this.pointer,g(this.url)&&""===this.buffer)return this.parseError=!0,l;if(this.stateOverride&&""===this.buffer&&(T(this.url)||null!==this.url.port))return this.parseError=!0,!1;const t=D(this.buffer,v(this.url));if(t===l)return l;if(this.url.host=t,this.buffer="",this.state="path start",this.stateOverride)return!1}else 91===t?this.arrFlag=!0:93===t&&(this.arrFlag=!1),this.buffer+=e;else{if(""===this.buffer)return this.parseError=!0,l;const t=D(this.buffer,v(this.url));if(t===l)return l;if(this.url.host=t,this.buffer="",this.state="port","hostname"===this.stateOverride)return!1}return!0},M.prototype["parse port"]=function(t,e){if(o.isASCIIDigit(t))this.buffer+=e;else{if(!(isNaN(t)||47===t||63===t||35===t||g(this.url)&&92===t||this.stateOverride))return this.parseError=!0,l;if(""!==this.buffer){const t=parseInt(this.buffer);if(t>Math.pow(2,16)-1)return this.parseError=!0,l;this.url.port=t===m(this.url.scheme)?null:t,this.buffer=""}if(this.stateOverride)return!1;this.state="path start",--this.pointer}return!0};const I=new Set([47,92,63,35]);function P(t,e){const n=t.length-e;return n>=2&&(i=t[e],r=t[e+1],o.isASCIIAlpha(i)&&(58===r||124===r))&&(2===n||I.has(t[e+2]));var i,r}M.prototype["parse file"]=function(t){return this.url.scheme="file",47===t||92===t?(92===t&&(this.parseError=!0),this.state="file slash"):null!==this.base&&"file"===this.base.scheme?isNaN(t)?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query):63===t?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):35===t?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):(P(this.input,this.pointer)?this.parseError=!0:(this.url.host=this.base.host,this.url.path=this.base.path.slice(),F(this.url)),this.state="path",--this.pointer):(this.state="path",--this.pointer),!0},M.prototype["parse file slash"]=function(t){var e;return 47===t||92===t?(92===t&&(this.parseError=!0),this.state="file host"):(null===this.base||"file"!==this.base.scheme||P(this.input,this.pointer)||(2===(e=this.base.path[0]).length&&o.isASCIIAlpha(e.codePointAt(0))&&":"===e[1]?this.url.path.push(this.base.path[0]):this.url.host=this.base.host),this.state="path",--this.pointer),!0},M.prototype["parse file host"]=function(t,e){if(isNaN(t)||47===t||92===t||63===t||35===t)if(--this.pointer,!this.stateOverride&&d(this.buffer))this.parseError=!0,this.state="path";else if(""===this.buffer){if(this.url.host="",this.stateOverride)return!1;this.state="path start"}else{let t=D(this.buffer,v(this.url));if(t===l)return l;if("localhost"===t&&(t=""),this.url.host=t,this.stateOverride)return!1;this.buffer="",this.state="path start"}else this.buffer+=e;return!0},M.prototype["parse path start"]=function(t){return g(this.url)?(92===t&&(this.parseError=!0),this.state="path",47!==t&&92!==t&&--this.pointer):this.stateOverride||63!==t?this.stateOverride||35!==t?void 0!==t&&(this.state="path",47!==t&&--this.pointer):(this.url.fragment="",this.state="fragment"):(this.url.query="",this.state="query"),!0},M.prototype["parse path"]=function(t){if(isNaN(t)||47===t||g(this.url)&&92===t||!this.stateOverride&&(63===t||35===t)){if(g(this.url)&&92===t&&(this.parseError=!0),".."===(e=(e=this.buffer).toLowerCase())||"%2e."===e||".%2e"===e||"%2e%2e"===e?(F(this.url),47===t||g(this.url)&&92===t||this.url.path.push("")):!f(this.buffer)||47===t||g(this.url)&&92===t?f(this.buffer)||("file"===this.url.scheme&&0===this.url.path.length&&d(this.buffer)&&(""!==this.url.host&&null!==this.url.host&&(this.parseError=!0,this.url.host=""),this.buffer=this.buffer[0]+":"),this.url.path.push(this.buffer)):this.url.path.push(""),this.buffer="","file"===this.url.scheme&&(void 0===t||63===t||35===t))for(;this.url.path.length>1&&""===this.url.path[0];)this.parseError=!0,this.url.path.shift();63===t&&(this.url.query="",this.state="query"),35===t&&(this.url.fragment="",this.state="fragment")}else 37!==t||o.isASCIIHex(this.input[this.pointer+1])&&o.isASCIIHex(this.input[this.pointer+2])||(this.parseError=!0),this.buffer+=A(t,_);var e;return!0},M.prototype["parse cannot-be-a-base-URL path"]=function(t){return 63===t?(this.url.query="",this.state="query"):35===t?(this.url.fragment="",this.state="fragment"):(isNaN(t)||37===t||(this.parseError=!0),37!==t||o.isASCIIHex(this.input[this.pointer+1])&&o.isASCIIHex(this.input[this.pointer+2])||(this.parseError=!0),isNaN(t)||(this.url.path[0]+=A(t,y))),!0},M.prototype["parse query"]=function(t,e){if(isNaN(t)||!this.stateOverride&&35===t){g(this.url)&&"ws"!==this.url.scheme&&"wss"!==this.url.scheme||(this.encodingOverride="utf-8");const e=(void 0).from(this.buffer);for(let t=0;t<e.length;++t)e[t]<33||e[t]>126||34===e[t]||35===e[t]||60===e[t]||62===e[t]||39===e[t]&&g(this.url)?this.url.query+=s(e[t]):this.url.query+=String.fromCodePoint(e[t]);this.buffer="",35===t&&(this.url.fragment="",this.state="fragment")}else 37!==t||o.isASCIIHex(this.input[this.pointer+1])&&o.isASCIIHex(this.input[this.pointer+2])||(this.parseError=!0),this.buffer+=e;return!0},M.prototype["parse fragment"]=function(t){return isNaN(t)||(0===t?this.parseError=!0:(37!==t||o.isASCIIHex(this.input[this.pointer+1])&&o.isASCIIHex(this.input[this.pointer+2])||(this.parseError=!0),this.url.fragment+=A(t,C))),!0},t.exports.serializeURL=function(t,e){let n=t.scheme+":";if(null!==t.host?(n+="//",""===t.username&&""===t.password||(n+=t.username,""!==t.password&&(n+=":"+t.password),n+="@"),n+=L(t.host),null!==t.port&&(n+=":"+t.port)):null===t.host&&"file"===t.scheme&&(n+="//"),t.cannotBeABaseURL)n+=t.path[0];else for(const e of t.path)n+="/"+e;return null!==t.query&&(n+="?"+t.query),e||null===t.fragment||(n+="#"+t.fragment),n},t.exports.serializeURLOrigin=function(e){switch(e.scheme){case"blob":try{return t.exports.serializeURLOrigin(t.exports.parseURL(e.path[0]))}catch(t){return"null"}case"ftp":case"http":case"https":case"ws":case"wss":return function(t){let e=t.scheme+"://";return e+=L(t.host),null!==t.port&&(e+=":"+t.port),e}({scheme:e.scheme,host:e.host,port:e.port});case"file":default:return"null"}},t.exports.basicURLParse=function(t,e){void 0===e&&(e={});const n=new M(t,e.baseURL,e.encodingOverride,e.url,e.stateOverride);return n.failure?null:n.url},t.exports.setTheUsername=function(t,e){t.username="";const n=i.ucs2.decode(e);for(let e=0;e<n.length;++e)t.username+=A(n[e],E)},t.exports.setThePassword=function(t,e){t.password="";const n=i.ucs2.decode(e);for(let e=0;e<n.length;++e)t.password+=A(n[e],E)},t.exports.serializeHost=L,t.exports.cannotHaveAUsernamePasswordPort=function(t){return null===t.host||""===t.host||t.cannotBeABaseURL||"file"===t.scheme},t.exports.serializeInteger=function(t){return String(t)},t.exports.parseURL=function(e,n){return void 0===n&&(n={}),t.exports.basicURLParse(e,{baseURL:n.baseURL,encodingOverride:n.encodingOverride})}},function(t,e,n){(function(t,i){var r;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){e&&e.nodeType,t&&t.nodeType;var s="object"==typeof i&&i;s.global!==s&&s.window!==s&&s.self;var a,u=2147483647,l=/^xn--/,c=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,p=String.fromCharCode;function g(t){throw new RangeError(f[t])}function v(t,e){for(var n=t.length,i=[];n--;)i[n]=e(t[n]);return i}function m(t,e){var n=t.split("@"),i="";return n.length>1&&(i=n[0]+"@",t=n[1]),i+v((t=t.replace(h,".")).split("."),e).join(".")}function y(t){for(var e,n,i=[],r=0,o=t.length;r<o;)(e=t.charCodeAt(r++))>=55296&&e<=56319&&r<o?56320==(64512&(n=t.charCodeAt(r++)))?i.push(((1023&e)<<10)+(1023&n)+65536):(i.push(e),r--):i.push(e);return i}function x(t){return v(t,(function(t){var e="";return t>65535&&(e+=p((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=p(t)})).join("")}function E(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function b(t,e,n){var i=0;for(t=n?d(t/700):t>>1,t+=d(t/e);t>455;i+=36)t=d(t/35);return d(i+36*t/(t+38))}function C(t){var e,n,i,r,o,s,a,l,c,h,f,p=[],v=t.length,m=0,y=128,E=72;for((n=t.lastIndexOf("-"))<0&&(n=0),i=0;i<n;++i)t.charCodeAt(i)>=128&&g("not-basic"),p.push(t.charCodeAt(i));for(r=n>0?n+1:0;r<v;){for(o=m,s=1,a=36;r>=v&&g("invalid-input"),((l=(f=t.charCodeAt(r++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:36)>=36||l>d((u-m)/s))&&g("overflow"),m+=l*s,!(l<(c=a<=E?1:a>=E+26?26:a-E));a+=36)s>d(u/(h=36-c))&&g("overflow"),s*=h;E=b(m-o,e=p.length+1,0==o),d(m/e)>u-y&&g("overflow"),y+=d(m/e),m%=e,p.splice(m++,0,y)}return x(p)}function w(t){var e,n,i,r,o,s,a,l,c,h,f,v,m,x,C,w=[];for(v=(t=y(t)).length,e=128,n=0,o=72,s=0;s<v;++s)(f=t[s])<128&&w.push(p(f));for(i=r=w.length,r&&w.push("-");i<v;){for(a=u,s=0;s<v;++s)(f=t[s])>=e&&f<a&&(a=f);for(a-e>d((u-n)/(m=i+1))&&g("overflow"),n+=(a-e)*m,e=a,s=0;s<v;++s)if((f=t[s])<e&&++n>u&&g("overflow"),f==e){for(l=n,c=36;!(l<(h=c<=o?1:c>=o+26?26:c-o));c+=36)C=l-h,x=36-h,w.push(p(E(h+C%x,0))),l=d(C/x);w.push(p(E(l,0))),o=b(n,m,i==r),n=0,++i}++n,++e}return w.join("")}a={version:"1.4.1",ucs2:{decode:y,encode:x},decode:C,encode:w,toASCII:function(t){return m(t,(function(t){return c.test(t)?"xn--"+w(t):t}))},toUnicode:function(t){return m(t,(function(t){return l.test(t)?C(t.slice(4).toLowerCase()):t}))}},void 0===(r=function(){return a}.call(e,n,e,t))||(t.exports=r)}()}).call(this,n(134)(t),n(92))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";function i(t){return t>=48&&t<=57}function r(t){return t>=65&&t<=90||t>=97&&t<=122}t.exports={isASCIIDigit:i,isASCIIAlpha:r,isASCIIAlphanumeric:function(t){return r(t)||i(t)},isASCIIHex:function(t){return i(t)||t>=65&&t<=70||t>=97&&t<=102}}},function(t,e,n){"use strict";const i=n(130),r=n(131),o=r.implSymbol,s=r.ctorRegistrySymbol,a=Object.create(r.IteratorPrototype,{next:{value:function(){const t=this[r.iterInternalSymbol],{target:e,kind:n,index:i}=t,s=Array.from(e[o]);if(i>=s.length)return{value:void 0,done:!0};const a=s[i];t.index=i+1;const[u,l]=a.map(r.tryWrapperForImpl);let c;switch(n){case"key":c=u;break;case"value":c=l;break;case"key+value":c=[u,l]}return{value:c,done:!1}},writable:!0,enumerable:!0,configurable:!0},[Symbol.toStringTag]:{value:"URLSearchParams Iterator",configurable:!0}}),u={_mixedIntoPredicates:[],is(e){if(e){if(r.hasOwn(e,o)&&e[o]instanceof l.implementation)return!0;for(const n of t.exports._mixedIntoPredicates)if(n(e))return!0}return!1},isImpl(e){if(e){if(e instanceof l.implementation)return!0;const n=r.wrapperForImpl(e);for(const e of t.exports._mixedIntoPredicates)if(e(n))return!0}return!1},convert(e,{context:n="The provided value"}={}){if(t.exports.is(e))return r.implForWrapper(e);throw new TypeError(n+" is not of type 'URLSearchParams'.")},createDefaultIterator(t,e){const n=Object.create(a);return Object.defineProperty(n,r.iterInternalSymbol,{value:{target:t,kind:e,index:0},configurable:!0}),n},create(t,e,n){if(void 0===t[s])throw new Error("Internal error: invalid global object");const i=t[s].URLSearchParams;if(void 0===i)throw new Error("Internal error: constructor URLSearchParams is not installed on the passed global object");let r=Object.create(i.prototype);return r=u.setup(r,t,e,n),r},createImpl(t,e,n){const i=u.create(t,e,n);return r.implForWrapper(i)},_internalSetup(t){},setup:(t,e,n=[],i={})=>(i.wrapper=t,u._internalSetup(t),Object.defineProperty(t,o,{value:new l.implementation(e,n,i),configurable:!0}),t[o][r.wrapperSymbol]=t,l.init&&l.init(t[o],i),t),install(e){class n{constructor(){const t=[];{let e=arguments[0];if(void 0!==e)if(r.isObject(e))if(void 0!==e[Symbol.iterator]){if(!r.isObject(e))throw new TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence is not an iterable object.");{const t=[],n=e;for(let e of n){if(!r.isObject(e))throw new TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence's element is not an iterable object.");{const t=[],n=e;for(let e of n)e=i.USVString(e,{context:"Failed to construct 'URLSearchParams': parameter 1 sequence's element's element"}),t.push(e);e=t}t.push(e)}e=t}}else{if(!r.isObject(e))throw new TypeError("Failed to construct 'URLSearchParams': parameter 1 record is not an object.");{const t=Object.create(null);for(const n of Reflect.ownKeys(e)){const r=Object.getOwnPropertyDescriptor(e,n);if(r&&r.enumerable){let r=n;r=i.USVString(r,{context:"Failed to construct 'URLSearchParams': parameter 1 record's key"});let o=e[n];o=i.USVString(o,{context:"Failed to construct 'URLSearchParams': parameter 1 record's value"}),t[r]=o}}e=t}}else e=i.USVString(e,{context:"Failed to construct 'URLSearchParams': parameter 1"});else e="";t.push(e)}return u.setup(Object.create(new.target.prototype),e,t)}append(e,n){if(!this||!t.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<2)throw new TypeError("Failed to execute 'append' on 'URLSearchParams': 2 arguments required, but only "+arguments.length+" present.");const r=[];{let t=arguments[0];t=i.USVString(t,{context:"Failed to execute 'append' on 'URLSearchParams': parameter 1"}),r.push(t)}{let t=arguments[1];t=i.USVString(t,{context:"Failed to execute 'append' on 'URLSearchParams': parameter 2"}),r.push(t)}return this[o].append(...r)}delete(e){if(!this||!t.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<1)throw new TypeError("Failed to execute 'delete' on 'URLSearchParams': 1 argument required, but only "+arguments.length+" present.");const n=[];{let t=arguments[0];t=i.USVString(t,{context:"Failed to execute 'delete' on 'URLSearchParams': parameter 1"}),n.push(t)}return this[o].delete(...n)}get(e){if(!this||!t.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<1)throw new TypeError("Failed to execute 'get' on 'URLSearchParams': 1 argument required, but only "+arguments.length+" present.");const n=[];{let t=arguments[0];t=i.USVString(t,{context:"Failed to execute 'get' on 'URLSearchParams': parameter 1"}),n.push(t)}return this[o].get(...n)}getAll(e){if(!this||!t.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<1)throw new TypeError("Failed to execute 'getAll' on 'URLSearchParams': 1 argument required, but only "+arguments.length+" present.");const n=[];{let t=arguments[0];t=i.USVString(t,{context:"Failed to execute 'getAll' on 'URLSearchParams': parameter 1"}),n.push(t)}return r.tryWrapperForImpl(this[o].getAll(...n))}has(e){if(!this||!t.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<1)throw new TypeError("Failed to execute 'has' on 'URLSearchParams': 1 argument required, but only "+arguments.length+" present.");const n=[];{let t=arguments[0];t=i.USVString(t,{context:"Failed to execute 'has' on 'URLSearchParams': parameter 1"}),n.push(t)}return this[o].has(...n)}set(e,n){if(!this||!t.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<2)throw new TypeError("Failed to execute 'set' on 'URLSearchParams': 2 arguments required, but only "+arguments.length+" present.");const r=[];{let t=arguments[0];t=i.USVString(t,{context:"Failed to execute 'set' on 'URLSearchParams': parameter 1"}),r.push(t)}{let t=arguments[1];t=i.USVString(t,{context:"Failed to execute 'set' on 'URLSearchParams': parameter 2"}),r.push(t)}return this[o].set(...r)}sort(){if(!this||!t.exports.is(this))throw new TypeError("Illegal invocation");return this[o].sort()}toString(){if(!this||!t.exports.is(this))throw new TypeError("Illegal invocation");return this[o].toString()}keys(){if(!this||!t.exports.is(this))throw new TypeError("Illegal invocation");return t.exports.createDefaultIterator(this,"key")}values(){if(!this||!t.exports.is(this))throw new TypeError("Illegal invocation");return t.exports.createDefaultIterator(this,"value")}entries(){if(!this||!t.exports.is(this))throw new TypeError("Illegal invocation");return t.exports.createDefaultIterator(this,"key+value")}forEach(e){if(!this||!t.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<1)throw new TypeError("Failed to execute 'forEach' on 'iterable': 1 argument required, but only 0 present.");if("function"!=typeof e)throw new TypeError("Failed to execute 'forEach' on 'iterable': The callback provided as parameter 1 is not a function.");const n=arguments[1];let i=Array.from(this[o]),s=0;for(;s<i.length;){const[t,a]=i[s].map(r.tryWrapperForImpl);e.call(n,a,t,this),i=Array.from(this[o]),s++}}}Object.defineProperties(n.prototype,{append:{enumerable:!0},delete:{enumerable:!0},get:{enumerable:!0},getAll:{enumerable:!0},has:{enumerable:!0},set:{enumerable:!0},sort:{enumerable:!0},toString:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0},forEach:{enumerable:!0},[Symbol.toStringTag]:{value:"URLSearchParams",configurable:!0},[Symbol.iterator]:{value:n.prototype.entries,configurable:!0,writable:!0}}),void 0===e[s]&&(e[s]=Object.create(null)),e[s].URLSearchParams=n,Object.defineProperty(e,"URLSearchParams",{configurable:!0,writable:!0,value:n})}};t.exports=u;const l=n(291)},function(t,e,n){"use strict";const i=n(294),r=n(295),o=n(296);function s(){return!0}function a(t,e){return t[t.length-1-e]}class u{constructor(t){this.symbol=Symbol(t||"SymbolTree data")}initialize(t){return this._node(t),t}_node(t){if(!t)return null;const e=t[this.symbol];return e||(t[this.symbol]=new i)}hasChildren(t){return this._node(t).hasChildren}firstChild(t){return this._node(t).firstChild}lastChild(t){return this._node(t).lastChild}previousSibling(t){return this._node(t).previousSibling}nextSibling(t){return this._node(t).nextSibling}parent(t){return this._node(t).parent}lastInclusiveDescendant(t){let e,n=t;for(;e=this._node(n).lastChild;)n=e;return n}preceding(t,e){if(t===(e&&e.root))return null;const n=this._node(t).previousSibling;return n?this.lastInclusiveDescendant(n):this._node(t).parent}following(t,e){const n=e&&e.root,i=!(e&&e.skipChildren)&&this._node(t).firstChild;if(i)return i;let r=t;do{if(r===n)return null;const t=this._node(r).nextSibling;if(t)return t;r=this._node(r).parent}while(r);return null}childrenToArray(t,e){const n=e&&e.array||[],i=e&&e.filter||s,r=e&&e.thisArg||void 0,o=this._node(t);let a=o.firstChild,u=0;for(;a;){const t=this._node(a);t.setCachedIndex(o,u),i.call(r,a)&&n.push(a),a=t.nextSibling,++u}return n}ancestorsToArray(t,e){const n=e&&e.array||[],i=e&&e.filter||s,r=e&&e.thisArg||void 0;let o=t;for(;o;)i.call(r,o)&&n.push(o),o=this._node(o).parent;return n}treeToArray(t,e){const n=e&&e.array||[],i=e&&e.filter||s,r=e&&e.thisArg||void 0;let o=t;for(;o;)i.call(r,o)&&n.push(o),o=this.following(o,{root:t});return n}childrenIterator(t,e){const n=e&&e.reverse,i=this._node(t);return new o(this,t,n?i.lastChild:i.firstChild,n?o.PREV:o.NEXT)}previousSiblingsIterator(t){return new o(this,t,this._node(t).previousSibling,o.PREV)}nextSiblingsIterator(t){return new o(this,t,this._node(t).nextSibling,o.NEXT)}ancestorsIterator(t){return new o(this,t,t,o.PARENT)}treeIterator(t,e){const n=e&&e.reverse;return new o(this,t,n?this.lastInclusiveDescendant(t):t,n?o.PRECEDING:o.FOLLOWING)}index(t){const e=this._node(t),n=this._node(e.parent);if(!n)return-1;let i=e.getCachedIndex(n);if(i>=0)return i;i=0;let r=n.firstChild;if(n.childIndexCachedUpTo){const t=this._node(n.childIndexCachedUpTo);r=t.nextSibling,i=t.getCachedIndex(n)+1}for(;r;){const e=this._node(r);if(e.setCachedIndex(n,i),r===t)break;++i,r=e.nextSibling}return n.childIndexCachedUpTo=t,i}childrenCount(t){const e=this._node(t);return e.lastChild?this.index(e.lastChild)+1:0}compareTreePosition(t,e){if(t===e)return 0;const n=[];{let i=t;for(;i;){if(i===e)return r.CONTAINS|r.PRECEDING;n.push(i),i=this.parent(i)}}const i=[];{let n=e;for(;n;){if(n===t)return r.CONTAINED_BY|r.FOLLOWING;i.push(n),n=this.parent(n)}}const o=a(n,0);if(!o||o!==a(i,0))return r.DISCONNECTED;let s=0;const u=Math.min(n.length,i.length);for(let t=0;t<u;++t){if(a(n,t)!==a(i,t))break;s=t}const l=this.index(a(n,s+1));return this.index(a(i,s+1))<l?r.PRECEDING:r.FOLLOWING}remove(t){const e=this._node(t),n=this._node(e.parent),i=this._node(e.previousSibling),r=this._node(e.nextSibling);return n&&(n.firstChild===t&&(n.firstChild=e.nextSibling),n.lastChild===t&&(n.lastChild=e.previousSibling)),i&&(i.nextSibling=e.nextSibling),r&&(r.previousSibling=e.previousSibling),e.parent=null,e.previousSibling=null,e.nextSibling=null,e.cachedIndex=-1,e.cachedIndexVersion=NaN,n&&n.childrenChanged(),t}insertBefore(t,e){const n=this._node(t),i=this._node(n.previousSibling),r=this._node(e),o=this._node(n.parent);if(r.isAttached)throw Error("Given object is already present in this SymbolTree, remove it first");return r.parent=n.parent,r.previousSibling=n.previousSibling,r.nextSibling=t,n.previousSibling=e,i&&(i.nextSibling=e),o&&o.firstChild===t&&(o.firstChild=e),o&&o.childrenChanged(),e}insertAfter(t,e){const n=this._node(t),i=this._node(n.nextSibling),r=this._node(e),o=this._node(n.parent);if(r.isAttached)throw Error("Given object is already present in this SymbolTree, remove it first");return r.parent=n.parent,r.previousSibling=t,r.nextSibling=n.nextSibling,n.nextSibling=e,i&&(i.previousSibling=e),o&&o.lastChild===t&&(o.lastChild=e),o&&o.childrenChanged(),e}prependChild(t,e){const n=this._node(t),i=this._node(e);if(i.isAttached)throw Error("Given object is already present in this SymbolTree, remove it first");return n.hasChildren?this.insertBefore(n.firstChild,e):(i.parent=t,n.firstChild=e,n.lastChild=e,n.childrenChanged()),e}appendChild(t,e){const n=this._node(t),i=this._node(e);if(i.isAttached)throw Error("Given object is already present in this SymbolTree, remove it first");return n.hasChildren?this.insertAfter(n.lastChild,e):(i.parent=t,n.firstChild=e,n.lastChild=e,n.childrenChanged()),e}}t.exports=u,u.TreePosition=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={getVector:function(t){return{x:t[1].x-t[0].x,y:t[1].y-t[0].y}},getDot:function(t,e){return t.x*e.x+t.y*e.y},getLen:function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},getCos:function(t,e){return this.getLen(t)*this.getLen(e)==0?1:this.getDot(t,e)/(this.getLen(t)*this.getLen(e))},getCross:function(t,e){return t.x*e.y-t.y*e.x},getAngle:function(t,e){return Math.acos(this.getCos(this.getVector(t),this.getVector(e)))},getDegree:function(t,e){return 180*this.getAngle(t,e)/Math.PI},getRotateAngle:function(t,e){var n=this.getVector(t),i=this.getVector(e),r=this.getCos(n,i),o=Math.acos(r);return this.getCross(n,i)<0?2*Math.PI-o:o},getRotateDegree:function(t,e){return 180*this.getRotateAngle(t,e)/Math.PI}}},function(t,e,n){"use strict";n.r(e);var i=n(0);n.d(e,"helpers",(function(){return i})),n.d(e,"point",(function(){return i.point})),n.d(e,"polygon",(function(){return i.polygon})),n.d(e,"lineString",(function(){return i.lineString})),n.d(e,"multiPoint",(function(){return i.multiPoint})),n.d(e,"multiPolygon",(function(){return i.multiPolygon})),n.d(e,"multiLineString",(function(){return i.multiLineString})),n.d(e,"feature",(function(){return i.feature})),n.d(e,"geometry",(function(){return i.geometry})),n.d(e,"featureCollection",(function(){return i.featureCollection})),n.d(e,"geometryCollection",(function(){return i.geometryCollection})),n.d(e,"radiansToDistance",(function(){return i.radiansToDistance})),n.d(e,"distanceToRadians",(function(){return i.distanceToRadians})),n.d(e,"distanceToDegrees",(function(){return i.distanceToDegrees})),n.d(e,"radians2degrees",(function(){return i.radians2degrees})),n.d(e,"degrees2radians",(function(){return i.degrees2radians})),n.d(e,"round",(function(){return i.round})),n.d(e,"convertDistance",(function(){return i.convertDistance})),n.d(e,"convertArea",(function(){return i.convertArea})),n.d(e,"bearingToAngle",(function(){return i.bearingToAngle})),n.d(e,"isNumber",(function(){return i.isNumber}));var r=n(2);n.d(e,"invariant",(function(){return r})),n.d(e,"getCoord",(function(){return r.getCoord})),n.d(e,"getCoords",(function(){return r.getCoords})),n.d(e,"getGeom",(function(){return r.getGeom})),n.d(e,"getGeomType",(function(){return r.getGeomType})),n.d(e,"geojsonType",(function(){return r.geojsonType})),n.d(e,"featureOf",(function(){return r.featureOf})),n.d(e,"collectionOf",(function(){return r.collectionOf})),n.d(e,"containsNumber",(function(){return r.containsNumber}));var o=n(1);n.d(e,"meta",(function(){return o})),n.d(e,"coordEach",(function(){return o.coordEach})),n.d(e,"coordReduce",(function(){return o.coordReduce})),n.d(e,"propEach",(function(){return o.propEach})),n.d(e,"propReduce",(function(){return o.propReduce})),n.d(e,"featureEach",(function(){return o.featureEach})),n.d(e,"coordAll",(function(){return o.coordAll})),n.d(e,"geomEach",(function(){return o.geomEach})),n.d(e,"flattenEach",(function(){return o.flattenEach})),n.d(e,"flattenReduce",(function(){return o.flattenReduce})),n.d(e,"featureReduce",(function(){return o.featureReduce})),n.d(e,"geomReduce",(function(){return o.geomReduce})),n.d(e,"segmentEach",(function(){return o.segmentEach})),n.d(e,"segmentReduce",(function(){return o.segmentReduce})),n.d(e,"lineEach",(function(){return o.lineEach})),n.d(e,"lineReduce",(function(){return o.lineReduce}));var s=n(140);n.d(e,"isolines",(function(){return s}));var a=n(93);n.d(e,"convex",(function(){return a}));var u=n(142);n.d(e,"within",(function(){return u}));var l=n(143);n.d(e,"concave",(function(){return l}));var c=n(144);n.d(e,"difference",(function(){return c}));var h=n(146);n.d(e,"dissolve",(function(){return h}));var f=n(156);n.d(e,"collect",(function(){return f}));var d=n(157);n.d(e,"flip",(function(){return d}));var p=n(158);n.d(e,"simplify",(function(){return p}));var g=n(159);n.d(e,"bezier",(function(){return g}));var v=n(160);n.d(e,"tag",(function(){return v}));var m=n(161);n.d(e,"sample",(function(){return m}));var y=n(101);n.d(e,"envelope",(function(){return y}));var x=n(162);n.d(e,"square",(function(){return x}));var E=n(66);n.d(e,"circle",(function(){return E}));var b=n(163);n.d(e,"midpoint",(function(){return b}));var C=n(164);n.d(e,"buffer",(function(){return C}));var w=n(67);n.d(e,"center",(function(){return w}));var _=n(167);n.d(e,"centerOfMass",(function(){return _}));var A=n(36);n.d(e,"centroid",(function(){return A}));var S=n(168);n.d(e,"combine",(function(){return S}));var D=n(5);n.d(e,"distance",(function(){return D}));var L=n(68);n.d(e,"explode",(function(){return L}));var F=n(6);n.d(e,"bbox",(function(){return F}));var T=n(169);n.d(e,"tesselate",(function(){return T}));var M=n(102);n.d(e,"bboxPolygon",(function(){return M}));var I=n(7);n.d(e,"inside",(function(){return I}));var P=n(170);n.d(e,"intersect",(function(){return P}));var O=n(171);n.d(e,"nearest",(function(){return O}));var B=n(172);n.d(e,"planepoint",(function(){return B}));var N=n(173);n.d(e,"random",(function(){return N}));var k=n(95);n.d(e,"tin",(function(){return k}));var R=n(64);n.d(e,"union",(function(){return R}));var j=n(28);n.d(e,"bearing",(function(){return j}));var V=n(22);n.d(e,"destination",(function(){return V}));var G=n(174);n.d(e,"kinks",(function(){return G}));var z=n(175);n.d(e,"pointOnSurface",(function(){return z}));var q=n(96);n.d(e,"area",(function(){return q}));var U=n(176);n.d(e,"along",(function(){return U}));var X=n(103);n.d(e,"lineDistance",(function(){return X}));var H=n(177);n.d(e,"lineSlice",(function(){return H}));var Y=n(104);n.d(e,"lineSliceAlong",(function(){return Y}));var W=n(47);n.d(e,"pointOnLine",(function(){return W}));var J=n(178);n.d(e,"pointGrid",(function(){return J}));var K=n(105);n.d(e,"squareGrid",(function(){return K}));var Z=n(179);n.d(e,"triangleGrid",(function(){return Z}));var $=n(180);n.d(e,"hexGrid",(function(){return $}));var Q=n(181);n.d(e,"idw",(function(){return Q}));var tt=n(69);n.d(e,"truncate",(function(){return tt}));var et=n(106);n.d(e,"flatten",(function(){return et}));var nt=n(29);n.d(e,"lineIntersect",(function(){return nt}));var it=n(182);n.d(e,"mask",(function(){return it}));var rt=n(183);n.d(e,"lineChunk",(function(){return rt}));var ot=n(184);n.d(e,"unkinkPolygon",(function(){return ot}));var st=n(187);n.d(e,"greatCircle",(function(){return st}));var at=n(46);n.d(e,"lineSegment",(function(){return at}));var ut=n(188);n.d(e,"lineSplit",(function(){return ut}));var lt=n(107);n.d(e,"lineArc",(function(){return lt}));var ct=n(71);n.d(e,"polygonToLineString",(function(){return ct}));var ht=n(189);n.d(e,"lineStringToPolygon",(function(){return ht}));var ft=n(190);n.d(e,"bboxClip",(function(){return ft}));var dt=n(97);n.d(e,"lineOverlap",(function(){return dt}));var pt=n(191);n.d(e,"sector",(function(){return pt}));var gt=n(49);n.d(e,"rhumbBearing",(function(){return gt}));var vt=n(51);n.d(e,"rhumbDistance",(function(){return vt}));var mt=n(52);n.d(e,"rhumbDestination",(function(){return mt}));var yt=n(193);n.d(e,"polygonTangents",(function(){return yt}));var xt=n(194);n.d(e,"rewind",(function(){return xt}));var Et=n(195);n.d(e,"isobands",(function(){return Et}));var bt=n(197);n.d(e,"transformRotate",(function(){return bt}));var Ct=n(198);n.d(e,"transformScale",(function(){return Ct}));var wt=n(199);n.d(e,"transformTranslate",(function(){return wt}));var _t=n(200);n.d(e,"lineOffset",(function(){return _t}));var At=n(201);n.d(e,"polygonize",(function(){return At}));var St=n(203);n.d(e,"booleanDisjoint",(function(){return St}));var Dt=n(204);n.d(e,"booleanContains",(function(){return Dt}));var Lt=n(205);n.d(e,"booleanCrosses",(function(){return Lt}));var Ft=n(110);n.d(e,"booleanClockwise",(function(){return Ft}));var Tt=n(206);n.d(e,"booleanEqual",(function(){return Tt}));var Mt=n(207);n.d(e,"booleanWithin",(function(){return Mt}));var It=n(48);n.d(e,"clone",(function(){return It}));var Pt=n(65);n.d(e,"cleanCoords",(function(){return Pt}));var Ot=n(208);n.d(e,"pointToLineDistance",(function(){return Ot}))},function(t,e,n){var i=n(6),r=n(1),o=n(0),s=n(2),a=n(313),u=n(314),l=o.multiLineString,c=r.coordEach,h=s.collectionOf,f=o.featureCollection;t.exports=function(t,e,n,r,o){if(n=n||"elevation",r=r||{},o=o||[],h(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks must be an Array");if(!(s=r)||s.constructor!==Object)throw new Error("propertiesToAllIsolines must be an Object");var s;if(!Array.isArray(o))throw new Error("propertiesPerIsoline must be an Array");if("string"!=typeof n)throw new Error("zProperty must be a string");var d=a(t,n,!0),p=function(t,e,n){var r=i(n),o=r[2]-r[0],s=r[3]-r[1],a=r[0],u=r[1],l=e[0].length-1,h=e.length-1,f=o/l,d=s/h,p=function(t){t[0]=t[0]*f+a,t[1]=t[1]*d+u};return t.forEach((function(t){c(t,p)})),t}(function(t,e,n,i,r){for(var o=[],s=1;s<e.length;s++){var a=+e[s],c=Object.assign({},i,r[s]);c[n]=a;var h=l(u.isoContours(t,a),c);o.push(h)}return o}(d,e,n,r,o),d,t);return f(p)}},function(t,e,n){"use strict";t.exports=function(t,e,n){var r=t*e,o=i*t,s=o-(o-t),a=t-s,u=i*e,l=u-(u-e),c=e-l,h=a*c-(r-s*l-a*l-s*c);if(n)return n[0]=h,n[1]=r,n;return[h,r]};var i=+(Math.pow(2,27)+1)},function(t,e,n){var i=n(7),r=n(0).featureCollection;t.exports=function(t,e){for(var n=r([]),o=0;o<e.features.length;o++)for(var s=0;s<t.features.length;s++){i(t.features[s],e.features[o])&&n.features.push(t.features[s])}return n}},function(t,e,n){var i=n(95),r=n(0),o=n(5),s=n(331),a=n(1).featureEach,u=r.feature,l=r.featureCollection;t.exports=function(t,e,n){if(!t)throw new Error("points is required");if(null==e)throw new Error("maxEdge is required");if("number"!=typeof e)throw new Error("invalid maxEdge");var r=function(t){var e=[],n={};return a(t,(function(t){if(t.geometry){var i=t.geometry.coordinates.join("-");n.hasOwnProperty(i)||(e.push(t),n[i]=!0)}})),l(e)}(t),c=i(r);if(c.features=c.features.filter((function(t){var i=t.geometry.coordinates[0][0],r=t.geometry.coordinates[0][1],s=t.geometry.coordinates[0][2],a=o(i,r,n),u=o(r,s,n),l=o(i,s,n);return a<=e&&u<=e&&l<=e})),c.features.length<1)throw new Error("too few polygons found to compute concave hull");var h=s(c.features);return 1===h.coordinates.length&&(h.coordinates=h.coordinates[0],h.type="Polygon"),u(h)}},function(t,e,n){var i=n(63),r=n(96),o=n(0).feature,s=n(2).getGeom,a=n(1).flattenEach;function u(t){switch(t.type){case"Polygon":return r(t)>1?t:null;case"MultiPolygon":var e=[];if(a(t,(function(t){r(t)>1&&e.push(t.geometry.coordinates)})),e.length)return{type:"MultiPolygon",coordinates:e}}}t.exports=function(t,e){var n=s(t),r=s(e),a=t.properties||{};if(n=u(n),r=u(r),!n)return null;if(!r)return o(n,a);var l=new i.io.GeoJSONReader,c=l.read(n),h=l.read(r),f=c.difference(h);if(f.isEmpty())return null;var d=(new i.io.GeoJSONWriter).write(f);return o(d,a)}},function(t,e,n){var i=n(334);function r(t){var e=0;if(t&&t.length>0){e+=Math.abs(o(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(o(t[n]))}return e}function o(t){var e,n,r,o,a,u,l=0,c=t.length;if(c>2){for(u=0;u<c;u++)u===c-2?(r=c-2,o=c-1,a=0):u===c-1?(r=c-1,o=0,a=1):(r=u,o=u+1,a=u+2),e=t[r],n=t[o],l+=(s(t[a][0])-s(e[0]))*Math.sin(s(n[1]));l=l*i.RADIUS*i.RADIUS/2}return l}function s(t){return t*Math.PI/180}t.exports.geometry=function t(e){var n,i=0;switch(e.type){case"Polygon":return r(e.coordinates);case"MultiPolygon":for(n=0;n<e.coordinates.length;n++)i+=r(e.coordinates[n]);return i;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(n=0;n<e.geometries.length;n++)i+=t(e.geometries[n]);return i}},t.exports.ring=o},function(t,e,n){var i=n(64),r=n(335),o=n(6),s=n(35),a=n(350),u=n(351);function l(t){if(null==t)throw new Error("No polygon was passed");t.geometry.type="LineString";var e=[].concat.apply([],t.geometry.coordinates);return t.geometry.coordinates=e,t}t.exports=function(t,e){for(var n=[],c=[],h=new s,f=0;f<t.features.length;f++){var d=o(t.features[f]),p={minX:d[0],minY:d[1],maxX:d[2],maxY:d[3],origIndexPosition:f};c.push(p)}h.load(c);for(var g=0;g<t.features.length;g++){for(var v=t.features[g],m=o(v),y={minX:m[0],minY:m[1],maxX:m[2],maxY:m[3]},x=h.search(y),E=!1,b=0;b<x.length;b++){v=t.features[g];var C=x[b].origIndexPosition;if(n.length>0&&0!==C)if(C>n[n.length-1])C-=n.length;else{var w=u.greaterNumber(C,n);0!==w&&(C-=w)}if(C!==g){var _=t.features[C];if(void 0===typeof e||_.properties[e]===v.properties[e]){var A=r(v,_);if(!A){var S=JSON.stringify(v),D=JSON.stringify(_),L=l(JSON.parse(S)),F=l(JSON.parse(D));A=a.lineStringsIntersect(L.geometry,F.geometry)}A&&(t.features[g]=i(v,_),n.push(x[b].origIndexPosition),n.sort((function(t,e){return t-e})),h.remove(x[b]),t.features.splice(C,1),y.origIndexPosition=g,h.remove(y,(function(t,e){return t.origIndexPosition===e.origIndexPosition})),E=!0)}}}if(E){var T=o(v);h.insert({minX:T[0],minY:T[1],maxX:T[2],maxY:T[3],origIndexPosition:g}),g--}}return t}},function(t,e,n){var i=n(148),r=n(337),o=n(338),s=n(344),a=n(346),u=n(348),l=Date.prototype.getTime;function c(t,e,n){var d=n||{};return!!(d.strict?o(t,e):t===e)||(!t||!e||"object"!=typeof t&&"object"!=typeof e?d.strict?o(t,e):t==e:function(t,e,n){var o,d;if(typeof t!=typeof e)return!1;if(h(t)||h(e))return!1;if(t.prototype!==e.prototype)return!1;if(r(t)!==r(e))return!1;var p=s(t),g=s(e);if(p!==g)return!1;if(p||g)return t.source===e.source&&a(t)===a(e);if(u(t)&&u(e))return l.call(t)===l.call(e);var v=f(t),m=f(e);if(v!==m)return!1;if(v||m){if(t.length!==e.length)return!1;for(o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}if(typeof t!=typeof e)return!1;try{var y=i(t),x=i(e)}catch(t){return!1}if(y.length!==x.length)return!1;for(y.sort(),x.sort(),o=y.length-1;o>=0;o--)if(y[o]!=x[o])return!1;for(o=y.length-1;o>=0;o--)if(d=y[o],!c(t[d],e[d],n))return!1;return!0}(t,e,d))}function h(t){return null==t}function f(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0]))}t.exports=c},function(t,e,n){"use strict";var i=Array.prototype.slice,r=n(149),o=Object.keys,s=o?function(t){return o(t)}:n(336),a=Object.keys;s.shim=function(){Object.keys?function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2)||(Object.keys=function(t){return r(t)?a(i.call(t)):a(t)}):Object.keys=s;return Object.keys||s},t.exports=s},function(t,e,n){"use strict";var i=Object.prototype.toString;t.exports=function(t){var e=i.call(t),n="[object Arguments]"===e;return n||(n="[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===i.call(t.callee)),n}},function(t,e,n){"use strict";var i=n(98),r=n(340)("%Function%"),o=r.apply,s=r.call;t.exports=function(){return i.apply(s,arguments)},t.exports.apply=function(){return i.apply(o,arguments)}},function(t,e,n){"use strict";var i=function(t){return t!=t};t.exports=function(t,e){return 0===t&&0===e?1/t==1/e:t===e||!(!i(t)||!i(e))}},function(t,e,n){"use strict";var i=n(151);t.exports=function(){return"function"==typeof Object.is?Object.is:i}},function(t,e,n){"use strict";var i=Object,r=TypeError;t.exports=function(){if(null!=this&&this!==i(this))throw new r("RegExp.prototype.flags getter called on non-object");var t="";return this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.sticky&&(t+="y"),t}},function(t,e,n){"use strict";var i=n(153),r=n(45).supportsDescriptors,o=Object.getOwnPropertyDescriptor,s=TypeError;t.exports=function(){if(!r)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var t=o(RegExp.prototype,"flags");if(t&&"function"==typeof t.get&&"boolean"==typeof/a/.dotAll)return t.get}return i}},function(t,e,n){var i=n(147),r=function(t){this.precision=t&&t.precision?t.precision:17,this.direction=!(!t||!t.direction)&&t.direction,this.pseudoNode=!(!t||!t.pseudoNode)&&t.pseudoNode,this.objectComparator=t&&t.objectComparator?t.objectComparator:a};function o(t){return t.coordinates.map((function(e){return{type:t.type.replace("Multi",""),coordinates:e}}))}function s(t,e){return t.hasOwnProperty("coordinates")?t.coordinates.length===e.coordinates.length:t.length===e.length}function a(t,e){return i(t,e,{strict:!0})}r.prototype.compare=function(t,e){if(t.type!==e.type||!s(t,e))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,e.coordinates);case"LineString":return this.compareLine(t.coordinates,e.coordinates,0,!1);case"Polygon":return this.comparePolygon(t,e);case"Feature":return this.compareFeature(t,e);default:if(0===t.type.indexOf("Multi")){var n=this,i=o(t),r=o(e);return i.every((function(t){return this.some((function(e){return n.compare(t,e)}))}),r)}}return!1},r.prototype.compareCoord=function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n].toFixed(this.precision)!==e[n].toFixed(this.precision))return!1;return!0},r.prototype.compareLine=function(t,e,n,i){if(!s(t,e))return!1;var r=this.pseudoNode?t:this.removePseudo(t),o=this.pseudoNode?e:this.removePseudo(e);if(!i||this.compareCoord(r[0],o[0])||(o=this.fixStartIndex(o,r))){var a=this.compareCoord(r[n],o[n]);return this.direction||a?this.comparePath(r,o):!!this.compareCoord(r[n],o[o.length-(1+n)])&&this.comparePath(r.slice().reverse(),o)}},r.prototype.fixStartIndex=function(t,e){for(var n,i=-1,r=0;r<t.length;r++)if(this.compareCoord(t[r],e[0])){i=r;break}return i>=0&&(n=[].concat(t.slice(i,t.length),t.slice(1,i+1))),n},r.prototype.comparePath=function(t,e){var n=this;return t.every((function(t,e){return n.compareCoord(t,this[e])}),e)},r.prototype.comparePolygon=function(t,e){if(this.compareLine(t.coordinates[0],e.coordinates[0],1,!0)){var n=t.coordinates.slice(1,t.coordinates.length),i=e.coordinates.slice(1,e.coordinates.length),r=this;return n.every((function(t){return this.some((function(e){return r.compareLine(t,e,1,!0)}))}),i)}return!1},r.prototype.compareFeature=function(t,e){return!(t.id!==e.id||!this.objectComparator(t.properties,e.properties)||!this.compareBBox(t,e))&&this.compare(t.geometry,e.geometry)},r.prototype.compareBBox=function(t,e){return!!(!t.bbox&&!e.bbox||t.bbox&&e.bbox&&this.compareCoord(t.bbox,e.bbox))},r.prototype.removePseudo=function(t){return t},t.exports=r},function(t,e,n){var i=n(6),r=n(7),o=n(35);t.exports=function(t,e,n,s){var a=o(6),u=e.features.map((function(t){return{minX:t.geometry.coordinates[0],minY:t.geometry.coordinates[1],maxX:t.geometry.coordinates[0],maxY:t.geometry.coordinates[1],property:t.properties[n]}}));return a.load(u),t.features.forEach((function(t){t.properties||(t.properties={});var e=i(t),n=a.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}),o=[];n.forEach((function(e){r({type:"Point",coordinates:[e.minX,e.minY]},t)&&o.push(e.property)})),t.properties[s]=o})),t}},function(t,e,n){var i=n(1).coordEach;t.exports=function(t,e){if(!t)throw new Error("geojson is required");return!1!==e&&void 0!==e||(t=JSON.parse(JSON.stringify(t))),i(t,(function(t){var e=t[0],n=t[1];t[0]=n,t[1]=e})),t}},function(t,e,n){var i=n(352),r=n(65),o=n(1).geomEach,s=n(48);function a(t,e,n){return i(t.map((function(t){return{x:t[0],y:t[1],z:t[2]}})),e,n).map((function(t){return t.z?[t.x,t.y,t.z]:[t.x,t.y]}))}function u(t,e,n){return t.map((function(t){var r=t.map((function(t){return{x:t[0],y:t[1]}}));if(r.length<4)throw new Error("invalid polygon");for(var o=i(r,e,n).map((function(t){return[t.x,t.y]}));!l(o);)o=i(r,e-=.01*e,n).map((function(t){return[t.x,t.y]}));return o[o.length-1][0]===o[0][0]&&o[o.length-1][1]===o[0][1]||o.push(o[0]),o}))}function l(t){return!(t.length<3)&&!(3===t.length&&t[2][0]===t[0][0]&&t[2][1]===t[0][1])}t.exports=function(t,e,n,i){if(!t)throw new Error("geojson is required");if(e&&e<0)throw new Error("invalid tolerance");return!0!==i&&(t=s(t)),o(t,(function(t){!function(t,e,n){var i=t.type;if("Point"===i||"MultiPoint"===i)return t;r(t,!0);var o=t.coordinates;switch(i){case"LineString":t.coordinates=a(o,e,n);break;case"MultiLineString":t.coordinates=o.map((function(t){return a(t,e,n)}));break;case"Polygon":t.coordinates=u(o,e,n);break;case"MultiPolygon":t.coordinates=o.map((function(t){return u(t,e,n)}))}}(t,e,n)})),t}},function(t,e,n){var i=n(0).lineString,r=n(353);t.exports=function(t,e,n){for(var o=[],s=new r({points:t.geometry.coordinates.map((function(t){return{x:t[0],y:t[1]}})),duration:e,sharpness:n}),a=0;a<s.duration;a+=10){var u=s.pos(a);Math.floor(a/100)%2==0&&o.push([u.x,u.y])}return i(o,t.properties)}},function(t,e,n){var i=n(7);t.exports=function(t,e,n,r){return t=JSON.parse(JSON.stringify(t)),e=JSON.parse(JSON.stringify(e)),t.features.forEach((function(t){t.properties||(t.properties={}),e.features.forEach((function(e){void 0===t.properties[r]&&(i(t,e)&&(t.properties[r]=e.properties[n]))}))})),t}},function(t,e,n){var i=n(0).featureCollection;t.exports=function(t,e){return i(function(t,e){var n,i,r=t.slice(0),o=t.length,s=o-e;for(;o-- >s;)i=Math.floor((o+1)*Math.random()),n=r[i],r[i]=r[o],r[o]=n;return r.slice(s)}(t.features,e))}},function(t,e,n){var i=n(5);t.exports=function(t){var e=t[0],n=t[1],r=t[2],o=t[3];if(i(t.slice(0,2),[r,n])>=i(t.slice(0,2),[e,o])){var s=(n+o)/2;return[e,s-(r-e)/2,r,s+(r-e)/2]}var a=(e+r)/2;return[a-(o-n)/2,n,a+(o-n)/2,o]}},function(t,e,n){var i=n(28),r=n(22),o=n(5);t.exports=function(t,e){var n=o(t,e,"miles"),s=i(t,e);return r(t,n/2,s,"miles")}},function(t,e,n){var i=n(387),r=n(63),o=n(165),s=n(354),a=n(166),u=n(6),l=n(356),c=l.toWgs84,h=a.feature,f=o.geomEach,d=l.toMercator,p=o.featureEach,g=a.featureCollection,v=a.radiansToDistance,m=a.distanceToRadians;function y(t,e,n,o){var a,l=t.properties||{},p="Feature"===t.type?t.geometry:t;if("GeometryCollection"===p.type){var b=[];return f(t,(function(t){var i=y(t,e,n,o);i&&b.push(i)})),g(b)}var C=u(t),w=C[1]>50&&C[3]>50;if(w){var _=function(t){var e=s(t).geometry.coordinates.reverse(),n=e.map((function(t){return-t}));return i.geoTransverseMercator().center(e).rotate(n).scale(6373e3)}(p);a={type:p.type,coordinates:x(p.coordinates,_)}}else a=d(p);var A,S=(new r.io.GeoJSONReader).read(a),D=v(m(e,n),"meters"),L=S.buffer(D);if(!function t(e){return Array.isArray(e[0])?t(e[0]):isNaN(e[0])}((L=(new r.io.GeoJSONWriter).write(L)).coordinates))return(A=w?{type:L.type,coordinates:E(L.coordinates,_)}:c(L)).geometry?A:h(A,l)}function x(t,e){return"object"!=typeof t[0]?e(t):t.map((function(t){return x(t,e)}))}function E(t,e){return"object"!=typeof t[0]?e.invert(t):t.map((function(t){return E(t,e)}))}t.exports=function(t,e,n,i){if(!t)throw new Error("geojson is required");if(void 0===e)throw new Error("radius is required");if(i<=0)throw new Error("steps must be greater than 0");i=i||64,n=n||"kilometers";var r=[];switch(t.type){case"GeometryCollection":return f(t,(function(t){var o=y(t,e,n,i);o&&r.push(o)})),g(r);case"FeatureCollection":return p(t,(function(t){var o=y(t,e,n,i);o&&p(o,(function(t){t&&r.push(t)}))})),g(r)}return y(t,e,n,i)}},function(t,e){function n(t,e,i){if(null!==t){var r,o,s,a,u,l,c,h,f,d,p=0,g=0,v=t.type,m="FeatureCollection"===v,y="Feature"===v,x=m?t.features.length:1;for(r=0;r<x;r++){var E=0;for(c=(d=!!(f=m?t.features[r].geometry:y?t.geometry:t)&&"GeometryCollection"===f.type)?f.geometries.length:1,o=0;o<c;o++)if(null!==(l=d?f.geometries[o]:f)){h=l.coordinates;var b=l.type;switch(p=!i||"Polygon"!==b&&"MultiPolygon"!==b?0:1,b){case null:break;case"Point":e(h,g,r,E),g++,E++;break;case"LineString":case"MultiPoint":for(s=0;s<h.length;s++)e(h[s],g,r,E),g++,E++;break;case"Polygon":case"MultiLineString":for(s=0;s<h.length;s++)for(a=0;a<h[s].length-p;a++)e(h[s][a],g,r,E),g++,E++;break;case"MultiPolygon":for(s=0;s<h.length;s++)for(a=0;a<h[s].length;a++)for(u=0;u<h[s][a].length-p;u++)e(h[s][a][u],g,r,E),g++,E++;break;case"GeometryCollection":for(s=0;s<l.geometries.length;s++)n(l.geometries[s],e,i);break;default:throw new Error("Unknown Geometry Type")}}}}}function i(t,e,i,r){var o=i;return n(t,(function(t,n,r,s){o=0===n&&void 0===i?t:e(o,t,n,r,s)}),r),o}function r(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length;n++)e(t.features[n].properties,n);break;case"Feature":e(t.properties,0)}}function o(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)e(t.features[n],n)}function s(t,e){var n,i,r,o,s,a,u,l,c=0,h="FeatureCollection"===t.type,f="Feature"===t.type,d=h?t.features.length:1;for(n=0;n<d;n++)for(a=h?t.features[n].geometry:f?t.geometry:t,l=h?t.features[n].properties:f?t.properties:{},s=(u=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,r=0;r<s;r++)if(null!==(o=u?a.geometries[r]:a))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":e(o,c,l),c++;break;case"GeometryCollection":for(i=0;i<o.geometries.length;i++)e(o.geometries[i],c,l),c++;break;default:throw new Error("Unknown Geometry Type")}else e(null,c,l),c++}function a(t,e){s(t,(function(t,n,i){var r,o=null===t?null:t.type;switch(o){case null:case"Point":case"LineString":case"Polygon":return void e(l(t,i),n,0)}switch(o){case"MultiPoint":r="Point";break;case"MultiLineString":r="LineString";break;case"MultiPolygon":r="Polygon"}t.coordinates.forEach((function(t,o){e(l({type:r,coordinates:t},i),n,o)}))}))}function u(t,e){a(t,(function(t,n){var r=0;if(t.geometry){var o=t.geometry.type;"Point"!==o&&"MultiPoint"!==o&&i(t,(function(i,o){var s=function(t,e){if(!t)throw new Error("No coordinates passed");if(t.length<2)throw new Error("Coordinates must be an array of two or more positions");return{type:"Feature",properties:e||{},geometry:{type:"LineString",coordinates:t}}}([i,o],t.properties);return e(s,n,r),r++,o}))}}))}function l(t,e){if(void 0===t)throw new Error("No geometry passed");return{type:"Feature",properties:e||{},geometry:t}}function c(t,e){if(!t)throw new Error("geojson is required");var n=t.geometry?t.geometry.type:t.type;if(!n)throw new Error("invalid geojson");if("FeatureCollection"===n)throw new Error("FeatureCollection is not supported");if("GeometryCollection"===n)throw new Error("GeometryCollection is not supported");var i=t.geometry?t.geometry.coordinates:t.coordinates;if(!i)throw new Error("geojson must contain coordinates");switch(n){case"LineString":return void e(i,0,0);case"Polygon":case"MultiLineString":for(var r=0,o=0;o<i.length;o++)"MultiLineString"===n&&(r=o),e(i[o],o,r);return;case"MultiPolygon":for(var s=0;s<i.length;s++)for(var a=0;a<i[s].length;a++)e(i[s][a],a,s);return;default:throw new Error(n+" geometry not supported")}}t.exports={coordEach:n,coordReduce:i,propEach:r,propReduce:function(t,e,n){var i=n;return r(t,(function(t,r){i=0===r&&void 0===n?t:e(i,t,r)})),i},featureEach:o,featureReduce:function(t,e,n){var i=n;return o(t,(function(t,r){i=0===r&&void 0===n?t:e(i,t,r)})),i},coordAll:function(t){var e=[];return n(t,(function(t){e.push(t)})),e},geomEach:s,geomReduce:function(t,e,n){var i=n;return s(t,(function(t,r,o){i=0===r&&void 0===n?t:e(i,t,r,o)})),i},flattenEach:a,flattenReduce:function(t,e,n){var i=n;return a(t,(function(t,r,o){i=0===r&&0===o&&void 0===n?t:e(i,t,r,o)})),i},segmentEach:u,segmentReduce:function(t,e,n){var i=n;return u(t,(function(t,r,o){i=0===r&&void 0===n?t:e(i,t,r,o)})),i},lineEach:c,lineReduce:function(t,e,n){var i=n;return c(t,(function(t,r,o){i=0===r&&void 0===n?t:e(i,t,r,o)})),i}}},function(t,e){function n(t,e,n,i){if(void 0===t)throw new Error("geometry is required");if(e&&e.constructor!==Object)throw new Error("properties must be an Object");if(n&&4!==n.length)throw new Error("bbox must be an Array of 4 numbers");if(i&&-1===["string","number"].indexOf(typeof i))throw new Error("id must be a number or a string");var r={type:"Feature"};return i&&(r.id=i),n&&(r.bbox=n),r.properties=e||{},r.geometry=t,r}function i(t,e,i,r){if(!t)throw new Error("No coordinates passed");if(void 0===t.length)throw new Error("Coordinates must be an array");if(t.length<2)throw new Error("Coordinates must be at least 2 numbers long");if(!p(t[0])||!p(t[1]))throw new Error("Coordinates must contain numbers");return n({type:"Point",coordinates:t},e,i,r)}function r(t,e,i,r){if(!t)throw new Error("No coordinates passed");for(var o=0;o<t.length;o++){var s=t[o];if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<s[s.length-1].length;a++){if(0===o&&0===a&&!p(s[0][0])||!p(s[0][1]))throw new Error("Coordinates must contain numbers");if(s[s.length-1][a]!==s[0][a])throw new Error("First and last Position are not equivalent.")}}return n({type:"Polygon",coordinates:t},e,i,r)}function o(t,e,i,r){if(!t)throw new Error("No coordinates passed");if(t.length<2)throw new Error("Coordinates must be an array of two or more positions");if(!p(t[0][1])||!p(t[0][1]))throw new Error("Coordinates must contain numbers");return n({type:"LineString",coordinates:t},e,i,r)}function s(t,e,i,r){if(!t)throw new Error("No coordinates passed");return n({type:"MultiLineString",coordinates:t},e,i,r)}function a(t,e,i,r){if(!t)throw new Error("No coordinates passed");return n({type:"MultiPoint",coordinates:t},e,i,r)}function u(t,e,i,r){if(!t)throw new Error("No coordinates passed");return n({type:"MultiPolygon",coordinates:t},e,i,r)}var l={miles:3960,nauticalmiles:3441.145,degrees:57.2957795,radians:1,inches:250905600,yards:6969600,meters:6373e3,metres:6373e3,centimeters:6373e5,centimetres:6373e5,kilometers:6373,kilometres:6373,feet:20908792.65},c={kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,centimetres:1e4,millimeter:1e6,acres:247105e-9,miles:386e-9,yards:1.195990046,feet:10.763910417,inches:1550.003100006};function h(t,e){if(null==t)throw new Error("radians is required");var n=l[e||"kilometers"];if(!n)throw new Error("units is invalid");return t*n}function f(t,e){if(null==t)throw new Error("distance is required");var n=l[e||"kilometers"];if(!n)throw new Error("units is invalid");return t/n}function d(t){if(null==t)throw new Error("radians is required");return 180*(t%(2*Math.PI))/Math.PI}function p(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}t.exports={feature:n,geometry:function(t,e,n){if(!t)throw new Error("type is required");if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(n&&4!==n.length)throw new Error("bbox must be an Array of 4 numbers");var l;switch(t){case"Point":l=i(e).geometry;break;case"LineString":l=o(e).geometry;break;case"Polygon":l=r(e).geometry;break;case"MultiPoint":l=a(e).geometry;break;case"MultiLineString":l=s(e).geometry;break;case"MultiPolygon":l=u(e).geometry;break;default:throw new Error(t+" is invalid")}return n&&(l.bbox=n),l},featureCollection:function(t,e,n){if(!t)throw new Error("No features passed");if(!Array.isArray(t))throw new Error("features must be an Array");if(e&&4!==e.length)throw new Error("bbox must be an Array of 4 numbers");if(n&&-1===["string","number"].indexOf(typeof n))throw new Error("id must be a number or a string");var i={type:"FeatureCollection"};return n&&(i.id=n),e&&(i.bbox=e),i.features=t,i},geometryCollection:function(t,e,i,r){if(!t)throw new Error("geometries is required");if(!Array.isArray(t))throw new Error("geometries must be an Array");return n({type:"GeometryCollection",geometries:t},e,i,r)},point:i,multiPoint:a,lineString:o,multiLineString:s,polygon:r,multiPolygon:u,radiansToDistance:h,distanceToRadians:f,distanceToDegrees:function(t,e){return d(f(t,e))},radians2degrees:d,degrees2radians:function(t){if(null==t)throw new Error("degrees is required");return t%360*Math.PI/180},bearingToAngle:function(t){if(null==t)throw new Error("bearing is required");var e=t%360;return e<0&&(e+=360),e},convertDistance:function(t,e,n){if(null==t)throw new Error("distance is required");if(!(t>=0))throw new Error("distance must be a positive number");return h(f(t,e),n||"kilometers")},convertArea:function(t,e,n){if(null==t)throw new Error("area is required");if(!(t>=0))throw new Error("area must be a positive number");var i=c[e||"meters"];if(!i)throw new Error("invalid original units");var r=c[n||"kilometers"];if(!r)throw new Error("invalid final units");return t/i*r},round:function(t,e){if(null==t||isNaN(t))throw new Error("num is required");if(e&&!(e>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n},isNumber:p}},function(t,e,n){var i=n(0).point,r=n(93),o=n(68),s=n(36),a=n(2).getCoord,u=n(1).coordEach;t.exports=function t(e,n){switch(e.geometry?e.geometry.type:e.type){case"Point":return i(a(e),n);case"Polygon":var l=[];u(e,(function(t){l.push(t)}));var c,h,f,d,p,g,v,m,y=s(e,n),x=y.geometry.coordinates,E=0,b=0,C=0,w=l.map((function(t){return[t[0]-x[0],t[1]-x[1]]}));for(c=0;c<l.length-1;c++)d=(h=w[c])[0],g=h[1],p=(f=w[c+1])[0],C+=m=d*(v=f[1])-p*g,E+=(d+p)*m,b+=(g+v)*m;if(0===C)return y;var _=1/(6*(.5*C));return i([x[0]+_*E,x[1]+_*b],n);default:var A=r(o(e));return A?t(A,n):s(e,n)}}},function(t,e,n){var i=n(1);t.exports=function(t){var e={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}},n=Object.keys(e).reduce((function(t,e){return t[e.replace("Multi","")]=e,t}),{});function r(t,n,i){i?e[n].coordinates=e[n].coordinates.concat(t.geometry.coordinates):e[n].coordinates.push(t.geometry.coordinates),e[n].properties.push(t.properties)}return i.featureEach(t,(function(t){t.geometry&&(e[t.geometry.type]?r(t,t.geometry.type,!0):n[t.geometry.type]&&r(t,n[t.geometry.type],!1))})),{type:"FeatureCollection",features:Object.keys(e).filter((function(t){return e[t].coordinates.length})).sort().map((function(t){return{type:"Feature",properties:{collectedProperties:e[t].properties},geometry:{type:t,coordinates:e[t].coordinates}}}))}}},function(t,e,n){var i=n(0).polygon,r=n(357);function o(t){var e=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},i=0,r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++)for(var s=0;s<e;s++)n.vertices.push(t[r][o][s]);r>0&&(i+=t[r-1].length,n.holes.push(i))}return n}(t),n=r(e.vertices,e.holes,2),o=[],s=[];n.forEach((function(t,i){var r=n[i];s.push([e.vertices[2*r],e.vertices[2*r+1]])}));for(var a=0;a<s.length;a+=3){var u=s.slice(a,a+3);u.push(s[a]),o.push(i([u]))}return o}t.exports=function(t){if(!t.geometry||"Polygon"!==t.geometry.type&&"MultiPolygon"!==t.geometry.type)throw new Error("input must be a Polygon or MultiPolygon");var e={type:"FeatureCollection",features:[]};return"Polygon"===t.geometry.type?e.features=o(t.geometry.coordinates):t.geometry.coordinates.forEach((function(t){e.features=e.features.concat(o(t))})),e}},function(t,e,n){var i=n(63),r=n(69),o=n(0).feature;t.exports=function(t,e){var n="Feature"===t.type?t.geometry:t,s="Feature"===e.type?e.geometry:e,a=new i.io.GeoJSONReader,u=a.read(r(n)),l=a.read(r(s)),c=u.intersection(l);if(c.isEmpty())return null;var h=(new i.io.GeoJSONWriter).write(c);return o(h)}},function(t,e,n){var i=n(5);t.exports=function(t,e){for(var n,r=1/0,o=0;o<e.features.length;o++){var s=i(t,e.features[o],"miles");s<r&&(n=e.features[o],r=s)}return n}},function(t,e,n){var i=n(2),r=i.getCoord,o=i.getGeom;t.exports=function(t,e){var n=r(t),i=o(e).coordinates[0];if(i.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var s=e.properties||{},a=s.a,u=s.b,l=s.c,c=n[0],h=n[1],f=i[0][0],d=i[0][1],p=void 0!==a?a:i[0][2],g=i[1][0],v=i[1][1],m=void 0!==u?u:i[1][2],y=i[2][0],x=i[2][1],E=void 0!==l?l:i[2][2];return(E*(c-f)*(h-v)+p*(c-g)*(h-x)+m*(c-y)*(h-d)-m*(c-f)*(h-x)-E*(c-g)*(h-d)-p*(c-y)*(h-v))/((c-f)*(h-v)+(c-g)*(h-x)+(c-y)*(h-d)-(c-f)*(h-x)-(c-g)*(h-d)-(c-y)*(h-v))}},function(t,e,n){var i=n(358);t.exports=function(t,e,n){switch(n=n||{},e=e||1,t){case"point":case"points":case void 0:return i.point(e,n.bbox);case"polygon":case"polygons":return i.polygon(e,n.num_vertices,n.max_radial_length,n.bbox);default:throw new Error("Unknown type given: valid options are points and polygons")}}},function(t,e,n){var i=n(0).point;function r(t,e,n,i,r,o,s,a){var u,l,c,h,f={x:null,y:null,onLine1:!1,onLine2:!1};return 0===(u=(a-o)*(n-t)-(s-r)*(i-e))?null!==f.x&&null!==f.y&&f:(h=(n-t)*(l=e-o)-(i-e)*(c=t-r),l=((s-r)*l-(a-o)*c)/u,c=h/u,f.x=t+l*(n-t),f.y=e+l*(i-e),l>=0&&l<=1&&(f.onLine1=!0),c>=0&&c<=1&&(f.onLine2=!0),!(!f.onLine1||!f.onLine2)&&[f.x,f.y])}t.exports=function(t){var e,n,o={type:"FeatureCollection",features:[]};if("LineString"===(n="Feature"===t.type?t.geometry:t).type)e=[n.coordinates];else if("MultiLineString"===n.type)e=n.coordinates;else if("MultiPolygon"===n.type)e=[].concat.apply([],n.coordinates);else{if("Polygon"!==n.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");e=n.coordinates}return e.forEach((function(t){e.forEach((function(e){for(var n=0;n<t.length-1;n++)for(var s=n;s<e.length-1;s++){if(t===e){if(1===Math.abs(n-s))continue;if(0===n&&s===t.length-2&&t[n][0]===t[t.length-1][0]&&t[n][1]===t[t.length-1][1])continue}var a=r(t[n][0],t[n][1],t[n+1][0],t[n+1][1],e[s][0],e[s][1],e[s+1][0],e[s+1][1]);a&&o.features.push(i([a[0],a[1]]))}}))})),o}},function(t,e,n){var i=n(0).featureCollection,r=n(67),o=n(5),s=n(7),a=n(68);function u(t,e,n,i,r,o){if(Math.sqrt((r-n)*(r-n)+(o-i)*(o-i))===Math.sqrt((t-n)*(t-n)+(e-i)*(e-i))+Math.sqrt((r-t)*(r-t)+(o-e)*(o-e)))return!0}t.exports=function(t){"FeatureCollection"!==t.type&&("Feature"!==t.type&&(t={type:"Feature",geometry:t,properties:{}}),t=i([t]));for(var e=r(t),n=!1,l=0;!n&&l<t.features.length;){var c,h=t.features[l].geometry,f=!1;if("Point"===h.type)e.geometry.coordinates[0]===h.coordinates[0]&&e.geometry.coordinates[1]===h.coordinates[1]&&(n=!0);else if("MultiPoint"===h.type){var d=!1;for(c=0;!d&&c<h.coordinates.length;)e.geometry.coordinates[0]===h.coordinates[c][0]&&e.geometry.coordinates[1]===h.coordinates[c][1]&&(n=!0,d=!0),c++}else if("LineString"===h.type)for(c=0;!f&&c<h.coordinates.length-1;)u(e.geometry.coordinates[0],e.geometry.coordinates[1],h.coordinates[c][0],h.coordinates[c][1],h.coordinates[c+1][0],h.coordinates[c+1][1])&&(f=!0,n=!0),c++;else if("MultiLineString"===h.type)for(var p=0;p<h.coordinates.length;){f=!1,c=0;for(var g=h.coordinates[p];!f&&c<g.length-1;)u(e.geometry.coordinates[0],e.geometry.coordinates[1],g[c][0],g[c][1],g[c+1][0],g[c+1][1])&&(f=!0,n=!0),c++;p++}else if("Polygon"===h.type||"MultiPolygon"===h.type){s(e,{type:"Feature",geometry:h,properties:{}})&&(n=!0)}l++}if(n)return e;var v,m=i([]);for(l=0;l<t.features.length;l++)m.features=m.features.concat(a(t.features[l]).features);var y=1/0;for(l=0;l<m.features.length;l++){var x=o(e,m.features[l],"miles");x<y&&(y=x,v=m.features[l])}return v}},function(t,e,n){var i=n(5),r=n(0).point,o=n(28),s=n(22);t.exports=function(t,e,n){var a;if("Feature"===t.type)a=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");a=t.coordinates}for(var u=0,l=0;l<a.length&&!(e>=u&&l===a.length-1);l++){if(u>=e){var c=e-u;if(c){var h=o(a[l],a[l-1])-180;return s(a[l],c,h,n)}return r(a[l])}u+=i(a[l],a[l+1],n)}return r(a[a.length-1])}},function(t,e,n){var i=n(0).lineString,r=n(47);t.exports=function(t,e,n){var o;if("Feature"===n.type)o=n.geometry.coordinates;else{if("LineString"!==n.type)throw new Error("input must be a LineString Feature or Geometry");o=n.coordinates}for(var s,a=r(n,t),u=r(n,e),l=[(s=a.properties.index<=u.properties.index?[a,u]:[u,a])[0].geometry.coordinates],c=s[0].properties.index+1;c<s[1].properties.index+1;c++)l.push(o[c]);return l.push(s[1].geometry.coordinates),i(l,n.properties)}},function(t,e,n){var i=n(5),r=n(6),o=n(0),s=n(7),a=n(2).getGeomType,u=o.point,l=o.featureCollection;t.exports=function(t,e,n,o,c){var h=[],f=t;if(!t)throw new Error("bbox is required");if(Array.isArray(t)||(t=r(t)),4!==t.length)throw new Error("bbox must contain 4 numbers");var d=t[0],p=t[1],g=t[2],v=t[3],m=e/i(u([d,p]),u([g,p]),n)*(g-d),y=e/i(u([d,p]),u([d,v]),n)*(v-p);if(!1!==o)var x=g-d,E=v-p,b=(x-Math.floor(x/m)*m)/2,C=(E-Math.floor(E/y)*y)/2;var w=!Array.isArray(f)&&("Polygon"===a(f)||"MultiPolygon"===a(f)),_=d;for(!1!==o&&(_+=b);_<=g;){var A=p;for(!1!==o&&(A+=C);A<=v;){var S=u([_,A]);!0===c&&w?s(S,f)&&h.push(S):h.push(S),A+=y}_+=m}return l(h)}},function(t,e,n){var i=n(5),r=n(0),o=r.polygon,s=r.featureCollection;t.exports=function(t,e,n){for(var r=s([]),a=e/i([t[0],t[1]],[t[2],t[1]],n)*(t[2]-t[0]),u=e/i([t[0],t[1]],[t[0],t[3]],n)*(t[3]-t[1]),l=0,c=t[0];c<=t[2];){for(var h=0,f=t[1];f<=t[3];)l%2==0&&h%2==0?r.features.push(o([[[c,f],[c,f+u],[c+a,f],[c,f]]]),o([[[c,f+u],[c+a,f+u],[c+a,f],[c,f+u]]])):l%2==0&&h%2==1?r.features.push(o([[[c,f],[c+a,f+u],[c+a,f],[c,f]]]),o([[[c,f],[c,f+u],[c+a,f+u],[c,f]]])):h%2==0&&l%2==1?r.features.push(o([[[c,f],[c,f+u],[c+a,f+u],[c,f]]]),o([[[c,f],[c+a,f+u],[c+a,f],[c,f]]])):h%2==1&&l%2==1&&r.features.push(o([[[c,f],[c,f+u],[c+a,f],[c,f]]]),o([[[c,f+u],[c+a,f+u],[c+a,f],[c,f+u]]])),f+=u,h++;l++,c+=a}return r}},function(t,e,n){for(var i=n(5),r=n(0),o=r.point,s=r.polygon,a=r.featureCollection,u=[],l=[],c=0;c<6;c++){var h=2*Math.PI/6*c;u.push(Math.cos(h)),l.push(Math.sin(h))}function f(t,e,n){for(var i=[],r=0;r<6;r++){var o=t[0]+e*u[r],a=t[1]+n*l[r];i.push([o,a])}return i.push(i[0].slice()),s([i])}function d(t,e,n){for(var i=[],r=0;r<6;r++){var o=[];o.push(t),o.push([t[0]+e*u[r],t[1]+n*l[r]]),o.push([t[0]+e*u[(r+1)%6],t[1]+n*l[(r+1)%6]]),o.push(t),i.push(s([o]))}return i}t.exports=function(t,e,n,r){var s=t[0],u=t[1],l=t[2],c=t[3],h=(u+c)/2,p=(s+l)/2,g=e/i(o([s,h]),o([l,h]),n)*(l-s),v=e/i(o([p,u]),o([p,c]),n)*(c-u),m=g/2,y=2*m,x=Math.sqrt(3)/2*v,E=l-s,b=c-u,C=3/4*y,w=x,_=E/(y-m/2),A=Math.ceil(_);Math.round(_)===A&&A++;var S=(A*C-m/2-E)/2-m/2,D=Math.ceil(b/x),L=(b-D*x)/2,F=D*x-b>x/2;F&&(L-=x/4);for(var T=a([]),M=0;M<A;M++)for(var I=0;I<=D;I++){var P=M%2==1;if((0!==I||!P)&&(0!==I||!F)){var O=M*C+s-S,B=I*w+u+L;P&&(B-=x/2),r?T.features.push.apply(T.features,d([O,B],g/2,v/2)):T.features.push(f([O,B],g/2,v/2))}}return T}},function(t,e,n){var i=n(6),r=n(5),o=n(36),s=n(105);t.exports=function(t,e,n,a,u){if(!e)throw new Error("valueField is required");if(null==n)throw new Error("weight is required");if(null==a)throw new Error("cellWidth is required");if(0===t.features.filter((function(t){return t.properties&&t.properties.hasOwnProperty(e)})).length)throw new Error("Specified Data Field is Missing");for(var l=s(i(t),a,u),c=l.features.length,h=0;h<c;h++){for(var f=0,d=0,p=0;p<t.features.length;p++){var g=r(o(l.features[h]),t.features[p],u);0===g&&(f=t.features[p].properties[e]);var v=1/Math.pow(g,n);d+=v,f+=v*t.features[p].properties[e]}l.features[h].properties[e]=f/d}return l}},function(t,e,n){var i=n(35),r=n(64),o=n(0),s=n(6),a=n(1).flattenEach;function u(t){if(t.features.length<=1)return t;var e=function(t){var e=i(),n=[];return a(t,(function(t,e){var i=s(t);n.push({minX:i[0],minY:i[1],maxX:i[2],maxY:i[3],geojson:t,index:e})})),e.load(n),e}(t),n=[],u={};return a(t,(function(t,i){if(u[i])return!0;for(e.remove({index:i},l),u[i]=!0;;){var o=s(t),a=e.search({minX:o[0],minY:o[1],maxX:o[2],maxY:o[3]});if(a.length>0){var c=a.map((function(t){return u[t.index]=!0,e.remove({index:t.index},l),t.geojson}));c.push(t),t=r.apply(this,c)}if(0===a.length)break}n.push(t)})),o.featureCollection(n)}function l(t,e){return t.index===e.index}t.exports=function(t,e){var n=function(t){var e=t&&t.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]];return o.polygon(e)}(e),i=function(t){var e=[],n=[];return a(t,(function(t){var i=t.geometry.coordinates,r=i[0],s=i.slice(1);e.push(o.polygon([r])),s.forEach((function(t){n.push(o.polygon([t]))}))})),[o.featureCollection(e),o.featureCollection(n)]}(t),r=i[0],s=i[1];return function(t,e,n){var i=[];return i.push(t.geometry.coordinates[0]),a(e,(function(t){i.push(t.geometry.coordinates[0])})),a(n,(function(t){i.push(t.geometry.coordinates[0])})),o.polygon(i)}(n,r=u(r),s=u(s))}},function(t,e,n){var i=n(104),r=n(103),o=n(0).featureCollection,s=n(1).flattenEach;t.exports=function(t,e,n,a){if(!t)throw new Error("geojson is required");if(e<=0)throw new Error("segmentLength must be greater than 0");var u=[];return s(t,(function(t){a&&(t.geometry.coordinates=t.geometry.coordinates.reverse()),function(t,e,n,o){var s=r(t,n);if(s<=e)return o(t);for(var a=Math.floor(s/e)+1,u=0;u<a;u++){var l=i(t,e*u,e*(u+1),n);o(l,u)}}(t,e,n,(function(t){u.push(t)}))})),o(u)}},function(t,e,n){var i=n(1),r=n(0),o=n(359),s=i.flattenEach,a=i.featureEach,u=r.polygon,l=r.featureCollection;t.exports=function(t){var e=[];return s(t,(function(t){"Polygon"===t.geometry.type&&a(o(t),(function(n){e.push(u(n.geometry.coordinates,t.properties))}))})),l(e)}},function(t,e,n){var i=n(145).geometry,r=n(44).geomReduce;t.exports=function(t){return r(t,(function(t,e){return t+i(e)}),0)}},function(t,e,n){(function(i){function r(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==i&&"env"in i&&(t=Object({NODE_ENV:"production"}).DEBUG),t}(e=t.exports=n(361)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var i="color: "+this.color;t.splice(1,0,i,"color: inherit");var r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(r++,"%c"===t&&(o=r))})),t.splice(o,0,i)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=r,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(r())}).call(this,n(91))},function(t,e,n){var i=n(363),r=n(2).getCoord;t.exports=function(t,e,n,o,s){return t=r(t),e=r(e),n=n||{},o=o||100,s=s||10,new i.GreatCircle({x:t[0],y:t[1]},{x:e[0],y:e[1]},n).Arc(o,{offset:s}).json()}},function(t,e,n){var i=n(1),r=n(99),o=n(0),s=n(106),a=n(69),u=n(2),l=n(46),c=n(47),h=n(29),f=u.getCoords,d=o.lineString,p=u.getGeomType,g=i.featureEach,v=i.featureReduce,m=o.featureCollection;function y(t,e){var n=[],i=r();return g(e,(function(e){if(n.forEach((function(t,e){t.id=e})),n.length){var r=E(e,i.search(e));n=n.filter((function(t){return t.id!==r.id})),i.remove(r),g(x(r,e),(function(t){n.push(t),i.insert(t)}))}else n=x(t,e).features,i.load(m(n))})),m(n)}function x(t,e){var n=[],i=f(t)[0],o=f(t)[t.geometry.coordinates.length-1];if(b(i,f(e))||b(o,f(e)))return m([t]);var s=r(),a=l(t);s.load(a);var u=s.search(e);if(!u.features.length)return m([t]);var c=E(e,u),h=v(a,(function(t,i,r){var o=f(i)[1],s=f(e);return r===c.id?(t.push(s),n.push(d(t)),b(s,o)?[s]:[s,o]):(t.push(o),t)}),[i]);return h.length>1&&n.push(d(h)),m(n)}function E(t,e){if(!e.features)throw new Error("<lines> must contain features");if(1===e.features.length)return e.features[0];var n,i=1/0;return g(e,(function(e){var r=c(e,t).properties.dist;r<i&&(n=e,i=r)})),n}function b(t,e){return t[0]===e[0]&&t[1]===e[1]}t.exports=function(t,e){if(!t)throw new Error("line is required");if(!e)throw new Error("splitter is required");var n=p(t),i=p(e);if("LineString"!==n)throw new Error("line must be LineString");if("FeatureCollection"===i)throw new Error("splitter cannot be a FeatureCollection");if("GeometryCollection"===i)throw new Error("splitter cannot be a GeometryCollection");var r=a(e,7);switch(i){case"Point":return x(t,r);case"MultiPoint":return y(t,s(r));case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return y(t,h(t,r))}}},function(t,e,n){var i=n(6),r=n(2).getCoords,o=n(0),s=o.polygon,a=o.multiPolygon,u=o.lineString;function l(t,e,n,o){e=e||t.properties||{};var a=r(t),l=c(t);if(!a.length)throw new Error("line must contain coordinates");switch(l){case"LineString":return n&&(a=h(a)),s([a],e);case"MultiLineString":var f=[],d=0;return a.forEach((function(t){if(n&&(t=h(t)),o){var e=function(t){var e=t[0],n=t[1],i=t[2],r=t[3];return Math.abs(e-i)*Math.abs(n-r)}(i(u(t)));e>d?(f.unshift(t),d=e):f.push(t)}else f.push(t)})),s(f,e);default:throw new Error("geometry type "+l+" is not supported")}}function c(t){return t.geometry?t.geometry.type:t.type}function h(t){var e=t[0],n=e[0],i=e[1],r=t[t.length-1],o=r[0],s=r[1];return n===o&&i===s||t.push(e),t}t.exports=function(t,e,n,i){if(!t)throw new Error("lines is required");switch(n=void 0===n||n,i=void 0===i||i,c(t)){case"FeatureCollection":case"GeometryCollection":var o=[];return(t.features?t.features:t.geometries).forEach((function(t){o.push(r(l(t,{},n,i)))})),a(o,e)}return l(t,e,n,i)}},function(t,e,n){var i=n(0),r=n(364),o=n(2).getCoords,s=i.lineString,a=i.multiLineString,u=i.polygon,l=i.multiPolygon;function c(t,e){for(var n=[],i=0;i<t.length;i++){var o=r.polygon(t[i],e);o.length>0&&(o[0][0]===o[o.length-1][0]&&o[0][1]===o[o.length-1][1]||o.push(o[0]),o.length>=4&&n.push(o))}return n}t.exports=function(t,e){var n=function(t){return t.geometry?t.geometry.type:t.type}(t),i=o(t),h=t.properties;switch(n){case"LineString":case"MultiLineString":var f=[];return"LineString"===n&&(i=[i]),i.forEach((function(t){r(t,e,f)})),1===f.length?s(f[0],h):a(f,h);case"Polygon":return u(c(i,e),h);case"MultiPolygon":return l(i.map((function(t){return c(t,e)})),h);default:throw new Error("geometry "+n+" not supported")}}},function(t,e,n){var i=n(66),r=n(1).coordEach,o=n(0),s=n(2).getCoords,a=o.polygon,u=n(107);function l(t){var e=t%360;return e<0&&(e+=360),e}t.exports=function(t,e,n,o,c,h){if(!t)throw new Error("center is required");if(null==n)throw new Error("bearing1 is required");if(null==o)throw new Error("bearing2 is required");if(!e)throw new Error("radius is required");if(c=c||64,l(n)===l(o))return i(t,e,c,h);var f=s(t),d=u(t,e,n,o,c,h),p=[[f]];return r(d,(function(t){p[0].push(t)})),p[0].push(f),a(p)}},function(t,e,n){"use strict";if(t.exports)var i=n(50);function r(t,e,n,o,s,a,u){if(!(this instanceof r))return new r(t,e,n,o,s,a,u);if(void 0===s&&(s=i.datum.WGS84),void 0===a&&(a=null),void 0===u&&(u=null),!(1<=t&&t<=60))throw new Error("Invalid UTM zone "+t);if(!e.match(/[NS]/i))throw new Error("Invalid UTM hemisphere "+e);this.zone=Number(t),this.hemisphere=e.toUpperCase(),this.easting=Number(n),this.northing=Number(o),this.datum=s,this.convergence=null===a?null:Number(a),this.scale=null===u?null:Number(u)}i.prototype.toUtm=function(){if(isNaN(this.lat)||isNaN(this.lon))throw new Error("Invalid point");if(!(-80<=this.lat&&this.lat<=84))throw new Error("Outside UTM limits");var t=Math.floor((this.lon+180)/6)+1,e=(6*(t-1)-180+3).toRadians(),n="CDEFGHJKLMNPQRSTUVWXX".charAt(Math.floor(this.lat/8+10));31==t&&"V"==n&&this.lon>=3&&(t++,e+=6..toRadians()),32==t&&"X"==n&&this.lon<9&&(t--,e-=6..toRadians()),32==t&&"X"==n&&this.lon>=9&&(t++,e+=6..toRadians()),34==t&&"X"==n&&this.lon<21&&(t--,e-=6..toRadians()),34==t&&"X"==n&&this.lon>=21&&(t++,e+=6..toRadians()),36==t&&"X"==n&&this.lon<33&&(t--,e-=6..toRadians()),36==t&&"X"==n&&this.lon>=33&&(t++,e+=6..toRadians());for(var i=this.lat.toRadians(),o=this.lon.toRadians()-e,s=this.datum.ellipsoid.a,a=this.datum.ellipsoid.f,u=.9996,l=Math.sqrt(a*(2-a)),c=a/(2-a),h=c*c,f=c*h,d=c*f,p=c*d,g=c*p,v=Math.cos(o),m=Math.sin(o),y=Math.tan(o),x=Math.tan(i),E=Math.sinh(l*Math.atanh(l*x/Math.sqrt(1+x*x))),b=x*Math.sqrt(1+E*E)-E*Math.sqrt(1+x*x),C=Math.atan2(b,v),w=Math.asinh(m/Math.sqrt(b*b+v*v)),_=s/(1+c)*(1+1/4*h+1/64*d+1/256*g),A=[null,.5*c-2/3*h+5/16*f+41/180*d-127/288*p+7891/37800*g,13/48*h-.6*f+557/1440*d+281/630*p-1983433/1935360*g,61/240*f-103/140*d+15061/26880*p+167603/181440*g,49561/161280*d-179/168*p+6601661/7257600*g,34729/80640*p-3418889/1995840*g,.6650675310896665*g],S=C,D=1;D<=6;D++)S+=A[D]*Math.sin(2*D*C)*Math.cosh(2*D*w);var L=w;for(D=1;D<=6;D++)L+=A[D]*Math.cos(2*D*C)*Math.sinh(2*D*w);var F=u*_*L,T=u*_*S,M=1;for(D=1;D<=6;D++)M+=2*D*A[D]*Math.cos(2*D*C)*Math.cosh(2*D*w);var I=0;for(D=1;D<=6;D++)I+=2*D*A[D]*Math.sin(2*D*C)*Math.sinh(2*D*w);var P=Math.atan(b/Math.sqrt(1+b*b)*y)+Math.atan2(I,M),O=Math.sin(i),B=u*(Math.sqrt(1-l*l*O*O)*Math.sqrt(1+x*x)/Math.sqrt(b*b+v*v))*(_/s*Math.sqrt(M*M+I*I));F+=5e5,T<0&&(T+=1e7),F=Number(F.toFixed(6)),T=Number(T.toFixed(6));var N=Number(P.toDegrees().toFixed(9)),k=Number(B.toFixed(12));return new r(t,this.lat>=0?"N":"S",F,T,this.datum,N,k)},r.prototype.toLatLonE=function(){var t=this.zone,e=this.hemisphere,n=this.easting,r=this.northing;if(isNaN(t)||isNaN(n)||isNaN(r))throw new Error("Invalid coordinate");var o=this.datum.ellipsoid.a,s=this.datum.ellipsoid.f,a=.9996;n-=5e5,r="S"==e?r-1e7:r;for(var u=Math.sqrt(s*(2-s)),l=s/(2-s),c=l*l,h=l*c,f=l*h,d=l*f,p=l*d,g=o/(1+l)*(1+1/4*c+1/64*f+1/256*p),v=n/(a*g),m=r/(a*g),y=[null,.5*l-2/3*c+37/96*h-1/360*f-81/512*d+96199/604800*p,1/48*c+1/15*h-437/1440*f+46/105*d-1118711/3870720*p,17/480*h-37/840*f-209/4480*d+5569/90720*p,4397/161280*f-11/504*d-830251/7257600*p,4583/161280*d-108847/3991680*p,20648693/638668800*p],x=m,E=1;E<=6;E++)x-=y[E]*Math.sin(2*E*m)*Math.cosh(2*E*v);var b=v;for(E=1;E<=6;E++)b-=y[E]*Math.cos(2*E*m)*Math.sinh(2*E*v);var C=Math.sinh(b),w=Math.sin(x),_=Math.cos(x),A=w/Math.sqrt(C*C+_*_),S=A;do{var D=Math.sinh(u*Math.atanh(u*S/Math.sqrt(1+S*S))),L=S*Math.sqrt(1+D*D)-D*Math.sqrt(1+S*S),F=(A-L)/Math.sqrt(1+L*L)*(1+(1-u*u)*S*S)/((1-u*u)*Math.sqrt(1+S*S));S+=F}while(Math.abs(F)>1e-12);var T=S,M=Math.atan(T),I=Math.atan2(C,_),P=1;for(E=1;E<=6;E++)P-=2*E*y[E]*Math.cos(2*E*m)*Math.cosh(2*E*v);var O=0;for(E=1;E<=6;E++)O+=2*E*y[E]*Math.sin(2*E*m)*Math.sinh(2*E*v);var B=Math.atan(Math.tan(x)*Math.tanh(b))+Math.atan2(O,P),N=Math.sin(M),k=a*(Math.sqrt(1-u*u*N*N)*Math.sqrt(1+T*T)*Math.sqrt(C*C+_*_))*(g/o/Math.sqrt(P*P+O*O));I+=(6*(t-1)-180+3).toRadians();var R=Number(M.toDegrees().toFixed(11)),j=Number(I.toDegrees().toFixed(11)),V=Number(B.toDegrees().toFixed(9)),G=Number(k.toFixed(12)),z=new i(R,j,this.datum);return z.convergence=V,z.scale=G,z},r.parse=function(t,e){if(void 0===e&&(e=i.datum.WGS84),null==(t=t.trim().match(/\S+/g))||4!=t.length)throw new Error("Invalid UTM coordinate "+t+"");return new r(t[0],t[1],t[2],t[3],e)},r.prototype.toString=function(t){t=Number(t||0);var e=this.zone<10?"0"+this.zone:this.zone,n=this.hemisphere,i=this.easting,r=this.northing;return isNaN(e)||!n.match(/[NS]/)||isNaN(i)||isNaN(r)?"":e+" "+n+" "+i.toFixed(t)+" "+r.toFixed(t)},void 0===Math.sinh&&(Math.sinh=function(t){return(Math.exp(t)-Math.exp(-t))/2}),void 0===Math.cosh&&(Math.cosh=function(t){return(Math.exp(t)+Math.exp(-t))/2}),void 0===Math.tanh&&(Math.tanh=function(t){return(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))}),void 0===Math.asinh&&(Math.asinh=function(t){return Math.log(t+Math.sqrt(1+t*t))}),void 0===Math.atanh&&(Math.atanh=function(t){return Math.log((1+t)/(1-t))/2}),t.exports&&(t.exports=r)},function(t,e,n){var i=n(2).getCoords,r=n(0),o=r.featureCollection;function s(t,e,n,i,r,o){for(var s=0;s<t.length;s++){var l=t[s],c=t[s+1];s===t.length-1&&(c=t[0]),i=u(l,c,e),n<=0&&i>0&&(u(e,l,r)<=0||(r=l)),n>0&&i<=0&&(a(e,l,o)||(o=l)),n=i}return[r,o]}function a(t,e,n){return u(t,e,n)>=0}function u(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1])}t.exports=function(t,e){var n,a,l,c,h=i(t),f=i(e);switch((c=e).geometry?c.geometry.type:c.type){case"Polygon":a=0,l=0,n=u(f[0][0],f[0][1],h);var d=s(f[0],h,n,void 0,a,l);a=d[0],l=d[1];break;case"MultiPolygon":a=0,l=0,n=u(f[0][0][0],f[0][0][1],h),f.forEach((function(t){var e=s(t[0],h,n,void 0,a,l);a=e[0],l=e[1]}))}return o([r.point(a),r.point(l)])}},function(t,e,n){var i=n(1),r=n(2).getCoords,o=n(110),s=n(0).featureCollection,a=i.geomEach,u=i.featureEach;function l(t,e){switch("Feature"===t.type?t.geometry.type:t.type){case"GeometryCollection":return a(t,(function(t){l(t,e)})),t;case"LineString":return c(r(t),e),t;case"Polygon":return h(r(t),e),t;case"MultiLineString":return r(t).forEach((function(t){c(t,e)})),t;case"MultiPolygon":return r(t).forEach((function(t){h(t,e)})),t;case"Point":case"MultiPoint":return t}}function c(t,e){o(t)===e&&t.reverse()}function h(t,e){o(t[0])!==e&&t[0].reverse();for(var n=1;n<t.length;n++)o(t[n])===e&&t[n].reverse()}t.exports=function(t,e,n){if(e=void 0!==e&&e,n=void 0!==n&&n,!t)throw new Error("<geojson> is required");if("boolean"!=typeof e)throw new Error("<reverse> must be a boolean");if("boolean"!=typeof n)throw new Error("<mutate> must be a boolean");!1!==n&&void 0!==n||(t=JSON.parse(JSON.stringify(t)));var i=[];switch(t.type){case"GeometryCollection":return a(t,(function(t){l(t,e)})),t;case"FeatureCollection":return u(t,(function(t){u(l(t,e),(function(t){i.push(t)}))})),s(i)}return l(t,e)}},function(t,e,n){var i=n(370),r=n(185),o=n(371),s=n(70),a=n(372),u=n(196),l=n(390),c=n(373),h=s.polygon,f=s.multiPolygon,d=u.collectionOf,p=s.featureCollection;function g(t){var e=[],n=[];t.forEach((function(t){var i=r(h([t]));n.push(i),e.push({ring:t,area:i})})),n.sort((function(t,e){return e-t}));var i=[];return n.forEach((function(t){for(var n=0;n<e.length;n++)if(e[n].area===t){i.push(e[n].ring),e.splice(n,1);break}})),i}function v(t){for(var e=t.map((function(t){return{lrCoordinates:t,grouped:!1}})),n=[];!y(e);)for(var i=0;i<e.length;i++)if(!e[i].grouped){var r=[];r.push(e[i].lrCoordinates),e[i].grouped=!0;for(var o=h([e[i].lrCoordinates]),s=i+1;s<e.length;s++){if(!e[s].grouped)m(h([e[s].lrCoordinates]),o)&&(r.push(e[s].lrCoordinates),e[s].grouped=!0)}n.push(r)}return n}function m(t,e){for(var n=a(t),i=0;i<n.features.length;i++)if(!o(n.features[i],e))return!1;return!0}function y(t){for(var e=0;e<t.length;e++)if(!1===t[e].grouped)return!1;return!0}t.exports=function(t,e,n,r){var o=function(t){return!!t&&t.constructor===Object};if(d(t,"Point","Input must contain Points"),!e||!Array.isArray(e))throw new Error("breaks is required");if((r=r||{}).commonProperties&&!o(r.commonProperties))throw new Error("commonProperties is not an Object");if(r.isobandProperties&&!Array.isArray(r.isobandProperties))throw new Error("isobandProperties is not an Array");if(n&&"string"!=typeof n)throw new Error("zProperty is not a string");n=n||"elevation";var s=r.commonProperties||{},a=r.isobandProperties||[],u=l(t,n,!0),h=function(t,e,n){for(var i=[],r=1;r<e.length;r++){var o=+e[r-1],s=+e[r],a=v(g(c.isoBands(t,o,s-o))),u={};u.groupedRings=a,u[n]=o+"-"+s,i.push(u)}return i}(u,e,n),m=(h=function(t,e,n){var r=i(n),o=r[2]-r[0],s=r[3]-r[1],a=r[0],u=r[1],l=e[0].length-1,c=e.length-1,h=o/l,f=s/c,d=function(t){t[0]=t[0]*h+a,t[1]=t[1]*f+u};return t.forEach((function(t){t.groupedRings.forEach((function(t){t.forEach((function(t){t.forEach(d)}))}))})),t}(h,u,t)).map((function(t,e){if(a[e]&&!o(a[e]))throw new Error("Each mappedProperty is required to be an Object");var i=Object.assign({},s,a[e]);return i[n]=t[n],f(t.groupedRings,i)}));return p(m)}},function(t,e){function n(t){if(!t)throw new Error("No obj passed");var e;if(t.length?e=t:t.coordinates?e=t.coordinates:t.geometry&&t.geometry.coordinates&&(e=t.geometry.coordinates),e)return function t(e){if(e.length>1&&"number"==typeof e[0]&&"number"==typeof e[1])return!0;if(e[0].length)return t(e[0]);throw new Error("coordinates must only contain numbers")}(e),e;throw new Error("No valid coordinates")}t.exports.geojsonType=function(t,e,n){if(!e||!n)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.type)},t.exports.collectionOf=function(t,e,n){if(!t)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var i=0;i<t.features.length;i++){var r=t.features[i];if(!r||"Feature"!==r.type||!r.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!r.geometry||r.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+r.geometry.type)}},t.exports.featureOf=function(t,e,n){if(!t)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.geometry.type)},t.exports.getCoord=function(t){if(!t)throw new Error("No obj passed");var e=n(t);if(e.length>1&&"number"==typeof e[0]&&"number"==typeof e[1])return e;throw new Error("Coordinate is not a valid Point")},t.exports.getCoords=n},function(t,e,n){var i=n(1),r=n(36),o=n(2),s=n(49),a=n(51),u=n(52),l=i.coordEach,c=o.getCoords;t.exports=function(t,e,n,i){if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("angle is required");return 0===e||(n||(n=r(t)),!1!==i&&void 0!==i||(t=JSON.parse(JSON.stringify(t))),l(t,(function(t){var i=s(n,t)+e,r=a(n,t),o=c(u(n,r,i));t[0]=o[0],t[1]=o[1]}))),t}},function(t,e,n){var i=n(1),r=n(48),o=n(67),s=n(0),a=n(36),u=n(6),l=n(2),c=n(49),h=n(51),f=n(52),d=s.point,p=i.coordEach,g=i.featureEach,v=l.getCoord,m=l.getCoords,y=l.getGeomType;function x(t,e,n){var i="Point"===y(t);return n=function(t,e){null==e&&(e="centroid");if(Array.isArray(e)||"object"==typeof e)return v(e);var n=t.bbox?t.bbox:u(t),i=n[0],r=n[1],s=n[2],l=n[3];switch(e){case"sw":case"southwest":case"westsouth":case"bottomleft":return d([i,r]);case"se":case"southeast":case"eastsouth":case"bottomright":return d([s,r]);case"nw":case"northwest":case"westnorth":case"topleft":return d([i,l]);case"ne":case"northeast":case"eastnorth":case"topright":return d([s,l]);case"center":return o(t);case void 0:case null:case"centroid":return a(t);default:throw new Error("invalid origin")}}(t,n),1===e||i||p(t,(function(t){var i=h(n,t),r=c(n,t),o=m(f(n,i*e,r));t[0]=o[0],t[1]=o[1],3===t.length&&(t[2]*=e)})),t}t.exports=function(t,e,n,i){if(!t)throw new Error("geojson required");if("number"!=typeof e||0===e)throw new Error("invalid factor");var o=Array.isArray(n)||"object"==typeof n;return!0!==i&&(t=r(t)),"FeatureCollection"!==t.type||o?x(t,e,n):(g(t,(function(i,r){t.features[r]=x(i,e,n)})),t)}},function(t,e,n){var i=n(1),r=n(2),o=n(52),s=i.coordEach,a=r.getCoords;t.exports=function(t,e,n,i,r,u){if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("distance is required");if(r&&"number"!=typeof r&&isNaN(r))throw new Error("zTranslation is not a number");if(r=void 0!==r?r:0,0===e&&0===r)return t;if(null==n||isNaN(n))throw new Error("direction is required");return e<0&&(e=-e,n=-n),!1!==u&&void 0!==u||(t=JSON.parse(JSON.stringify(t))),s(t,(function(t){var s=a(o(t,e,n,i));t[0]=s[0],t[1]=s[1],r&&3===t.length&&(t[2]+=r)})),t}},function(t,e,n){var i=n(1),r=n(0),o=n(2).getCoords,s=n(374),a=i.flattenEach,u=r.lineString,l=r.multiLineString,c=r.distanceToDegrees;function h(t,e,n){var i=[],r=c(e,n),a=o(t),l=[];return a.forEach((function(t,e){if(e!==a.length-1){var n=function(t,e,n){var i=Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])),r=t[0]+n*(e[1]-t[1])/i,o=e[0]+n*(e[1]-t[1])/i,s=t[1]+n*(t[0]-e[0])/i,a=e[1]+n*(t[0]-e[0])/i;return[[r,s],[o,a]]}(t,a[e+1],r);if(i.push(n),e>0){var o=i[e-1],u=s(n,o);!1!==u&&(o[1]=u,n[0]=u),l.push(o[0]),e===a.length-2&&(l.push(n[0]),l.push(n[1]))}2===a.length&&(l.push(n[0]),l.push(n[1]))}})),u(l,t.properties)}t.exports=function(t,e,n){if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("distance is required");var i="Feature"===t.type?t.geometry.type:t.type,r=t.properties;switch(i){case"LineString":return h(t,e,n);case"MultiLineString":var o=[];return a(t,(function(t){o.push(h(t,e,n).geometry.coordinates)})),l(o,r);default:throw new Error("geometry "+i+" is not supported")}}},function(t,e,n){var i=n(375);t.exports=function(t){return i(t)}},function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n(111),o=r.orientationIndex,s=r.envelopeIsEqual,a=r.envelopeContains,u=r.coordinatesEqual,l=n(0),c=l.multiPoint,h=l.polygon,f=l.point,d=n(101),p=n(7),g=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.edges=[],this.polygon=void 0,this.envelope=void 0}return i(t,[{key:"push",value:function(t){this[this.edges.length]=t,this.edges.push(t),this.polygon=this.envelope=void 0}},{key:"get",value:function(t){return this.edges[t]}},{key:"forEach",value:function(t){this.edges.forEach(t)}},{key:"map",value:function(t){return this.edges.map(t)}},{key:"some",value:function(t){return this.edges.some(t)}},{key:"isValid",value:function(){return!0}},{key:"isHole",value:function(){var t=this,e=this.edges.reduce((function(e,n,i){return n.from.coordinates[1]>t.edges[e].from.coordinates[1]&&(e=i),e}),0),n=(0===e?this.length:e)-1,i=(e+1)%this.length,r=o(this.edges[n].from.coordinates,this.edges[e].from.coordinates,this.edges[i].from.coordinates);return 0===r?this.edges[n].from.coordinates[0]>this.edges[i].from.coordinates[0]:r>0}},{key:"toMultiPoint",value:function(){return c(this.edges.map((function(t){return t.from.coordinates})))}},{key:"toPolygon",value:function(){if(this.polygon)return this.polygon;var t=this.edges.map((function(t){return t.from.coordinates}));return t.push(this.edges[0].from.coordinates),this.polygon=h([t])}},{key:"getEnvelope",value:function(){return this.envelope?this.envelope:this.envelope=d(this.toPolygon())}},{key:"inside",value:function(t){return p(t,this.toPolygon())}},{key:"length",get:function(){return this.edges.length}}],[{key:"findEdgeRingContaining",value:function(t,e){var n=t.getEnvelope(),i=void 0,r=void 0;return e.forEach((function(e){var o=e.getEnvelope();if(r&&(i=r.getEnvelope()),!s(o,n)&&a(o,n)){var l=t.map((function(t){return t.from.coordinates})).find((function(t){return!e.some((function(e){return u(t,e.from.coordinates)}))}));l&&e.inside(f(l))&&(r&&!a(i,o)||(r=e))}})),r}}]),t}();t.exports=g},function(t,e,n){var i=n(7),r=n(1).flattenEach,o=n(29),s=n(71);function a(t,e){for(var n=0;n<t.coordinates.length-1;n++)if(l(t.coordinates[n],t.coordinates[n+1],e.coordinates))return!0;return!1}function u(t,e){return o(e,s(t)).features.length>0}function l(t,e,n){var i=n[0]-t[0],r=n[1]-t[1],o=e[0]-t[0],s=e[1]-t[1];return 0==i*s-r*o&&(Math.abs(o)>=Math.abs(s)?o>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:s>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1])}t.exports=function(t,e){var n;return r(t,(function(t){r(e,(function(e){if(!1===n)return!1;n=function(t,e){switch(t.type){case"Point":switch(e.type){case"Point":return n=t.coordinates,r=e.coordinates,!(n[0]===r[0]&&n[1]===r[1]);case"LineString":return!a(e,t);case"Polygon":return!i(t,e)}break;case"LineString":switch(e.type){case"Point":return!a(t,e);case"LineString":return!function(t,e){if(o(t,e).features.length>0)return!0;return!1}(t,e);case"Polygon":return!u(e,t)}break;case"Polygon":switch(e.type){case"Point":return!i(e,t);case"LineString":return!u(t,e);case"Polygon":return!function(t,e){for(var n=0;n<t.coordinates[0].length;n++)if(i(t.coordinates[0][n],e))return!0;for(var r=0;r<e.coordinates[0].length;r++)if(i(e.coordinates[0][r],t))return!0;return!1}(e,t)}}var n,r}(t.geometry,e.geometry)}))})),n}},function(t,e,n){var i=n(7),r=n(6),o=n(100),s=n(2),a=s.getGeom,u=s.getCoords,l=s.getGeomType;function c(t,e){return!(t[0]>e[0])&&(!(t[2]<e[2])&&(!(t[1]>e[1])&&!(t[3]<e[3])))}function h(t,e){return t[0]===e[0]&&t[1]===e[1]}t.exports=function(t,e){var n=l(t),s=l(e),f=a(t),d=a(e),p=u(t),g=u(e);switch(n){case"Point":switch(s){case"Point":return h(p,g);default:throw new Error("feature2 "+s+" geometry not supported")}case"MultiPoint":switch(s){case"Point":return function(t,e){var n,i=!1;for(n=0;n<t.coordinates.length;n++)if(h(t.coordinates[n],e.coordinates)){i=!0;break}return i}(f,d);case"MultiPoint":return function(t,e){for(var n=0;n<e.coordinates.length;n++){for(var i=!1,r=0;r<t.coordinates.length;r++)if(h(e.coordinates[n],t.coordinates[r])){i=!0;break}if(!i)return!1}return!0}(f,d);default:throw new Error("feature2 "+s+" geometry not supported")}case"LineString":switch(s){case"Point":return o(d,f,!0);case"LineString":return function(t,e){for(var n=!1,i=0;i<e.coordinates.length;i++)if(o({type:"Point",coordinates:e.coordinates[i]},t,!0)&&(n=!0),!o({type:"Point",coordinates:e.coordinates[i]},t,!1))return!1;return n}(f,d);case"MultiPoint":return function(t,e){for(var n=!1,i=0;i<e.coordinates.length;i++)if(o(e.coordinates[i],t,!0)&&(n=!0),!o(e.coordinates[i],t))return!1;if(n)return!0;return!1}(f,d);default:throw new Error("feature2 "+s+" geometry not supported")}case"Polygon":switch(s){case"Point":return i(d,f,!0);case"LineString":return function(t,e){var n=!1,o=0,s=r(t),a=r(e);if(!c(s,a))return!1;for(;o<e.coordinates.length-1;o++){var u=(l=e.coordinates[o],h=e.coordinates[o+1],[(l[0]+h[0])/2,(l[1]+h[1])/2]);if(i({type:"Point",coordinates:u},t,!0)){n=!0;break}}var l,h;return n}(f,d);case"Polygon":return function(t,e){var n=r(t),o=r(e);if(!c(n,o))return!1;for(var s=0;s<e.coordinates[0].length;s++)if(!i(e.coordinates[0][s],t))return!1;return!0}(f,d);case"MultiPoint":return function(t,e){for(var n=0;n<e.coordinates.length;n++)if(!i(e.coordinates[n],t,!0))return!1;return!0}(f,d);default:throw new Error("feature2 "+s+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}}},function(t,e,n){var i=n(0),r=n(7),o=n(29),s=n(71),a=n(2),u=a.getGeom,l=a.getGeomType;function c(t,e){for(var n=!1,i=!1,r=t.coordinates.length,o=0;o<r&&!n&&!i;){for(var s=0;s<e.coordinates.length-1;s++){var a=!0;0!==s&&s!==e.coordinates.length-2||(a=!1),p(e.coordinates[s],e.coordinates[s+1],t.coordinates[o],a)?n=!0:i=!0}o++}return n&&i}function h(t,e){return o(t,s(e)).features.length>0}function f(t,e){return r(e,t)}function d(t,e){for(var n=!1,r=!1,o=t.coordinates[0].length,s=0;s<o&&n&&r;)f(e,i.point(t.coordinates[0][s]))?n=!0:r=!0,s++;return r&&r}function p(t,e,n,i){var r=n[0]-t[0],o=n[1]-t[1],s=e[0]-t[0],a=e[1]-t[1];return 0==r*a-o*s&&(i?Math.abs(s)>=Math.abs(a)?s>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:a>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1]:Math.abs(s)>=Math.abs(a)?s>0?t[0]<n[0]&&n[0]<e[0]:e[0]<n[0]&&n[0]<t[0]:a>0?t[1]<n[1]&&n[1]<e[1]:e[1]<n[1]&&n[1]<t[1])}t.exports=function(t,e){var n=l(t),i=l(e),r=u(t),s=u(e);switch(n){case"MultiPoint":switch(i){case"LineString":return c(r,s);case"Polygon":return d(r,s);default:throw new Error("feature2 "+i+" geometry not supported")}case"LineString":switch(i){case"MultiPoint":return c(s,r);case"LineString":return function(t,e){if(o(t,e).features.length>0)for(var n=0;n<t.coordinates.length-1;n++)for(var i=0;i<e.coordinates.length-1;i++){var r=!0;if(0!==i&&i!==e.coordinates.length-2||(r=!1),p(t.coordinates[n],t.coordinates[n+1],e.coordinates[i],r))return!0}return!1}(r,s);case"Polygon":return h(r,s);default:throw new Error("feature2 "+i+" geometry not supported")}case"Polygon":switch(i){case"MultiPoint":return d(s,r);case"LineString":return h(s,r);default:throw new Error("feature2 "+i+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}}},function(t,e,n){var i=n(155),r=n(65),o=n(2).getGeomType;t.exports=function(t,e){if(!t)throw new Error("feature1 is required");if(!e)throw new Error("feature2 is required");return o(t)===o(e)&&new i({precision:6}).compare(r(t),r(e))}},function(t,e,n){var i=n(7),r=n(6),o=n(2),s=n(100),a=o.getGeom,u=o.getGeomType;function l(t,e){return!(t[0]>e[0])&&(!(t[2]<e[2])&&(!(t[1]>e[1])&&!(t[3]<e[3])))}function c(t,e){return t[0]===e[0]&&t[1]===e[1]}t.exports=function(t,e){var n=u(t),o=u(e),h=a(t),f=a(e);switch(n){case"Point":switch(o){case"MultiPoint":return function(t,e){var n,i=!1;for(n=0;n<e.coordinates.length;n++)if(c(e.coordinates[n],t.coordinates)){i=!0;break}return i}(h,f);case"LineString":return s(h,f,!0);case"Polygon":return i(h,f,!0);default:throw new Error("feature2 "+o+" geometry not supported")}case"MultiPoint":switch(o){case"MultiPoint":return function(t,e){for(var n=0;n<t.coordinates.length;n++){for(var i=!1,r=0;r<e.coordinates.length;r++)c(t.coordinates[n],e.coordinates[r])&&(i=!0);if(!i)return!1}return!0}(h,f);case"LineString":return function(t,e){for(var n=!1,i=0;i<t.coordinates.length;i++){if(!s(t.coordinates[i],e))return!1;n||(n=s(t.coordinates[i],e,!0))}return n}(h,f);case"Polygon":return function(t,e){for(var n=!0,r=0;r<t.coordinates.length;r++){var o=i(t.coordinates[1],e);if(!o){n=!1;break}o=i(t.coordinates[1],e,!0)}return n&&o}(h,f);default:throw new Error("feature2 "+o+" geometry not supported")}case"LineString":switch(o){case"LineString":return function(t,e){for(var n=0;n<t.coordinates.length;n++)if(!s(t.coordinates[n],e))return!1;return!0}(h,f);case"Polygon":return function(t,e){var n=r(e),o=r(t);if(!l(n,o))return!1;for(var s=!1,a=0;a<t.coordinates.length-1;a++){if(!i(t.coordinates[a],e))return!1;if(s||(s=i(t.coordinates[a],e,!0)),!s){var u=(c=t.coordinates[a],h=t.coordinates[a+1],[(c[0]+h[0])/2,(c[1]+h[1])/2]);s=i(u,e,!0)}}var c,h;return s}(h,f);default:throw new Error("feature2 "+o+" geometry not supported")}case"Polygon":switch(o){case"Polygon":return function(t,e){var n=r(t);if(!l(r(e),n))return!1;for(var o=0;o<t.coordinates[0].length;o++)if(!i(t.coordinates[0][o],e))return!1;return!0}(h,f);default:throw new Error("feature2 "+o+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}}},function(t,e,n){var i=n(1),r=n(28),o=n(0),s=n(5),a=n(2),u=n(49),l=n(51),c=o.lineString,h=a.featureOf,f=o.point,d=i.segmentEach,p=o.bearingToAngle,g=o.convertDistance,v=o.degrees2radians;function m(t,e,n,i,o){var a=!0!==o?s(e,t,i):y(e,t,i),c=p(!0!==o?r(e,t):u(e,t)),h=p(!0!==o?r(e,n):u(e,n)),d=Math.abs(c-h);if(d>90)return a;var g=(h+180)%360,m=p(!0!==o?r(n,t):u(n,t)),E=Math.abs(m-g);return E>180&&(E=Math.abs(E-360)),E>90?!0!==o?s(t,n,i):y(t,n,i):!0!==o?a*Math.sin(v(d)):function(t,e,n,i){var r=0;(Math.abs(t[0])>=180||Math.abs(e[0])>=180||Math.abs(n[0])>=180)&&(r=t[0]>0||e[0]>0||n[0]>0?-180:180);var o=f(n),s=x([t[0]+r,t[1]]),a=x([e[0]+r,e[1]]),u=x([n[0]+r,n[1]]),c=function(t){var e=180/Math.PI,n=6378137;return[t[0]*e/n,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/n)))*e]}(function(t,e,n){var i=t[0],r=t[1],o=e[0],s=e[1],a=n[0],u=n[1],l=o-i,c=s-r,h=((a-i)*l+(u-r)*c)/(l*l+c*c);return[i+h*l,r+h*c]}(s,a,u));0!==r&&(c[0]-=r);return l(o,c,i)}(e,n,t,i)}function y(t,e,n){var i=0;Math.abs(t[0])>=180&&(i=t[0]>0?-180:180),Math.abs(e[0])>=180&&(i=e[0]>0?-180:180);var r=x([t[0]+i,t[1]]),o=x([e[0]+i,e[1]]),s=function(t){return t*t},a=s(r[0]-o[0])+s(r[1]-o[1]),u=Math.sqrt(a);return g(u,"meters",n)}function x(t){var e=Math.PI/180,n=6378137,i=20037508.342789244,r=[n*t[0]*e,n*Math.log(Math.tan(.25*Math.PI+.5*t[1]*e))];return r[0]>i&&(r[0]=i),r[0]<-i&&(r[0]=-i),r[1]>i&&(r[1]=i),r[1]<-i&&(r[1]=-i),r}t.exports=function(t,e,n,i){if(!t)throw new Error("point is required");if(Array.isArray(t)?t=f(t):h(t,"Point","point"),!e)throw new Error("line is required");Array.isArray(e)?e=c(e):h(e,"LineString","line");var r=1/0,o=t.geometry.coordinates;return d(e,(function(t){var e=t.geometry.coordinates[0],s=t.geometry.coordinates[1],a=m(o,e,s,n,i);r>a&&(r=a)})),r}},function(t,e,n){var i;
/*!
 * jQuery JavaScript Library v3.5.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2020-04-10T15:07Z
 */!function(e,n){"use strict";"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,(function(n,r){"use strict";var o=[],s=Object.getPrototypeOf,a=o.slice,u=o.flat?function(t){return o.flat.call(t)}:function(t){return o.concat.apply([],t)},l=o.push,c=o.indexOf,h={},f=h.toString,d=h.hasOwnProperty,p=d.toString,g=p.call(Object),v={},m=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},y=function(t){return null!=t&&t===t.window},x=n.document,E={type:!0,src:!0,nonce:!0,noModule:!0};function b(t,e,n){var i,r,o=(n=n||x).createElement("script");if(o.text=t,e)for(i in E)(r=e[i]||e.getAttribute&&e.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function C(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?h[f.call(t)]||"object":typeof t}var w=function(t,e){return new w.fn.init(t,e)};function _(t){var e=!!t&&"length"in t&&t.length,n=C(t);return!m(t)&&!y(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}w.fn=w.prototype={jquery:"3.5.0",constructor:w,length:0,toArray:function(){return a.call(this)},get:function(t){return null==t?a.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=w.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return w.each(this,t)},map:function(t){return this.pushStack(w.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(w.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(w.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:o.sort,splice:o.splice},w.extend=w.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||m(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(t=arguments[a]))for(e in t)i=t[e],"__proto__"!==e&&s!==i&&(l&&i&&(w.isPlainObject(i)||(r=Array.isArray(i)))?(n=s[e],o=r&&!Array.isArray(n)?[]:r||w.isPlainObject(n)?n:{},r=!1,s[e]=w.extend(l,o,i)):void 0!==i&&(s[e]=i));return s},w.extend({expando:"jQuery"+("3.5.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==f.call(t))&&(!(e=s(t))||"function"==typeof(n=d.call(e,"constructor")&&e.constructor)&&p.call(n)===g)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){b(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,i=0;if(_(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(_(Object(t))?w.merge(n,"string"==typeof t?[t]:t):l.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:c.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;r<o;r++)!e(t[r],r)!==s&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,s=[];if(_(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&s.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&s.push(r);return u(s)},guid:1,support:v}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=o[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){h["[object "+e+"]"]=e.toLowerCase()}));var A=
/*!
 * Sizzle CSS Selector Engine v2.3.5
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2020-03-14
 */
function(t){var e,n,i,r,o,s,a,u,l,c,h,f,d,p,g,v,m,y,x,E="sizzle"+1*new Date,b=t.document,C=0,w=0,_=ut(),A=ut(),S=ut(),D=ut(),L=function(t,e){return t===e&&(h=!0),0},F={}.hasOwnProperty,T=[],M=T.pop,I=T.push,P=T.push,O=T.slice,B=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",k="[\\x20\\t\\r\\n\\f]",R="(?:\\\\[\\da-fA-F]{1,6}"+k+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",j="\\["+k+"*("+R+")(?:"+k+"*([*^$|!~]?=)"+k+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+k+"*\\]",V=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+j+")*)|.*)\\)|)",G=new RegExp(k+"+","g"),z=new RegExp("^"+k+"+|((?:^|[^\\\\])(?:\\\\.)*)"+k+"+$","g"),q=new RegExp("^"+k+"*,"+k+"*"),U=new RegExp("^"+k+"*([>+~]|"+k+")"+k+"*"),X=new RegExp(k+"|>"),H=new RegExp(V),Y=new RegExp("^"+R+"$"),W={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+V),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+k+"*(even|odd|(([+-]|)(\\d*)n|)"+k+"*(?:([+-]|)"+k+"*(\\d+)|))"+k+"*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^"+k+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+k+"*((?:-\\d)?\\d*)"+k+"*\\)|)(?=[^-]|$)","i")},J=/HTML$/i,K=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\[\\da-fA-F]{1,6}"+k+"?|\\\\([^\\r\\n\\f])","g"),nt=function(t,e){var n="0x"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},it=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,rt=function(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},ot=function(){f()},st=Et((function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{P.apply(T=O.call(b.childNodes),b.childNodes),T[b.childNodes.length].nodeType}catch(t){P={apply:T.length?function(t,e){I.apply(t,O.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function at(t,e,i,r){var o,a,l,c,h,p,m,y=e&&e.ownerDocument,b=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==b&&9!==b&&11!==b)return i;if(!r&&(f(e),e=e||d,g)){if(11!==b&&(h=Q.exec(t)))if(o=h[1]){if(9===b){if(!(l=e.getElementById(o)))return i;if(l.id===o)return i.push(l),i}else if(y&&(l=y.getElementById(o))&&x(e,l)&&l.id===o)return i.push(l),i}else{if(h[2])return P.apply(i,e.getElementsByTagName(t)),i;if((o=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return P.apply(i,e.getElementsByClassName(o)),i}if(n.qsa&&!D[t+" "]&&(!v||!v.test(t))&&(1!==b||"object"!==e.nodeName.toLowerCase())){if(m=t,y=e,1===b&&(X.test(t)||U.test(t))){for((y=tt.test(t)&&mt(e.parentNode)||e)===e&&n.scope||((c=e.getAttribute("id"))?c=c.replace(it,rt):e.setAttribute("id",c=E)),a=(p=s(t)).length;a--;)p[a]=(c?"#"+c:":scope")+" "+xt(p[a]);m=p.join(",")}try{return P.apply(i,y.querySelectorAll(m)),i}catch(e){D(t,!0)}finally{c===E&&e.removeAttribute("id")}}}return u(t.replace(z,"$1"),e,i,r)}function ut(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function lt(t){return t[E]=!0,t}function ct(t){var e=d.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ht(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function ft(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function dt(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function pt(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function gt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&st(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function vt(t){return lt((function(e){return e=+e,lt((function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))}))}))}function mt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=at.support={},o=at.isXML=function(t){var e=t.namespaceURI,n=(t.ownerDocument||t).documentElement;return!J.test(e||n&&n.nodeName||"HTML")},f=at.setDocument=function(t){var e,r,s=t?t.ownerDocument||t:b;return s!=d&&9===s.nodeType&&s.documentElement?(p=(d=s).documentElement,g=!o(d),b!=d&&(r=d.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ot,!1):r.attachEvent&&r.attachEvent("onunload",ot)),n.scope=ct((function(t){return p.appendChild(t).appendChild(d.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length})),n.attributes=ct((function(t){return t.className="i",!t.getAttribute("className")})),n.getElementsByTagName=ct((function(t){return t.appendChild(d.createComment("")),!t.getElementsByTagName("*").length})),n.getElementsByClassName=$.test(d.getElementsByClassName),n.getById=ct((function(t){return p.appendChild(t).id=E,!d.getElementsByName||!d.getElementsByName(E).length})),n.getById?(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},m=[],v=[],(n.qsa=$.test(d.querySelectorAll))&&(ct((function(t){var e;p.appendChild(t).innerHTML="<a id='"+E+"'></a><select id='"+E+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+k+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||v.push("\\["+k+"*(?:value|"+N+")"),t.querySelectorAll("[id~="+E+"-]").length||v.push("~="),(e=d.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||v.push("\\["+k+"*name"+k+"*="+k+"*(?:''|\"\")"),t.querySelectorAll(":checked").length||v.push(":checked"),t.querySelectorAll("a#"+E+"+*").length||v.push(".#.+[+~]"),t.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")})),ct((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=d.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&v.push("name"+k+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),p.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),v.push(",.*:")}))),(n.matchesSelector=$.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ct((function(t){n.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),m.push("!=",V)})),v=v.length&&new RegExp(v.join("|")),m=m.length&&new RegExp(m.join("|")),e=$.test(p.compareDocumentPosition),x=e||$.test(p.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},L=e?function(t,e){if(t===e)return h=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t==d||t.ownerDocument==b&&x(b,t)?-1:e==d||e.ownerDocument==b&&x(b,e)?1:c?B(c,t)-B(c,e):0:4&i?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!r||!o)return t==d?-1:e==d?1:r?-1:o?1:c?B(c,t)-B(c,e):0;if(r===o)return ft(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?ft(s[i],a[i]):s[i]==b?-1:a[i]==b?1:0},d):d},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if(f(t),n.matchesSelector&&g&&!D[e+" "]&&(!m||!m.test(e))&&(!v||!v.test(e)))try{var i=y.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){D(e,!0)}return at(e,d,null,[t]).length>0},at.contains=function(t,e){return(t.ownerDocument||t)!=d&&f(t),x(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!=d&&f(t);var r=i.attrHandle[e.toLowerCase()],o=r&&F.call(i.attrHandle,e.toLowerCase())?r(t,e,!g):void 0;return void 0!==o?o:n.attributes||!g?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},at.escape=function(t){return(t+"").replace(it,rt)},at.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},at.uniqueSort=function(t){var e,i=[],r=0,o=0;if(h=!n.detectDuplicates,c=!n.sortStable&&t.slice(0),t.sort(L),h){for(;e=t[o++];)e===t[o]&&(r=i.push(o));for(;r--;)t.splice(i[r],1)}return c=null,t},r=at.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},(i=at.selectors={cacheLength:50,createPseudo:lt,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return W.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&H.test(n)&&(e=s(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=_[t+" "];return e||(e=new RegExp("(^|"+k+")"+t+"("+k+"|$)"))&&_(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(i){var r=at.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(G," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,u){var l,c,h,f,d,p,g=o!==s?"nextSibling":"previousSibling",v=e.parentNode,m=a&&e.nodeName.toLowerCase(),y=!u&&!a,x=!1;if(v){if(o){for(;g;){for(f=e;f=f[g];)if(a?f.nodeName.toLowerCase()===m:1===f.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?v.firstChild:v.lastChild],s&&y){for(x=(d=(l=(c=(h=(f=v)[E]||(f[E]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===C&&l[1])&&l[2],f=d&&v.childNodes[d];f=++d&&f&&f[g]||(x=d=0)||p.pop();)if(1===f.nodeType&&++x&&f===e){c[t]=[C,d,x];break}}else if(y&&(x=d=(l=(c=(h=(f=e)[E]||(f[E]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===C&&l[1]),!1===x)for(;(f=++d&&f&&f[g]||(x=d=0)||p.pop())&&((a?f.nodeName.toLowerCase()!==m:1!==f.nodeType)||!++x||(y&&((c=(h=f[E]||(f[E]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]=[C,x]),f!==e)););return(x-=r)===i||x%i==0&&x/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||at.error("unsupported pseudo: "+t);return r[E]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?lt((function(t,n){for(var i,o=r(t,e),s=o.length;s--;)t[i=B(t,o[s])]=!(n[i]=o[s])})):function(t){return r(t,0,n)}):r}},pseudos:{not:lt((function(t){var e=[],n=[],i=a(t.replace(z,"$1"));return i[E]?lt((function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))})):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}})),has:lt((function(t){return function(e){return at(t,e).length>0}})),contains:lt((function(t){return t=t.replace(et,nt),function(e){return(e.textContent||r(e)).indexOf(t)>-1}})),lang:lt((function(t){return Y.test(t||"")||at.error("unsupported lang: "+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===p},focus:function(t){return t===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:gt(!1),disabled:gt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return Z.test(t.nodeName)},input:function(t){return K.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:vt((function(){return[0]})),last:vt((function(t,e){return[e-1]})),eq:vt((function(t,e,n){return[n<0?n+e:n]})),even:vt((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:vt((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:vt((function(t,e,n){for(var i=n<0?n+e:n>e?e:n;--i>=0;)t.push(i);return t})),gt:vt((function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t}))}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=dt(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=pt(e);function yt(){}function xt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function Et(t,e,n){var i=e.dir,r=e.next,o=r||i,s=n&&"parentNode"===o,a=w++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||s)return t(e,n,r);return!1}:function(e,n,u){var l,c,h,f=[C,a];if(u){for(;e=e[i];)if((1===e.nodeType||s)&&t(e,n,u))return!0}else for(;e=e[i];)if(1===e.nodeType||s)if(c=(h=e[E]||(e[E]={}))[e.uniqueID]||(h[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((l=c[o])&&l[0]===C&&l[1]===a)return f[2]=l[2];if(c[o]=f,f[2]=t(e,n,u))return!0}return!1}}function bt(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function Ct(t,e,n,i,r){for(var o,s=[],a=0,u=t.length,l=null!=e;a<u;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),l&&e.push(a)));return s}function wt(t,e,n,i,r,o){return i&&!i[E]&&(i=wt(i)),r&&!r[E]&&(r=wt(r,o)),lt((function(o,s,a,u){var l,c,h,f=[],d=[],p=s.length,g=o||function(t,e,n){for(var i=0,r=e.length;i<r;i++)at(t,e[i],n);return n}(e||"*",a.nodeType?[a]:a,[]),v=!t||!o&&e?g:Ct(g,f,t,a,u),m=n?r||(o?t:p||i)?[]:s:v;if(n&&n(v,m,a,u),i)for(l=Ct(m,d),i(l,[],a,u),c=l.length;c--;)(h=l[c])&&(m[d[c]]=!(v[d[c]]=h));if(o){if(r||t){if(r){for(l=[],c=m.length;c--;)(h=m[c])&&l.push(v[c]=h);r(null,m=[],l,u)}for(c=m.length;c--;)(h=m[c])&&(l=r?B(o,h):f[c])>-1&&(o[l]=!(s[l]=h))}}else m=Ct(m===s?m.splice(p,m.length):m),r?r(null,s,m,u):P.apply(s,m)}))}function _t(t){for(var e,n,r,o=t.length,s=i.relative[t[0].type],a=s||i.relative[" "],u=s?1:0,c=Et((function(t){return t===e}),a,!0),h=Et((function(t){return B(e,t)>-1}),a,!0),f=[function(t,n,i){var r=!s&&(i||n!==l)||((e=n).nodeType?c(t,n,i):h(t,n,i));return e=null,r}];u<o;u++)if(n=i.relative[t[u].type])f=[Et(bt(f),n)];else{if((n=i.filter[t[u].type].apply(null,t[u].matches))[E]){for(r=++u;r<o&&!i.relative[t[r].type];r++);return wt(u>1&&bt(f),u>1&&xt(t.slice(0,u-1).concat({value:" "===t[u-2].type?"*":""})).replace(z,"$1"),n,u<r&&_t(t.slice(u,r)),r<o&&_t(t=t.slice(r)),r<o&&xt(t))}f.push(n)}return bt(f)}return yt.prototype=i.filters=i.pseudos,i.setFilters=new yt,s=at.tokenize=function(t,e){var n,r,o,s,a,u,l,c=A[t+" "];if(c)return e?0:c.slice(0);for(a=t,u=[],l=i.preFilter;a;){for(s in n&&!(r=q.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),n=!1,(r=U.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(z," ")}),a=a.slice(n.length)),i.filter)!(r=W[s].exec(a))||l[s]&&!(r=l[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return e?a.length:a?at.error(t):A(t,u).slice(0)},a=at.compile=function(t,e){var n,r=[],o=[],a=S[t+" "];if(!a){for(e||(e=s(t)),n=e.length;n--;)(a=_t(e[n]))[E]?r.push(a):o.push(a);(a=S(t,function(t,e){var n=e.length>0,r=t.length>0,o=function(o,s,a,u,c){var h,p,v,m=0,y="0",x=o&&[],E=[],b=l,w=o||r&&i.find.TAG("*",c),_=C+=null==b?1:Math.random()||.1,A=w.length;for(c&&(l=s==d||s||c);y!==A&&null!=(h=w[y]);y++){if(r&&h){for(p=0,s||h.ownerDocument==d||(f(h),a=!g);v=t[p++];)if(v(h,s||d,a)){u.push(h);break}c&&(C=_)}n&&((h=!v&&h)&&m--,o&&x.push(h))}if(m+=y,n&&y!==m){for(p=0;v=e[p++];)v(x,E,s,a);if(o){if(m>0)for(;y--;)x[y]||E[y]||(E[y]=M.call(u));E=Ct(E)}P.apply(u,E),c&&!o&&E.length>0&&m+e.length>1&&at.uniqueSort(u)}return c&&(C=_,l=b),x};return n?lt(o):o}(o,r))).selector=t}return a},u=at.select=function(t,e,n,r){var o,u,l,c,h,f="function"==typeof t&&t,d=!r&&s(t=f.selector||t);if(n=n||[],1===d.length){if((u=d[0]=d[0].slice(0)).length>2&&"ID"===(l=u[0]).type&&9===e.nodeType&&g&&i.relative[u[1].type]){if(!(e=(i.find.ID(l.matches[0].replace(et,nt),e)||[])[0]))return n;f&&(e=e.parentNode),t=t.slice(u.shift().value.length)}for(o=W.needsContext.test(t)?0:u.length;o--&&(l=u[o],!i.relative[c=l.type]);)if((h=i.find[c])&&(r=h(l.matches[0].replace(et,nt),tt.test(u[0].type)&&mt(e.parentNode)||e))){if(u.splice(o,1),!(t=r.length&&xt(u)))return P.apply(n,r),n;break}}return(f||a(t,d))(r,e,!g,n,!e||tt.test(t)&&mt(e.parentNode)||e),n},n.sortStable=E.split("").sort(L).join("")===E,n.detectDuplicates=!!h,f(),n.sortDetached=ct((function(t){return 1&t.compareDocumentPosition(d.createElement("fieldset"))})),ct((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||ht("type|href|height|width",(function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),n.attributes&&ct((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||ht("value",(function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),ct((function(t){return null==t.getAttribute("disabled")}))||ht(N,(function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null})),at}(n);w.find=A,w.expr=A.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=A.uniqueSort,w.text=A.getText,w.isXMLDoc=A.isXML,w.contains=A.contains,w.escapeSelector=A.escape;var S=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&w(t).is(n))break;i.push(t)}return i},D=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},L=w.expr.match.needsContext;function F(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var T=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function M(t,e,n){return m(e)?w.grep(t,(function(t,i){return!!e.call(t,i,t)!==n})):e.nodeType?w.grep(t,(function(t){return t===e!==n})):"string"!=typeof e?w.grep(t,(function(t){return c.call(e,t)>-1!==n})):w.filter(e,t,n)}w.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?w.find.matchesSelector(i,t)?[i]:[]:w.find.matches(t,w.grep(e,(function(t){return 1===t.nodeType})))},w.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(w(t).filter((function(){for(e=0;e<i;e++)if(w.contains(r[e],this))return!0})));for(n=this.pushStack([]),e=0;e<i;e++)w.find(t,r[e],n);return i>1?w.uniqueSort(n):n},filter:function(t){return this.pushStack(M(this,t||[],!1))},not:function(t){return this.pushStack(M(this,t||[],!0))},is:function(t){return!!M(this,"string"==typeof t&&L.test(t)?w(t):t||[],!1).length}});var I,P=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||I,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:P.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof w?e[0]:e,w.merge(this,w.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:x,!0)),T.test(i[1])&&w.isPlainObject(e))for(i in e)m(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=x.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):m(t)?void 0!==n.ready?n.ready(t):t(w):w.makeArray(t,this)}).prototype=w.fn,I=w(x);var O=/^(?:parents|prev(?:Until|All))/,B={children:!0,contents:!0,next:!0,prev:!0};function N(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}w.fn.extend({has:function(t){var e=w(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(w.contains(this,e[t]))return!0}))},closest:function(t,e){var n,i=0,r=this.length,o=[],s="string"!=typeof t&&w(t);if(!L.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?w.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?c.call(w(t),this[0]):c.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),w.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return S(t,"parentNode")},parentsUntil:function(t,e,n){return S(t,"parentNode",n)},next:function(t){return N(t,"nextSibling")},prev:function(t){return N(t,"previousSibling")},nextAll:function(t){return S(t,"nextSibling")},prevAll:function(t){return S(t,"previousSibling")},nextUntil:function(t,e,n){return S(t,"nextSibling",n)},prevUntil:function(t,e,n){return S(t,"previousSibling",n)},siblings:function(t){return D((t.parentNode||{}).firstChild,t)},children:function(t){return D(t.firstChild)},contents:function(t){return null!=t.contentDocument&&s(t.contentDocument)?t.contentDocument:(F(t,"template")&&(t=t.content||t),w.merge([],t.childNodes))}},(function(t,e){w.fn[t]=function(n,i){var r=w.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=w.filter(i,r)),this.length>1&&(B[t]||w.uniqueSort(r),O.test(t)&&r.reverse()),this.pushStack(r)}}));var k=/[^\x20\t\r\n\f]+/g;function R(t){return t}function j(t){throw t}function V(t,e,n,i){var r;try{t&&m(r=t.promise)?r.call(t).done(e).fail(n):t&&m(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}w.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return w.each(t.match(k)||[],(function(t,n){e[n]=!0})),e}(t):w.extend({},t);var e,n,i,r,o=[],s=[],a=-1,u=function(){for(r=r||t.once,i=e=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},l={add:function(){return o&&(n&&!e&&(a=o.length-1,s.push(n)),function e(n){w.each(n,(function(n,i){m(i)?t.unique&&l.has(i)||o.push(i):i&&i.length&&"string"!==C(i)&&e(i)}))}(arguments),n&&!e&&u()),this},remove:function(){return w.each(arguments,(function(t,e){for(var n;(n=w.inArray(e,o,n))>-1;)o.splice(n,1),n<=a&&a--})),this},has:function(t){return t?w.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],s.push(n),e||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!i}};return l},w.extend({Deferred:function(t){var e=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return w.Deferred((function(n){w.each(e,(function(e,i){var r=m(t[i[4]])&&t[i[4]];o[i[1]]((function(){var t=r&&r.apply(this,arguments);t&&m(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[t]:arguments)}))})),t=null})).promise()},then:function(t,i,r){var o=0;function s(t,e,i,r){return function(){var a=this,u=arguments,l=function(){var n,l;if(!(t<o)){if((n=i.apply(a,u))===e.promise())throw new TypeError("Thenable self-resolution");l=n&&("object"==typeof n||"function"==typeof n)&&n.then,m(l)?r?l.call(n,s(o,e,R,r),s(o,e,j,r)):(o++,l.call(n,s(o,e,R,r),s(o,e,j,r),s(o,e,R,e.notifyWith))):(i!==R&&(a=void 0,u=[n]),(r||e.resolveWith)(a,u))}},c=r?l:function(){try{l()}catch(n){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(n,c.stackTrace),t+1>=o&&(i!==j&&(a=void 0,u=[n]),e.rejectWith(a,u))}};t?c():(w.Deferred.getStackHook&&(c.stackTrace=w.Deferred.getStackHook()),n.setTimeout(c))}}return w.Deferred((function(n){e[0][3].add(s(0,n,m(r)?r:R,n.notifyWith)),e[1][3].add(s(0,n,m(t)?t:R)),e[2][3].add(s(0,n,m(i)?i:j))})).promise()},promise:function(t){return null!=t?w.extend(t,r):r}},o={};return w.each(e,(function(t,n){var s=n[2],a=n[5];r[n[1]]=s.add,a&&s.add((function(){i=a}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),s.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=s.fireWith})),r.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=a.call(arguments),o=w.Deferred(),s=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?a.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(V(t,o.done(s(n)).resolve,o.reject,!e),"pending"===o.state()||m(r[n]&&r[n].then)))return o.then();for(;n--;)V(r[n],s(n),o.reject);return o.promise()}});var G=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&G.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},w.readyException=function(t){n.setTimeout((function(){throw t}))};var z=w.Deferred();function q(){x.removeEventListener("DOMContentLoaded",q),n.removeEventListener("load",q),w.ready()}w.fn.ready=function(t){return z.then(t).catch((function(t){w.readyException(t)})),this},w.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==t&&--w.readyWait>0||z.resolveWith(x,[w]))}}),w.ready.then=z.then,"complete"===x.readyState||"loading"!==x.readyState&&!x.documentElement.doScroll?n.setTimeout(w.ready):(x.addEventListener("DOMContentLoaded",q),n.addEventListener("load",q));var U=function(t,e,n,i,r,o,s){var a=0,u=t.length,l=null==n;if("object"===C(n))for(a in r=!0,n)U(t,e,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,m(i)||(s=!0),l&&(s?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(w(t),n)})),e))for(;a<u;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:l?e.call(t):u?e(t[0],n):o},X=/^-ms-/,H=/-([a-z])/g;function Y(t,e){return e.toUpperCase()}function W(t){return t.replace(X,"ms-").replace(H,Y)}var J=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function K(){this.expando=w.expando+K.uid++}K.uid=1,K.prototype={cache:function(t){var e=t[this.expando];return e||(e=Object.create(null),J(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[W(e)]=n;else for(i in e)r[W(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][W(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(W):(e=W(e))in i?[e]:e.match(k)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||w.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!w.isEmptyObject(e)}};var Z=new K,$=new K,Q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,tt=/[A-Z]/g;function et(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(tt,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Q.test(t)?JSON.parse(t):t)}(n)}catch(t){}$.set(t,e,n)}else n=void 0;return n}w.extend({hasData:function(t){return $.hasData(t)||Z.hasData(t)},data:function(t,e,n){return $.access(t,e,n)},removeData:function(t,e){$.remove(t,e)},_data:function(t,e,n){return Z.access(t,e,n)},_removeData:function(t,e){Z.remove(t,e)}}),w.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=$.get(o),1===o.nodeType&&!Z.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=W(i.slice(5)),et(o,i,r[i]));Z.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each((function(){$.set(this,t)})):U(this,(function(e){var n;if(o&&void 0===e)return void 0!==(n=$.get(o,t))||void 0!==(n=et(o,t))?n:void 0;this.each((function(){$.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){$.remove(this,t)}))}}),w.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=Z.get(t,e),n&&(!i||Array.isArray(n)?i=Z.access(t,e,w.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=w.queue(t,e),i=n.length,r=n.shift(),o=w._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,(function(){w.dequeue(t,e)}),o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Z.get(t,n)||Z.access(t,n,{empty:w.Callbacks("once memory").add((function(){Z.remove(t,[e+"queue",n])}))})}}),w.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?w.queue(this[0],t):void 0===e?this:this.each((function(){var n=w.queue(this,t,e);w._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&w.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){w.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=w.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=Z.get(o[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var nt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,it=new RegExp("^(?:([+-])=|)("+nt+")([a-z%]*)$","i"),rt=["Top","Right","Bottom","Left"],ot=x.documentElement,st=function(t){return w.contains(t.ownerDocument,t)},at={composed:!0};ot.getRootNode&&(st=function(t){return w.contains(t.ownerDocument,t)||t.getRootNode(at)===t.ownerDocument});var ut=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&st(t)&&"none"===w.css(t,"display")};function lt(t,e,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return w.css(t,e,"")},u=a(),l=n&&n[3]||(w.cssNumber[e]?"":"px"),c=t.nodeType&&(w.cssNumber[e]||"px"!==l&&+u)&&it.exec(w.css(t,e));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;s--;)w.style(t,e,c+l),(1-o)*(1-(o=a()/u||.5))<=0&&(s=0),c/=o;c*=2,w.style(t,e,c+l),n=n||[]}return n&&(c=+c||+u||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=c,i.end=r)),r}var ct={};function ht(t){var e,n=t.ownerDocument,i=t.nodeName,r=ct[i];return r||(e=n.body.appendChild(n.createElement(i)),r=w.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),ct[i]=r,r)}function ft(t,e){for(var n,i,r=[],o=0,s=t.length;o<s;o++)(i=t[o]).style&&(n=i.style.display,e?("none"===n&&(r[o]=Z.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&ut(i)&&(r[o]=ht(i))):"none"!==n&&(r[o]="none",Z.set(i,"display",n)));for(o=0;o<s;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}w.fn.extend({show:function(){return ft(this,!0)},hide:function(){return ft(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){ut(this)?w(this).show():w(this).hide()}))}});var dt,pt,gt=/^(?:checkbox|radio)$/i,vt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,mt=/^$|^module$|\/(?:java|ecma)script/i;dt=x.createDocumentFragment().appendChild(x.createElement("div")),(pt=x.createElement("input")).setAttribute("type","radio"),pt.setAttribute("checked","checked"),pt.setAttribute("name","t"),dt.appendChild(pt),v.checkClone=dt.cloneNode(!0).cloneNode(!0).lastChild.checked,dt.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!dt.cloneNode(!0).lastChild.defaultValue,dt.innerHTML="<option></option>",v.option=!!dt.lastChild;var yt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function xt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&F(t,e)?w.merge([t],n):n}function Et(t,e){for(var n=0,i=t.length;n<i;n++)Z.set(t[n],"globalEval",!e||Z.get(e[n],"globalEval"))}yt.tbody=yt.tfoot=yt.colgroup=yt.caption=yt.thead,yt.th=yt.td,v.option||(yt.optgroup=yt.option=[1,"<select multiple='multiple'>","</select>"]);var bt=/<|&#?\w+;/;function Ct(t,e,n,i,r){for(var o,s,a,u,l,c,h=e.createDocumentFragment(),f=[],d=0,p=t.length;d<p;d++)if((o=t[d])||0===o)if("object"===C(o))w.merge(f,o.nodeType?[o]:o);else if(bt.test(o)){for(s=s||h.appendChild(e.createElement("div")),a=(vt.exec(o)||["",""])[1].toLowerCase(),u=yt[a]||yt._default,s.innerHTML=u[1]+w.htmlPrefilter(o)+u[2],c=u[0];c--;)s=s.lastChild;w.merge(f,s.childNodes),(s=h.firstChild).textContent=""}else f.push(e.createTextNode(o));for(h.textContent="",d=0;o=f[d++];)if(i&&w.inArray(o,i)>-1)r&&r.push(o);else if(l=st(o),s=xt(h.appendChild(o),"script"),l&&Et(s),n)for(c=0;o=s[c++];)mt.test(o.type||"")&&n.push(o);return h}var wt=/^key/,_t=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,At=/^([^.]*)(?:\.(.+)|)/;function St(){return!0}function Dt(){return!1}function Lt(t,e){return t===function(){try{return x.activeElement}catch(t){}}()==("focus"===e)}function Ft(t,e,n,i,r,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=void 0),e)Ft(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Dt;else if(!r)return t;return 1===o&&(s=r,(r=function(t){return w().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=w.guid++)),t.each((function(){w.event.add(this,e,r,i,n)}))}function Tt(t,e,n){n?(Z.set(t,e,!1),w.event.add(t,e,{namespace:!1,handler:function(t){var i,r,o=Z.get(this,e);if(1&t.isTrigger&&this[e]){if(o.length)(w.event.special[e]||{}).delegateType&&t.stopPropagation();else if(o=a.call(arguments),Z.set(this,e,o),i=n(this,e),this[e](),o!==(r=Z.get(this,e))||i?Z.set(this,e,!1):r={},o!==r)return t.stopImmediatePropagation(),t.preventDefault(),r.value}else o.length&&(Z.set(this,e,{value:w.event.trigger(w.extend(o[0],w.Event.prototype),o.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===Z.get(t,e)&&w.event.add(t,e,St)}w.event={global:{},add:function(t,e,n,i,r){var o,s,a,u,l,c,h,f,d,p,g,v=Z.get(t);if(J(t))for(n.handler&&(n=(o=n).handler,r=o.selector),r&&w.find.matchesSelector(ot,r),n.guid||(n.guid=w.guid++),(u=v.events)||(u=v.events=Object.create(null)),(s=v.handle)||(s=v.handle=function(e){return void 0!==w&&w.event.triggered!==e.type?w.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(k)||[""]).length;l--;)d=g=(a=At.exec(e[l])||[])[1],p=(a[2]||"").split(".").sort(),d&&(h=w.event.special[d]||{},d=(r?h.delegateType:h.bindType)||d,h=w.event.special[d]||{},c=w.extend({type:d,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&w.expr.match.needsContext.test(r),namespace:p.join(".")},o),(f=u[d])||((f=u[d]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,p,s)||t.addEventListener&&t.addEventListener(d,s)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,c):f.push(c),w.event.global[d]=!0)},remove:function(t,e,n,i,r){var o,s,a,u,l,c,h,f,d,p,g,v=Z.hasData(t)&&Z.get(t);if(v&&(u=v.events)){for(l=(e=(e||"").match(k)||[""]).length;l--;)if(d=g=(a=At.exec(e[l])||[])[1],p=(a[2]||"").split(".").sort(),d){for(h=w.event.special[d]||{},f=u[d=(i?h.delegateType:h.bindType)||d]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)c=f[o],!r&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,h.remove&&h.remove.call(t,c));s&&!f.length&&(h.teardown&&!1!==h.teardown.call(t,p,v.handle)||w.removeEvent(t,d,v.handle),delete u[d])}else for(d in u)w.event.remove(t,d+e[l],n,i,!0);w.isEmptyObject(u)&&Z.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,s,a=new Array(arguments.length),u=w.event.fix(t),l=(Z.get(this,"events")||Object.create(null))[u.type]||[],c=w.event.special[u.type]||{};for(a[0]=u,e=1;e<arguments.length;e++)a[e]=arguments[e];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){for(s=w.event.handlers.call(this,u,l),e=0;(r=s[e++])&&!u.isPropagationStopped();)for(u.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!u.isImmediatePropagationStopped();)u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(i=((w.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a))&&!1===(u.result=i)&&(u.preventDefault(),u.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(t,e){var n,i,r,o,s,a=[],u=e.delegateCount,l=t.target;if(u&&l.nodeType&&!("click"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||!0!==l.disabled)){for(o=[],s={},n=0;n<u;n++)void 0===s[r=(i=e[n]).selector+" "]&&(s[r]=i.needsContext?w(r,this).index(l)>-1:w.find(r,this,null,[l]).length),s[r]&&o.push(i);o.length&&a.push({elem:l,handlers:o})}return l=this,u<e.length&&a.push({elem:l,handlers:e.slice(u)}),a},addProp:function(t,e){Object.defineProperty(w.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[w.expando]?t:new w.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return gt.test(e.type)&&e.click&&F(e,"input")&&Tt(e,"click",St),!1},trigger:function(t){var e=this||t;return gt.test(e.type)&&e.click&&F(e,"input")&&Tt(e,"click"),!0},_default:function(t){var e=t.target;return gt.test(e.type)&&e.click&&F(e,"input")&&Z.get(e,"click")||F(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},w.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},w.Event=function(t,e){if(!(this instanceof w.Event))return new w.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?St:Dt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&w.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:Dt,isPropagationStopped:Dt,isImmediatePropagationStopped:Dt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=St,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=St,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=St,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&wt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&_t.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},w.event.addProp),w.each({focus:"focusin",blur:"focusout"},(function(t,e){w.event.special[t]={setup:function(){return Tt(this,t,Lt),!1},trigger:function(){return Tt(this,t),!0},delegateType:e}})),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){w.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===i||w.contains(i,r))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}})),w.fn.extend({on:function(t,e,n,i){return Ft(this,t,e,n,i)},one:function(t,e,n,i){return Ft(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,w(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Dt),this.each((function(){w.event.remove(this,t,n,e)}))}});var Mt=/<script|<style|<link/i,It=/checked\s*(?:[^=]|=\s*.checked.)/i,Pt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ot(t,e){return F(t,"table")&&F(11!==e.nodeType?e:e.firstChild,"tr")&&w(t).children("tbody")[0]||t}function Bt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Nt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function kt(t,e){var n,i,r,o,s,a;if(1===e.nodeType){if(Z.hasData(t)&&(a=Z.get(t).events))for(r in Z.remove(e,"handle events"),a)for(n=0,i=a[r].length;n<i;n++)w.event.add(e,r,a[r][n]);$.hasData(t)&&(o=$.access(t),s=w.extend({},o),$.set(e,s))}}function Rt(t,e){var n=e.nodeName.toLowerCase();"input"===n&&gt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function jt(t,e,n,i){e=u(e);var r,o,s,a,l,c,h=0,f=t.length,d=f-1,p=e[0],g=m(p);if(g||f>1&&"string"==typeof p&&!v.checkClone&&It.test(p))return t.each((function(r){var o=t.eq(r);g&&(e[0]=p.call(this,r,o.html())),jt(o,e,n,i)}));if(f&&(o=(r=Ct(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(a=(s=w.map(xt(r,"script"),Bt)).length;h<f;h++)l=r,h!==d&&(l=w.clone(l,!0,!0),a&&w.merge(s,xt(l,"script"))),n.call(t[h],l,h);if(a)for(c=s[s.length-1].ownerDocument,w.map(s,Nt),h=0;h<a;h++)l=s[h],mt.test(l.type||"")&&!Z.access(l,"globalEval")&&w.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?w._evalUrl&&!l.noModule&&w._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},c):b(l.textContent.replace(Pt,""),l,c))}return t}function Vt(t,e,n){for(var i,r=e?w.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||w.cleanData(xt(i)),i.parentNode&&(n&&st(i)&&Et(xt(i,"script")),i.parentNode.removeChild(i));return t}w.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var i,r,o,s,a=t.cloneNode(!0),u=st(t);if(!(v.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||w.isXMLDoc(t)))for(s=xt(a),i=0,r=(o=xt(t)).length;i<r;i++)Rt(o[i],s[i]);if(e)if(n)for(o=o||xt(t),s=s||xt(a),i=0,r=o.length;i<r;i++)kt(o[i],s[i]);else kt(t,a);return(s=xt(a,"script")).length>0&&Et(s,!u&&xt(t,"script")),a},cleanData:function(t){for(var e,n,i,r=w.event.special,o=0;void 0!==(n=t[o]);o++)if(J(n)){if(e=n[Z.expando]){if(e.events)for(i in e.events)r[i]?w.event.remove(n,i):w.removeEvent(n,i,e.handle);n[Z.expando]=void 0}n[$.expando]&&(n[$.expando]=void 0)}}}),w.fn.extend({detach:function(t){return Vt(this,t,!0)},remove:function(t){return Vt(this,t)},text:function(t){return U(this,(function(t){return void 0===t?w.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return jt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ot(this,t).appendChild(t)}))},prepend:function(){return jt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Ot(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return jt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return jt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(w.cleanData(xt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return w.clone(this,t,e)}))},html:function(t){return U(this,(function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Mt.test(t)&&!yt[(vt.exec(t)||["",""])[1].toLowerCase()]){t=w.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(w.cleanData(xt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return jt(this,arguments,(function(e){var n=this.parentNode;w.inArray(this,t)<0&&(w.cleanData(xt(this)),n&&n.replaceChild(e,this))}),t)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){w.fn[t]=function(t){for(var n,i=[],r=w(t),o=r.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),w(r[s])[e](n),l.apply(i,n.get());return this.pushStack(i)}}));var Gt=new RegExp("^("+nt+")(?!px)[a-z%]+$","i"),zt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},qt=function(t,e,n){var i,r,o={};for(r in e)o[r]=t.style[r],t.style[r]=e[r];for(r in i=n.call(t),e)t.style[r]=o[r];return i},Ut=new RegExp(rt.join("|"),"i");function Xt(t,e,n){var i,r,o,s,a=t.style;return(n=n||zt(t))&&(""!==(s=n.getPropertyValue(e)||n[e])||st(t)||(s=w.style(t,e)),!v.pixelBoxStyles()&&Gt.test(s)&&Ut.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function Ht(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ot.appendChild(l).appendChild(c);var t=n.getComputedStyle(c);i="1%"!==t.top,u=12===e(t.marginLeft),c.style.right="60%",s=36===e(t.right),r=36===e(t.width),c.style.position="absolute",o=12===e(c.offsetWidth/3),ot.removeChild(l),c=null}}function e(t){return Math.round(parseFloat(t))}var i,r,o,s,a,u,l=x.createElement("div"),c=x.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===c.style.backgroundClip,w.extend(v,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),o},reliableTrDimensions:function(){var t,e,i,r;return null==a&&(t=x.createElement("table"),e=x.createElement("tr"),i=x.createElement("div"),t.style.cssText="position:absolute;left:-11111px",e.style.height="1px",i.style.height="9px",ot.appendChild(t).appendChild(e).appendChild(i),r=n.getComputedStyle(e),a=parseInt(r.height)>3,ot.removeChild(t)),a}}))}();var Yt=["Webkit","Moz","ms"],Wt=x.createElement("div").style,Jt={};function Kt(t){var e=w.cssProps[t]||Jt[t];return e||(t in Wt?t:Jt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Yt.length;n--;)if((t=Yt[n]+e)in Wt)return t}(t)||t)}var Zt=/^(none|table(?!-c[ea]).+)/,$t=/^--/,Qt={position:"absolute",visibility:"hidden",display:"block"},te={letterSpacing:"0",fontWeight:"400"};function ee(t,e,n){var i=it.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function ne(t,e,n,i,r,o){var s="width"===e?1:0,a=0,u=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(u+=w.css(t,n+rt[s],!0,r)),i?("content"===n&&(u-=w.css(t,"padding"+rt[s],!0,r)),"margin"!==n&&(u-=w.css(t,"border"+rt[s]+"Width",!0,r))):(u+=w.css(t,"padding"+rt[s],!0,r),"padding"!==n?u+=w.css(t,"border"+rt[s]+"Width",!0,r):a+=w.css(t,"border"+rt[s]+"Width",!0,r));return!i&&o>=0&&(u+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-u-a-.5))||0),u}function ie(t,e,n){var i=zt(t),r=(!v.boxSizingReliable()||n)&&"border-box"===w.css(t,"boxSizing",!1,i),o=r,s=Xt(t,e,i),a="offset"+e[0].toUpperCase()+e.slice(1);if(Gt.test(s)){if(!n)return s;s="auto"}return(!v.boxSizingReliable()&&r||!v.reliableTrDimensions()&&F(t,"tr")||"auto"===s||!parseFloat(s)&&"inline"===w.css(t,"display",!1,i))&&t.getClientRects().length&&(r="border-box"===w.css(t,"boxSizing",!1,i),(o=a in t)&&(s=t[a])),(s=parseFloat(s)||0)+ne(t,e,n||(r?"border":"content"),o,i,s)+"px"}function re(t,e,n,i,r){return new re.prototype.init(t,e,n,i,r)}w.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Xt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=W(e),u=$t.test(e),l=t.style;if(u||(e=Kt(a)),s=w.cssHooks[e]||w.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:l[e];"string"===(o=typeof n)&&(r=it.exec(n))&&r[1]&&(n=lt(t,e,r),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=r&&r[3]||(w.cssNumber[a]?"":"px")),v.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(u?l.setProperty(e,n):l[e]=n))}},css:function(t,e,n,i){var r,o,s,a=W(e);return $t.test(e)||(e=Kt(a)),(s=w.cssHooks[e]||w.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=Xt(t,e,i)),"normal"===r&&e in te&&(r=te[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),w.each(["height","width"],(function(t,e){w.cssHooks[e]={get:function(t,n,i){if(n)return!Zt.test(w.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ie(t,e,i):qt(t,Qt,(function(){return ie(t,e,i)}))},set:function(t,n,i){var r,o=zt(t),s=!v.scrollboxSize()&&"absolute"===o.position,a=(s||i)&&"border-box"===w.css(t,"boxSizing",!1,o),u=i?ne(t,e,i,a,o):0;return a&&s&&(u-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-ne(t,e,"border",!1,o)-.5)),u&&(r=it.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=w.css(t,e)),ee(0,n,u)}}})),w.cssHooks.marginLeft=Ht(v.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Xt(t,"marginLeft"))||t.getBoundingClientRect().left-qt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),w.each({margin:"",padding:"",border:"Width"},(function(t,e){w.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+rt[i]+e]=o[i]||o[i-2]||o[0];return r}},"margin"!==t&&(w.cssHooks[t+e].set=ee)})),w.fn.extend({css:function(t,e){return U(this,(function(t,e,n){var i,r,o={},s=0;if(Array.isArray(e)){for(i=zt(t),r=e.length;s<r;s++)o[e[s]]=w.css(t,e[s],!1,i);return o}return void 0!==n?w.style(t,e,n):w.css(t,e)}),t,e,arguments.length>1)}}),w.Tween=re,re.prototype={constructor:re,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||w.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(w.cssNumber[n]?"":"px")},cur:function(){var t=re.propHooks[this.prop];return t&&t.get?t.get(this):re.propHooks._default.get(this)},run:function(t){var e,n=re.propHooks[this.prop];return this.options.duration?this.pos=e=w.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):re.propHooks._default.set(this),this}},re.prototype.init.prototype=re.prototype,re.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=w.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){w.fx.step[t.prop]?w.fx.step[t.prop](t):1!==t.elem.nodeType||!w.cssHooks[t.prop]&&null==t.elem.style[Kt(t.prop)]?t.elem[t.prop]=t.now:w.style(t.elem,t.prop,t.now+t.unit)}}},re.propHooks.scrollTop=re.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},w.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},w.fx=re.prototype.init,w.fx.step={};var oe,se,ae=/^(?:toggle|show|hide)$/,ue=/queueHooks$/;function le(){se&&(!1===x.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(le):n.setTimeout(le,w.fx.interval),w.fx.tick())}function ce(){return n.setTimeout((function(){oe=void 0})),oe=Date.now()}function he(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=rt[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function fe(t,e,n){for(var i,r=(de.tweeners[e]||[]).concat(de.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function de(t,e,n){var i,r,o=0,s=de.prefilters.length,a=w.Deferred().always((function(){delete u.elem})),u=function(){if(r)return!1;for(var e=oe||ce(),n=Math.max(0,l.startTime+l.duration-e),i=1-(n/l.duration||0),o=0,s=l.tweens.length;o<s;o++)l.tweens[o].run(i);return a.notifyWith(t,[l,i,n]),i<1&&s?n:(s||a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:w.extend({},e),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},n),originalProperties:e,originalOptions:n,startTime:oe||ce(),duration:n.duration,tweens:[],createTween:function(e,n){var i=w.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)l.tweens[n].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),c=l.props;for(!function(t,e){var n,i,r,o,s;for(n in t)if(r=e[i=W(n)],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(s=w.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(c,l.opts.specialEasing);o<s;o++)if(i=de.prefilters[o].call(l,t,c,l.opts))return m(i.stop)&&(w._queueHooks(l.elem,l.opts.queue).stop=i.stop.bind(i)),i;return w.map(c,fe,l),m(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),w.fx.timer(w.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l}w.Animation=w.extend(de,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return lt(n.elem,t,it.exec(e),n),n}]},tweener:function(t,e){m(t)?(e=t,t=["*"]):t=t.match(k);for(var n,i=0,r=t.length;i<r;i++)n=t[i],de.tweeners[n]=de.tweeners[n]||[],de.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,o,s,a,u,l,c,h="width"in e||"height"in e,f=this,d={},p=t.style,g=t.nodeType&&ut(t),v=Z.get(t,"fxshow");for(i in n.queue||(null==(s=w._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,f.always((function(){f.always((function(){s.unqueued--,w.queue(t,"fx").length||s.empty.fire()}))}))),e)if(r=e[i],ae.test(r)){if(delete e[i],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!v||void 0===v[i])continue;g=!0}d[i]=v&&v[i]||w.style(t,i)}if((u=!w.isEmptyObject(e))||!w.isEmptyObject(d))for(i in h&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(l=v&&v.display)&&(l=Z.get(t,"display")),"none"===(c=w.css(t,"display"))&&(l?c=l:(ft([t],!0),l=t.style.display||l,c=w.css(t,"display"),ft([t]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===w.css(t,"float")&&(u||(f.done((function(){p.display=l})),null==l&&(c=p.display,l="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",f.always((function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}))),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=Z.access(t,"fxshow",{display:l}),o&&(v.hidden=!g),g&&ft([t],!0),f.done((function(){for(i in g||ft([t]),Z.remove(t,"fxshow"),d)w.style(t,i,d[i])}))),u=fe(g?v[i]:0,i,f),i in v||(v[i]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(t,e){e?de.prefilters.unshift(t):de.prefilters.push(t)}}),w.speed=function(t,e,n){var i=t&&"object"==typeof t?w.extend({},t):{complete:n||!n&&e||m(t)&&t,duration:t,easing:n&&e||e&&!m(e)&&e};return w.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in w.fx.speeds?i.duration=w.fx.speeds[i.duration]:i.duration=w.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){m(i.old)&&i.old.call(this),i.queue&&w.dequeue(this,i.queue)},i},w.fn.extend({fadeTo:function(t,e,n,i){return this.filter(ut).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=w.isEmptyObject(t),o=w.speed(e,n,i),s=function(){var e=de(this,w.extend({},t),o);(r||Z.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each((function(){var e=!0,r=null!=t&&t+"queueHooks",o=w.timers,s=Z.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&ue.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||w.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=Z.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=w.timers,s=i?i.length:0;for(n.finish=!0,w.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish}))}}),w.each(["toggle","show","hide"],(function(t,e){var n=w.fn[e];w.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(he(e,!0),t,i,r)}})),w.each({slideDown:he("show"),slideUp:he("hide"),slideToggle:he("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){w.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}})),w.timers=[],w.fx.tick=function(){var t,e=0,n=w.timers;for(oe=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||w.fx.stop(),oe=void 0},w.fx.timer=function(t){w.timers.push(t),w.fx.start()},w.fx.interval=13,w.fx.start=function(){se||(se=!0,le())},w.fx.stop=function(){se=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(t,e){return t=w.fx&&w.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,i){var r=n.setTimeout(e,t);i.stop=function(){n.clearTimeout(r)}}))},function(){var t=x.createElement("input"),e=x.createElement("select").appendChild(x.createElement("option"));t.type="checkbox",v.checkOn=""!==t.value,v.optSelected=e.selected,(t=x.createElement("input")).value="t",t.type="radio",v.radioValue="t"===t.value}();var pe,ge=w.expr.attrHandle;w.fn.extend({attr:function(t,e){return U(this,w.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){w.removeAttr(this,t)}))}}),w.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?w.prop(t,e,n):(1===o&&w.isXMLDoc(t)||(r=w.attrHooks[e.toLowerCase()]||(w.expr.match.bool.test(e)?pe:void 0)),void 0!==n?null===n?void w.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=w.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!v.radioValue&&"radio"===e&&F(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(k);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),pe={set:function(t,e,n){return!1===e?w.removeAttr(t,n):t.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=ge[e]||w.find.attr;ge[e]=function(t,e,i){var r,o,s=e.toLowerCase();return i||(o=ge[s],ge[s]=r,r=null!=n(t,e,i)?s:null,ge[s]=o),r}}));var ve=/^(?:input|select|textarea|button)$/i,me=/^(?:a|area)$/i;function ye(t){return(t.match(k)||[]).join(" ")}function xe(t){return t.getAttribute&&t.getAttribute("class")||""}function Ee(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(k)||[]}w.fn.extend({prop:function(t,e){return U(this,w.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[w.propFix[t]||t]}))}}),w.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&w.isXMLDoc(t)||(e=w.propFix[e]||e,r=w.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=w.find.attr(t,"tabindex");return e?parseInt(e,10):ve.test(t.nodeName)||me.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(w.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){w.propFix[this.toLowerCase()]=this})),w.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,u=0;if(m(t))return this.each((function(e){w(this).addClass(t.call(this,e,xe(this)))}));if((e=Ee(t)).length)for(;n=this[u++];)if(r=xe(n),i=1===n.nodeType&&" "+ye(r)+" "){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=ye(i))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,u=0;if(m(t))return this.each((function(e){w(this).removeClass(t.call(this,e,xe(this)))}));if(!arguments.length)return this.attr("class","");if((e=Ee(t)).length)for(;n=this[u++];)if(r=xe(n),i=1===n.nodeType&&" "+ye(r)+" "){for(s=0;o=e[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(a=ye(i))&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):m(t)?this.each((function(n){w(this).toggleClass(t.call(this,n,xe(this),e),e)})):this.each((function(){var e,r,o,s;if(i)for(r=0,o=w(this),s=Ee(t);e=s[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=xe(this))&&Z.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Z.get(this,"__className__")||""))}))},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+ye(xe(n))+" ").indexOf(e)>-1)return!0;return!1}});var be=/\r/g;w.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=m(t),this.each((function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,w(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=w.map(r,(function(t){return null==t?"":t+""}))),(e=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))}))):r?(e=w.valHooks[r.type]||w.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(be,""):null==n?"":n:void 0}}),w.extend({valHooks:{option:{get:function(t){var e=w.find.attr(t,"value");return null!=e?e:ye(w.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,s="select-one"===t.type,a=s?null:[],u=s?o+1:r.length;for(i=o<0?u:s?o:0;i<u;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!F(n.parentNode,"optgroup"))){if(e=w(n).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=w.makeArray(e),s=r.length;s--;)((i=r[s]).selected=w.inArray(w.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),w.each(["radio","checkbox"],(function(){w.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=w.inArray(w(t).val(),e)>-1}},v.checkOn||(w.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),v.focusin="onfocusin"in n;var Ce=/^(?:focusinfocus|focusoutblur)$/,we=function(t){t.stopPropagation()};w.extend(w.event,{trigger:function(t,e,i,r){var o,s,a,u,l,c,h,f,p=[i||x],g=d.call(t,"type")?t.type:t,v=d.call(t,"namespace")?t.namespace.split("."):[];if(s=f=a=i=i||x,3!==i.nodeType&&8!==i.nodeType&&!Ce.test(g+w.event.triggered)&&(g.indexOf(".")>-1&&(v=g.split("."),g=v.shift(),v.sort()),l=g.indexOf(":")<0&&"on"+g,(t=t[w.expando]?t:new w.Event(g,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:w.makeArray(e,[t]),h=w.event.special[g]||{},r||!h.trigger||!1!==h.trigger.apply(i,e))){if(!r&&!h.noBubble&&!y(i)){for(u=h.delegateType||g,Ce.test(u+g)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(i.ownerDocument||x)&&p.push(a.defaultView||a.parentWindow||n)}for(o=0;(s=p[o++])&&!t.isPropagationStopped();)f=s,t.type=o>1?u:h.bindType||g,(c=(Z.get(s,"events")||Object.create(null))[t.type]&&Z.get(s,"handle"))&&c.apply(s,e),(c=l&&s[l])&&c.apply&&J(s)&&(t.result=c.apply(s,e),!1===t.result&&t.preventDefault());return t.type=g,r||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(p.pop(),e)||!J(i)||l&&m(i[g])&&!y(i)&&((a=i[l])&&(i[l]=null),w.event.triggered=g,t.isPropagationStopped()&&f.addEventListener(g,we),i[g](),t.isPropagationStopped()&&f.removeEventListener(g,we),w.event.triggered=void 0,a&&(i[l]=a)),t.result}},simulate:function(t,e,n){var i=w.extend(new w.Event,n,{type:t,isSimulated:!0});w.event.trigger(i,null,e)}}),w.fn.extend({trigger:function(t,e){return this.each((function(){w.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return w.event.trigger(t,e,n,!0)}}),v.focusin||w.each({focus:"focusin",blur:"focusout"},(function(t,e){var n=function(t){w.event.simulate(e,t.target,w.event.fix(t))};w.event.special[e]={setup:function(){var i=this.ownerDocument||this.document||this,r=Z.access(i,e);r||i.addEventListener(t,n,!0),Z.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,r=Z.access(i,e)-1;r?Z.access(i,e,r):(i.removeEventListener(t,n,!0),Z.remove(i,e))}}}));var _e=n.location,Ae={guid:Date.now()},Se=/\?/;w.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+t),e};var De=/\[\]$/,Le=/\r?\n/g,Fe=/^(?:submit|button|image|reset|file)$/i,Te=/^(?:input|select|textarea|keygen)/i;function Me(t,e,n,i){var r;if(Array.isArray(e))w.each(e,(function(e,r){n||De.test(t)?i(t,r):Me(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)}));else if(n||"object"!==C(e))i(t,e);else for(r in e)Me(t+"["+r+"]",e[r],n,i)}w.param=function(t,e){var n,i=[],r=function(t,e){var n=m(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!w.isPlainObject(t))w.each(t,(function(){r(this.name,this.value)}));else for(n in t)Me(n,t[n],e,r);return i.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=w.prop(this,"elements");return t?w.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!w(this).is(":disabled")&&Te.test(this.nodeName)&&!Fe.test(t)&&(this.checked||!gt.test(t))})).map((function(t,e){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,(function(t){return{name:e.name,value:t.replace(Le,"\r\n")}})):{name:e.name,value:n.replace(Le,"\r\n")}})).get()}});var Ie=/%20/g,Pe=/#.*$/,Oe=/([?&])_=[^&]*/,Be=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ne=/^(?:GET|HEAD)$/,ke=/^\/\//,Re={},je={},Ve="*/".concat("*"),Ge=x.createElement("a");function ze(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(k)||[];if(m(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function qe(t,e,n,i){var r={},o=t===je;function s(a){var u;return r[a]=!0,w.each(t[a]||[],(function(t,a){var l=a(e,n,i);return"string"!=typeof l||o||r[l]?o?!(u=l):void 0:(e.dataTypes.unshift(l),s(l),!1)})),u}return s(e.dataTypes[0])||!r["*"]&&s("*")}function Ue(t,e){var n,i,r=w.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&w.extend(!0,t,i),t}Ge.href=_e.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_e.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(_e.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ve,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ue(Ue(t,w.ajaxSettings),e):Ue(w.ajaxSettings,t)},ajaxPrefilter:ze(Re),ajaxTransport:ze(je),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,o,s,a,u,l,c,h,f,d=w.ajaxSetup({},e),p=d.context||d,g=d.context&&(p.nodeType||p.jquery)?w(p):w.event,v=w.Deferred(),m=w.Callbacks("once memory"),y=d.statusCode||{},E={},b={},C="canceled",_={readyState:0,getResponseHeader:function(t){var e;if(l){if(!s)for(s={};e=Be.exec(o);)s[e[1].toLowerCase()+" "]=(s[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=s[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return l?o:null},setRequestHeader:function(t,e){return null==l&&(t=b[t.toLowerCase()]=b[t.toLowerCase()]||t,E[t]=e),this},overrideMimeType:function(t){return null==l&&(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(l)_.always(t[_.status]);else for(e in t)y[e]=[y[e],t[e]];return this},abort:function(t){var e=t||C;return i&&i.abort(e),A(0,e),this}};if(v.promise(_),d.url=((t||d.url||_e.href)+"").replace(ke,_e.protocol+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(k)||[""],null==d.crossDomain){u=x.createElement("a");try{u.href=d.url,u.href=u.href,d.crossDomain=Ge.protocol+"//"+Ge.host!=u.protocol+"//"+u.host}catch(t){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=w.param(d.data,d.traditional)),qe(Re,d,e,_),l)return _;for(h in(c=w.event&&d.global)&&0==w.active++&&w.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Ne.test(d.type),r=d.url.replace(Pe,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Ie,"+")):(f=d.url.slice(r.length),d.data&&(d.processData||"string"==typeof d.data)&&(r+=(Se.test(r)?"&":"?")+d.data,delete d.data),!1===d.cache&&(r=r.replace(Oe,"$1"),f=(Se.test(r)?"&":"?")+"_="+Ae.guid+++f),d.url=r+f),d.ifModified&&(w.lastModified[r]&&_.setRequestHeader("If-Modified-Since",w.lastModified[r]),w.etag[r]&&_.setRequestHeader("If-None-Match",w.etag[r])),(d.data&&d.hasContent&&!1!==d.contentType||e.contentType)&&_.setRequestHeader("Content-Type",d.contentType),_.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Ve+"; q=0.01":""):d.accepts["*"]),d.headers)_.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(!1===d.beforeSend.call(p,_,d)||l))return _.abort();if(C="abort",m.add(d.complete),_.done(d.success),_.fail(d.error),i=qe(je,d,e,_)){if(_.readyState=1,c&&g.trigger("ajaxSend",[_,d]),l)return _;d.async&&d.timeout>0&&(a=n.setTimeout((function(){_.abort("timeout")}),d.timeout));try{l=!1,i.send(E,A)}catch(t){if(l)throw t;A(-1,t)}}else A(-1,"No Transport");function A(t,e,s,u){var h,f,x,E,b,C=e;l||(l=!0,a&&n.clearTimeout(a),i=void 0,o=u||"",_.readyState=t>0?4:0,h=t>=200&&t<300||304===t,s&&(E=function(t,e,n){for(var i,r,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){u.unshift(r);break}if(u[0]in n)o=u[0];else{for(r in n){if(!u[0]||t.converters[r+" "+u[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==u[0]&&u.unshift(o),n[o]}(d,_,s)),!h&&w.inArray("script",d.dataTypes)>-1&&(d.converters["text script"]=function(){}),E=function(t,e,n,i){var r,o,s,a,u,l={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)l[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(s=l[u+" "+o]||l["* "+o]))for(r in l)if((a=r.split(" "))[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){!0===s?s=l[r]:!0!==l[r]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}(d,E,_,h),h?(d.ifModified&&((b=_.getResponseHeader("Last-Modified"))&&(w.lastModified[r]=b),(b=_.getResponseHeader("etag"))&&(w.etag[r]=b)),204===t||"HEAD"===d.type?C="nocontent":304===t?C="notmodified":(C=E.state,f=E.data,h=!(x=E.error))):(x=C,!t&&C||(C="error",t<0&&(t=0))),_.status=t,_.statusText=(e||C)+"",h?v.resolveWith(p,[f,C,_]):v.rejectWith(p,[_,C,x]),_.statusCode(y),y=void 0,c&&g.trigger(h?"ajaxSuccess":"ajaxError",[_,d,h?f:x]),m.fireWith(p,[_,C]),c&&(g.trigger("ajaxComplete",[_,d]),--w.active||w.event.trigger("ajaxStop")))}return _},getJSON:function(t,e,n){return w.get(t,e,n,"json")},getScript:function(t,e){return w.get(t,void 0,e,"script")}}),w.each(["get","post"],(function(t,e){w[e]=function(t,n,i,r){return m(n)&&(r=r||i,i=n,n=void 0),w.ajax(w.extend({url:t,type:e,dataType:r,data:n,success:i},w.isPlainObject(t)&&t))}})),w.ajaxPrefilter((function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")})),w._evalUrl=function(t,e,n){return w.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){w.globalEval(t,e,n)}})},w.fn.extend({wrapAll:function(t){var e;return this[0]&&(m(t)&&(t=t.call(this[0])),e=w(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return m(t)?this.each((function(e){w(this).wrapInner(t.call(this,e))})):this.each((function(){var e=w(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=m(t);return this.each((function(n){w(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){w(this).replaceWith(this.childNodes)})),this}}),w.expr.pseudos.hidden=function(t){return!w.expr.pseudos.visible(t)},w.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var Xe={0:200,1223:204},He=w.ajaxSettings.xhr();v.cors=!!He&&"withCredentials"in He,v.ajax=He=!!He,w.ajaxTransport((function(t){var e,i;if(v.cors||He&&!t.crossDomain)return{send:function(r,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);e=function(t){return function(){e&&(e=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Xe[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),i=a.onerror=a.ontimeout=e("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout((function(){e&&i()}))},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}})),w.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return w.globalEval(t),t}}}),w.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),w.ajaxTransport("script",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(i,r){e=w("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),x.head.appendChild(e[0])},abort:function(){n&&n()}}}));var Ye,We=[],Je=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=We.pop()||w.expando+"_"+Ae.guid++;return this[t]=!0,t}}),w.ajaxPrefilter("json jsonp",(function(t,e,i){var r,o,s,a=!1!==t.jsonp&&(Je.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Je.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=m(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Je,"$1"+r):!1!==t.jsonp&&(t.url+=(Se.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||w.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=n[r],n[r]=function(){s=arguments},i.always((function(){void 0===o?w(n).removeProp(r):n[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,We.push(r)),s&&m(o)&&o(s[0]),s=o=void 0})),"script"})),v.createHTMLDocument=((Ye=x.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ye.childNodes.length),w.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(v.createHTMLDocument?((i=(e=x.implementation.createHTMLDocument("")).createElement("base")).href=x.location.href,e.head.appendChild(i)):e=x),o=!n&&[],(r=T.exec(t))?[e.createElement(r[1])]:(r=Ct([t],e,o),o&&o.length&&w(o).remove(),w.merge([],r.childNodes)));var i,r,o},w.fn.load=function(t,e,n){var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=ye(t.slice(a)),t=t.slice(0,a)),m(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&w.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done((function(t){o=arguments,s.html(i?w("<div>").append(w.parseHTML(t)).find(i):t)})).always(n&&function(t,e){s.each((function(){n.apply(this,o||[t.responseText,e,t])}))}),this},w.expr.pseudos.animated=function(t){return w.grep(w.timers,(function(e){return t===e.elem})).length},w.offset={setOffset:function(t,e,n){var i,r,o,s,a,u,l=w.css(t,"position"),c=w(t),h={};"static"===l&&(t.style.position="relative"),a=c.offset(),o=w.css(t,"top"),u=w.css(t,"left"),("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1?(s=(i=c.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(u)||0),m(e)&&(e=e.call(t,n,w.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+r),"using"in e?e.using.call(t,h):("number"==typeof h.top&&(h.top+="px"),"number"==typeof h.left&&(h.left+="px"),c.css(h))}},w.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){w.offset.setOffset(this,t,e)}));var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===w.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===w.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=w(t).offset()).top+=w.css(t,"borderTopWidth",!0),r.left+=w.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-w.css(i,"marginTop",!0),left:e.left-r.left-w.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===w.css(t,"position");)t=t.offsetParent;return t||ot}))}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var n="pageYOffset"===e;w.fn[t]=function(i){return U(this,(function(t,i,r){var o;if(y(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r}),t,i,arguments.length)}})),w.each(["top","left"],(function(t,e){w.cssHooks[e]=Ht(v.pixelPosition,(function(t,n){if(n)return n=Xt(t,e),Gt.test(n)?w(t).position()[e]+"px":n}))})),w.each({Height:"height",Width:"width"},(function(t,e){w.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,i){w.fn[i]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return U(this,(function(e,n,r){var o;return y(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?w.css(e,n,a):w.style(e,n,r,a)}),e,s?r:void 0,s)}}))})),w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){w.fn[e]=function(t){return this.on(e,t)}})),w.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){w.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}));var Ke=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;w.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),m(t))return i=a.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(a.call(arguments)))}).guid=t.guid=t.guid||w.guid++,r},w.holdReady=function(t){t?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=F,w.isFunction=m,w.isWindow=y,w.camelCase=W,w.type=C,w.now=Date.now,w.isNumeric=function(t){var e=w.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},w.trim=function(t){return null==t?"":(t+"").replace(Ke,"")},void 0===(i=function(){return w}.apply(e,[]))||(t.exports=i);var Ze=n.jQuery,$e=n.$;return w.noConflict=function(t){return n.$===w&&(n.$=$e),t&&n.jQuery===w&&(n.jQuery=Ze),w},void 0===r&&(n.jQuery=n.$=w),w}))},function(t,e,n){},function(t,e,n){"use strict";e.__esModule=!0;var i=o(n(21)),r=o(n(245));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function t(e,n,o){null===e&&(e=Function.prototype);var s=(0,r.default)(e,n);if(void 0===s){var a=(0,i.default)(e);return null===a?void 0:t(a,n,o)}if("value"in s)return s.value;var u=s.get;return void 0!==u?u.call(o):void 0}},function(t,e,n){var i=n(14);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},function(t,e,n){var i=n(33),r=n(9)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[r]===t)}},function(t,e,n){var i=n(9)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o=[7],s=o[i]();s.next=function(){return{done:n=!0}},o[i]=function(){return s},t(o)}catch(t){}return n}},function(t,e,n){t.exports={default:n(216),__esModule:!0}},function(t,e,n){n(217),t.exports=n(4).Object.assign},function(t,e,n){var i=n(12);i(i.S+i.F,"Object",{assign:n(218)})},function(t,e,n){"use strict";var i=n(17),r=n(40),o=n(82),s=n(57),a=n(38),u=n(117),l=Object.assign;t.exports=!l||n(32)((function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=i}))?function(t,e){for(var n=a(t),l=arguments.length,c=1,h=o.f,f=s.f;l>c;)for(var d,p=u(arguments[c++]),g=h?r(p).concat(h(p)):r(p),v=g.length,m=0;v>m;)d=g[m++],i&&!f.call(p,d)||(n[d]=p[d]);return n}:l},function(t,e,n){var i=n(25),r=n(112),o=n(220);t.exports=function(t){return function(e,n,s){var a,u=i(e),l=r(u.length),c=o(s,l);if(t&&n!=n){for(;l>c;)if((a=u[c++])!=a)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}}},function(t,e,n){var i=n(78),r=Math.max,o=Math.min;t.exports=function(t,e){return(t=i(t))<0?r(t+e,0):o(t,e)}},function(t,e,n){n(58),n(54),t.exports=n(228)},function(t,e,n){"use strict";var i=n(223),r=n(224),o=n(33),s=n(25);t.exports=n(118)(Array,"Array",(function(t,e){this._t=s(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var i=n(83),r=n(53),o=n(59),s={};n(23)(s,n(9)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=i(s,{next:r(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var i=n(18),r=n(14),o=n(40);t.exports=n(17)?Object.defineProperties:function(t,e){r(t);for(var n,s=o(e),a=s.length,u=0;a>u;)i.f(t,n=s[u++],e[n]);return t}},function(t,e,n){var i=n(78),r=n(77);t.exports=function(t){return function(e,n){var o,s,a=String(r(e)),u=i(n),l=a.length;return u<0||u>=l?t?"":void 0:(o=a.charCodeAt(u))<55296||o>56319||u+1===l||(s=a.charCodeAt(u+1))<56320||s>57343?t?a.charAt(u):o:t?a.slice(u,u+2):s-56320+(o-55296<<10)+65536}}},function(t,e,n){var i=n(14),r=n(113);t.exports=n(4).getIterator=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return i(e.call(t))}},function(t,e,n){n(230),t.exports=n(4).Object.getPrototypeOf},function(t,e,n){var i=n(38),r=n(121);n(85)("getPrototypeOf",(function(){return function(t){return r(i(t))}}))},function(t,e,n){t.exports={default:n(232),__esModule:!0}},function(t,e,n){n(233);var i=n(4).Object;t.exports=function(t,e,n){return i.defineProperty(t,e,n)}},function(t,e,n){var i=n(12);i(i.S+i.F*!n(17),"Object",{defineProperty:n(18).f})},function(t,e,n){t.exports={default:n(235),__esModule:!0}},function(t,e,n){n(54),n(58),t.exports=n(86).f("iterator")},function(t,e,n){t.exports={default:n(237),__esModule:!0}},function(t,e,n){n(238),n(123),n(243),n(244),t.exports=n(4).Symbol},function(t,e,n){"use strict";var i=n(8),r=n(24),o=n(17),s=n(12),a=n(119),u=n(239).KEY,l=n(32),c=n(80),h=n(59),f=n(56),d=n(9),p=n(86),g=n(87),v=n(240),m=n(241),y=n(14),x=n(20),E=n(38),b=n(25),C=n(76),w=n(53),_=n(83),A=n(242),S=n(73),D=n(82),L=n(18),F=n(40),T=S.f,M=L.f,I=A.f,P=i.Symbol,O=i.JSON,B=O&&O.stringify,N=d("_hidden"),k=d("toPrimitive"),R={}.propertyIsEnumerable,j=c("symbol-registry"),V=c("symbols"),G=c("op-symbols"),z=Object.prototype,q="function"==typeof P&&!!D.f,U=i.QObject,X=!U||!U.prototype||!U.prototype.findChild,H=o&&l((function(){return 7!=_(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=T(z,e);i&&delete z[e],M(t,e,n),i&&t!==z&&M(z,e,i)}:M,Y=function(t){var e=V[t]=_(P.prototype);return e._k=t,e},W=q&&"symbol"==typeof P.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof P},J=function(t,e,n){return t===z&&J(G,e,n),y(t),e=C(e,!0),y(n),r(V,e)?(n.enumerable?(r(t,N)&&t[N][e]&&(t[N][e]=!1),n=_(n,{enumerable:w(0,!1)})):(r(t,N)||M(t,N,w(1,{})),t[N][e]=!0),H(t,e,n)):M(t,e,n)},K=function(t,e){y(t);for(var n,i=v(e=b(e)),r=0,o=i.length;o>r;)J(t,n=i[r++],e[n]);return t},Z=function(t){var e=R.call(this,t=C(t,!0));return!(this===z&&r(V,t)&&!r(G,t))&&(!(e||!r(this,t)||!r(V,t)||r(this,N)&&this[N][t])||e)},$=function(t,e){if(t=b(t),e=C(e,!0),t!==z||!r(V,e)||r(G,e)){var n=T(t,e);return!n||!r(V,e)||r(t,N)&&t[N][e]||(n.enumerable=!0),n}},Q=function(t){for(var e,n=I(b(t)),i=[],o=0;n.length>o;)r(V,e=n[o++])||e==N||e==u||i.push(e);return i},tt=function(t){for(var e,n=t===z,i=I(n?G:b(t)),o=[],s=0;i.length>s;)!r(V,e=i[s++])||n&&!r(z,e)||o.push(V[e]);return o};q||(a((P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===z&&e.call(G,n),r(this,N)&&r(this[N],t)&&(this[N][t]=!1),H(this,t,w(1,n))};return o&&X&&H(z,t,{configurable:!0,set:e}),Y(t)}).prototype,"toString",(function(){return this._k})),S.f=$,L.f=J,n(122).f=A.f=Q,n(57).f=Z,D.f=tt,o&&!n(42)&&a(z,"propertyIsEnumerable",Z,!0),p.f=function(t){return Y(d(t))}),s(s.G+s.W+s.F*!q,{Symbol:P});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)d(et[nt++]);for(var it=F(d.store),rt=0;it.length>rt;)g(it[rt++]);s(s.S+s.F*!q,"Symbol",{for:function(t){return r(j,t+="")?j[t]:j[t]=P(t)},keyFor:function(t){if(!W(t))throw TypeError(t+" is not a symbol!");for(var e in j)if(j[e]===t)return e},useSetter:function(){X=!0},useSimple:function(){X=!1}}),s(s.S+s.F*!q,"Object",{create:function(t,e){return void 0===e?_(t):K(_(t),e)},defineProperty:J,defineProperties:K,getOwnPropertyDescriptor:$,getOwnPropertyNames:Q,getOwnPropertySymbols:tt});var ot=l((function(){D.f(1)}));s(s.S+s.F*ot,"Object",{getOwnPropertySymbols:function(t){return D.f(E(t))}}),O&&s(s.S+s.F*(!q||l((function(){var t=P();return"[null]"!=B([t])||"{}"!=B({a:t})||"{}"!=B(Object(t))}))),"JSON",{stringify:function(t){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=e=i[1],(x(e)||void 0!==t)&&!W(t))return m(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!W(e))return e}),i[1]=e,B.apply(O,i)}}),P.prototype[k]||n(23)(P.prototype,k,P.prototype.valueOf),h(P,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},function(t,e,n){var i=n(56)("meta"),r=n(20),o=n(24),s=n(18).f,a=0,u=Object.isExtensible||function(){return!0},l=!n(32)((function(){return u(Object.preventExtensions({}))})),c=function(t){s(t,i,{value:{i:"O"+ ++a,w:{}}})},h=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,i)){if(!u(t))return"F";if(!e)return"E";c(t)}return t[i].i},getWeak:function(t,e){if(!o(t,i)){if(!u(t))return!0;if(!e)return!1;c(t)}return t[i].w},onFreeze:function(t){return l&&h.NEED&&u(t)&&!o(t,i)&&c(t),t}}},function(t,e,n){var i=n(40),r=n(82),o=n(57);t.exports=function(t){var e=i(t),n=r.f;if(n)for(var s,a=n(t),u=o.f,l=0;a.length>l;)u.call(t,s=a[l++])&&e.push(s);return e}},function(t,e,n){var i=n(41);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var i=n(25),r=n(122).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return r(t)}catch(t){return s.slice()}}(t):r(i(t))}},function(t,e,n){n(87)("asyncIterator")},function(t,e,n){n(87)("observable")},function(t,e,n){t.exports={default:n(246),__esModule:!0}},function(t,e,n){n(247);var i=n(4).Object;t.exports=function(t,e){return i.getOwnPropertyDescriptor(t,e)}},function(t,e,n){var i=n(25),r=n(73).f;n(85)("getOwnPropertyDescriptor",(function(){return function(t,e){return r(i(t),e)}}))},function(t,e,n){t.exports={default:n(249),__esModule:!0}},function(t,e,n){n(250),t.exports=n(4).Object.setPrototypeOf},function(t,e,n){var i=n(12);i(i.S,"Object",{setPrototypeOf:n(251).set})},function(t,e,n){var i=n(20),r=n(14),o=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{(i=n(37)(Function.call,n(73).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){t.exports={default:n(253),__esModule:!0}},function(t,e,n){n(254);var i=n(4).Object;t.exports=function(t,e){return i.create(t,e)}},function(t,e,n){var i=n(12);i(i.S,"Object",{create:n(83)})},function(t,e,n){n(123),n(54),n(58),n(256),n(264),n(265),t.exports=n(4).Promise},function(t,e,n){"use strict";var i,r,o,s,a=n(42),u=n(8),l=n(37),c=n(84),h=n(12),f=n(20),d=n(55),p=n(257),g=n(258),v=n(124),m=n(125).set,y=n(260)(),x=n(88),E=n(126),b=n(261),C=n(127),w=u.TypeError,_=u.process,A=_&&_.versions,S=A&&A.v8||"",D=u.Promise,L="process"==c(_),F=function(){},T=r=x.f,M=!!function(){try{var t=D.resolve(1),e=(t.constructor={})[n(9)("species")]=function(t){t(F,F)};return(L||"function"==typeof PromiseRejectionEvent)&&t.then(F)instanceof e&&0!==S.indexOf("6.6")&&-1===b.indexOf("Chrome/66")}catch(t){}}(),I=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},P=function(t,e){if(!t._n){t._n=!0;var n=t._c;y((function(){for(var i=t._v,r=1==t._s,o=0,s=function(e){var n,o,s,a=r?e.ok:e.fail,u=e.resolve,l=e.reject,c=e.domain;try{a?(r||(2==t._h&&N(t),t._h=1),!0===a?n=i:(c&&c.enter(),n=a(i),c&&(c.exit(),s=!0)),n===e.promise?l(w("Promise-chain cycle")):(o=I(n))?o.call(n,u,l):u(n)):l(i)}catch(t){c&&!s&&c.exit(),l(t)}};n.length>o;)s(n[o++]);t._c=[],t._n=!1,e&&!t._h&&O(t)}))}},O=function(t){m.call(u,(function(){var e,n,i,r=t._v,o=B(t);if(o&&(e=E((function(){L?_.emit("unhandledRejection",r,t):(n=u.onunhandledrejection)?n({promise:t,reason:r}):(i=u.console)&&i.error&&i.error("Unhandled promise rejection",r)})),t._h=L||B(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},B=function(t){return 1!==t._h&&0===(t._a||t._c).length},N=function(t){m.call(u,(function(){var e;L?_.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})}))},k=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),P(e,!0))},R=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw w("Promise can't be resolved itself");(e=I(t))?y((function(){var i={_w:n,_d:!1};try{e.call(t,l(R,i,1),l(k,i,1))}catch(t){k.call(i,t)}})):(n._v=t,n._s=1,P(n,!1))}catch(t){k.call({_w:n,_d:!1},t)}}};M||(D=function(t){p(this,D,"Promise","_h"),d(t),i.call(this);try{t(l(R,this,1),l(k,this,1))}catch(t){k.call(this,t)}},(i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(262)(D.prototype,{then:function(t,e){var n=T(v(this,D));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=L?_.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&P(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new i;this.promise=t,this.resolve=l(R,t,1),this.reject=l(k,t,1)},x.f=T=function(t){return t===D||t===s?new o(t):r(t)}),h(h.G+h.W+h.F*!M,{Promise:D}),n(59)(D,"Promise"),n(263)("Promise"),s=n(4).Promise,h(h.S+h.F*!M,"Promise",{reject:function(t){var e=T(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(a||!M),"Promise",{resolve:function(t){return C(a&&this===s?D:this,t)}}),h(h.S+h.F*!(M&&n(214)((function(t){D.all(t).catch(F)}))),"Promise",{all:function(t){var e=this,n=T(e),i=n.resolve,r=n.reject,o=E((function(){var n=[],o=0,s=1;g(t,!1,(function(t){var a=o++,u=!1;n.push(void 0),s++,e.resolve(t).then((function(t){u||(u=!0,n[a]=t,--s||i(n))}),r)})),--s||i(n)}));return o.e&&r(o.v),n.promise},race:function(t){var e=this,n=T(e),i=n.reject,r=E((function(){g(t,!1,(function(t){e.resolve(t).then(n.resolve,i)}))}));return r.e&&i(r.v),n.promise}})},function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var i=n(37),r=n(212),o=n(213),s=n(14),a=n(112),u=n(113),l={},c={};(e=t.exports=function(t,e,n,h,f){var d,p,g,v,m=f?function(){return t}:u(t),y=i(n,h,e?2:1),x=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(o(m)){for(d=a(t.length);d>x;x++)if((v=e?y(s(p=t[x])[0],p[1]):y(t[x]))===l||v===c)return v}else for(g=m.call(t);!(p=g.next()).done;)if((v=r(g,y,p.value,e))===l||v===c)return v}).BREAK=l,e.RETURN=c},function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var i=n(8),r=n(125).set,o=i.MutationObserver||i.WebKitMutationObserver,s=i.process,a=i.Promise,u="process"==n(41)(s);t.exports=function(){var t,e,n,l=function(){var i,r;for(u&&(i=s.domain)&&i.exit();t;){r=t.fn,t=t.next;try{r()}catch(i){throw t?n():e=void 0,i}}e=void 0,i&&i.enter()};if(u)n=function(){s.nextTick(l)};else if(!o||i.navigator&&i.navigator.standalone)if(a&&a.resolve){var c=a.resolve(void 0);n=function(){c.then(l)}}else n=function(){r.call(i,l)};else{var h=!0,f=document.createTextNode("");new o(l).observe(f,{characterData:!0}),n=function(){f.data=h=!h}}return function(i){var r={fn:i,next:void 0};e&&(e.next=r),t||(t=r,n()),e=r}}},function(t,e,n){var i=n(8).navigator;t.exports=i&&i.userAgent||""},function(t,e,n){var i=n(23);t.exports=function(t,e,n){for(var r in e)n&&t[r]?t[r]=e[r]:i(t,r,e[r]);return t}},function(t,e,n){"use strict";var i=n(8),r=n(4),o=n(18),s=n(17),a=n(9)("species");t.exports=function(t){var e="function"==typeof r[t]?r[t]:i[t];s&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){"use strict";var i=n(12),r=n(4),o=n(8),s=n(124),a=n(127);i(i.P+i.R,"Promise",{finally:function(t){var e=s(this,r.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return a(e,t()).then((function(){return n}))}:t,n?function(n){return a(e,t()).then((function(){throw n}))}:t)}})},function(t,e,n){"use strict";var i=n(12),r=n(88),o=n(126);i(i.S,"Promise",{try:function(t){var e=r.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){"use strict";var i;try{i=Promise}catch(t){}function r(t,e){return Array.prototype.slice.call(t,e||0)}function o(t,e){var n,r=new i((function(e,i){n=i,t(e,i)}));return r.cancel=function(){n(new Error(e||"promise is canceled")),r.cancel=null,r.isCancel=!0,n=null},r}var s={setPromise:function(t){i=t},promisify:function(t,e){return function(){var n=r(arguments),o=this;return new i((function(i,s){n.push((function(t){var n=r(arguments,1);return e&&!1===e.withError&&(n=[t].concat(n),t=null),t?s(t):0===n.length?i(void 0):1===n.length?i(n[0]):void i(n)})),t.apply(o,n)}))}},all:function(t){return i.all?i.all(t):function(t){var e=[],n=t.length;return new i((function(i,r){var o=!1;t.forEach((function(t,s){t.then((function(t){if(!o)return e[s]=t,0===--n?i(e):void 0}),(function(t){o=!0,r(t)}))}))}))}(t)},parallel:function(t,e){var n=t.length;if(n<=(e=e||n))return s.all(t.map((function(t){return t()})));var i=[];return new Promise((function(n,r){var o=0;t.slice(0,e).forEach((function e(s,a){s().then((function(r){if(i[a]=r,o<t.length)e(t[o],o),o++;else if(i.length===t.length)return n(i)}),r)})),o=e}))},props:function(t){var e={},n=Object.keys(t),r=n.length;return new i((function(i,o){var s=!1;n.forEach((function(n){t[n].then((function(t){if(!s)return e[n]=t,0===--r?i(e):void 0}),(function(t){s=!0,o(t)}))}))}))},cancelable:o,sleep:function(t){return new i((function(e,n){setTimeout(e,t)}))},delay:function(t,e){var n=o((function(i,r){setTimeout((function(){if(!n.isCancel)return i(Promise.resolve().then(t))}),e)}),"delay is canceled");return n},interval:function(t,e){var n=o((function(i,r){!function i(){setTimeout((function(){if(!n.isCancel)return Promise.resolve().then(t).then(i)}),e)}()}),"interval is canceled");return n},retry:function(t,e,n){return new i((function(i,r){var o=new Error("retry failed");return function a(){return e()?Promise.resolve().then(t).then(i,(function(t){return o=t,s.sleep((e=n,"[object Function]"===Object.prototype.toString.call(e)?n():n)).then(a);var e})):(o.isRetryFailed=!0,r(o))}()}))}};t.exports=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=f(n(21)),r=f(n(26)),o=f(n(27)),s=f(n(30)),a=f(n(211)),u=f(n(31)),l=f(n(3)),c=f(n(90)),h=f(n(15));function f(t){return t&&t.__esModule?t:{default:t}}function d(t,e){for(var n={},i=["baseUrl","id","version","extent","filter","transforms","time","token","geohash_level"],r=0,o=i.length;r<o;r++){var s=i[r],a=t[s],u=a;h.default.isObject(a)?u=encodeURIComponent((0,c.default)(a)):null==a&&(u=""),n[s]=u}return e(n)}function p(t,e){return t.extent&&t.extent.geohashes&&t.extent.geohashes.length>1?t.extent.geohashes.map((function(n){return d((0,l.default)({},t,{extent:(0,l.default)({},t.extent,{geohashes:[n]})}),e)})):d(t,e)}function g(t){var e=t.baseUrl,n=t.version,i=t.id,r=t.extent,o=t.filter,s=t.transforms,a=t.time,u=t.token,l=t.geohash_level;if(!u)throw new Error("token cannot be empty");if(!i)throw new Error("id cannot be empty");if(!n)throw new Error("version cannot be empty");return e+"/datasource/"+n+"/data/"+i+"?extent="+r+"&filter="+o+"&transforms="+s+"&time="+a+"&geohash_level="+l+"&token="+u}var v=function(t){function e(){var t,n,o,a;(0,r.default)(this,e);for(var u=arguments.length,l=Array(u),c=0;c<u;c++)l[c]=arguments[c];return n=o=(0,s.default)(this,(t=e.__proto__||(0,i.default)(e)).call.apply(t,[this].concat(l))),o.template=g,a=n,(0,s.default)(o,a)}return(0,u.default)(e,t),(0,o.default)(e,[{key:"preload",value:function(t){return(t=(0,l.default)({},this.props,t)).url=p(t,this.template),(0,a.default)(e.prototype.__proto__||(0,i.default)(e.prototype),"preload",this).call(this,t)}},{key:"_request",value:function(t){return this.props.url=p(this.props,this.template),(0,a.default)(e.prototype.__proto__||(0,i.default)(e.prototype),"_request",this).call(this,t)}},{key:"setTemplate",value:function(t){this.template=t}},{key:"setProps",value:function(t){this.props=(0,l.default)({},this.props,t)}}]),e}(f(n(129)).default);e.default=v},function(t,e,n){var i=n(4),r=i.JSON||(i.JSON={stringify:JSON.stringify});t.exports=function(t){return r.stringify.apply(r,arguments)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=u(n(21)),r=u(n(26)),o=u(n(27)),s=u(n(30)),a=u(n(31));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(){return(0,r.default)(this,e),(0,s.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,a.default)(e,t),(0,o.default)(e,[{key:"setData",value:function(t){this.props.data=t,this.request()}},{key:"_request",value:function(t){this.emitLoadStart(t),this.emitLoadData(t,this.props.data),this.emitLoad(t)}}]),e}(u(n(43)).default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=f(n(19)),r=f(n(3)),o=f(n(21)),s=f(n(26)),a=f(n(27)),u=f(n(30)),l=f(n(31)),c=n(89),h=f(n(43));function f(t){return t&&t.__esModule?t:{default:t}}function d(t){if(null==t)throw new Error("dsMap must be a datasourceMap");for(var e in t){if(!(t[e]instanceof h.default))throw new Error(e+" is not a datasource")}}var p={ignoreOutdateRequest:!0,dsMap:{}},g=function(t){function e(t){(0,s.default)(this,e),d(t.dsMap);var n=(0,u.default)(this,(e.__proto__||(0,o.default)(e)).call(this,(0,r.default)({},p,t)));return n.listenerMap={},n.dataMap={},n.initDsMapListeners(),n}return(0,l.default)(e,t),(0,a.default)(e,[{key:"setDsMap",value:function(t){d(t),this.destroyDsMapListeners(),this.dataMap={},this.props.dsMap=t,this.initDsMapListeners()}},{key:"addDs",value:function(t,e){if(null!=this.props.dsMap[t])throw new Error("ds "+t+" has been in map. duplicte key");this.props.dsMap[t]=e,this.initDsListeners(t)}},{key:"removeDs",value:function(t){this.destroyDsListeners(t),delete this.dataMap[t],delete this.props.dsMap[t]}},{key:"initDsMapListeners",value:function(){for(var t in this.props.dsMap)this.initDsListeners(t)}},{key:"initDsListeners",value:function(t){var e=this.props.dsMap[t],n={loadstart:this.onDsLoadStart.bind(this,t,e),loaddata:this.onDsLoadData.bind(this,t,e),load:this.onDsLoad.bind(this,t,e)};for(var i in this.listenerMap[t]=n,n)e.on(i,n[i])}},{key:"destroyDsMapListeners",value:function(){for(var t in this.props.dsMap)this.destroyDsEvent(t)}},{key:"destroyDsEvent",value:function(t){var e=this.props.dsMap[t],n=this.listenerMap[t];for(var i in n)e.removeListener(i,n[i]);delete this.listenerMap[t]}},{key:"onDsLoadStart",value:function(t,e,n){null==this.dataMap[t]&&(this.dataMap[t]={}),this.dataMap[t].request={rid:n}}},{key:"onDsLoadData",value:function(t,e,n,i){var r=this.dataMap[t];this.props.ignoreOutdateRequest&&r.request.rid!=n||(null!=r.request.data?(r.request.data=[r.request.data],r.request.data.push(i)):r.request.data=i)}},{key:"onDsLoad",value:function(t,e,n){var i=this.dataMap[t];if(!this.props.ignoreOutdateRequest||i.request.rid==n){i.data=i.request.data,delete i.request;var r=this.props.parseData(this.getUnparsedData());null!=r&&this.emitLoadData(n,r)}}},{key:"onDsLoadError",value:function(t,e,n,i){this.emitLoadError(n,i)}},{key:"getUnparsedData",value:function(){var t={};for(var e in this.dataMap)t[e]=this.dataMap[e].data;return t}},{key:"_request",value:function(t){var e=this;this.emitLoadStart(t);var n=(0,i.default)(this.props.dsMap).map((function(t){return e.props.dsMap[t].request()}));return(0,c.all)(n).then((function(){e.emitLoad(t)})).catch((function(n){e.emitLoadError(t,n)}))}}]),e}(h.default);e.default=g},function(t,e,n){n(272),t.exports=n(4).Object.keys},function(t,e,n){var i=n(38),r=n(40);n(85)("keys",(function(){return function(t){return r(i(t))}}))},function(t,e,n){"use strict";t.exports={arrowSample:n(274)}},function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjAiIHdpZHRoPSIyMCIgdmVyc2lvbj0iMSI+CiAgPHBvbHlsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBwb2ludHM9IgoJMCwwIDE1LDEwIDAsMjAiLz4KPC9zdmc+Cgo="},function(t,e,n){"use strict";e.__esModule=!0;var i=o(n(276)),r=o(n(39));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if(Array.isArray(t))return t;if((0,i.default)(Object(t)))return function(t,e){var n=[],i=!0,o=!1,s=void 0;try{for(var a,u=(0,r.default)(t);!(i=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){o=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(o)throw s}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e,n){t.exports={default:n(277),__esModule:!0}},function(t,e,n){n(58),n(54),t.exports=n(278)},function(t,e,n){var i=n(84),r=n(9)("iterator"),o=n(33);t.exports=n(4).isIterable=function(t){var e=Object(t);return void 0!==e[r]||"@@iterator"in e||o.hasOwnProperty(i(e))}},function(t,e,n){var i;!function(r){"use strict";function o(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function s(t,e,n,i,r,s){return o((a=o(o(e,t),o(i,s)))<<(u=r)|a>>>32-u,n);var a,u}function a(t,e,n,i,r,o,a){return s(e&n|~e&i,t,e,r,o,a)}function u(t,e,n,i,r,o,a){return s(e&i|n&~i,t,e,r,o,a)}function l(t,e,n,i,r,o,a){return s(e^n^i,t,e,r,o,a)}function c(t,e,n,i,r,o,a){return s(n^(e|~i),t,e,r,o,a)}function h(t,e){var n,i,r,s,h;t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var f=1732584193,d=-271733879,p=-1732584194,g=271733878;for(n=0;n<t.length;n+=16)i=f,r=d,s=p,h=g,f=a(f,d,p,g,t[n],7,-680876936),g=a(g,f,d,p,t[n+1],12,-389564586),p=a(p,g,f,d,t[n+2],17,606105819),d=a(d,p,g,f,t[n+3],22,-1044525330),f=a(f,d,p,g,t[n+4],7,-176418897),g=a(g,f,d,p,t[n+5],12,1200080426),p=a(p,g,f,d,t[n+6],17,-1473231341),d=a(d,p,g,f,t[n+7],22,-45705983),f=a(f,d,p,g,t[n+8],7,1770035416),g=a(g,f,d,p,t[n+9],12,-1958414417),p=a(p,g,f,d,t[n+10],17,-42063),d=a(d,p,g,f,t[n+11],22,-1990404162),f=a(f,d,p,g,t[n+12],7,1804603682),g=a(g,f,d,p,t[n+13],12,-40341101),p=a(p,g,f,d,t[n+14],17,-1502002290),f=u(f,d=a(d,p,g,f,t[n+15],22,1236535329),p,g,t[n+1],5,-165796510),g=u(g,f,d,p,t[n+6],9,-1069501632),p=u(p,g,f,d,t[n+11],14,643717713),d=u(d,p,g,f,t[n],20,-373897302),f=u(f,d,p,g,t[n+5],5,-701558691),g=u(g,f,d,p,t[n+10],9,38016083),p=u(p,g,f,d,t[n+15],14,-660478335),d=u(d,p,g,f,t[n+4],20,-405537848),f=u(f,d,p,g,t[n+9],5,568446438),g=u(g,f,d,p,t[n+14],9,-1019803690),p=u(p,g,f,d,t[n+3],14,-187363961),d=u(d,p,g,f,t[n+8],20,1163531501),f=u(f,d,p,g,t[n+13],5,-1444681467),g=u(g,f,d,p,t[n+2],9,-51403784),p=u(p,g,f,d,t[n+7],14,1735328473),f=l(f,d=u(d,p,g,f,t[n+12],20,-1926607734),p,g,t[n+5],4,-378558),g=l(g,f,d,p,t[n+8],11,-2022574463),p=l(p,g,f,d,t[n+11],16,1839030562),d=l(d,p,g,f,t[n+14],23,-35309556),f=l(f,d,p,g,t[n+1],4,-1530992060),g=l(g,f,d,p,t[n+4],11,1272893353),p=l(p,g,f,d,t[n+7],16,-155497632),d=l(d,p,g,f,t[n+10],23,-1094730640),f=l(f,d,p,g,t[n+13],4,681279174),g=l(g,f,d,p,t[n],11,-358537222),p=l(p,g,f,d,t[n+3],16,-722521979),d=l(d,p,g,f,t[n+6],23,76029189),f=l(f,d,p,g,t[n+9],4,-640364487),g=l(g,f,d,p,t[n+12],11,-421815835),p=l(p,g,f,d,t[n+15],16,530742520),f=c(f,d=l(d,p,g,f,t[n+2],23,-995338651),p,g,t[n],6,-198630844),g=c(g,f,d,p,t[n+7],10,1126891415),p=c(p,g,f,d,t[n+14],15,-1416354905),d=c(d,p,g,f,t[n+5],21,-57434055),f=c(f,d,p,g,t[n+12],6,1700485571),g=c(g,f,d,p,t[n+3],10,-1894986606),p=c(p,g,f,d,t[n+10],15,-1051523),d=c(d,p,g,f,t[n+1],21,-2054922799),f=c(f,d,p,g,t[n+8],6,1873313359),g=c(g,f,d,p,t[n+15],10,-30611744),p=c(p,g,f,d,t[n+6],15,-1560198380),d=c(d,p,g,f,t[n+13],21,1309151649),f=c(f,d,p,g,t[n+4],6,-145523070),g=c(g,f,d,p,t[n+11],10,-1120210379),p=c(p,g,f,d,t[n+2],15,718787259),d=c(d,p,g,f,t[n+9],21,-343485551),f=o(f,i),d=o(d,r),p=o(p,s),g=o(g,h);return[f,d,p,g]}function f(t){var e,n="",i=32*t.length;for(e=0;e<i;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n}function d(t){var e,n=[];for(n[(t.length>>2)-1]=void 0,e=0;e<n.length;e+=1)n[e]=0;var i=8*t.length;for(e=0;e<i;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}function p(t){var e,n,i="";for(n=0;n<t.length;n+=1)e=t.charCodeAt(n),i+="0123456789abcdef".charAt(e>>>4&15)+"0123456789abcdef".charAt(15&e);return i}function g(t){return unescape(encodeURIComponent(t))}function v(t){return function(t){return f(h(d(t),8*t.length))}(g(t))}function m(t,e){return function(t,e){var n,i,r=d(t),o=[],s=[];for(o[15]=s[15]=void 0,r.length>16&&(r=h(r,8*t.length)),n=0;n<16;n+=1)o[n]=909522486^r[n],s[n]=1549556828^r[n];return i=h(o.concat(d(e)),512+8*e.length),f(h(s.concat(i),640))}(g(t),g(e))}function y(t,e,n){return e?n?m(e,t):p(m(e,t)):n?v(t):p(v(t))}void 0===(i=function(){return y}.call(e,n,e,t))||(t.exports=i)}()},function(t,e,n){"use strict";const i=Function.prototype.call.bind(Object.prototype.hasOwnProperty),r=Symbol("wrapper"),o=Symbol("impl"),s=Symbol("SameObject caches"),a=Symbol.for("[webidl2js]  constructor registry");function u(t){return t?t[r]:null}function l(t){return t?t[o]:null}const c=Symbol("internal"),h=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));const f=Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get;const d=Symbol("supports property index"),p=Symbol("supported property indices"),g=Symbol("supports property name"),v=Symbol("supported property names"),m=Symbol("indexed property get"),y=Symbol("indexed property set new"),x=Symbol("indexed property set existing"),E=Symbol("named property get"),b=Symbol("named property set new"),C=Symbol("named property set existing"),w=Symbol("named property delete");t.exports={isObject:function(t){return"object"==typeof t&&null!==t||"function"==typeof t},hasOwn:i,wrapperSymbol:r,implSymbol:o,getSameObject:function(t,e,n){return t[s]||(t[s]=Object.create(null)),e in t[s]||(t[s][e]=n()),t[s][e]},ctorRegistrySymbol:a,wrapperForImpl:u,implForWrapper:l,tryWrapperForImpl:function(t){const e=u(t);return e||t},tryImplForWrapper:function(t){const e=l(t);return e||t},iterInternalSymbol:c,IteratorPrototype:h,isArrayBuffer:function(t){try{return f.call(t),!0}catch(t){return!1}},isArrayIndexPropName:function(t){if("string"!=typeof t)return!1;const e=t>>>0;return e!==Math.pow(2,32)-1&&t===""+e},supportsPropertyIndex:d,supportedPropertyIndices:p,supportsPropertyName:g,supportedPropertyNames:v,indexedGet:m,indexedSetNew:y,indexedSetExisting:x,namedGet:E,namedSetNew:b,namedSetExisting:C,namedDelete:w}},function(t,e,n){"use strict";(function(t){const i=n(282),r=n(283),{domSymbolTree:o}=n(293),s=n(137).TreePosition;function a(t,e,n){Object.defineProperty(t,e,{configurable:!1,enumerable:!0,writable:!1,value:n})}e.toFileUrl=function(e){let n=i.resolve(t.cwd(),e).replace(/\\/g,"/");return"/"!==n[0]&&(n="/"+n),"file://"+encodeURI(n)},e.define=function(t,e){for(const n of Object.getOwnPropertyNames(e)){const i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,i)}},e.addConstants=function(t,e){for(const n in e){const i=e[n];a(t,n,i),a(t.prototype,n,i)}},e.mixin=(t,e)=>{const n=Reflect.ownKeys(e);for(let i=0;i<n.length;++i)n[i]in t||Object.defineProperty(t,n[i],Object.getOwnPropertyDescriptor(e,n[i]))};let u=0;e.memoizeQuery=function(t){if(t.length>2)return t;const e=u++;return function(){if(!this._memoizedQueries)return t.apply(this,arguments);let n;if(this._memoizedQueries[e]||(this._memoizedQueries[e]=Object.create(null)),1===arguments.length&&"string"==typeof arguments[0])n=arguments[0];else{if(2!==arguments.length||"string"!=typeof arguments[0]||"string"!=typeof arguments[1])return t.apply(this,arguments);n=arguments[0]+"::"+arguments[1]}return n in this._memoizedQueries[e]||(this._memoizedQueries[e][n]=t.apply(this,arguments)),this._memoizedQueries[e][n]}},e.isValidTargetOrigin=function(t){return"*"===t||"/"===t||function(t){return null!==r.parseURL(t)}(t)},e.simultaneousIterators=function*(t,e){for(;;){const n=t.next(),i=e.next();if(n.done&&i.done)return;yield[n.done?null:n.value,i.done?null:i.value]}},e.treeOrderSorter=function(t,e){const n=o.compareTreePosition(t,e);return n&s.PRECEDING?1:n&s.FOLLOWING?-1:0},e.Canvas=null;let l=!1;try{!function(){var t=new Error("Cannot find module 'canvas'");throw t.code="MODULE_NOT_FOUND",t}(),l=!0}catch(t){}if(l){const t=n(!function(){var t=new Error("Cannot find module 'canvas'");throw t.code="MODULE_NOT_FOUND",t}());"function"==typeof t.createCanvas&&(e.Canvas=t)}}).call(this,n(91))},function(t,e,n){(function(t){function n(t,e){for(var n=0,i=t.length-1;i>=0;i--){var r=t[i];"."===r?t.splice(i,1):".."===r?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function i(t,e){if(t.filter)return t.filter(e);for(var n=[],i=0;i<t.length;i++)e(t[i],i,t)&&n.push(t[i]);return n}e.resolve=function(){for(var e="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var s=o>=0?arguments[o]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,r="/"===s.charAt(0))}return(r?"/":"")+(e=n(i(e.split("/"),(function(t){return!!t})),!r).join("/"))||"."},e.normalize=function(t){var o=e.isAbsolute(t),s="/"===r(t,-1);return(t=n(i(t.split("/"),(function(t){return!!t})),!o).join("/"))||o||(t="."),t&&s&&(t+="/"),(o?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(i(t,(function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,n){function i(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var r=i(t.split("/")),o=i(n.split("/")),s=Math.min(r.length,o.length),a=s,u=0;u<s;u++)if(r[u]!==o[u]){a=u;break}var l=[];for(u=a;u<r.length;u++)l.push("..");return(l=l.concat(o.slice(a))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,i=-1,r=!0,o=t.length-1;o>=1;--o)if(47===(e=t.charCodeAt(o))){if(!r){i=o;break}}else r=!1;return-1===i?n?"/":".":n&&1===i?"/":t.slice(0,i)},e.basename=function(t,e){var n=function(t){"string"!=typeof t&&(t+="");var e,n=0,i=-1,r=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!r){n=e+1;break}}else-1===i&&(r=!1,i=e+1);return-1===i?"":t.slice(n,i)}(t);return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,n=0,i=-1,r=!0,o=0,s=t.length-1;s>=0;--s){var a=t.charCodeAt(s);if(47!==a)-1===i&&(r=!1,i=s+1),46===a?-1===e?e=s:1!==o&&(o=1):-1!==e&&(o=-1);else if(!r){n=s+1;break}}return-1===e||-1===i||0===o||1===o&&e===i-1&&e===n+1?"":t.slice(e,i)};var r="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n(91))},function(t,e,n){"use strict";const{URL:i,URLSearchParams:r}=n(284),o=n(132),s=n(62),a={};i.install(a),r.install(a),e.URL=a.URL,e.URLSearchParams=a.URLSearchParams,e.parseURL=o.parseURL,e.basicURLParse=o.basicURLParse,e.serializeURL=o.serializeURL,e.serializeHost=o.serializeHost,e.serializeInteger=o.serializeInteger,e.serializeURLOrigin=o.serializeURLOrigin,e.setTheUsername=o.setTheUsername,e.setThePassword=o.setThePassword,e.cannotHaveAUsernamePasswordPort=o.cannotHaveAUsernamePasswordPort,e.percentDecode=s.percentDecode},function(t,e,n){"use strict";const i=n(285),r=n(136);e.URL=i,e.URLSearchParams=r},function(t,e,n){"use strict";const i=n(130),r=n(131),o=r.implSymbol,s=r.ctorRegistrySymbol,a={_mixedIntoPredicates:[],is(e){if(e){if(r.hasOwn(e,o)&&e[o]instanceof u.implementation)return!0;for(const n of t.exports._mixedIntoPredicates)if(n(e))return!0}return!1},isImpl(e){if(e){if(e instanceof u.implementation)return!0;const n=r.wrapperForImpl(e);for(const e of t.exports._mixedIntoPredicates)if(e(n))return!0}return!1},convert(e,{context:n="The provided value"}={}){if(t.exports.is(e))return r.implForWrapper(e);throw new TypeError(n+" is not of type 'URL'.")},create(t,e,n){if(void 0===t[s])throw new Error("Internal error: invalid global object");const i=t[s].URL;if(void 0===i)throw new Error("Internal error: constructor URL is not installed on the passed global object");let r=Object.create(i.prototype);return r=a.setup(r,t,e,n),r},createImpl(t,e,n){const i=a.create(t,e,n);return r.implForWrapper(i)},_internalSetup(t){},setup:(t,e,n=[],i={})=>(i.wrapper=t,a._internalSetup(t),Object.defineProperty(t,o,{value:new u.implementation(e,n,i),configurable:!0}),t[o][r.wrapperSymbol]=t,u.init&&u.init(t[o],i),t),install(e){class n{constructor(t){if(arguments.length<1)throw new TypeError("Failed to construct 'URL': 1 argument required, but only "+arguments.length+" present.");const n=[];{let t=arguments[0];t=i.USVString(t,{context:"Failed to construct 'URL': parameter 1"}),n.push(t)}{let t=arguments[1];void 0!==t&&(t=i.USVString(t,{context:"Failed to construct 'URL': parameter 2"})),n.push(t)}return a.setup(Object.create(new.target.prototype),e,n)}toJSON(){if(!this||!t.exports.is(this))throw new TypeError("Illegal invocation");return this[o].toJSON()}get href(){if(!this||!t.exports.is(this))throw new TypeError("Illegal invocation");return this[o].href}set href(e){if(!this||!t.exports.is(this))throw new TypeError("Illegal invocation");e=i.USVString(e,{context:"Failed to set the 'href' property on 'URL': The provided value"}),this[o].href=e}toString(){if(!this||!t.exports.is(this))throw new TypeError("Illegal invocation");return this[o].href}get origin(){if(!this||!t.exports.is(this))throw new TypeError("Illegal invocation");return this[o].origin}get protocol(){if(!this||!t.exports.is(this))throw new TypeError("Illegal invocation");return this[o].protocol}set protocol(e){if(!this||!t.exports.is(this))throw new TypeError("Illegal invocation");e=i.USVString(e,{context:"Failed to set the 'protocol' property on 'URL': The provided value"}),this[o].protocol=e}get username(){if(!this||!t.exports.is(this))throw new TypeError("Illegal invocation");return this[o].username}set username(e){if(!this||!t.exports.is(this))throw new TypeError("Illegal invocation");e=i.USVString(e,{context:"Failed to set the 'username' property on 'URL': The provided value"}),this[o].username=e}get password(){if(!this||!t.exports.is(this))throw new TypeError("Illegal invocation");return this[o].password}set password(e){if(!this||!t.exports.is(this))throw new TypeError("Illegal invocation");e=i.USVString(e,{context:"Failed to set the 'password' property on 'URL': The provided value"}),this[o].password=e}get host(){if(!this||!t.exports.is(this))throw new TypeError("Illegal invocation");return this[o].host}set host(e){if(!this||!t.exports.is(this))throw new TypeError("Illegal invocation");e=i.USVString(e,{context:"Failed to set the 'host' property on 'URL': The provided value"}),this[o].host=e}get hostname(){if(!this||!t.exports.is(this))throw new TypeError("Illegal invocation");return this[o].hostname}set hostname(e){if(!this||!t.exports.is(this))throw new TypeError("Illegal invocation");e=i.USVString(e,{context:"Failed to set the 'hostname' property on 'URL': The provided value"}),this[o].hostname=e}get port(){if(!this||!t.exports.is(this))throw new TypeError("Illegal invocation");return this[o].port}set port(e){if(!this||!t.exports.is(this))throw new TypeError("Illegal invocation");e=i.USVString(e,{context:"Failed to set the 'port' property on 'URL': The provided value"}),this[o].port=e}get pathname(){if(!this||!t.exports.is(this))throw new TypeError("Illegal invocation");return this[o].pathname}set pathname(e){if(!this||!t.exports.is(this))throw new TypeError("Illegal invocation");e=i.USVString(e,{context:"Failed to set the 'pathname' property on 'URL': The provided value"}),this[o].pathname=e}get search(){if(!this||!t.exports.is(this))throw new TypeError("Illegal invocation");return this[o].search}set search(e){if(!this||!t.exports.is(this))throw new TypeError("Illegal invocation");e=i.USVString(e,{context:"Failed to set the 'search' property on 'URL': The provided value"}),this[o].search=e}get searchParams(){if(!this||!t.exports.is(this))throw new TypeError("Illegal invocation");return r.getSameObject(this,"searchParams",()=>r.tryWrapperForImpl(this[o].searchParams))}get hash(){if(!this||!t.exports.is(this))throw new TypeError("Illegal invocation");return this[o].hash}set hash(e){if(!this||!t.exports.is(this))throw new TypeError("Illegal invocation");e=i.USVString(e,{context:"Failed to set the 'hash' property on 'URL': The provided value"}),this[o].hash=e}}Object.defineProperties(n.prototype,{toJSON:{enumerable:!0},href:{enumerable:!0},toString:{enumerable:!0},origin:{enumerable:!0},protocol:{enumerable:!0},username:{enumerable:!0},password:{enumerable:!0},host:{enumerable:!0},hostname:{enumerable:!0},port:{enumerable:!0},pathname:{enumerable:!0},search:{enumerable:!0},searchParams:{enumerable:!0},hash:{enumerable:!0},[Symbol.toStringTag]:{value:"URL",configurable:!0}}),void 0===e[s]&&(e[s]=Object.create(null)),e[s].URL=n,Object.defineProperty(e,"URL",{configurable:!0,writable:!0,value:n})}};t.exports=a;const u=n(286)},function(t,e,n){"use strict";const i=n(132),r=n(62),o=n(136);e.implementation=class{constructor(t,e){const n=e[0],r=e[1];let s=null;if(void 0!==r&&(s=i.basicURLParse(r),null===s))throw new TypeError("Invalid base URL: "+r);const a=i.basicURLParse(n,{baseURL:s});if(null===a)throw new TypeError("Invalid URL: "+n);const u=null!==a.query?a.query:"";this._url=a,this._query=o.createImpl(t,[u],{doNotStripQMark:!0}),this._query._url=this}get href(){return i.serializeURL(this._url)}set href(t){const e=i.basicURLParse(t);if(null===e)throw new TypeError("Invalid URL: "+t);this._url=e,this._query._list.splice(0);const{query:n}=e;null!==n&&(this._query._list=r.parseUrlencoded(n))}get origin(){return i.serializeURLOrigin(this._url)}get protocol(){return this._url.scheme+":"}set protocol(t){i.basicURLParse(t+":",{url:this._url,stateOverride:"scheme start"})}get username(){return this._url.username}set username(t){i.cannotHaveAUsernamePasswordPort(this._url)||i.setTheUsername(this._url,t)}get password(){return this._url.password}set password(t){i.cannotHaveAUsernamePasswordPort(this._url)||i.setThePassword(this._url,t)}get host(){const t=this._url;return null===t.host?"":null===t.port?i.serializeHost(t.host):i.serializeHost(t.host)+":"+i.serializeInteger(t.port)}set host(t){this._url.cannotBeABaseURL||i.basicURLParse(t,{url:this._url,stateOverride:"host"})}get hostname(){return null===this._url.host?"":i.serializeHost(this._url.host)}set hostname(t){this._url.cannotBeABaseURL||i.basicURLParse(t,{url:this._url,stateOverride:"hostname"})}get port(){return null===this._url.port?"":i.serializeInteger(this._url.port)}set port(t){i.cannotHaveAUsernamePasswordPort(this._url)||(""===t?this._url.port=null:i.basicURLParse(t,{url:this._url,stateOverride:"port"}))}get pathname(){return this._url.cannotBeABaseURL?this._url.path[0]:0===this._url.path.length?"":"/"+this._url.path.join("/")}set pathname(t){this._url.cannotBeABaseURL||(this._url.path=[],i.basicURLParse(t,{url:this._url,stateOverride:"path start"}))}get search(){return null===this._url.query||""===this._url.query?"":"?"+this._url.query}set search(t){const e=this._url;if(""===t)return e.query=null,void(this._query._list=[]);const n="?"===t[0]?t.substring(1):t;e.query="",i.basicURLParse(n,{url:e,stateOverride:"query"}),this._query._list=r.parseUrlencoded(n)}get searchParams(){return this._query}get hash(){return null===this._url.fragment||""===this._url.fragment?"":"#"+this._url.fragment}set hash(t){if(""===t)return void(this._url.fragment=null);const e="#"===t[0]?t.substring(1):t;this._url.fragment="",i.basicURLParse(e,{url:this._url,stateOverride:"fragment"})}toJSON(){return this.href}}},function(t,e,n){"use strict";const i=n(133),r=n(288),o=n(289),{STATUS_MAPPING:s}=n(290);function a(t,{useSTD3ASCIIRules:e}){let n=0,i=o.length-1;for(;n<=i;){const r=Math.floor((n+i)/2),a=o[r],u=Array.isArray(a[0])?a[0][0]:a[0],l=Array.isArray(a[0])?a[0][1]:a[0];if(u<=t&&l>=t)return!e||a[1]!==s.disallowed_STD3_valid&&a[1]!==s.disallowed_STD3_mapped?a[1]===s.disallowed_STD3_valid?[s.valid,...a.slice(2)]:a[1]===s.disallowed_STD3_mapped?[s.mapped,...a.slice(2)]:a.slice(1):[s.disallowed,...a.slice(2)];u>t?i=r-1:n=r+1}return null}function u(t,{checkHyphens:e,checkBidi:n,checkJoiners:i,processingOption:o,useSTD3ASCIIRules:u}){if(t.normalize("NFC")!==t)return!1;const l=Array.from(t);if(e&&("-"===l[2]&&"-"===l[3]||t.startsWith("-")||t.endsWith("-")))return!1;if(t.includes(".")||l.length>0&&r.combiningMarks.test(l[0]))return!1;for(const t of l){const[e]=a(t.codePointAt(0),{useSTD3ASCIIRules:u});if("transitional"===o&&e!==s.valid||"nontransitional"===o&&e!==s.valid&&e!==s.deviation)return!1}if(i){let t=0;for(const[e,n]of l.entries())if(""===n||""===n){if(e>0){if(r.combiningClassVirama.test(l[e-1]))continue;if(""===n){const n=l.indexOf("",e+1),i=n<0?l.slice(t):l.slice(t,n);if(r.validZWNJ.test(i.join(""))){t=e+1;continue}}}return!1}}if(n){let e;if(r.bidiS1LTR.test(l[0]))e=!1;else{if(!r.bidiS1RTL.test(l[0]))return!1;e=!0}if(e){if(!r.bidiS2.test(t)||!r.bidiS3.test(t)||r.bidiS4EN.test(t)&&r.bidiS4AN.test(t))return!1}else if(!r.bidiS5.test(t)||!r.bidiS6.test(t))return!1}return!0}function l(t,e){const{processingOption:n}=e;let{string:o,error:l}=function(t,{useSTD3ASCIIRules:e,processingOption:n}){let i=!1,r="";for(const o of t){const[t,u]=a(o.codePointAt(0),{useSTD3ASCIIRules:e});switch(t){case s.disallowed:i=!0,r+=o;break;case s.ignored:break;case s.mapped:r+=u;break;case s.deviation:r+="transitional"===n?u:o;break;case s.valid:r+=o}}return{string:r,error:i}}(t,e);o=o.normalize("NFC");const c=o.split("."),h=function(t){const e=t.map(t=>{if(t.startsWith("xn--"))try{return i.decode(t.substring(4))}catch(t){return""}return t}).join(".");return r.bidiDomain.test(e)}(c);for(const[t,r]of c.entries()){let o=r,s=n;if(o.startsWith("xn--")){try{o=i.decode(o.substring(4)),c[t]=o}catch(t){l=!0;continue}s="nontransitional"}if(l)continue;u(o,Object.assign({},e,{processingOption:s,checkBidi:e.checkBidi&&h}))||(l=!0)}return{string:c.join("."),error:l}}t.exports={toASCII:function(t,{checkHyphens:e=!1,checkBidi:n=!1,checkJoiners:r=!1,useSTD3ASCIIRules:o=!1,processingOption:s="nontransitional",verifyDNSLength:a=!1}={}){if("transitional"!==s&&"nontransitional"!==s)throw new RangeError("processingOption must be either transitional or nontransitional");const u=l(t,{processingOption:s,checkHyphens:e,checkBidi:n,checkJoiners:r,useSTD3ASCIIRules:o});let c=u.string.split(".");if(c=c.map(t=>{if(/[^\x00-\x7F]/.test(t))try{return"xn--"+i.encode(t)}catch(t){u.error=!0}return t}),a){const t=c.join(".").length;(t>253||0===t)&&(u.error=!0);for(let t=0;t<c.length;++t)if(c[t].length>63||0===c[t].length){u.error=!0;break}}return u.error?null:c.join(".")},toUnicode:function(t,{checkHyphens:e=!1,checkBidi:n=!1,checkJoiners:i=!1,useSTD3ASCIIRules:r=!1,processingOption:o="nontransitional"}={}){const s=l(t,{processingOption:o,checkHyphens:e,checkBidi:n,checkJoiners:i,useSTD3ASCIIRules:r});return{domain:s.string,error:s.error}}}},function(t,e,n){"use strict";t.exports={combiningMarks:/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10F46}-\u{10F50}\u{11000}-\u{11002}\u{11038}-\u{11046}\u{1107F}-\u{11082}\u{110B0}-\u{110BA}\u{11100}-\u{11102}\u{11127}-\u{11134}\u{11145}\u{11146}\u{11173}\u{11180}-\u{11182}\u{111B3}-\u{111C0}\u{111C9}-\u{111CC}\u{1122C}-\u{11237}\u{1123E}\u{112DF}-\u{112EA}\u{11300}-\u{11303}\u{1133B}\u{1133C}\u{1133E}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11357}\u{11362}\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11435}-\u{11446}\u{1145E}\u{114B0}-\u{114C3}\u{115AF}-\u{115B5}\u{115B8}-\u{115C0}\u{115DC}\u{115DD}\u{11630}-\u{11640}\u{116AB}-\u{116B7}\u{1171D}-\u{1172B}\u{1182C}-\u{1183A}\u{119D1}-\u{119D7}\u{119DA}-\u{119E0}\u{119E4}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A39}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A5B}\u{11A8A}-\u{11A99}\u{11C2F}-\u{11C36}\u{11C38}-\u{11C3F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D8A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D97}\u{11EF3}-\u{11EF6}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F51}-\u{16F87}\u{16F8F}-\u{16F92}\u{1BC9D}\u{1BC9E}\u{1D165}-\u{1D169}\u{1D16D}-\u{1D172}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]/u,combiningClassVirama:/[\u094D\u09CD\u0A4D\u0ACD\u0B4D\u0BCD\u0C4D\u0CCD\u0D3B\u0D3C\u0D4D\u0DCA\u0E3A\u0EBA\u0F84\u1039\u103A\u1714\u1734\u17D2\u1A60\u1B44\u1BAA\u1BAB\u1BF2\u1BF3\u2D7F\uA806\uA8C4\uA953\uA9C0\uAAF6\uABED\u{10A3F}\u{11046}\u{1107F}\u{110B9}\u{11133}\u{11134}\u{111C0}\u{11235}\u{112EA}\u{1134D}\u{11442}\u{114C2}\u{115BF}\u{1163F}\u{116B6}\u{1172B}\u{11839}\u{119E0}\u{11A34}\u{11A47}\u{11A99}\u{11C3F}\u{11D44}\u{11D45}\u{11D97}]/u,validZWNJ:/[\u0620\u0626\u0628\u062A-\u062E\u0633-\u063F\u0641-\u0647\u0649\u064A\u066E\u066F\u0678-\u0687\u069A-\u06BF\u06C1\u06C2\u06CC\u06CE\u06D0\u06D1\u06FA-\u06FC\u06FF\u0712-\u0714\u071A-\u071D\u071F-\u0727\u0729\u072B\u072D\u072E\u074E-\u0758\u075C-\u076A\u076D-\u0770\u0772\u0775-\u0777\u077A-\u077F\u07CA-\u07EA\u0841-\u0845\u0848\u084A-\u0853\u0855\u0860\u0862-\u0865\u0868\u08A0-\u08A9\u08AF\u08B0\u08B3\u08B4\u08B6-\u08B8\u08BA-\u08BD\u1807\u1820-\u1878\u1887-\u18A8\u18AA\uA840-\uA872\u{10AC0}-\u{10AC4}\u{10ACD}\u{10AD3}-\u{10ADC}\u{10ADE}-\u{10AE0}\u{10AEB}-\u{10AEE}\u{10B80}\u{10B82}\u{10B86}-\u{10B88}\u{10B8A}\u{10B8B}\u{10B8D}\u{10B90}\u{10BAD}\u{10BAE}\u{10D00}-\u{10D21}\u{10D23}\u{10F30}-\u{10F32}\u{10F34}-\u{10F44}\u{10F51}-\u{10F53}\u{1E900}-\u{1E943}][\xAD\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u061C\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u070F\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC6\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200B\u200E\u200F\u202A-\u202E\u2060-\u2064\u206A-\u206F\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFEFF\uFFF9-\uFFFB\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10F46}-\u{10F50}\u{11001}\u{11038}-\u{11046}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C3F}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{13430}-\u{13438}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{1BC9D}\u{1BC9E}\u{1BCA0}-\u{1BCA3}\u{1D167}-\u{1D169}\u{1D173}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94B}\u{E0001}\u{E0020}-\u{E007F}\u{E0100}-\u{E01EF}]*\u200C[\xAD\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u061C\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u070F\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC6\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200B\u200E\u200F\u202A-\u202E\u2060-\u2064\u206A-\u206F\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFEFF\uFFF9-\uFFFB\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10F46}-\u{10F50}\u{11001}\u{11038}-\u{11046}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C3F}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{13430}-\u{13438}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{1BC9D}\u{1BC9E}\u{1BCA0}-\u{1BCA3}\u{1D167}-\u{1D169}\u{1D173}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94B}\u{E0001}\u{E0020}-\u{E007F}\u{E0100}-\u{E01EF}]*[\u0620\u0622-\u063F\u0641-\u064A\u066E\u066F\u0671-\u0673\u0675-\u06D3\u06D5\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u077F\u07CA-\u07EA\u0840-\u0855\u0860\u0862-\u0865\u0867-\u086A\u08A0-\u08AC\u08AE-\u08B4\u08B6-\u08BD\u1807\u1820-\u1878\u1887-\u18A8\u18AA\uA840-\uA871\u{10AC0}-\u{10AC5}\u{10AC7}\u{10AC9}\u{10ACA}\u{10ACE}-\u{10AD6}\u{10AD8}-\u{10AE1}\u{10AE4}\u{10AEB}-\u{10AEF}\u{10B80}-\u{10B91}\u{10BA9}-\u{10BAE}\u{10D01}-\u{10D23}\u{10F30}-\u{10F44}\u{10F51}-\u{10F54}\u{1E900}-\u{1E943}]/u,bidiDomain:/[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05EA\u05EF-\u05F4\u0600-\u0605\u0608\u060B\u060D\u061B\u061C\u061E-\u064A\u0660-\u0669\u066B-\u066F\u0671-\u06D5\u06DD\u06E5\u06E6\u06EE\u06EF\u06FA-\u070D\u070F\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u083E\u0840-\u0858\u085E\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08E2\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE70-\uFE74\uFE76-\uFEFC\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10857}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{10920}-\u{10939}\u{1093F}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A00}\u{10A10}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A40}-\u{10A48}\u{10A50}-\u{10A58}\u{10A60}-\u{10A9F}\u{10AC0}-\u{10AE4}\u{10AEB}-\u{10AF6}\u{10B00}-\u{10B35}\u{10B40}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10B99}-\u{10B9C}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D23}\u{10D30}-\u{10D39}\u{10E60}-\u{10E7E}\u{10F00}-\u{10F27}\u{10F30}-\u{10F45}\u{10F51}-\u{10F59}\u{10FE0}-\u{10FF6}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8CF}\u{1E900}-\u{1E943}\u{1E94B}\u{1E950}-\u{1E959}\u{1E95E}\u{1E95F}\u{1EC71}-\u{1ECB4}\u{1ED01}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}]/u,bidiS1LTR:/[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u02BB-\u02C1\u02D0\u02D1\u02E0-\u02E4\u02EE\u0370-\u0373\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0482\u048A-\u052F\u0531-\u0556\u0559-\u0589\u0903-\u0939\u093B\u093D-\u0940\u0949-\u094C\u094E-\u0950\u0958-\u0961\u0964-\u0980\u0982\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD-\u09C0\u09C7\u09C8\u09CB\u09CC\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09FA\u09FC\u09FD\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3E-\u0A40\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A76\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD-\u0AC0\u0AC9\u0ACB\u0ACC\u0AD0\u0AE0\u0AE1\u0AE6-\u0AF0\u0AF9\u0B02\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B3E\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0B57\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD0\u0BD7\u0BE6-\u0BF2\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C41-\u0C44\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C77\u0C7F\u0C80\u0C82-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD-\u0CC4\u0CC6-\u0CC8\u0CCA\u0CCB\u0CD5\u0CD6\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D02\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D4E\u0D4F\u0D54-\u0D61\u0D66-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCF-\u0DD1\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2-\u0DF4\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E4F-\u0E5B\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00-\u0F17\u0F1A-\u0F34\u0F36\u0F38\u0F3E-\u0F47\u0F49-\u0F6C\u0F7F\u0F85\u0F88-\u0F8C\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u1000-\u102C\u1031\u1038\u103B\u103C\u103F-\u1057\u105A-\u105D\u1061-\u1070\u1075-\u1081\u1083\u1084\u1087-\u108C\u108E-\u109C\u109E-\u10C5\u10C7\u10CD\u10D0-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1360-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u167F\u1681-\u169A\u16A0-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1735\u1736\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17B6\u17BE-\u17C5\u17C7\u17C8\u17D4-\u17DA\u17DC\u17E0-\u17E9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A19\u1A1A\u1A1E-\u1A55\u1A57\u1A61\u1A63\u1A64\u1A6D-\u1A72\u1A80-\u1A89\u1A90-\u1A99\u1AA0-\u1AAD\u1B04-\u1B33\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B4B\u1B50-\u1B6A\u1B74-\u1B7C\u1B82-\u1BA1\u1BA6\u1BA7\u1BAA\u1BAE-\u1BE5\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1BFC-\u1C2B\u1C34\u1C35\u1C3B-\u1C49\u1C4D-\u1C88\u1C90-\u1CBA\u1CBD-\u1CC7\u1CD3\u1CE1\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5-\u1CF7\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200E\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u214F\u2160-\u2188\u2336-\u237A\u2395\u249C-\u24E9\u26AC\u2800-\u28FF\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D70\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u302E\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3190-\u31BA\u31F0-\u321C\u3220-\u324F\u3260-\u327B\u327F-\u32B0\u32C0-\u32CB\u32D0-\u3376\u337B-\u33DD\u33E0-\u33FE\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA60C\uA610-\uA62B\uA640-\uA66E\uA680-\uA69D\uA6A0-\uA6EF\uA6F2-\uA6F7\uA722-\uA787\uA789-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA824\uA827\uA830-\uA837\uA840-\uA873\uA880-\uA8C3\uA8CE-\uA8D9\uA8F2-\uA8FE\uA900-\uA925\uA92E-\uA946\uA952\uA953\uA95F-\uA97C\uA983-\uA9B2\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9CD\uA9CF-\uA9D9\uA9DE-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA2F\uAA30\uAA33\uAA34\uAA40-\uAA42\uAA44-\uAA4B\uAA4D\uAA50-\uAA59\uAA5C-\uAA7B\uAA7D-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAAEB\uAAEE-\uAAF5\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB67\uAB70-\uABE4\uABE6\uABE7\uABE9-\uABEC\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uD800-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\u{10000}-\u{1000B}\u{1000D}-\u{10026}\u{10028}-\u{1003A}\u{1003C}\u{1003D}\u{1003F}-\u{1004D}\u{10050}-\u{1005D}\u{10080}-\u{100FA}\u{10100}\u{10102}\u{10107}-\u{10133}\u{10137}-\u{1013F}\u{1018D}\u{1018E}\u{101D0}-\u{101FC}\u{10280}-\u{1029C}\u{102A0}-\u{102D0}\u{10300}-\u{10323}\u{1032D}-\u{1034A}\u{10350}-\u{10375}\u{10380}-\u{1039D}\u{1039F}-\u{103C3}\u{103C8}-\u{103D5}\u{10400}-\u{1049D}\u{104A0}-\u{104A9}\u{104B0}-\u{104D3}\u{104D8}-\u{104FB}\u{10500}-\u{10527}\u{10530}-\u{10563}\u{1056F}\u{10600}-\u{10736}\u{10740}-\u{10755}\u{10760}-\u{10767}\u{11000}\u{11002}-\u{11037}\u{11047}-\u{1104D}\u{11066}-\u{1106F}\u{11082}-\u{110B2}\u{110B7}\u{110B8}\u{110BB}-\u{110C1}\u{110CD}\u{110D0}-\u{110E8}\u{110F0}-\u{110F9}\u{11103}-\u{11126}\u{1112C}\u{11136}-\u{11146}\u{11150}-\u{11172}\u{11174}-\u{11176}\u{11182}-\u{111B5}\u{111BF}-\u{111C8}\u{111CD}\u{111D0}-\u{111DF}\u{111E1}-\u{111F4}\u{11200}-\u{11211}\u{11213}-\u{1122E}\u{11232}\u{11233}\u{11235}\u{11238}-\u{1123D}\u{11280}-\u{11286}\u{11288}\u{1128A}-\u{1128D}\u{1128F}-\u{1129D}\u{1129F}-\u{112A9}\u{112B0}-\u{112DE}\u{112E0}-\u{112E2}\u{112F0}-\u{112F9}\u{11302}\u{11303}\u{11305}-\u{1130C}\u{1130F}\u{11310}\u{11313}-\u{11328}\u{1132A}-\u{11330}\u{11332}\u{11333}\u{11335}-\u{11339}\u{1133D}-\u{1133F}\u{11341}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11350}\u{11357}\u{1135D}-\u{11363}\u{11400}-\u{11437}\u{11440}\u{11441}\u{11445}\u{11447}-\u{11459}\u{1145B}\u{1145D}\u{1145F}\u{11480}-\u{114B2}\u{114B9}\u{114BB}-\u{114BE}\u{114C1}\u{114C4}-\u{114C7}\u{114D0}-\u{114D9}\u{11580}-\u{115B1}\u{115B8}-\u{115BB}\u{115BE}\u{115C1}-\u{115DB}\u{11600}-\u{11632}\u{1163B}\u{1163C}\u{1163E}\u{11641}-\u{11644}\u{11650}-\u{11659}\u{11680}-\u{116AA}\u{116AC}\u{116AE}\u{116AF}\u{116B6}\u{116B8}\u{116C0}-\u{116C9}\u{11700}-\u{1171A}\u{11720}\u{11721}\u{11726}\u{11730}-\u{1173F}\u{11800}-\u{1182E}\u{11838}\u{1183B}\u{118A0}-\u{118F2}\u{118FF}\u{119A0}-\u{119A7}\u{119AA}-\u{119D3}\u{119DC}-\u{119DF}\u{119E1}-\u{119E4}\u{11A00}\u{11A07}\u{11A08}\u{11A0B}-\u{11A32}\u{11A39}\u{11A3A}\u{11A3F}-\u{11A46}\u{11A50}\u{11A57}\u{11A58}\u{11A5C}-\u{11A89}\u{11A97}\u{11A9A}-\u{11AA2}\u{11AC0}-\u{11AF8}\u{11C00}-\u{11C08}\u{11C0A}-\u{11C2F}\u{11C3E}-\u{11C45}\u{11C50}-\u{11C6C}\u{11C70}-\u{11C8F}\u{11CA9}\u{11CB1}\u{11CB4}\u{11D00}-\u{11D06}\u{11D08}\u{11D09}\u{11D0B}-\u{11D30}\u{11D46}\u{11D50}-\u{11D59}\u{11D60}-\u{11D65}\u{11D67}\u{11D68}\u{11D6A}-\u{11D8E}\u{11D93}\u{11D94}\u{11D96}\u{11D98}\u{11DA0}-\u{11DA9}\u{11EE0}-\u{11EF2}\u{11EF5}-\u{11EF8}\u{11FC0}-\u{11FD4}\u{11FFF}-\u{12399}\u{12400}-\u{1246E}\u{12470}-\u{12474}\u{12480}-\u{12543}\u{13000}-\u{1342E}\u{13430}-\u{13438}\u{14400}-\u{14646}\u{16800}-\u{16A38}\u{16A40}-\u{16A5E}\u{16A60}-\u{16A69}\u{16A6E}\u{16A6F}\u{16AD0}-\u{16AED}\u{16AF5}\u{16B00}-\u{16B2F}\u{16B37}-\u{16B45}\u{16B50}-\u{16B59}\u{16B5B}-\u{16B61}\u{16B63}-\u{16B77}\u{16B7D}-\u{16B8F}\u{16E40}-\u{16E9A}\u{16F00}-\u{16F4A}\u{16F50}-\u{16F87}\u{16F93}-\u{16F9F}\u{16FE0}\u{16FE1}\u{16FE3}\u{17000}-\u{187F7}\u{18800}-\u{18AF2}\u{1B000}-\u{1B11E}\u{1B150}-\u{1B152}\u{1B164}-\u{1B167}\u{1B170}-\u{1B2FB}\u{1BC00}-\u{1BC6A}\u{1BC70}-\u{1BC7C}\u{1BC80}-\u{1BC88}\u{1BC90}-\u{1BC99}\u{1BC9C}\u{1BC9F}\u{1D000}-\u{1D0F5}\u{1D100}-\u{1D126}\u{1D129}-\u{1D166}\u{1D16A}-\u{1D172}\u{1D183}\u{1D184}\u{1D18C}-\u{1D1A9}\u{1D1AE}-\u{1D1E8}\u{1D2E0}-\u{1D2F3}\u{1D360}-\u{1D378}\u{1D400}-\u{1D454}\u{1D456}-\u{1D49C}\u{1D49E}\u{1D49F}\u{1D4A2}\u{1D4A5}\u{1D4A6}\u{1D4A9}-\u{1D4AC}\u{1D4AE}-\u{1D4B9}\u{1D4BB}\u{1D4BD}-\u{1D4C3}\u{1D4C5}-\u{1D505}\u{1D507}-\u{1D50A}\u{1D50D}-\u{1D514}\u{1D516}-\u{1D51C}\u{1D51E}-\u{1D539}\u{1D53B}-\u{1D53E}\u{1D540}-\u{1D544}\u{1D546}\u{1D54A}-\u{1D550}\u{1D552}-\u{1D6A5}\u{1D6A8}-\u{1D6DA}\u{1D6DC}-\u{1D714}\u{1D716}-\u{1D74E}\u{1D750}-\u{1D788}\u{1D78A}-\u{1D7C2}\u{1D7C4}-\u{1D7CB}\u{1D800}-\u{1D9FF}\u{1DA37}-\u{1DA3A}\u{1DA6D}-\u{1DA74}\u{1DA76}-\u{1DA83}\u{1DA85}-\u{1DA8B}\u{1E100}-\u{1E12C}\u{1E137}-\u{1E13D}\u{1E140}-\u{1E149}\u{1E14E}\u{1E14F}\u{1E2C0}-\u{1E2EB}\u{1E2F0}-\u{1E2F9}\u{1F110}-\u{1F12E}\u{1F130}-\u{1F169}\u{1F170}-\u{1F1AC}\u{1F1E6}-\u{1F202}\u{1F210}-\u{1F23B}\u{1F240}-\u{1F248}\u{1F250}\u{1F251}\u{20000}-\u{2A6D6}\u{2A700}-\u{2B734}\u{2B740}-\u{2B81D}\u{2B820}-\u{2CEA1}\u{2CEB0}-\u{2EBE0}\u{2F800}-\u{2FA1D}\u{F0000}-\u{FFFFD}\u{100000}-\u{10FFFD}]/u,bidiS1RTL:/[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05EA\u05EF-\u05F4\u0608\u060B\u060D\u061B\u061C\u061E-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u070D\u070F\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u083E\u0840-\u0858\u085E\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE70-\uFE74\uFE76-\uFEFC\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10857}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{10920}-\u{10939}\u{1093F}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A00}\u{10A10}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A40}-\u{10A48}\u{10A50}-\u{10A58}\u{10A60}-\u{10A9F}\u{10AC0}-\u{10AE4}\u{10AEB}-\u{10AF6}\u{10B00}-\u{10B35}\u{10B40}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10B99}-\u{10B9C}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D23}\u{10F00}-\u{10F27}\u{10F30}-\u{10F45}\u{10F51}-\u{10F59}\u{10FE0}-\u{10FF6}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8CF}\u{1E900}-\u{1E943}\u{1E94B}\u{1E950}-\u{1E959}\u{1E95E}\u{1E95F}\u{1EC71}-\u{1ECB4}\u{1ED01}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}]/u,bidiS2:/^[\0-\x08\x0E-\x1B!-@\[-`\{-\x84\x86-\xA9\xAB-\xB4\xB6-\xB9\xBB-\xBF\xD7\xF7\u02B9\u02BA\u02C2-\u02CF\u02D2-\u02DF\u02E5-\u02ED\u02EF-\u036F\u0374\u0375\u037E\u0384\u0385\u0387\u03F6\u0483-\u0489\u058A\u058D-\u058F\u0591-\u05C7\u05D0-\u05EA\u05EF-\u05F4\u0600-\u061C\u061E-\u070D\u070F-\u074A\u074D-\u07B1\u07C0-\u07FA\u07FD-\u082D\u0830-\u083E\u0840-\u085B\u085E\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09F2\u09F3\u09FB\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AF1\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0BF3-\u0BFA\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C78-\u0C7E\u0C81\u0CBC\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E3F\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39-\u0F3D\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1390-\u1399\u1400\u169B\u169C\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DB\u17DD\u17F0-\u17F9\u1800-\u180E\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1940\u1944\u1945\u19DE-\u19FF\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u200B-\u200D\u200F-\u2027\u202F-\u205E\u2060-\u2064\u206A-\u2070\u2074-\u207E\u2080-\u208E\u20A0-\u20BF\u20D0-\u20F0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u2150-\u215F\u2189-\u218B\u2190-\u2335\u237B-\u2394\u2396-\u2426\u2440-\u244A\u2460-\u249B\u24EA-\u26AB\u26AD-\u27FF\u2900-\u2B73\u2B76-\u2B95\u2B98-\u2BFF\u2CE5-\u2CEA\u2CEF-\u2CF1\u2CF9-\u2CFF\u2D7F\u2DE0-\u2E4F\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u3004\u3008-\u3020\u302A-\u302D\u3030\u3036\u3037\u303D-\u303F\u3099-\u309C\u30A0\u30FB\u31C0-\u31E3\u321D\u321E\u3250-\u325F\u327C-\u327E\u32B1-\u32BF\u32CC-\u32CF\u3377-\u337A\u33DE\u33DF\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA60D-\uA60F\uA66F-\uA67F\uA69E\uA69F\uA6F0\uA6F1\uA700-\uA721\uA788\uA802\uA806\uA80B\uA825\uA826\uA828-\uA82B\uA838\uA839\uA874-\uA877\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1D-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC1\uFBD3-\uFD3F\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFD\uFE00-\uFE19\uFE20-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFE70-\uFE74\uFE76-\uFEFC\uFEFF\uFF01-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFF9-\uFFFD\u{10101}\u{10140}-\u{1018C}\u{10190}-\u{1019B}\u{101A0}\u{101FD}\u{102E0}-\u{102FB}\u{10376}-\u{1037A}\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10857}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{1091F}-\u{10939}\u{1093F}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A38}-\u{10A3A}\u{10A3F}-\u{10A48}\u{10A50}-\u{10A58}\u{10A60}-\u{10A9F}\u{10AC0}-\u{10AE6}\u{10AEB}-\u{10AF6}\u{10B00}-\u{10B35}\u{10B39}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10B99}-\u{10B9C}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D27}\u{10D30}-\u{10D39}\u{10E60}-\u{10E7E}\u{10F00}-\u{10F27}\u{10F30}-\u{10F59}\u{10FE0}-\u{10FF6}\u{11001}\u{11038}-\u{11046}\u{11052}-\u{11065}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{11660}-\u{1166C}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A06}\u{11A09}\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{11FD5}-\u{11FF1}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{16FE2}\u{1BC9D}\u{1BC9E}\u{1BCA0}-\u{1BCA3}\u{1D167}-\u{1D169}\u{1D173}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D200}-\u{1D245}\u{1D300}-\u{1D356}\u{1D6DB}\u{1D715}\u{1D74F}\u{1D789}\u{1D7C3}\u{1D7CE}-\u{1D7FF}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2EC}-\u{1E2EF}\u{1E2FF}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8D6}\u{1E900}-\u{1E94B}\u{1E950}-\u{1E959}\u{1E95E}\u{1E95F}\u{1EC71}-\u{1ECB4}\u{1ED01}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}\u{1EEF0}\u{1EEF1}\u{1F000}-\u{1F02B}\u{1F030}-\u{1F093}\u{1F0A0}-\u{1F0AE}\u{1F0B1}-\u{1F0BF}\u{1F0C1}-\u{1F0CF}\u{1F0D1}-\u{1F0F5}\u{1F100}-\u{1F10C}\u{1F12F}\u{1F16A}-\u{1F16C}\u{1F260}-\u{1F265}\u{1F300}-\u{1F6D5}\u{1F6E0}-\u{1F6EC}\u{1F6F0}-\u{1F6FA}\u{1F700}-\u{1F773}\u{1F780}-\u{1F7D8}\u{1F7E0}-\u{1F7EB}\u{1F800}-\u{1F80B}\u{1F810}-\u{1F847}\u{1F850}-\u{1F859}\u{1F860}-\u{1F887}\u{1F890}-\u{1F8AD}\u{1F900}-\u{1F90B}\u{1F90D}-\u{1F971}\u{1F973}-\u{1F976}\u{1F97A}-\u{1F9A2}\u{1F9A5}-\u{1F9AA}\u{1F9AE}-\u{1F9CA}\u{1F9CD}-\u{1FA53}\u{1FA60}-\u{1FA6D}\u{1FA70}-\u{1FA73}\u{1FA78}-\u{1FA7A}\u{1FA80}-\u{1FA82}\u{1FA90}-\u{1FA95}\u{E0001}\u{E0020}-\u{E007F}\u{E0100}-\u{E01EF}]*$/u,bidiS3:/[0-9\xB2\xB3\xB9\u05BE\u05C0\u05C3\u05C6\u05D0-\u05EA\u05EF-\u05F4\u0600-\u0605\u0608\u060B\u060D\u061B\u061C\u061E-\u064A\u0660-\u0669\u066B-\u066F\u0671-\u06D5\u06DD\u06E5\u06E6\u06EE-\u070D\u070F\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u083E\u0840-\u0858\u085E\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08E2\u200F\u2070\u2074-\u2079\u2080-\u2089\u2488-\u249B\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\u{102E1}-\u{102FB}\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10857}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{10920}-\u{10939}\u{1093F}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A00}\u{10A10}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A40}-\u{10A48}\u{10A50}-\u{10A58}\u{10A60}-\u{10A9F}\u{10AC0}-\u{10AE4}\u{10AEB}-\u{10AF6}\u{10B00}-\u{10B35}\u{10B40}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10B99}-\u{10B9C}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D23}\u{10D30}-\u{10D39}\u{10E60}-\u{10E7E}\u{10F00}-\u{10F27}\u{10F30}-\u{10F45}\u{10F51}-\u{10F59}\u{10FE0}-\u{10FF6}\u{1D7CE}-\u{1D7FF}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8CF}\u{1E900}-\u{1E943}\u{1E94B}\u{1E950}-\u{1E959}\u{1E95E}\u{1E95F}\u{1EC71}-\u{1ECB4}\u{1ED01}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}\u{1F100}-\u{1F10A}][\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10F46}-\u{10F50}\u{11001}\u{11038}-\u{11046}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A06}\u{11A09}\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{1BC9D}\u{1BC9E}\u{1D167}-\u{1D169}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]*$/u,bidiS4EN:/[0-9\xB2\xB3\xB9\u06F0-\u06F9\u2070\u2074-\u2079\u2080-\u2089\u2488-\u249B\uFF10-\uFF19\u{102E1}-\u{102FB}\u{1D7CE}-\u{1D7FF}\u{1F100}-\u{1F10A}]/u,bidiS4AN:/[\u0600-\u0605\u0660-\u0669\u066B\u066C\u06DD\u08E2\u{10D30}-\u{10D39}\u{10E60}-\u{10E7E}]/u,bidiS5:/^[\0-\x08\x0E-\x1B!-\x84\x86-\u0377\u037A-\u037F\u0384-\u038A\u038C\u038E-\u03A1\u03A3-\u052F\u0531-\u0556\u0559-\u058A\u058D-\u058F\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0606\u0607\u0609\u060A\u060C\u060E-\u061A\u064B-\u065F\u066A\u0670\u06D6-\u06DC\u06DE-\u06E4\u06E7-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07F6-\u07F9\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A76\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AF1\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B77\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BFA\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C77-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4F\u0D54-\u0D63\u0D66-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2-\u0DF4\u0E01-\u0E3A\u0E3F-\u0E5B\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00-\u0F47\u0F49-\u0F6C\u0F71-\u0F97\u0F99-\u0FBC\u0FBE-\u0FCC\u0FCE-\u0FDA\u1000-\u10C5\u10C7\u10CD\u10D0-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u137C\u1380-\u1399\u13A0-\u13F5\u13F8-\u13FD\u1400-\u167F\u1681-\u169C\u16A0-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1736\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17DD\u17E0-\u17E9\u17F0-\u17F9\u1800-\u180E\u1810-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1940\u1944-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u19DE-\u1A1B\u1A1E-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA0-\u1AAD\u1AB0-\u1ABE\u1B00-\u1B4B\u1B50-\u1B7C\u1B80-\u1BF3\u1BFC-\u1C37\u1C3B-\u1C49\u1C4D-\u1C88\u1C90-\u1CBA\u1CBD-\u1CC7\u1CD0-\u1CFA\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FC4\u1FC6-\u1FD3\u1FD6-\u1FDB\u1FDD-\u1FEF\u1FF2-\u1FF4\u1FF6-\u1FFE\u200B-\u200E\u2010-\u2027\u202F-\u205E\u2060-\u2064\u206A-\u2071\u2074-\u208E\u2090-\u209C\u20A0-\u20BF\u20D0-\u20F0\u2100-\u218B\u2190-\u2426\u2440-\u244A\u2460-\u2B73\u2B76-\u2B95\u2B98-\u2C2E\u2C30-\u2C5E\u2C60-\u2CF3\u2CF9-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D70\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2E4F\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303F\u3041-\u3096\u3099-\u30FF\u3105-\u312F\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u4DB5\u4DC0-\u9FEF\uA000-\uA48C\uA490-\uA4C6\uA4D0-\uA62B\uA640-\uA6F7\uA700-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA82B\uA830-\uA839\uA840-\uA877\uA880-\uA8C5\uA8CE-\uA8D9\uA8E0-\uA953\uA95F-\uA97C\uA980-\uA9CD\uA9CF-\uA9D9\uA9DE-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA5C-\uAAC2\uAADB-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB67\uAB70-\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uD800-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1E\uFB29\uFD3E\uFD3F\uFDFD\uFE00-\uFE19\uFE20-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFEFF\uFF01-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFF9-\uFFFD\u{10000}-\u{1000B}\u{1000D}-\u{10026}\u{10028}-\u{1003A}\u{1003C}\u{1003D}\u{1003F}-\u{1004D}\u{10050}-\u{1005D}\u{10080}-\u{100FA}\u{10100}-\u{10102}\u{10107}-\u{10133}\u{10137}-\u{1018E}\u{10190}-\u{1019B}\u{101A0}\u{101D0}-\u{101FD}\u{10280}-\u{1029C}\u{102A0}-\u{102D0}\u{102E0}-\u{102FB}\u{10300}-\u{10323}\u{1032D}-\u{1034A}\u{10350}-\u{1037A}\u{10380}-\u{1039D}\u{1039F}-\u{103C3}\u{103C8}-\u{103D5}\u{10400}-\u{1049D}\u{104A0}-\u{104A9}\u{104B0}-\u{104D3}\u{104D8}-\u{104FB}\u{10500}-\u{10527}\u{10530}-\u{10563}\u{1056F}\u{10600}-\u{10736}\u{10740}-\u{10755}\u{10760}-\u{10767}\u{1091F}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10B39}-\u{10B3F}\u{10D24}-\u{10D27}\u{10F46}-\u{10F50}\u{11000}-\u{1104D}\u{11052}-\u{1106F}\u{1107F}-\u{110C1}\u{110CD}\u{110D0}-\u{110E8}\u{110F0}-\u{110F9}\u{11100}-\u{11134}\u{11136}-\u{11146}\u{11150}-\u{11176}\u{11180}-\u{111CD}\u{111D0}-\u{111DF}\u{111E1}-\u{111F4}\u{11200}-\u{11211}\u{11213}-\u{1123E}\u{11280}-\u{11286}\u{11288}\u{1128A}-\u{1128D}\u{1128F}-\u{1129D}\u{1129F}-\u{112A9}\u{112B0}-\u{112EA}\u{112F0}-\u{112F9}\u{11300}-\u{11303}\u{11305}-\u{1130C}\u{1130F}\u{11310}\u{11313}-\u{11328}\u{1132A}-\u{11330}\u{11332}\u{11333}\u{11335}-\u{11339}\u{1133B}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11350}\u{11357}\u{1135D}-\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11400}-\u{11459}\u{1145B}\u{1145D}-\u{1145F}\u{11480}-\u{114C7}\u{114D0}-\u{114D9}\u{11580}-\u{115B5}\u{115B8}-\u{115DD}\u{11600}-\u{11644}\u{11650}-\u{11659}\u{11660}-\u{1166C}\u{11680}-\u{116B8}\u{116C0}-\u{116C9}\u{11700}-\u{1171A}\u{1171D}-\u{1172B}\u{11730}-\u{1173F}\u{11800}-\u{1183B}\u{118A0}-\u{118F2}\u{118FF}\u{119A0}-\u{119A7}\u{119AA}-\u{119D7}\u{119DA}-\u{119E4}\u{11A00}-\u{11A47}\u{11A50}-\u{11AA2}\u{11AC0}-\u{11AF8}\u{11C00}-\u{11C08}\u{11C0A}-\u{11C36}\u{11C38}-\u{11C45}\u{11C50}-\u{11C6C}\u{11C70}-\u{11C8F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D00}-\u{11D06}\u{11D08}\u{11D09}\u{11D0B}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D47}\u{11D50}-\u{11D59}\u{11D60}-\u{11D65}\u{11D67}\u{11D68}\u{11D6A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D98}\u{11DA0}-\u{11DA9}\u{11EE0}-\u{11EF8}\u{11FC0}-\u{11FF1}\u{11FFF}-\u{12399}\u{12400}-\u{1246E}\u{12470}-\u{12474}\u{12480}-\u{12543}\u{13000}-\u{1342E}\u{13430}-\u{13438}\u{14400}-\u{14646}\u{16800}-\u{16A38}\u{16A40}-\u{16A5E}\u{16A60}-\u{16A69}\u{16A6E}\u{16A6F}\u{16AD0}-\u{16AED}\u{16AF0}-\u{16AF5}\u{16B00}-\u{16B45}\u{16B50}-\u{16B59}\u{16B5B}-\u{16B61}\u{16B63}-\u{16B77}\u{16B7D}-\u{16B8F}\u{16E40}-\u{16E9A}\u{16F00}-\u{16F4A}\u{16F4F}-\u{16F87}\u{16F8F}-\u{16F9F}\u{16FE0}-\u{16FE3}\u{17000}-\u{187F7}\u{18800}-\u{18AF2}\u{1B000}-\u{1B11E}\u{1B150}-\u{1B152}\u{1B164}-\u{1B167}\u{1B170}-\u{1B2FB}\u{1BC00}-\u{1BC6A}\u{1BC70}-\u{1BC7C}\u{1BC80}-\u{1BC88}\u{1BC90}-\u{1BC99}\u{1BC9C}-\u{1BCA3}\u{1D000}-\u{1D0F5}\u{1D100}-\u{1D126}\u{1D129}-\u{1D1E8}\u{1D200}-\u{1D245}\u{1D2E0}-\u{1D2F3}\u{1D300}-\u{1D356}\u{1D360}-\u{1D378}\u{1D400}-\u{1D454}\u{1D456}-\u{1D49C}\u{1D49E}\u{1D49F}\u{1D4A2}\u{1D4A5}\u{1D4A6}\u{1D4A9}-\u{1D4AC}\u{1D4AE}-\u{1D4B9}\u{1D4BB}\u{1D4BD}-\u{1D4C3}\u{1D4C5}-\u{1D505}\u{1D507}-\u{1D50A}\u{1D50D}-\u{1D514}\u{1D516}-\u{1D51C}\u{1D51E}-\u{1D539}\u{1D53B}-\u{1D53E}\u{1D540}-\u{1D544}\u{1D546}\u{1D54A}-\u{1D550}\u{1D552}-\u{1D6A5}\u{1D6A8}-\u{1D7CB}\u{1D7CE}-\u{1DA8B}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E100}-\u{1E12C}\u{1E130}-\u{1E13D}\u{1E140}-\u{1E149}\u{1E14E}\u{1E14F}\u{1E2C0}-\u{1E2F9}\u{1E2FF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{1EEF0}\u{1EEF1}\u{1F000}-\u{1F02B}\u{1F030}-\u{1F093}\u{1F0A0}-\u{1F0AE}\u{1F0B1}-\u{1F0BF}\u{1F0C1}-\u{1F0CF}\u{1F0D1}-\u{1F0F5}\u{1F100}-\u{1F10C}\u{1F110}-\u{1F16C}\u{1F170}-\u{1F1AC}\u{1F1E6}-\u{1F202}\u{1F210}-\u{1F23B}\u{1F240}-\u{1F248}\u{1F250}\u{1F251}\u{1F260}-\u{1F265}\u{1F300}-\u{1F6D5}\u{1F6E0}-\u{1F6EC}\u{1F6F0}-\u{1F6FA}\u{1F700}-\u{1F773}\u{1F780}-\u{1F7D8}\u{1F7E0}-\u{1F7EB}\u{1F800}-\u{1F80B}\u{1F810}-\u{1F847}\u{1F850}-\u{1F859}\u{1F860}-\u{1F887}\u{1F890}-\u{1F8AD}\u{1F900}-\u{1F90B}\u{1F90D}-\u{1F971}\u{1F973}-\u{1F976}\u{1F97A}-\u{1F9A2}\u{1F9A5}-\u{1F9AA}\u{1F9AE}-\u{1F9CA}\u{1F9CD}-\u{1FA53}\u{1FA60}-\u{1FA6D}\u{1FA70}-\u{1FA73}\u{1FA78}-\u{1FA7A}\u{1FA80}-\u{1FA82}\u{1FA90}-\u{1FA95}\u{20000}-\u{2A6D6}\u{2A700}-\u{2B734}\u{2B740}-\u{2B81D}\u{2B820}-\u{2CEA1}\u{2CEB0}-\u{2EBE0}\u{2F800}-\u{2FA1D}\u{E0001}\u{E0020}-\u{E007F}\u{E0100}-\u{E01EF}\u{F0000}-\u{FFFFD}\u{100000}-\u{10FFFD}]*$/u,bidiS6:/[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u02BB-\u02C1\u02D0\u02D1\u02E0-\u02E4\u02EE\u0370-\u0373\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0482\u048A-\u052F\u0531-\u0556\u0559-\u0589\u06F0-\u06F9\u0903-\u0939\u093B\u093D-\u0940\u0949-\u094C\u094E-\u0950\u0958-\u0961\u0964-\u0980\u0982\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD-\u09C0\u09C7\u09C8\u09CB\u09CC\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09FA\u09FC\u09FD\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3E-\u0A40\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A76\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD-\u0AC0\u0AC9\u0ACB\u0ACC\u0AD0\u0AE0\u0AE1\u0AE6-\u0AF0\u0AF9\u0B02\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B3E\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0B57\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD0\u0BD7\u0BE6-\u0BF2\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C41-\u0C44\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C77\u0C7F\u0C80\u0C82-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD-\u0CC4\u0CC6-\u0CC8\u0CCA\u0CCB\u0CD5\u0CD6\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D02\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D4E\u0D4F\u0D54-\u0D61\u0D66-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCF-\u0DD1\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2-\u0DF4\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E4F-\u0E5B\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00-\u0F17\u0F1A-\u0F34\u0F36\u0F38\u0F3E-\u0F47\u0F49-\u0F6C\u0F7F\u0F85\u0F88-\u0F8C\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u1000-\u102C\u1031\u1038\u103B\u103C\u103F-\u1057\u105A-\u105D\u1061-\u1070\u1075-\u1081\u1083\u1084\u1087-\u108C\u108E-\u109C\u109E-\u10C5\u10C7\u10CD\u10D0-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1360-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u167F\u1681-\u169A\u16A0-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1735\u1736\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17B6\u17BE-\u17C5\u17C7\u17C8\u17D4-\u17DA\u17DC\u17E0-\u17E9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A19\u1A1A\u1A1E-\u1A55\u1A57\u1A61\u1A63\u1A64\u1A6D-\u1A72\u1A80-\u1A89\u1A90-\u1A99\u1AA0-\u1AAD\u1B04-\u1B33\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B4B\u1B50-\u1B6A\u1B74-\u1B7C\u1B82-\u1BA1\u1BA6\u1BA7\u1BAA\u1BAE-\u1BE5\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1BFC-\u1C2B\u1C34\u1C35\u1C3B-\u1C49\u1C4D-\u1C88\u1C90-\u1CBA\u1CBD-\u1CC7\u1CD3\u1CE1\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5-\u1CF7\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200E\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u214F\u2160-\u2188\u2336-\u237A\u2395\u2488-\u24E9\u26AC\u2800-\u28FF\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D70\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u302E\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3190-\u31BA\u31F0-\u321C\u3220-\u324F\u3260-\u327B\u327F-\u32B0\u32C0-\u32CB\u32D0-\u3376\u337B-\u33DD\u33E0-\u33FE\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA60C\uA610-\uA62B\uA640-\uA66E\uA680-\uA69D\uA6A0-\uA6EF\uA6F2-\uA6F7\uA722-\uA787\uA789-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA824\uA827\uA830-\uA837\uA840-\uA873\uA880-\uA8C3\uA8CE-\uA8D9\uA8F2-\uA8FE\uA900-\uA925\uA92E-\uA946\uA952\uA953\uA95F-\uA97C\uA983-\uA9B2\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9CD\uA9CF-\uA9D9\uA9DE-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA2F\uAA30\uAA33\uAA34\uAA40-\uAA42\uAA44-\uAA4B\uAA4D\uAA50-\uAA59\uAA5C-\uAA7B\uAA7D-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAAEB\uAAEE-\uAAF5\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB67\uAB70-\uABE4\uABE6\uABE7\uABE9-\uABEC\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uD800-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\u{10000}-\u{1000B}\u{1000D}-\u{10026}\u{10028}-\u{1003A}\u{1003C}\u{1003D}\u{1003F}-\u{1004D}\u{10050}-\u{1005D}\u{10080}-\u{100FA}\u{10100}\u{10102}\u{10107}-\u{10133}\u{10137}-\u{1013F}\u{1018D}\u{1018E}\u{101D0}-\u{101FC}\u{10280}-\u{1029C}\u{102A0}-\u{102D0}\u{102E1}-\u{102FB}\u{10300}-\u{10323}\u{1032D}-\u{1034A}\u{10350}-\u{10375}\u{10380}-\u{1039D}\u{1039F}-\u{103C3}\u{103C8}-\u{103D5}\u{10400}-\u{1049D}\u{104A0}-\u{104A9}\u{104B0}-\u{104D3}\u{104D8}-\u{104FB}\u{10500}-\u{10527}\u{10530}-\u{10563}\u{1056F}\u{10600}-\u{10736}\u{10740}-\u{10755}\u{10760}-\u{10767}\u{11000}\u{11002}-\u{11037}\u{11047}-\u{1104D}\u{11066}-\u{1106F}\u{11082}-\u{110B2}\u{110B7}\u{110B8}\u{110BB}-\u{110C1}\u{110CD}\u{110D0}-\u{110E8}\u{110F0}-\u{110F9}\u{11103}-\u{11126}\u{1112C}\u{11136}-\u{11146}\u{11150}-\u{11172}\u{11174}-\u{11176}\u{11182}-\u{111B5}\u{111BF}-\u{111C8}\u{111CD}\u{111D0}-\u{111DF}\u{111E1}-\u{111F4}\u{11200}-\u{11211}\u{11213}-\u{1122E}\u{11232}\u{11233}\u{11235}\u{11238}-\u{1123D}\u{11280}-\u{11286}\u{11288}\u{1128A}-\u{1128D}\u{1128F}-\u{1129D}\u{1129F}-\u{112A9}\u{112B0}-\u{112DE}\u{112E0}-\u{112E2}\u{112F0}-\u{112F9}\u{11302}\u{11303}\u{11305}-\u{1130C}\u{1130F}\u{11310}\u{11313}-\u{11328}\u{1132A}-\u{11330}\u{11332}\u{11333}\u{11335}-\u{11339}\u{1133D}-\u{1133F}\u{11341}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11350}\u{11357}\u{1135D}-\u{11363}\u{11400}-\u{11437}\u{11440}\u{11441}\u{11445}\u{11447}-\u{11459}\u{1145B}\u{1145D}\u{1145F}\u{11480}-\u{114B2}\u{114B9}\u{114BB}-\u{114BE}\u{114C1}\u{114C4}-\u{114C7}\u{114D0}-\u{114D9}\u{11580}-\u{115B1}\u{115B8}-\u{115BB}\u{115BE}\u{115C1}-\u{115DB}\u{11600}-\u{11632}\u{1163B}\u{1163C}\u{1163E}\u{11641}-\u{11644}\u{11650}-\u{11659}\u{11680}-\u{116AA}\u{116AC}\u{116AE}\u{116AF}\u{116B6}\u{116B8}\u{116C0}-\u{116C9}\u{11700}-\u{1171A}\u{11720}\u{11721}\u{11726}\u{11730}-\u{1173F}\u{11800}-\u{1182E}\u{11838}\u{1183B}\u{118A0}-\u{118F2}\u{118FF}\u{119A0}-\u{119A7}\u{119AA}-\u{119D3}\u{119DC}-\u{119DF}\u{119E1}-\u{119E4}\u{11A00}\u{11A07}\u{11A08}\u{11A0B}-\u{11A32}\u{11A39}\u{11A3A}\u{11A3F}-\u{11A46}\u{11A50}\u{11A57}\u{11A58}\u{11A5C}-\u{11A89}\u{11A97}\u{11A9A}-\u{11AA2}\u{11AC0}-\u{11AF8}\u{11C00}-\u{11C08}\u{11C0A}-\u{11C2F}\u{11C3E}-\u{11C45}\u{11C50}-\u{11C6C}\u{11C70}-\u{11C8F}\u{11CA9}\u{11CB1}\u{11CB4}\u{11D00}-\u{11D06}\u{11D08}\u{11D09}\u{11D0B}-\u{11D30}\u{11D46}\u{11D50}-\u{11D59}\u{11D60}-\u{11D65}\u{11D67}\u{11D68}\u{11D6A}-\u{11D8E}\u{11D93}\u{11D94}\u{11D96}\u{11D98}\u{11DA0}-\u{11DA9}\u{11EE0}-\u{11EF2}\u{11EF5}-\u{11EF8}\u{11FC0}-\u{11FD4}\u{11FFF}-\u{12399}\u{12400}-\u{1246E}\u{12470}-\u{12474}\u{12480}-\u{12543}\u{13000}-\u{1342E}\u{13430}-\u{13438}\u{14400}-\u{14646}\u{16800}-\u{16A38}\u{16A40}-\u{16A5E}\u{16A60}-\u{16A69}\u{16A6E}\u{16A6F}\u{16AD0}-\u{16AED}\u{16AF5}\u{16B00}-\u{16B2F}\u{16B37}-\u{16B45}\u{16B50}-\u{16B59}\u{16B5B}-\u{16B61}\u{16B63}-\u{16B77}\u{16B7D}-\u{16B8F}\u{16E40}-\u{16E9A}\u{16F00}-\u{16F4A}\u{16F50}-\u{16F87}\u{16F93}-\u{16F9F}\u{16FE0}\u{16FE1}\u{16FE3}\u{17000}-\u{187F7}\u{18800}-\u{18AF2}\u{1B000}-\u{1B11E}\u{1B150}-\u{1B152}\u{1B164}-\u{1B167}\u{1B170}-\u{1B2FB}\u{1BC00}-\u{1BC6A}\u{1BC70}-\u{1BC7C}\u{1BC80}-\u{1BC88}\u{1BC90}-\u{1BC99}\u{1BC9C}\u{1BC9F}\u{1D000}-\u{1D0F5}\u{1D100}-\u{1D126}\u{1D129}-\u{1D166}\u{1D16A}-\u{1D172}\u{1D183}\u{1D184}\u{1D18C}-\u{1D1A9}\u{1D1AE}-\u{1D1E8}\u{1D2E0}-\u{1D2F3}\u{1D360}-\u{1D378}\u{1D400}-\u{1D454}\u{1D456}-\u{1D49C}\u{1D49E}\u{1D49F}\u{1D4A2}\u{1D4A5}\u{1D4A6}\u{1D4A9}-\u{1D4AC}\u{1D4AE}-\u{1D4B9}\u{1D4BB}\u{1D4BD}-\u{1D4C3}\u{1D4C5}-\u{1D505}\u{1D507}-\u{1D50A}\u{1D50D}-\u{1D514}\u{1D516}-\u{1D51C}\u{1D51E}-\u{1D539}\u{1D53B}-\u{1D53E}\u{1D540}-\u{1D544}\u{1D546}\u{1D54A}-\u{1D550}\u{1D552}-\u{1D6A5}\u{1D6A8}-\u{1D6DA}\u{1D6DC}-\u{1D714}\u{1D716}-\u{1D74E}\u{1D750}-\u{1D788}\u{1D78A}-\u{1D7C2}\u{1D7C4}-\u{1D7CB}\u{1D7CE}-\u{1D9FF}\u{1DA37}-\u{1DA3A}\u{1DA6D}-\u{1DA74}\u{1DA76}-\u{1DA83}\u{1DA85}-\u{1DA8B}\u{1E100}-\u{1E12C}\u{1E137}-\u{1E13D}\u{1E140}-\u{1E149}\u{1E14E}\u{1E14F}\u{1E2C0}-\u{1E2EB}\u{1E2F0}-\u{1E2F9}\u{1F100}-\u{1F10A}\u{1F110}-\u{1F12E}\u{1F130}-\u{1F169}\u{1F170}-\u{1F1AC}\u{1F1E6}-\u{1F202}\u{1F210}-\u{1F23B}\u{1F240}-\u{1F248}\u{1F250}\u{1F251}\u{20000}-\u{2A6D6}\u{2A700}-\u{2B734}\u{2B740}-\u{2B81D}\u{2B820}-\u{2CEA1}\u{2CEB0}-\u{2EBE0}\u{2F800}-\u{2FA1D}\u{F0000}-\u{FFFFD}\u{100000}-\u{10FFFD}][\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10F46}-\u{10F50}\u{11001}\u{11038}-\u{11046}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A06}\u{11A09}\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{1BC9D}\u{1BC9E}\u{1D167}-\u{1D169}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]*$/u}},function(t){t.exports=JSON.parse('[[[0,44],4],[[45,46],2],[47,4],[[48,57],2],[[58,64],4],[65,1,"a"],[66,1,"b"],[67,1,"c"],[68,1,"d"],[69,1,"e"],[70,1,"f"],[71,1,"g"],[72,1,"h"],[73,1,"i"],[74,1,"j"],[75,1,"k"],[76,1,"l"],[77,1,"m"],[78,1,"n"],[79,1,"o"],[80,1,"p"],[81,1,"q"],[82,1,"r"],[83,1,"s"],[84,1,"t"],[85,1,"u"],[86,1,"v"],[87,1,"w"],[88,1,"x"],[89,1,"y"],[90,1,"z"],[[91,96],4],[[97,122],2],[[123,127],4],[[128,159],3],[160,5," "],[[161,167],2],[168,5," "],[169,2],[170,1,"a"],[[171,172],2],[173,7],[174,2],[175,5," "],[[176,177],2],[178,1,"2"],[179,1,"3"],[180,5," "],[181,1,""],[182,2],[183,2],[184,5," "],[185,1,"1"],[186,1,"o"],[187,2],[188,1,"14"],[189,1,"12"],[190,1,"34"],[191,2],[192,1,""],[193,1,""],[194,1,""],[195,1,""],[196,1,""],[197,1,""],[198,1,""],[199,1,""],[200,1,""],[201,1,""],[202,1,""],[203,1,""],[204,1,""],[205,1,""],[206,1,""],[207,1,""],[208,1,""],[209,1,""],[210,1,""],[211,1,""],[212,1,""],[213,1,""],[214,1,""],[215,2],[216,1,""],[217,1,""],[218,1,""],[219,1,""],[220,1,""],[221,1,""],[222,1,""],[223,6,"ss"],[[224,246],2],[247,2],[[248,255],2],[256,1,""],[257,2],[258,1,""],[259,2],[260,1,""],[261,2],[262,1,""],[263,2],[264,1,""],[265,2],[266,1,""],[267,2],[268,1,""],[269,2],[270,1,""],[271,2],[272,1,""],[273,2],[274,1,""],[275,2],[276,1,""],[277,2],[278,1,""],[279,2],[280,1,""],[281,2],[282,1,""],[283,2],[284,1,""],[285,2],[286,1,""],[287,2],[288,1,""],[289,2],[290,1,""],[291,2],[292,1,""],[293,2],[294,1,""],[295,2],[296,1,""],[297,2],[298,1,""],[299,2],[300,1,""],[301,2],[302,1,""],[303,2],[304,1,"i"],[305,2],[[306,307],1,"ij"],[308,1,""],[309,2],[310,1,""],[[311,312],2],[313,1,""],[314,2],[315,1,""],[316,2],[317,1,""],[318,2],[[319,320],1,"l"],[321,1,""],[322,2],[323,1,""],[324,2],[325,1,""],[326,2],[327,1,""],[328,2],[329,1,"n"],[330,1,""],[331,2],[332,1,""],[333,2],[334,1,""],[335,2],[336,1,""],[337,2],[338,1,""],[339,2],[340,1,""],[341,2],[342,1,""],[343,2],[344,1,""],[345,2],[346,1,""],[347,2],[348,1,""],[349,2],[350,1,""],[351,2],[352,1,""],[353,2],[354,1,""],[355,2],[356,1,""],[357,2],[358,1,""],[359,2],[360,1,""],[361,2],[362,1,""],[363,2],[364,1,""],[365,2],[366,1,""],[367,2],[368,1,""],[369,2],[370,1,""],[371,2],[372,1,""],[373,2],[374,1,""],[375,2],[376,1,""],[377,1,""],[378,2],[379,1,""],[380,2],[381,1,""],[382,2],[383,1,"s"],[384,2],[385,1,""],[386,1,""],[387,2],[388,1,""],[389,2],[390,1,""],[391,1,""],[392,2],[393,1,""],[394,1,""],[395,1,""],[[396,397],2],[398,1,""],[399,1,""],[400,1,""],[401,1,""],[402,2],[403,1,""],[404,1,""],[405,2],[406,1,""],[407,1,""],[408,1,""],[[409,411],2],[412,1,""],[413,1,""],[414,2],[415,1,""],[416,1,""],[417,2],[418,1,""],[419,2],[420,1,""],[421,2],[422,1,""],[423,1,""],[424,2],[425,1,""],[[426,427],2],[428,1,""],[429,2],[430,1,""],[431,1,""],[432,2],[433,1,""],[434,1,""],[435,1,""],[436,2],[437,1,""],[438,2],[439,1,""],[440,1,""],[[441,443],2],[444,1,""],[[445,451],2],[[452,454],1,"d"],[[455,457],1,"lj"],[[458,460],1,"nj"],[461,1,""],[462,2],[463,1,""],[464,2],[465,1,""],[466,2],[467,1,""],[468,2],[469,1,""],[470,2],[471,1,""],[472,2],[473,1,""],[474,2],[475,1,""],[[476,477],2],[478,1,""],[479,2],[480,1,""],[481,2],[482,1,""],[483,2],[484,1,""],[485,2],[486,1,""],[487,2],[488,1,""],[489,2],[490,1,""],[491,2],[492,1,""],[493,2],[494,1,""],[[495,496],2],[[497,499],1,"dz"],[500,1,""],[501,2],[502,1,""],[503,1,""],[504,1,""],[505,2],[506,1,""],[507,2],[508,1,""],[509,2],[510,1,""],[511,2],[512,1,""],[513,2],[514,1,""],[515,2],[516,1,""],[517,2],[518,1,""],[519,2],[520,1,""],[521,2],[522,1,""],[523,2],[524,1,""],[525,2],[526,1,""],[527,2],[528,1,""],[529,2],[530,1,""],[531,2],[532,1,""],[533,2],[534,1,""],[535,2],[536,1,""],[537,2],[538,1,""],[539,2],[540,1,""],[541,2],[542,1,""],[543,2],[544,1,""],[545,2],[546,1,""],[547,2],[548,1,""],[549,2],[550,1,""],[551,2],[552,1,""],[553,2],[554,1,""],[555,2],[556,1,""],[557,2],[558,1,""],[559,2],[560,1,""],[561,2],[562,1,""],[563,2],[[564,566],2],[[567,569],2],[570,1,""],[571,1,""],[572,2],[573,1,""],[574,1,""],[[575,576],2],[577,1,""],[578,2],[579,1,""],[580,1,""],[581,1,""],[582,1,""],[583,2],[584,1,""],[585,2],[586,1,""],[587,2],[588,1,""],[589,2],[590,1,""],[591,2],[[592,680],2],[[681,685],2],[[686,687],2],[688,1,"h"],[689,1,""],[690,1,"j"],[691,1,"r"],[692,1,""],[693,1,""],[694,1,""],[695,1,"w"],[696,1,"y"],[[697,705],2],[[706,709],2],[[710,721],2],[[722,727],2],[728,5," "],[729,5," "],[730,5," "],[731,5," "],[732,5," "],[733,5," "],[734,2],[735,2],[736,1,""],[737,1,"l"],[738,1,"s"],[739,1,"x"],[740,1,""],[[741,745],2],[[746,747],2],[748,2],[749,2],[750,2],[[751,767],2],[[768,831],2],[832,1,""],[833,1,""],[834,2],[835,1,""],[836,1,""],[837,1,""],[[838,846],2],[847,7],[[848,855],2],[[856,860],2],[[861,863],2],[[864,865],2],[866,2],[[867,879],2],[880,1,""],[881,2],[882,1,""],[883,2],[884,1,""],[885,2],[886,1,""],[887,2],[[888,889],3],[890,5," "],[[891,893],2],[894,5,";"],[895,1,""],[[896,899],3],[900,5," "],[901,5," "],[902,1,""],[903,1,""],[904,1,""],[905,1,""],[906,1,""],[907,3],[908,1,""],[909,3],[910,1,""],[911,1,""],[912,2],[913,1,""],[914,1,""],[915,1,""],[916,1,""],[917,1,""],[918,1,""],[919,1,""],[920,1,""],[921,1,""],[922,1,""],[923,1,""],[924,1,""],[925,1,""],[926,1,""],[927,1,""],[928,1,""],[929,1,""],[930,3],[931,1,""],[932,1,""],[933,1,""],[934,1,""],[935,1,""],[936,1,""],[937,1,""],[938,1,""],[939,1,""],[[940,961],2],[962,6,""],[[963,974],2],[975,1,""],[976,1,""],[977,1,""],[978,1,""],[979,1,""],[980,1,""],[981,1,""],[982,1,""],[983,2],[984,1,""],[985,2],[986,1,""],[987,2],[988,1,""],[989,2],[990,1,""],[991,2],[992,1,""],[993,2],[994,1,""],[995,2],[996,1,""],[997,2],[998,1,""],[999,2],[1000,1,""],[1001,2],[1002,1,""],[1003,2],[1004,1,""],[1005,2],[1006,1,""],[1007,2],[1008,1,""],[1009,1,""],[1010,1,""],[1011,2],[1012,1,""],[1013,1,""],[1014,2],[1015,1,""],[1016,2],[1017,1,""],[1018,1,""],[1019,2],[1020,2],[1021,1,""],[1022,1,""],[1023,1,""],[1024,1,""],[1025,1,""],[1026,1,""],[1027,1,""],[1028,1,""],[1029,1,""],[1030,1,""],[1031,1,""],[1032,1,""],[1033,1,""],[1034,1,""],[1035,1,""],[1036,1,""],[1037,1,""],[1038,1,""],[1039,1,""],[1040,1,""],[1041,1,""],[1042,1,""],[1043,1,""],[1044,1,""],[1045,1,""],[1046,1,""],[1047,1,""],[1048,1,""],[1049,1,""],[1050,1,""],[1051,1,""],[1052,1,""],[1053,1,""],[1054,1,""],[1055,1,""],[1056,1,""],[1057,1,""],[1058,1,""],[1059,1,""],[1060,1,""],[1061,1,""],[1062,1,""],[1063,1,""],[1064,1,""],[1065,1,""],[1066,1,""],[1067,1,""],[1068,1,""],[1069,1,""],[1070,1,""],[1071,1,""],[[1072,1103],2],[1104,2],[[1105,1116],2],[1117,2],[[1118,1119],2],[1120,1,""],[1121,2],[1122,1,""],[1123,2],[1124,1,""],[1125,2],[1126,1,""],[1127,2],[1128,1,""],[1129,2],[1130,1,""],[1131,2],[1132,1,""],[1133,2],[1134,1,""],[1135,2],[1136,1,""],[1137,2],[1138,1,""],[1139,2],[1140,1,""],[1141,2],[1142,1,""],[1143,2],[1144,1,""],[1145,2],[1146,1,""],[1147,2],[1148,1,""],[1149,2],[1150,1,""],[1151,2],[1152,1,""],[1153,2],[1154,2],[[1155,1158],2],[1159,2],[[1160,1161],2],[1162,1,""],[1163,2],[1164,1,""],[1165,2],[1166,1,""],[1167,2],[1168,1,""],[1169,2],[1170,1,""],[1171,2],[1172,1,""],[1173,2],[1174,1,""],[1175,2],[1176,1,""],[1177,2],[1178,1,""],[1179,2],[1180,1,""],[1181,2],[1182,1,""],[1183,2],[1184,1,""],[1185,2],[1186,1,""],[1187,2],[1188,1,""],[1189,2],[1190,1,""],[1191,2],[1192,1,""],[1193,2],[1194,1,""],[1195,2],[1196,1,""],[1197,2],[1198,1,""],[1199,2],[1200,1,""],[1201,2],[1202,1,""],[1203,2],[1204,1,""],[1205,2],[1206,1,""],[1207,2],[1208,1,""],[1209,2],[1210,1,""],[1211,2],[1212,1,""],[1213,2],[1214,1,""],[1215,2],[1216,3],[1217,1,""],[1218,2],[1219,1,""],[1220,2],[1221,1,""],[1222,2],[1223,1,""],[1224,2],[1225,1,""],[1226,2],[1227,1,""],[1228,2],[1229,1,""],[1230,2],[1231,2],[1232,1,""],[1233,2],[1234,1,""],[1235,2],[1236,1,""],[1237,2],[1238,1,""],[1239,2],[1240,1,""],[1241,2],[1242,1,""],[1243,2],[1244,1,""],[1245,2],[1246,1,""],[1247,2],[1248,1,""],[1249,2],[1250,1,""],[1251,2],[1252,1,""],[1253,2],[1254,1,""],[1255,2],[1256,1,""],[1257,2],[1258,1,""],[1259,2],[1260,1,""],[1261,2],[1262,1,""],[1263,2],[1264,1,""],[1265,2],[1266,1,""],[1267,2],[1268,1,""],[1269,2],[1270,1,""],[1271,2],[1272,1,""],[1273,2],[1274,1,""],[1275,2],[1276,1,""],[1277,2],[1278,1,""],[1279,2],[1280,1,""],[1281,2],[1282,1,""],[1283,2],[1284,1,""],[1285,2],[1286,1,""],[1287,2],[1288,1,""],[1289,2],[1290,1,""],[1291,2],[1292,1,""],[1293,2],[1294,1,""],[1295,2],[1296,1,""],[1297,2],[1298,1,""],[1299,2],[1300,1,""],[1301,2],[1302,1,""],[1303,2],[1304,1,""],[1305,2],[1306,1,""],[1307,2],[1308,1,""],[1309,2],[1310,1,""],[1311,2],[1312,1,""],[1313,2],[1314,1,""],[1315,2],[1316,1,""],[1317,2],[1318,1,""],[1319,2],[1320,1,""],[1321,2],[1322,1,""],[1323,2],[1324,1,""],[1325,2],[1326,1,""],[1327,2],[1328,3],[1329,1,""],[1330,1,""],[1331,1,""],[1332,1,""],[1333,1,""],[1334,1,""],[1335,1,""],[1336,1,""],[1337,1,""],[1338,1,""],[1339,1,""],[1340,1,""],[1341,1,""],[1342,1,""],[1343,1,""],[1344,1,""],[1345,1,""],[1346,1,""],[1347,1,""],[1348,1,""],[1349,1,""],[1350,1,""],[1351,1,""],[1352,1,""],[1353,1,""],[1354,1,""],[1355,1,""],[1356,1,""],[1357,1,""],[1358,1,""],[1359,1,""],[1360,1,""],[1361,1,""],[1362,1,""],[1363,1,""],[1364,1,""],[1365,1,""],[1366,1,""],[[1367,1368],3],[1369,2],[[1370,1375],2],[1376,2],[[1377,1414],2],[1415,1,""],[1416,2],[1417,2],[1418,2],[[1419,1420],3],[[1421,1422],2],[1423,2],[1424,3],[[1425,1441],2],[1442,2],[[1443,1455],2],[[1456,1465],2],[1466,2],[[1467,1469],2],[1470,2],[1471,2],[1472,2],[[1473,1474],2],[1475,2],[1476,2],[1477,2],[1478,2],[1479,2],[[1480,1487],3],[[1488,1514],2],[[1515,1518],3],[1519,2],[[1520,1524],2],[[1525,1535],3],[[1536,1539],3],[1540,3],[1541,3],[[1542,1546],2],[1547,2],[1548,2],[[1549,1551],2],[[1552,1557],2],[[1558,1562],2],[1563,2],[1564,3],[1565,3],[1566,2],[1567,2],[1568,2],[[1569,1594],2],[[1595,1599],2],[1600,2],[[1601,1618],2],[[1619,1621],2],[[1622,1624],2],[[1625,1630],2],[1631,2],[[1632,1641],2],[[1642,1645],2],[[1646,1647],2],[[1648,1652],2],[1653,1,""],[1654,1,""],[1655,1,""],[1656,1,""],[[1657,1719],2],[[1720,1721],2],[[1722,1726],2],[1727,2],[[1728,1742],2],[1743,2],[[1744,1747],2],[1748,2],[[1749,1756],2],[1757,3],[1758,2],[[1759,1768],2],[1769,2],[[1770,1773],2],[[1774,1775],2],[[1776,1785],2],[[1786,1790],2],[1791,2],[[1792,1805],2],[1806,3],[1807,3],[[1808,1836],2],[[1837,1839],2],[[1840,1866],2],[[1867,1868],3],[[1869,1871],2],[[1872,1901],2],[[1902,1919],2],[[1920,1968],2],[1969,2],[[1970,1983],3],[[1984,2037],2],[[2038,2042],2],[[2043,2044],3],[2045,2],[[2046,2047],2],[[2048,2093],2],[[2094,2095],3],[[2096,2110],2],[2111,3],[[2112,2139],2],[[2140,2141],3],[2142,2],[2143,3],[[2144,2154],2],[[2155,2207],3],[2208,2],[2209,2],[[2210,2220],2],[[2221,2226],2],[[2227,2228],2],[2229,3],[[2230,2237],2],[[2238,2258],3],[2259,2],[[2260,2273],2],[2274,3],[2275,2],[[2276,2302],2],[2303,2],[2304,2],[[2305,2307],2],[2308,2],[[2309,2361],2],[[2362,2363],2],[[2364,2381],2],[2382,2],[2383,2],[[2384,2388],2],[2389,2],[[2390,2391],2],[2392,1,""],[2393,1,""],[2394,1,""],[2395,1,""],[2396,1,""],[2397,1,""],[2398,1,""],[2399,1,""],[[2400,2403],2],[[2404,2405],2],[[2406,2415],2],[2416,2],[[2417,2418],2],[[2419,2423],2],[2424,2],[[2425,2426],2],[[2427,2428],2],[2429,2],[[2430,2431],2],[2432,2],[[2433,2435],2],[2436,3],[[2437,2444],2],[[2445,2446],3],[[2447,2448],2],[[2449,2450],3],[[2451,2472],2],[2473,3],[[2474,2480],2],[2481,3],[2482,2],[[2483,2485],3],[[2486,2489],2],[[2490,2491],3],[2492,2],[2493,2],[[2494,2500],2],[[2501,2502],3],[[2503,2504],2],[[2505,2506],3],[[2507,2509],2],[2510,2],[[2511,2518],3],[2519,2],[[2520,2523],3],[2524,1,""],[2525,1,""],[2526,3],[2527,1,""],[[2528,2531],2],[[2532,2533],3],[[2534,2545],2],[[2546,2554],2],[2555,2],[2556,2],[2557,2],[2558,2],[[2559,2560],3],[2561,2],[2562,2],[2563,2],[2564,3],[[2565,2570],2],[[2571,2574],3],[[2575,2576],2],[[2577,2578],3],[[2579,2600],2],[2601,3],[[2602,2608],2],[2609,3],[2610,2],[2611,1,""],[2612,3],[2613,2],[2614,1,""],[2615,3],[[2616,2617],2],[[2618,2619],3],[2620,2],[2621,3],[[2622,2626],2],[[2627,2630],3],[[2631,2632],2],[[2633,2634],3],[[2635,2637],2],[[2638,2640],3],[2641,2],[[2642,2648],3],[2649,1,""],[2650,1,""],[2651,1,""],[2652,2],[2653,3],[2654,1,""],[[2655,2661],3],[[2662,2676],2],[2677,2],[2678,2],[[2679,2688],3],[[2689,2691],2],[2692,3],[[2693,2699],2],[2700,2],[2701,2],[2702,3],[[2703,2705],2],[2706,3],[[2707,2728],2],[2729,3],[[2730,2736],2],[2737,3],[[2738,2739],2],[2740,3],[[2741,2745],2],[[2746,2747],3],[[2748,2757],2],[2758,3],[[2759,2761],2],[2762,3],[[2763,2765],2],[[2766,2767],3],[2768,2],[[2769,2783],3],[2784,2],[[2785,2787],2],[[2788,2789],3],[[2790,2799],2],[2800,2],[2801,2],[[2802,2808],3],[2809,2],[[2810,2815],2],[2816,3],[[2817,2819],2],[2820,3],[[2821,2828],2],[[2829,2830],3],[[2831,2832],2],[[2833,2834],3],[[2835,2856],2],[2857,3],[[2858,2864],2],[2865,3],[[2866,2867],2],[2868,3],[2869,2],[[2870,2873],2],[[2874,2875],3],[[2876,2883],2],[2884,2],[[2885,2886],3],[[2887,2888],2],[[2889,2890],3],[[2891,2893],2],[[2894,2901],3],[[2902,2903],2],[[2904,2907],3],[2908,1,""],[2909,1,""],[2910,3],[[2911,2913],2],[[2914,2915],2],[[2916,2917],3],[[2918,2927],2],[2928,2],[2929,2],[[2930,2935],2],[[2936,2945],3],[[2946,2947],2],[2948,3],[[2949,2954],2],[[2955,2957],3],[[2958,2960],2],[2961,3],[[2962,2965],2],[[2966,2968],3],[[2969,2970],2],[2971,3],[2972,2],[2973,3],[[2974,2975],2],[[2976,2978],3],[[2979,2980],2],[[2981,2983],3],[[2984,2986],2],[[2987,2989],3],[[2990,2997],2],[2998,2],[[2999,3001],2],[[3002,3005],3],[[3006,3010],2],[[3011,3013],3],[[3014,3016],2],[3017,3],[[3018,3021],2],[[3022,3023],3],[3024,2],[[3025,3030],3],[3031,2],[[3032,3045],3],[3046,2],[[3047,3055],2],[[3056,3058],2],[[3059,3066],2],[[3067,3071],3],[3072,2],[[3073,3075],2],[3076,2],[[3077,3084],2],[3085,3],[[3086,3088],2],[3089,3],[[3090,3112],2],[3113,3],[[3114,3123],2],[3124,2],[[3125,3129],2],[[3130,3132],3],[3133,2],[[3134,3140],2],[3141,3],[[3142,3144],2],[3145,3],[[3146,3149],2],[[3150,3156],3],[[3157,3158],2],[3159,3],[[3160,3161],2],[3162,2],[[3163,3167],3],[[3168,3169],2],[[3170,3171],2],[[3172,3173],3],[[3174,3183],2],[[3184,3190],3],[3191,2],[[3192,3199],2],[3200,2],[3201,2],[[3202,3203],2],[3204,2],[[3205,3212],2],[3213,3],[[3214,3216],2],[3217,3],[[3218,3240],2],[3241,3],[[3242,3251],2],[3252,3],[[3253,3257],2],[[3258,3259],3],[[3260,3261],2],[[3262,3268],2],[3269,3],[[3270,3272],2],[3273,3],[[3274,3277],2],[[3278,3284],3],[[3285,3286],2],[[3287,3293],3],[3294,2],[3295,3],[[3296,3297],2],[[3298,3299],2],[[3300,3301],3],[[3302,3311],2],[3312,3],[[3313,3314],2],[[3315,3327],3],[3328,2],[3329,2],[[3330,3331],2],[3332,3],[[3333,3340],2],[3341,3],[[3342,3344],2],[3345,3],[[3346,3368],2],[3369,2],[[3370,3385],2],[3386,2],[[3387,3388],2],[3389,2],[[3390,3395],2],[3396,2],[3397,3],[[3398,3400],2],[3401,3],[[3402,3405],2],[3406,2],[3407,2],[[3408,3411],3],[[3412,3414],2],[3415,2],[[3416,3422],2],[3423,2],[[3424,3425],2],[[3426,3427],2],[[3428,3429],3],[[3430,3439],2],[[3440,3445],2],[[3446,3448],2],[3449,2],[[3450,3455],2],[[3456,3457],3],[[3458,3459],2],[3460,3],[[3461,3478],2],[[3479,3481],3],[[3482,3505],2],[3506,3],[[3507,3515],2],[3516,3],[3517,2],[[3518,3519],3],[[3520,3526],2],[[3527,3529],3],[3530,2],[[3531,3534],3],[[3535,3540],2],[3541,3],[3542,2],[3543,3],[[3544,3551],2],[[3552,3557],3],[[3558,3567],2],[[3568,3569],3],[[3570,3571],2],[3572,2],[[3573,3584],3],[[3585,3634],2],[3635,1,""],[[3636,3642],2],[[3643,3646],3],[3647,2],[[3648,3662],2],[3663,2],[[3664,3673],2],[[3674,3675],2],[[3676,3712],3],[[3713,3714],2],[3715,3],[3716,2],[3717,3],[3718,2],[[3719,3720],2],[3721,2],[3722,2],[3723,3],[3724,2],[3725,2],[[3726,3731],2],[[3732,3735],2],[3736,2],[[3737,3743],2],[3744,2],[[3745,3747],2],[3748,3],[3749,2],[3750,3],[3751,2],[[3752,3753],2],[[3754,3755],2],[3756,2],[[3757,3762],2],[3763,1,""],[[3764,3769],2],[3770,2],[[3771,3773],2],[[3774,3775],3],[[3776,3780],2],[3781,3],[3782,2],[3783,3],[[3784,3789],2],[[3790,3791],3],[[3792,3801],2],[[3802,3803],3],[3804,1,""],[3805,1,""],[[3806,3807],2],[[3808,3839],3],[3840,2],[[3841,3850],2],[3851,2],[3852,1,""],[[3853,3863],2],[[3864,3865],2],[[3866,3871],2],[[3872,3881],2],[[3882,3892],2],[3893,2],[3894,2],[3895,2],[3896,2],[3897,2],[[3898,3901],2],[[3902,3906],2],[3907,1,""],[[3908,3911],2],[3912,3],[[3913,3916],2],[3917,1,""],[[3918,3921],2],[3922,1,""],[[3923,3926],2],[3927,1,""],[[3928,3931],2],[3932,1,""],[[3933,3944],2],[3945,1,""],[3946,2],[[3947,3948],2],[[3949,3952],3],[[3953,3954],2],[3955,1,""],[3956,2],[3957,1,""],[3958,1,""],[3959,1,""],[3960,1,""],[3961,1,""],[[3962,3968],2],[3969,1,""],[[3970,3972],2],[3973,2],[[3974,3979],2],[[3980,3983],2],[[3984,3986],2],[3987,1,""],[[3988,3989],2],[3990,2],[3991,2],[3992,3],[[3993,3996],2],[3997,1,""],[[3998,4001],2],[4002,1,""],[[4003,4006],2],[4007,1,""],[[4008,4011],2],[4012,1,""],[4013,2],[[4014,4016],2],[[4017,4023],2],[4024,2],[4025,1,""],[[4026,4028],2],[4029,3],[[4030,4037],2],[4038,2],[[4039,4044],2],[4045,3],[4046,2],[4047,2],[[4048,4049],2],[[4050,4052],2],[[4053,4056],2],[[4057,4058],2],[[4059,4095],3],[[4096,4129],2],[4130,2],[[4131,4135],2],[4136,2],[[4137,4138],2],[4139,2],[[4140,4146],2],[[4147,4149],2],[[4150,4153],2],[[4154,4159],2],[[4160,4169],2],[[4170,4175],2],[[4176,4185],2],[[4186,4249],2],[[4250,4253],2],[[4254,4255],2],[[4256,4293],3],[4294,3],[4295,1,""],[[4296,4300],3],[4301,1,""],[[4302,4303],3],[[4304,4342],2],[[4343,4344],2],[[4345,4346],2],[4347,2],[4348,1,""],[[4349,4351],2],[[4352,4441],2],[[4442,4446],2],[[4447,4448],3],[[4449,4514],2],[[4515,4519],2],[[4520,4601],2],[[4602,4607],2],[[4608,4614],2],[4615,2],[[4616,4678],2],[4679,2],[4680,2],[4681,3],[[4682,4685],2],[[4686,4687],3],[[4688,4694],2],[4695,3],[4696,2],[4697,3],[[4698,4701],2],[[4702,4703],3],[[4704,4742],2],[4743,2],[4744,2],[4745,3],[[4746,4749],2],[[4750,4751],3],[[4752,4782],2],[4783,2],[4784,2],[4785,3],[[4786,4789],2],[[4790,4791],3],[[4792,4798],2],[4799,3],[4800,2],[4801,3],[[4802,4805],2],[[4806,4807],3],[[4808,4814],2],[4815,2],[[4816,4822],2],[4823,3],[[4824,4846],2],[4847,2],[[4848,4878],2],[4879,2],[4880,2],[4881,3],[[4882,4885],2],[[4886,4887],3],[[4888,4894],2],[4895,2],[[4896,4934],2],[4935,2],[[4936,4954],2],[[4955,4956],3],[[4957,4958],2],[4959,2],[4960,2],[[4961,4988],2],[[4989,4991],3],[[4992,5007],2],[[5008,5017],2],[[5018,5023],3],[[5024,5108],2],[5109,2],[[5110,5111],3],[5112,1,""],[5113,1,""],[5114,1,""],[5115,1,""],[5116,1,""],[5117,1,""],[[5118,5119],3],[5120,2],[[5121,5740],2],[[5741,5742],2],[[5743,5750],2],[[5751,5759],2],[5760,3],[[5761,5786],2],[[5787,5788],2],[[5789,5791],3],[[5792,5866],2],[[5867,5872],2],[[5873,5880],2],[[5881,5887],3],[[5888,5900],2],[5901,3],[[5902,5908],2],[[5909,5919],3],[[5920,5940],2],[[5941,5942],2],[[5943,5951],3],[[5952,5971],2],[[5972,5983],3],[[5984,5996],2],[5997,3],[[5998,6000],2],[6001,3],[[6002,6003],2],[[6004,6015],3],[[6016,6067],2],[[6068,6069],3],[[6070,6099],2],[[6100,6102],2],[6103,2],[[6104,6107],2],[6108,2],[6109,2],[[6110,6111],3],[[6112,6121],2],[[6122,6127],3],[[6128,6137],2],[[6138,6143],3],[[6144,6149],2],[6150,3],[[6151,6154],2],[[6155,6157],7],[6158,3],[6159,3],[[6160,6169],2],[[6170,6175],3],[[6176,6263],2],[6264,2],[[6265,6271],3],[[6272,6313],2],[6314,2],[[6315,6319],3],[[6320,6389],2],[[6390,6399],3],[[6400,6428],2],[[6429,6430],2],[6431,3],[[6432,6443],2],[[6444,6447],3],[[6448,6459],2],[[6460,6463],3],[6464,2],[[6465,6467],3],[[6468,6469],2],[[6470,6509],2],[[6510,6511],3],[[6512,6516],2],[[6517,6527],3],[[6528,6569],2],[[6570,6571],2],[[6572,6575],3],[[6576,6601],2],[[6602,6607],3],[[6608,6617],2],[6618,2],[[6619,6621],3],[[6622,6623],2],[[6624,6655],2],[[6656,6683],2],[[6684,6685],3],[[6686,6687],2],[[6688,6750],2],[6751,3],[[6752,6780],2],[[6781,6782],3],[[6783,6793],2],[[6794,6799],3],[[6800,6809],2],[[6810,6815],3],[[6816,6822],2],[6823,2],[[6824,6829],2],[[6830,6831],3],[[6832,6845],2],[6846,2],[[6847,6911],3],[[6912,6987],2],[[6988,6991],3],[[6992,7001],2],[[7002,7018],2],[[7019,7027],2],[[7028,7036],2],[[7037,7039],3],[[7040,7082],2],[[7083,7085],2],[[7086,7097],2],[[7098,7103],2],[[7104,7155],2],[[7156,7163],3],[[7164,7167],2],[[7168,7223],2],[[7224,7226],3],[[7227,7231],2],[[7232,7241],2],[[7242,7244],3],[[7245,7293],2],[[7294,7295],2],[7296,1,""],[7297,1,""],[7298,1,""],[7299,1,""],[[7300,7301],1,""],[7302,1,""],[7303,1,""],[7304,1,""],[[7305,7311],3],[7312,1,""],[7313,1,""],[7314,1,""],[7315,1,""],[7316,1,""],[7317,1,""],[7318,1,""],[7319,1,""],[7320,1,""],[7321,1,""],[7322,1,""],[7323,1,""],[7324,1,""],[7325,1,""],[7326,1,""],[7327,1,""],[7328,1,""],[7329,1,""],[7330,1,""],[7331,1,""],[7332,1,""],[7333,1,""],[7334,1,""],[7335,1,""],[7336,1,""],[7337,1,""],[7338,1,""],[7339,1,""],[7340,1,""],[7341,1,""],[7342,1,""],[7343,1,""],[7344,1,""],[7345,1,""],[7346,1,""],[7347,1,""],[7348,1,""],[7349,1,""],[7350,1,""],[7351,1,""],[7352,1,""],[7353,1,""],[7354,1,""],[[7355,7356],3],[7357,1,""],[7358,1,""],[7359,1,""],[[7360,7367],2],[[7368,7375],3],[[7376,7378],2],[7379,2],[[7380,7410],2],[[7411,7414],2],[7415,2],[[7416,7417],2],[7418,2],[[7419,7423],3],[[7424,7467],2],[7468,1,"a"],[7469,1,""],[7470,1,"b"],[7471,2],[7472,1,"d"],[7473,1,"e"],[7474,1,""],[7475,1,"g"],[7476,1,"h"],[7477,1,"i"],[7478,1,"j"],[7479,1,"k"],[7480,1,"l"],[7481,1,"m"],[7482,1,"n"],[7483,2],[7484,1,"o"],[7485,1,""],[7486,1,"p"],[7487,1,"r"],[7488,1,"t"],[7489,1,"u"],[7490,1,"w"],[7491,1,"a"],[7492,1,""],[7493,1,""],[7494,1,""],[7495,1,"b"],[7496,1,"d"],[7497,1,"e"],[7498,1,""],[7499,1,""],[7500,1,""],[7501,1,"g"],[7502,2],[7503,1,"k"],[7504,1,"m"],[7505,1,""],[7506,1,"o"],[7507,1,""],[7508,1,""],[7509,1,""],[7510,1,"p"],[7511,1,"t"],[7512,1,"u"],[7513,1,""],[7514,1,""],[7515,1,"v"],[7516,1,""],[7517,1,""],[7518,1,""],[7519,1,""],[7520,1,""],[7521,1,""],[7522,1,"i"],[7523,1,"r"],[7524,1,"u"],[7525,1,"v"],[7526,1,""],[7527,1,""],[7528,1,""],[7529,1,""],[7530,1,""],[7531,2],[[7532,7543],2],[7544,1,""],[[7545,7578],2],[7579,1,""],[7580,1,"c"],[7581,1,""],[7582,1,""],[7583,1,""],[7584,1,"f"],[7585,1,""],[7586,1,""],[7587,1,""],[7588,1,""],[7589,1,""],[7590,1,""],[7591,1,""],[7592,1,""],[7593,1,""],[7594,1,""],[7595,1,""],[7596,1,""],[7597,1,""],[7598,1,""],[7599,1,""],[7600,1,""],[7601,1,""],[7602,1,""],[7603,1,""],[7604,1,""],[7605,1,""],[7606,1,""],[7607,1,""],[7608,1,""],[7609,1,""],[7610,1,""],[7611,1,"z"],[7612,1,""],[7613,1,""],[7614,1,""],[7615,1,""],[[7616,7619],2],[[7620,7626],2],[[7627,7654],2],[[7655,7669],2],[[7670,7673],2],[7674,3],[7675,2],[7676,2],[7677,2],[[7678,7679],2],[7680,1,""],[7681,2],[7682,1,""],[7683,2],[7684,1,""],[7685,2],[7686,1,""],[7687,2],[7688,1,""],[7689,2],[7690,1,""],[7691,2],[7692,1,""],[7693,2],[7694,1,""],[7695,2],[7696,1,""],[7697,2],[7698,1,""],[7699,2],[7700,1,""],[7701,2],[7702,1,""],[7703,2],[7704,1,""],[7705,2],[7706,1,""],[7707,2],[7708,1,""],[7709,2],[7710,1,""],[7711,2],[7712,1,""],[7713,2],[7714,1,""],[7715,2],[7716,1,""],[7717,2],[7718,1,""],[7719,2],[7720,1,""],[7721,2],[7722,1,""],[7723,2],[7724,1,""],[7725,2],[7726,1,""],[7727,2],[7728,1,""],[7729,2],[7730,1,""],[7731,2],[7732,1,""],[7733,2],[7734,1,""],[7735,2],[7736,1,""],[7737,2],[7738,1,""],[7739,2],[7740,1,""],[7741,2],[7742,1,""],[7743,2],[7744,1,""],[7745,2],[7746,1,""],[7747,2],[7748,1,""],[7749,2],[7750,1,""],[7751,2],[7752,1,""],[7753,2],[7754,1,""],[7755,2],[7756,1,""],[7757,2],[7758,1,""],[7759,2],[7760,1,""],[7761,2],[7762,1,""],[7763,2],[7764,1,""],[7765,2],[7766,1,""],[7767,2],[7768,1,""],[7769,2],[7770,1,""],[7771,2],[7772,1,""],[7773,2],[7774,1,""],[7775,2],[7776,1,""],[7777,2],[7778,1,""],[7779,2],[7780,1,""],[7781,2],[7782,1,""],[7783,2],[7784,1,""],[7785,2],[7786,1,""],[7787,2],[7788,1,""],[7789,2],[7790,1,""],[7791,2],[7792,1,""],[7793,2],[7794,1,""],[7795,2],[7796,1,""],[7797,2],[7798,1,""],[7799,2],[7800,1,""],[7801,2],[7802,1,""],[7803,2],[7804,1,""],[7805,2],[7806,1,""],[7807,2],[7808,1,""],[7809,2],[7810,1,""],[7811,2],[7812,1,""],[7813,2],[7814,1,""],[7815,2],[7816,1,""],[7817,2],[7818,1,""],[7819,2],[7820,1,""],[7821,2],[7822,1,""],[7823,2],[7824,1,""],[7825,2],[7826,1,""],[7827,2],[7828,1,""],[[7829,7833],2],[7834,1,"a"],[7835,1,""],[[7836,7837],2],[7838,1,"ss"],[7839,2],[7840,1,""],[7841,2],[7842,1,""],[7843,2],[7844,1,""],[7845,2],[7846,1,""],[7847,2],[7848,1,""],[7849,2],[7850,1,""],[7851,2],[7852,1,""],[7853,2],[7854,1,""],[7855,2],[7856,1,""],[7857,2],[7858,1,""],[7859,2],[7860,1,""],[7861,2],[7862,1,""],[7863,2],[7864,1,""],[7865,2],[7866,1,""],[7867,2],[7868,1,""],[7869,2],[7870,1,""],[7871,2],[7872,1,""],[7873,2],[7874,1,""],[7875,2],[7876,1,""],[7877,2],[7878,1,""],[7879,2],[7880,1,""],[7881,2],[7882,1,""],[7883,2],[7884,1,""],[7885,2],[7886,1,""],[7887,2],[7888,1,""],[7889,2],[7890,1,""],[7891,2],[7892,1,""],[7893,2],[7894,1,""],[7895,2],[7896,1,""],[7897,2],[7898,1,""],[7899,2],[7900,1,""],[7901,2],[7902,1,""],[7903,2],[7904,1,""],[7905,2],[7906,1,""],[7907,2],[7908,1,""],[7909,2],[7910,1,""],[7911,2],[7912,1,""],[7913,2],[7914,1,""],[7915,2],[7916,1,""],[7917,2],[7918,1,""],[7919,2],[7920,1,""],[7921,2],[7922,1,""],[7923,2],[7924,1,""],[7925,2],[7926,1,""],[7927,2],[7928,1,""],[7929,2],[7930,1,""],[7931,2],[7932,1,""],[7933,2],[7934,1,""],[7935,2],[[7936,7943],2],[7944,1,""],[7945,1,""],[7946,1,""],[7947,1,""],[7948,1,""],[7949,1,""],[7950,1,""],[7951,1,""],[[7952,7957],2],[[7958,7959],3],[7960,1,""],[7961,1,""],[7962,1,""],[7963,1,""],[7964,1,""],[7965,1,""],[[7966,7967],3],[[7968,7975],2],[7976,1,""],[7977,1,""],[7978,1,""],[7979,1,""],[7980,1,""],[7981,1,""],[7982,1,""],[7983,1,""],[[7984,7991],2],[7992,1,""],[7993,1,""],[7994,1,""],[7995,1,""],[7996,1,""],[7997,1,""],[7998,1,""],[7999,1,""],[[8000,8005],2],[[8006,8007],3],[8008,1,""],[8009,1,""],[8010,1,""],[8011,1,""],[8012,1,""],[8013,1,""],[[8014,8015],3],[[8016,8023],2],[8024,3],[8025,1,""],[8026,3],[8027,1,""],[8028,3],[8029,1,""],[8030,3],[8031,1,""],[[8032,8039],2],[8040,1,""],[8041,1,""],[8042,1,""],[8043,1,""],[8044,1,""],[8045,1,""],[8046,1,""],[8047,1,""],[8048,2],[8049,1,""],[8050,2],[8051,1,""],[8052,2],[8053,1,""],[8054,2],[8055,1,""],[8056,2],[8057,1,""],[8058,2],[8059,1,""],[8060,2],[8061,1,""],[[8062,8063],3],[8064,1,""],[8065,1,""],[8066,1,""],[8067,1,""],[8068,1,""],[8069,1,""],[8070,1,""],[8071,1,""],[8072,1,""],[8073,1,""],[8074,1,""],[8075,1,""],[8076,1,""],[8077,1,""],[8078,1,""],[8079,1,""],[8080,1,""],[8081,1,""],[8082,1,""],[8083,1,""],[8084,1,""],[8085,1,""],[8086,1,""],[8087,1,""],[8088,1,""],[8089,1,""],[8090,1,""],[8091,1,""],[8092,1,""],[8093,1,""],[8094,1,""],[8095,1,""],[8096,1,""],[8097,1,""],[8098,1,""],[8099,1,""],[8100,1,""],[8101,1,""],[8102,1,""],[8103,1,""],[8104,1,""],[8105,1,""],[8106,1,""],[8107,1,""],[8108,1,""],[8109,1,""],[8110,1,""],[8111,1,""],[[8112,8113],2],[8114,1,""],[8115,1,""],[8116,1,""],[8117,3],[8118,2],[8119,1,""],[8120,1,""],[8121,1,""],[8122,1,""],[8123,1,""],[8124,1,""],[8125,5," "],[8126,1,""],[8127,5," "],[8128,5," "],[8129,5," "],[8130,1,""],[8131,1,""],[8132,1,""],[8133,3],[8134,2],[8135,1,""],[8136,1,""],[8137,1,""],[8138,1,""],[8139,1,""],[8140,1,""],[8141,5," "],[8142,5," "],[8143,5," "],[[8144,8146],2],[8147,1,""],[[8148,8149],3],[[8150,8151],2],[8152,1,""],[8153,1,""],[8154,1,""],[8155,1,""],[8156,3],[8157,5," "],[8158,5," "],[8159,5," "],[[8160,8162],2],[8163,1,""],[[8164,8167],2],[8168,1,""],[8169,1,""],[8170,1,""],[8171,1,""],[8172,1,""],[8173,5," "],[8174,5," "],[8175,5,"`"],[[8176,8177],3],[8178,1,""],[8179,1,""],[8180,1,""],[8181,3],[8182,2],[8183,1,""],[8184,1,""],[8185,1,""],[8186,1,""],[8187,1,""],[8188,1,""],[8189,5," "],[8190,5," "],[8191,3],[[8192,8202],5," "],[8203,7],[[8204,8205],6,""],[[8206,8207],3],[8208,2],[8209,1,""],[[8210,8214],2],[8215,5," "],[[8216,8227],2],[[8228,8230],3],[8231,2],[[8232,8238],3],[8239,5," "],[[8240,8242],2],[8243,1,""],[8244,1,""],[8245,2],[8246,1,""],[8247,1,""],[[8248,8251],2],[8252,5,"!!"],[8253,2],[8254,5," "],[[8255,8262],2],[8263,5,"??"],[8264,5,"?!"],[8265,5,"!?"],[[8266,8269],2],[[8270,8274],2],[[8275,8276],2],[[8277,8278],2],[8279,1,""],[[8280,8286],2],[8287,5," "],[8288,7],[[8289,8291],3],[8292,7],[8293,3],[[8294,8297],3],[[8298,8303],3],[8304,1,"0"],[8305,1,"i"],[[8306,8307],3],[8308,1,"4"],[8309,1,"5"],[8310,1,"6"],[8311,1,"7"],[8312,1,"8"],[8313,1,"9"],[8314,5,"+"],[8315,1,""],[8316,5,"="],[8317,5,"("],[8318,5,")"],[8319,1,"n"],[8320,1,"0"],[8321,1,"1"],[8322,1,"2"],[8323,1,"3"],[8324,1,"4"],[8325,1,"5"],[8326,1,"6"],[8327,1,"7"],[8328,1,"8"],[8329,1,"9"],[8330,5,"+"],[8331,1,""],[8332,5,"="],[8333,5,"("],[8334,5,")"],[8335,3],[8336,1,"a"],[8337,1,"e"],[8338,1,"o"],[8339,1,"x"],[8340,1,""],[8341,1,"h"],[8342,1,"k"],[8343,1,"l"],[8344,1,"m"],[8345,1,"n"],[8346,1,"p"],[8347,1,"s"],[8348,1,"t"],[[8349,8351],3],[[8352,8359],2],[8360,1,"rs"],[[8361,8362],2],[8363,2],[8364,2],[[8365,8367],2],[[8368,8369],2],[[8370,8373],2],[[8374,8376],2],[8377,2],[8378,2],[[8379,8381],2],[8382,2],[8383,2],[[8384,8399],3],[[8400,8417],2],[[8418,8419],2],[[8420,8426],2],[8427,2],[[8428,8431],2],[8432,2],[[8433,8447],3],[8448,5,"a/c"],[8449,5,"a/s"],[8450,1,"c"],[8451,1,"c"],[8452,2],[8453,5,"c/o"],[8454,5,"c/u"],[8455,1,""],[8456,2],[8457,1,"f"],[8458,1,"g"],[[8459,8462],1,"h"],[8463,1,""],[[8464,8465],1,"i"],[[8466,8467],1,"l"],[8468,2],[8469,1,"n"],[8470,1,"no"],[[8471,8472],2],[8473,1,"p"],[8474,1,"q"],[[8475,8477],1,"r"],[[8478,8479],2],[8480,1,"sm"],[8481,1,"tel"],[8482,1,"tm"],[8483,2],[8484,1,"z"],[8485,2],[8486,1,""],[8487,2],[8488,1,"z"],[8489,2],[8490,1,"k"],[8491,1,""],[8492,1,"b"],[8493,1,"c"],[8494,2],[[8495,8496],1,"e"],[8497,1,"f"],[8498,3],[8499,1,"m"],[8500,1,"o"],[8501,1,""],[8502,1,""],[8503,1,""],[8504,1,""],[8505,1,"i"],[8506,2],[8507,1,"fax"],[8508,1,""],[[8509,8510],1,""],[8511,1,""],[8512,1,""],[[8513,8516],2],[[8517,8518],1,"d"],[8519,1,"e"],[8520,1,"i"],[8521,1,"j"],[[8522,8523],2],[8524,2],[8525,2],[8526,2],[8527,2],[8528,1,"17"],[8529,1,"19"],[8530,1,"110"],[8531,1,"13"],[8532,1,"23"],[8533,1,"15"],[8534,1,"25"],[8535,1,"35"],[8536,1,"45"],[8537,1,"16"],[8538,1,"56"],[8539,1,"18"],[8540,1,"38"],[8541,1,"58"],[8542,1,"78"],[8543,1,"1"],[8544,1,"i"],[8545,1,"ii"],[8546,1,"iii"],[8547,1,"iv"],[8548,1,"v"],[8549,1,"vi"],[8550,1,"vii"],[8551,1,"viii"],[8552,1,"ix"],[8553,1,"x"],[8554,1,"xi"],[8555,1,"xii"],[8556,1,"l"],[8557,1,"c"],[8558,1,"d"],[8559,1,"m"],[8560,1,"i"],[8561,1,"ii"],[8562,1,"iii"],[8563,1,"iv"],[8564,1,"v"],[8565,1,"vi"],[8566,1,"vii"],[8567,1,"viii"],[8568,1,"ix"],[8569,1,"x"],[8570,1,"xi"],[8571,1,"xii"],[8572,1,"l"],[8573,1,"c"],[8574,1,"d"],[8575,1,"m"],[[8576,8578],2],[8579,3],[8580,2],[[8581,8584],2],[8585,1,"03"],[[8586,8587],2],[[8588,8591],3],[[8592,8682],2],[[8683,8691],2],[[8692,8703],2],[[8704,8747],2],[8748,1,""],[8749,1,""],[8750,2],[8751,1,""],[8752,1,""],[[8753,8799],2],[8800,4],[[8801,8813],2],[[8814,8815],4],[[8816,8945],2],[[8946,8959],2],[8960,2],[8961,2],[[8962,9000],2],[9001,1,""],[9002,1,""],[[9003,9082],2],[9083,2],[9084,2],[[9085,9114],2],[[9115,9166],2],[[9167,9168],2],[[9169,9179],2],[[9180,9191],2],[9192,2],[[9193,9203],2],[[9204,9210],2],[[9211,9214],2],[9215,2],[[9216,9252],2],[[9253,9254],2],[[9255,9279],3],[[9280,9290],2],[[9291,9311],3],[9312,1,"1"],[9313,1,"2"],[9314,1,"3"],[9315,1,"4"],[9316,1,"5"],[9317,1,"6"],[9318,1,"7"],[9319,1,"8"],[9320,1,"9"],[9321,1,"10"],[9322,1,"11"],[9323,1,"12"],[9324,1,"13"],[9325,1,"14"],[9326,1,"15"],[9327,1,"16"],[9328,1,"17"],[9329,1,"18"],[9330,1,"19"],[9331,1,"20"],[9332,5,"(1)"],[9333,5,"(2)"],[9334,5,"(3)"],[9335,5,"(4)"],[9336,5,"(5)"],[9337,5,"(6)"],[9338,5,"(7)"],[9339,5,"(8)"],[9340,5,"(9)"],[9341,5,"(10)"],[9342,5,"(11)"],[9343,5,"(12)"],[9344,5,"(13)"],[9345,5,"(14)"],[9346,5,"(15)"],[9347,5,"(16)"],[9348,5,"(17)"],[9349,5,"(18)"],[9350,5,"(19)"],[9351,5,"(20)"],[[9352,9371],3],[9372,5,"(a)"],[9373,5,"(b)"],[9374,5,"(c)"],[9375,5,"(d)"],[9376,5,"(e)"],[9377,5,"(f)"],[9378,5,"(g)"],[9379,5,"(h)"],[9380,5,"(i)"],[9381,5,"(j)"],[9382,5,"(k)"],[9383,5,"(l)"],[9384,5,"(m)"],[9385,5,"(n)"],[9386,5,"(o)"],[9387,5,"(p)"],[9388,5,"(q)"],[9389,5,"(r)"],[9390,5,"(s)"],[9391,5,"(t)"],[9392,5,"(u)"],[9393,5,"(v)"],[9394,5,"(w)"],[9395,5,"(x)"],[9396,5,"(y)"],[9397,5,"(z)"],[9398,1,"a"],[9399,1,"b"],[9400,1,"c"],[9401,1,"d"],[9402,1,"e"],[9403,1,"f"],[9404,1,"g"],[9405,1,"h"],[9406,1,"i"],[9407,1,"j"],[9408,1,"k"],[9409,1,"l"],[9410,1,"m"],[9411,1,"n"],[9412,1,"o"],[9413,1,"p"],[9414,1,"q"],[9415,1,"r"],[9416,1,"s"],[9417,1,"t"],[9418,1,"u"],[9419,1,"v"],[9420,1,"w"],[9421,1,"x"],[9422,1,"y"],[9423,1,"z"],[9424,1,"a"],[9425,1,"b"],[9426,1,"c"],[9427,1,"d"],[9428,1,"e"],[9429,1,"f"],[9430,1,"g"],[9431,1,"h"],[9432,1,"i"],[9433,1,"j"],[9434,1,"k"],[9435,1,"l"],[9436,1,"m"],[9437,1,"n"],[9438,1,"o"],[9439,1,"p"],[9440,1,"q"],[9441,1,"r"],[9442,1,"s"],[9443,1,"t"],[9444,1,"u"],[9445,1,"v"],[9446,1,"w"],[9447,1,"x"],[9448,1,"y"],[9449,1,"z"],[9450,1,"0"],[[9451,9470],2],[9471,2],[[9472,9621],2],[[9622,9631],2],[[9632,9711],2],[[9712,9719],2],[[9720,9727],2],[[9728,9747],2],[[9748,9749],2],[[9750,9751],2],[9752,2],[9753,2],[[9754,9839],2],[[9840,9841],2],[[9842,9853],2],[[9854,9855],2],[[9856,9865],2],[[9866,9873],2],[[9874,9884],2],[9885,2],[[9886,9887],2],[[9888,9889],2],[[9890,9905],2],[9906,2],[[9907,9916],2],[[9917,9919],2],[[9920,9923],2],[[9924,9933],2],[9934,2],[[9935,9953],2],[9954,2],[9955,2],[[9956,9959],2],[[9960,9983],2],[9984,2],[[9985,9988],2],[9989,2],[[9990,9993],2],[[9994,9995],2],[[9996,10023],2],[10024,2],[[10025,10059],2],[10060,2],[10061,2],[10062,2],[[10063,10066],2],[[10067,10069],2],[10070,2],[10071,2],[[10072,10078],2],[[10079,10080],2],[[10081,10087],2],[[10088,10101],2],[[10102,10132],2],[[10133,10135],2],[[10136,10159],2],[10160,2],[[10161,10174],2],[10175,2],[[10176,10182],2],[[10183,10186],2],[10187,2],[10188,2],[10189,2],[[10190,10191],2],[[10192,10219],2],[[10220,10223],2],[[10224,10239],2],[[10240,10495],2],[[10496,10763],2],[10764,1,""],[[10765,10867],2],[10868,5,"::="],[10869,5,"=="],[10870,5,"==="],[[10871,10971],2],[10972,1,""],[[10973,11007],2],[[11008,11021],2],[[11022,11027],2],[[11028,11034],2],[[11035,11039],2],[[11040,11043],2],[[11044,11084],2],[[11085,11087],2],[[11088,11092],2],[[11093,11097],2],[[11098,11123],2],[[11124,11125],3],[[11126,11157],2],[[11158,11159],3],[[11160,11193],2],[[11194,11196],2],[[11197,11208],2],[11209,2],[[11210,11217],2],[11218,2],[[11219,11243],2],[[11244,11247],2],[[11248,11262],2],[11263,2],[11264,1,""],[11265,1,""],[11266,1,""],[11267,1,""],[11268,1,""],[11269,1,""],[11270,1,""],[11271,1,""],[11272,1,""],[11273,1,""],[11274,1,""],[11275,1,""],[11276,1,""],[11277,1,""],[11278,1,""],[11279,1,""],[11280,1,""],[11281,1,""],[11282,1,""],[11283,1,""],[11284,1,""],[11285,1,""],[11286,1,""],[11287,1,""],[11288,1,""],[11289,1,""],[11290,1,""],[11291,1,""],[11292,1,""],[11293,1,""],[11294,1,""],[11295,1,""],[11296,1,""],[11297,1,""],[11298,1,""],[11299,1,""],[11300,1,""],[11301,1,""],[11302,1,""],[11303,1,""],[11304,1,""],[11305,1,""],[11306,1,""],[11307,1,""],[11308,1,""],[11309,1,""],[11310,1,""],[11311,3],[[11312,11358],2],[11359,3],[11360,1,""],[11361,2],[11362,1,""],[11363,1,""],[11364,1,""],[[11365,11366],2],[11367,1,""],[11368,2],[11369,1,""],[11370,2],[11371,1,""],[11372,2],[11373,1,""],[11374,1,""],[11375,1,""],[11376,1,""],[11377,2],[11378,1,""],[11379,2],[11380,2],[11381,1,""],[[11382,11383],2],[[11384,11387],2],[11388,1,"j"],[11389,1,"v"],[11390,1,""],[11391,1,""],[11392,1,""],[11393,2],[11394,1,""],[11395,2],[11396,1,""],[11397,2],[11398,1,""],[11399,2],[11400,1,""],[11401,2],[11402,1,""],[11403,2],[11404,1,""],[11405,2],[11406,1,""],[11407,2],[11408,1,""],[11409,2],[11410,1,""],[11411,2],[11412,1,""],[11413,2],[11414,1,""],[11415,2],[11416,1,""],[11417,2],[11418,1,""],[11419,2],[11420,1,""],[11421,2],[11422,1,""],[11423,2],[11424,1,""],[11425,2],[11426,1,""],[11427,2],[11428,1,""],[11429,2],[11430,1,""],[11431,2],[11432,1,""],[11433,2],[11434,1,""],[11435,2],[11436,1,""],[11437,2],[11438,1,""],[11439,2],[11440,1,""],[11441,2],[11442,1,""],[11443,2],[11444,1,""],[11445,2],[11446,1,""],[11447,2],[11448,1,""],[11449,2],[11450,1,""],[11451,2],[11452,1,""],[11453,2],[11454,1,""],[11455,2],[11456,1,""],[11457,2],[11458,1,""],[11459,2],[11460,1,""],[11461,2],[11462,1,""],[11463,2],[11464,1,""],[11465,2],[11466,1,""],[11467,2],[11468,1,""],[11469,2],[11470,1,""],[11471,2],[11472,1,""],[11473,2],[11474,1,""],[11475,2],[11476,1,""],[11477,2],[11478,1,""],[11479,2],[11480,1,""],[11481,2],[11482,1,""],[11483,2],[11484,1,""],[11485,2],[11486,1,""],[11487,2],[11488,1,""],[11489,2],[11490,1,""],[[11491,11492],2],[[11493,11498],2],[11499,1,""],[11500,2],[11501,1,""],[[11502,11505],2],[11506,1,""],[11507,2],[[11508,11512],3],[[11513,11519],2],[[11520,11557],2],[11558,3],[11559,2],[[11560,11564],3],[11565,2],[[11566,11567],3],[[11568,11621],2],[[11622,11623],2],[[11624,11630],3],[11631,1,""],[11632,2],[[11633,11646],3],[11647,2],[[11648,11670],2],[[11671,11679],3],[[11680,11686],2],[11687,3],[[11688,11694],2],[11695,3],[[11696,11702],2],[11703,3],[[11704,11710],2],[11711,3],[[11712,11718],2],[11719,3],[[11720,11726],2],[11727,3],[[11728,11734],2],[11735,3],[[11736,11742],2],[11743,3],[[11744,11775],2],[[11776,11799],2],[[11800,11803],2],[[11804,11805],2],[[11806,11822],2],[11823,2],[11824,2],[11825,2],[[11826,11835],2],[[11836,11842],2],[[11843,11844],2],[[11845,11849],2],[[11850,11854],2],[11855,2],[[11856,11903],3],[[11904,11929],2],[11930,3],[[11931,11934],2],[11935,1,""],[[11936,12018],2],[12019,1,""],[[12020,12031],3],[12032,1,""],[12033,1,""],[12034,1,""],[12035,1,""],[12036,1,""],[12037,1,""],[12038,1,""],[12039,1,""],[12040,1,""],[12041,1,""],[12042,1,""],[12043,1,""],[12044,1,""],[12045,1,""],[12046,1,""],[12047,1,""],[12048,1,""],[12049,1,""],[12050,1,""],[12051,1,""],[12052,1,""],[12053,1,""],[12054,1,""],[12055,1,""],[12056,1,""],[12057,1,""],[12058,1,""],[12059,1,""],[12060,1,""],[12061,1,""],[12062,1,""],[12063,1,""],[12064,1,""],[12065,1,""],[12066,1,""],[12067,1,""],[12068,1,""],[12069,1,""],[12070,1,""],[12071,1,""],[12072,1,""],[12073,1,""],[12074,1,""],[12075,1,""],[12076,1,""],[12077,1,""],[12078,1,""],[12079,1,""],[12080,1,""],[12081,1,""],[12082,1,""],[12083,1,""],[12084,1,""],[12085,1,""],[12086,1,""],[12087,1,""],[12088,1,""],[12089,1,""],[12090,1,""],[12091,1,""],[12092,1,""],[12093,1,""],[12094,1,""],[12095,1,""],[12096,1,""],[12097,1,""],[12098,1,""],[12099,1,""],[12100,1,""],[12101,1,""],[12102,1,""],[12103,1,""],[12104,1,""],[12105,1,""],[12106,1,""],[12107,1,""],[12108,1,""],[12109,1,""],[12110,1,""],[12111,1,""],[12112,1,""],[12113,1,""],[12114,1,""],[12115,1,""],[12116,1,""],[12117,1,""],[12118,1,""],[12119,1,""],[12120,1,""],[12121,1,""],[12122,1,""],[12123,1,""],[12124,1,""],[12125,1,""],[12126,1,""],[12127,1,""],[12128,1,""],[12129,1,""],[12130,1,""],[12131,1,""],[12132,1,""],[12133,1,""],[12134,1,""],[12135,1,""],[12136,1,""],[12137,1,""],[12138,1,""],[12139,1,""],[12140,1,""],[12141,1,""],[12142,1,""],[12143,1,""],[12144,1,""],[12145,1,""],[12146,1,""],[12147,1,""],[12148,1,""],[12149,1,""],[12150,1,""],[12151,1,""],[12152,1,""],[12153,1,""],[12154,1,""],[12155,1,""],[12156,1,""],[12157,1,""],[12158,1,""],[12159,1,""],[12160,1,""],[12161,1,""],[12162,1,""],[12163,1,""],[12164,1,""],[12165,1,""],[12166,1,""],[12167,1,""],[12168,1,""],[12169,1,""],[12170,1,""],[12171,1,""],[12172,1,""],[12173,1,""],[12174,1,""],[12175,1,""],[12176,1,""],[12177,1,""],[12178,1,""],[12179,1,""],[12180,1,""],[12181,1,""],[12182,1,""],[12183,1,""],[12184,1,""],[12185,1,""],[12186,1,""],[12187,1,""],[12188,1,""],[12189,1,""],[12190,1,""],[12191,1,""],[12192,1,""],[12193,1,""],[12194,1,""],[12195,1,""],[12196,1,""],[12197,1,""],[12198,1,""],[12199,1,""],[12200,1,""],[12201,1,""],[12202,1,""],[12203,1,""],[12204,1,""],[12205,1,""],[12206,1,""],[12207,1,""],[12208,1,""],[12209,1,""],[12210,1,""],[12211,1,""],[12212,1,""],[12213,1,""],[12214,1,""],[12215,1,""],[12216,1,""],[12217,1,""],[12218,1,""],[12219,1,""],[12220,1,""],[12221,1,""],[12222,1,""],[12223,1,""],[12224,1,""],[12225,1,""],[12226,1,""],[12227,1,""],[12228,1,""],[12229,1,""],[12230,1,""],[12231,1,""],[12232,1,""],[12233,1,""],[12234,1,""],[12235,1,""],[12236,1,""],[12237,1,""],[12238,1,""],[12239,1,""],[12240,1,""],[12241,1,""],[12242,1,""],[12243,1,""],[12244,1,""],[12245,1,""],[[12246,12271],3],[[12272,12283],3],[[12284,12287],3],[12288,5," "],[12289,2],[12290,1,"."],[[12291,12292],2],[[12293,12295],2],[[12296,12329],2],[[12330,12333],2],[[12334,12341],2],[12342,1,""],[12343,2],[12344,1,""],[12345,1,""],[12346,1,""],[12347,2],[12348,2],[12349,2],[12350,2],[12351,2],[12352,3],[[12353,12436],2],[[12437,12438],2],[[12439,12440],3],[[12441,12442],2],[12443,5," "],[12444,5," "],[[12445,12446],2],[12447,1,""],[12448,2],[[12449,12542],2],[12543,1,""],[[12544,12548],3],[[12549,12588],2],[12589,2],[12590,2],[12591,2],[12592,3],[12593,1,""],[12594,1,""],[12595,1,""],[12596,1,""],[12597,1,""],[12598,1,""],[12599,1,""],[12600,1,""],[12601,1,""],[12602,1,""],[12603,1,""],[12604,1,""],[12605,1,""],[12606,1,""],[12607,1,""],[12608,1,""],[12609,1,""],[12610,1,""],[12611,1,""],[12612,1,""],[12613,1,""],[12614,1,""],[12615,1,""],[12616,1,""],[12617,1,""],[12618,1,""],[12619,1,""],[12620,1,""],[12621,1,""],[12622,1,""],[12623,1,""],[12624,1,""],[12625,1,""],[12626,1,""],[12627,1,""],[12628,1,""],[12629,1,""],[12630,1,""],[12631,1,""],[12632,1,""],[12633,1,""],[12634,1,""],[12635,1,""],[12636,1,""],[12637,1,""],[12638,1,""],[12639,1,""],[12640,1,""],[12641,1,""],[12642,1,""],[12643,1,""],[12644,3],[12645,1,""],[12646,1,""],[12647,1,""],[12648,1,""],[12649,1,""],[12650,1,""],[12651,1,""],[12652,1,""],[12653,1,""],[12654,1,""],[12655,1,""],[12656,1,""],[12657,1,""],[12658,1,""],[12659,1,""],[12660,1,""],[12661,1,""],[12662,1,""],[12663,1,""],[12664,1,""],[12665,1,""],[12666,1,""],[12667,1,""],[12668,1,""],[12669,1,""],[12670,1,""],[12671,1,""],[12672,1,""],[12673,1,""],[12674,1,""],[12675,1,""],[12676,1,""],[12677,1,""],[12678,1,""],[12679,1,""],[12680,1,""],[12681,1,""],[12682,1,""],[12683,1,""],[12684,1,""],[12685,1,""],[12686,1,""],[12687,3],[[12688,12689],2],[12690,1,""],[12691,1,""],[12692,1,""],[12693,1,""],[12694,1,""],[12695,1,""],[12696,1,""],[12697,1,""],[12698,1,""],[12699,1,""],[12700,1,""],[12701,1,""],[12702,1,""],[12703,1,""],[[12704,12727],2],[[12728,12730],2],[[12731,12735],3],[[12736,12751],2],[[12752,12771],2],[[12772,12783],3],[[12784,12799],2],[12800,5,"()"],[12801,5,"()"],[12802,5,"()"],[12803,5,"()"],[12804,5,"()"],[12805,5,"()"],[12806,5,"()"],[12807,5,"()"],[12808,5,"()"],[12809,5,"()"],[12810,5,"()"],[12811,5,"()"],[12812,5,"()"],[12813,5,"()"],[12814,5,"()"],[12815,5,"()"],[12816,5,"()"],[12817,5,"()"],[12818,5,"()"],[12819,5,"()"],[12820,5,"()"],[12821,5,"()"],[12822,5,"()"],[12823,5,"()"],[12824,5,"()"],[12825,5,"()"],[12826,5,"()"],[12827,5,"()"],[12828,5,"()"],[12829,5,"()"],[12830,5,"()"],[12831,3],[12832,5,"()"],[12833,5,"()"],[12834,5,"()"],[12835,5,"()"],[12836,5,"()"],[12837,5,"()"],[12838,5,"()"],[12839,5,"()"],[12840,5,"()"],[12841,5,"()"],[12842,5,"()"],[12843,5,"()"],[12844,5,"()"],[12845,5,"()"],[12846,5,"()"],[12847,5,"()"],[12848,5,"()"],[12849,5,"()"],[12850,5,"()"],[12851,5,"()"],[12852,5,"()"],[12853,5,"()"],[12854,5,"()"],[12855,5,"()"],[12856,5,"()"],[12857,5,"()"],[12858,5,"()"],[12859,5,"()"],[12860,5,"()"],[12861,5,"()"],[12862,5,"()"],[12863,5,"()"],[12864,5,"()"],[12865,5,"()"],[12866,5,"()"],[12867,5,"()"],[12868,1,""],[12869,1,""],[12870,1,""],[12871,1,""],[[12872,12879],2],[12880,1,"pte"],[12881,1,"21"],[12882,1,"22"],[12883,1,"23"],[12884,1,"24"],[12885,1,"25"],[12886,1,"26"],[12887,1,"27"],[12888,1,"28"],[12889,1,"29"],[12890,1,"30"],[12891,1,"31"],[12892,1,"32"],[12893,1,"33"],[12894,1,"34"],[12895,1,"35"],[12896,1,""],[12897,1,""],[12898,1,""],[12899,1,""],[12900,1,""],[12901,1,""],[12902,1,""],[12903,1,""],[12904,1,""],[12905,1,""],[12906,1,""],[12907,1,""],[12908,1,""],[12909,1,""],[12910,1,""],[12911,1,""],[12912,1,""],[12913,1,""],[12914,1,""],[12915,1,""],[12916,1,""],[12917,1,""],[12918,1,""],[12919,1,""],[12920,1,""],[12921,1,""],[12922,1,""],[12923,1,""],[12924,1,""],[12925,1,""],[12926,1,""],[12927,2],[12928,1,""],[12929,1,""],[12930,1,""],[12931,1,""],[12932,1,""],[12933,1,""],[12934,1,""],[12935,1,""],[12936,1,""],[12937,1,""],[12938,1,""],[12939,1,""],[12940,1,""],[12941,1,""],[12942,1,""],[12943,1,""],[12944,1,""],[12945,1,""],[12946,1,""],[12947,1,""],[12948,1,""],[12949,1,""],[12950,1,""],[12951,1,""],[12952,1,""],[12953,1,""],[12954,1,""],[12955,1,""],[12956,1,""],[12957,1,""],[12958,1,""],[12959,1,""],[12960,1,""],[12961,1,""],[12962,1,""],[12963,1,""],[12964,1,""],[12965,1,""],[12966,1,""],[12967,1,""],[12968,1,""],[12969,1,""],[12970,1,""],[12971,1,""],[12972,1,""],[12973,1,""],[12974,1,""],[12975,1,""],[12976,1,""],[12977,1,"36"],[12978,1,"37"],[12979,1,"38"],[12980,1,"39"],[12981,1,"40"],[12982,1,"41"],[12983,1,"42"],[12984,1,"43"],[12985,1,"44"],[12986,1,"45"],[12987,1,"46"],[12988,1,"47"],[12989,1,"48"],[12990,1,"49"],[12991,1,"50"],[12992,1,"1"],[12993,1,"2"],[12994,1,"3"],[12995,1,"4"],[12996,1,"5"],[12997,1,"6"],[12998,1,"7"],[12999,1,"8"],[13000,1,"9"],[13001,1,"10"],[13002,1,"11"],[13003,1,"12"],[13004,1,"hg"],[13005,1,"erg"],[13006,1,"ev"],[13007,1,"ltd"],[13008,1,""],[13009,1,""],[13010,1,""],[13011,1,""],[13012,1,""],[13013,1,""],[13014,1,""],[13015,1,""],[13016,1,""],[13017,1,""],[13018,1,""],[13019,1,""],[13020,1,""],[13021,1,""],[13022,1,""],[13023,1,""],[13024,1,""],[13025,1,""],[13026,1,""],[13027,1,""],[13028,1,""],[13029,1,""],[13030,1,""],[13031,1,""],[13032,1,""],[13033,1,""],[13034,1,""],[13035,1,""],[13036,1,""],[13037,1,""],[13038,1,""],[13039,1,""],[13040,1,""],[13041,1,""],[13042,1,""],[13043,1,""],[13044,1,""],[13045,1,""],[13046,1,""],[13047,1,""],[13048,1,""],[13049,1,""],[13050,1,""],[13051,1,""],[13052,1,""],[13053,1,""],[13054,1,""],[13055,1,""],[13056,1,""],[13057,1,""],[13058,1,""],[13059,1,""],[13060,1,""],[13061,1,""],[13062,1,""],[13063,1,""],[13064,1,""],[13065,1,""],[13066,1,""],[13067,1,""],[13068,1,""],[13069,1,""],[13070,1,""],[13071,1,""],[13072,1,""],[13073,1,""],[13074,1,""],[13075,1,""],[13076,1,""],[13077,1,""],[13078,1,""],[13079,1,""],[13080,1,""],[13081,1,""],[13082,1,""],[13083,1,""],[13084,1,""],[13085,1,""],[13086,1,""],[13087,1,""],[13088,1,""],[13089,1,""],[13090,1,""],[13091,1,""],[13092,1,""],[13093,1,""],[13094,1,""],[13095,1,""],[13096,1,""],[13097,1,""],[13098,1,""],[13099,1,""],[13100,1,""],[13101,1,""],[13102,1,""],[13103,1,""],[13104,1,""],[13105,1,""],[13106,1,""],[13107,1,""],[13108,1,""],[13109,1,""],[13110,1,""],[13111,1,""],[13112,1,""],[13113,1,""],[13114,1,""],[13115,1,""],[13116,1,""],[13117,1,""],[13118,1,""],[13119,1,""],[13120,1,""],[13121,1,""],[13122,1,""],[13123,1,""],[13124,1,""],[13125,1,""],[13126,1,""],[13127,1,""],[13128,1,""],[13129,1,""],[13130,1,""],[13131,1,""],[13132,1,""],[13133,1,""],[13134,1,""],[13135,1,""],[13136,1,""],[13137,1,""],[13138,1,""],[13139,1,""],[13140,1,""],[13141,1,""],[13142,1,""],[13143,1,""],[13144,1,"0"],[13145,1,"1"],[13146,1,"2"],[13147,1,"3"],[13148,1,"4"],[13149,1,"5"],[13150,1,"6"],[13151,1,"7"],[13152,1,"8"],[13153,1,"9"],[13154,1,"10"],[13155,1,"11"],[13156,1,"12"],[13157,1,"13"],[13158,1,"14"],[13159,1,"15"],[13160,1,"16"],[13161,1,"17"],[13162,1,"18"],[13163,1,"19"],[13164,1,"20"],[13165,1,"21"],[13166,1,"22"],[13167,1,"23"],[13168,1,"24"],[13169,1,"hpa"],[13170,1,"da"],[13171,1,"au"],[13172,1,"bar"],[13173,1,"ov"],[13174,1,"pc"],[13175,1,"dm"],[13176,1,"dm2"],[13177,1,"dm3"],[13178,1,"iu"],[13179,1,""],[13180,1,""],[13181,1,""],[13182,1,""],[13183,1,""],[13184,1,"pa"],[13185,1,"na"],[13186,1,"a"],[13187,1,"ma"],[13188,1,"ka"],[13189,1,"kb"],[13190,1,"mb"],[13191,1,"gb"],[13192,1,"cal"],[13193,1,"kcal"],[13194,1,"pf"],[13195,1,"nf"],[13196,1,"f"],[13197,1,"g"],[13198,1,"mg"],[13199,1,"kg"],[13200,1,"hz"],[13201,1,"khz"],[13202,1,"mhz"],[13203,1,"ghz"],[13204,1,"thz"],[13205,1,"l"],[13206,1,"ml"],[13207,1,"dl"],[13208,1,"kl"],[13209,1,"fm"],[13210,1,"nm"],[13211,1,"m"],[13212,1,"mm"],[13213,1,"cm"],[13214,1,"km"],[13215,1,"mm2"],[13216,1,"cm2"],[13217,1,"m2"],[13218,1,"km2"],[13219,1,"mm3"],[13220,1,"cm3"],[13221,1,"m3"],[13222,1,"km3"],[13223,1,"ms"],[13224,1,"ms2"],[13225,1,"pa"],[13226,1,"kpa"],[13227,1,"mpa"],[13228,1,"gpa"],[13229,1,"rad"],[13230,1,"rads"],[13231,1,"rads2"],[13232,1,"ps"],[13233,1,"ns"],[13234,1,"s"],[13235,1,"ms"],[13236,1,"pv"],[13237,1,"nv"],[13238,1,"v"],[13239,1,"mv"],[13240,1,"kv"],[13241,1,"mv"],[13242,1,"pw"],[13243,1,"nw"],[13244,1,"w"],[13245,1,"mw"],[13246,1,"kw"],[13247,1,"mw"],[13248,1,"k"],[13249,1,"m"],[13250,3],[13251,1,"bq"],[13252,1,"cc"],[13253,1,"cd"],[13254,1,"ckg"],[13255,3],[13256,1,"db"],[13257,1,"gy"],[13258,1,"ha"],[13259,1,"hp"],[13260,1,"in"],[13261,1,"kk"],[13262,1,"km"],[13263,1,"kt"],[13264,1,"lm"],[13265,1,"ln"],[13266,1,"log"],[13267,1,"lx"],[13268,1,"mb"],[13269,1,"mil"],[13270,1,"mol"],[13271,1,"ph"],[13272,3],[13273,1,"ppm"],[13274,1,"pr"],[13275,1,"sr"],[13276,1,"sv"],[13277,1,"wb"],[13278,1,"vm"],[13279,1,"am"],[13280,1,"1"],[13281,1,"2"],[13282,1,"3"],[13283,1,"4"],[13284,1,"5"],[13285,1,"6"],[13286,1,"7"],[13287,1,"8"],[13288,1,"9"],[13289,1,"10"],[13290,1,"11"],[13291,1,"12"],[13292,1,"13"],[13293,1,"14"],[13294,1,"15"],[13295,1,"16"],[13296,1,"17"],[13297,1,"18"],[13298,1,"19"],[13299,1,"20"],[13300,1,"21"],[13301,1,"22"],[13302,1,"23"],[13303,1,"24"],[13304,1,"25"],[13305,1,"26"],[13306,1,"27"],[13307,1,"28"],[13308,1,"29"],[13309,1,"30"],[13310,1,"31"],[13311,1,"gal"],[[13312,19893],2],[[19894,19903],3],[[19904,19967],2],[[19968,40869],2],[[40870,40891],2],[[40892,40899],2],[[40900,40907],2],[40908,2],[[40909,40917],2],[[40918,40938],2],[[40939,40943],2],[[40944,40959],3],[[40960,42124],2],[[42125,42127],3],[[42128,42145],2],[[42146,42147],2],[[42148,42163],2],[42164,2],[[42165,42176],2],[42177,2],[[42178,42180],2],[42181,2],[42182,2],[[42183,42191],3],[[42192,42237],2],[[42238,42239],2],[[42240,42508],2],[[42509,42511],2],[[42512,42539],2],[[42540,42559],3],[42560,1,""],[42561,2],[42562,1,""],[42563,2],[42564,1,""],[42565,2],[42566,1,""],[42567,2],[42568,1,""],[42569,2],[42570,1,""],[42571,2],[42572,1,""],[42573,2],[42574,1,""],[42575,2],[42576,1,""],[42577,2],[42578,1,""],[42579,2],[42580,1,""],[42581,2],[42582,1,""],[42583,2],[42584,1,""],[42585,2],[42586,1,""],[42587,2],[42588,1,""],[42589,2],[42590,1,""],[42591,2],[42592,1,""],[42593,2],[42594,1,""],[42595,2],[42596,1,""],[42597,2],[42598,1,""],[42599,2],[42600,1,""],[42601,2],[42602,1,""],[42603,2],[42604,1,""],[[42605,42607],2],[[42608,42611],2],[[42612,42619],2],[[42620,42621],2],[42622,2],[42623,2],[42624,1,""],[42625,2],[42626,1,""],[42627,2],[42628,1,""],[42629,2],[42630,1,""],[42631,2],[42632,1,""],[42633,2],[42634,1,""],[42635,2],[42636,1,""],[42637,2],[42638,1,""],[42639,2],[42640,1,""],[42641,2],[42642,1,""],[42643,2],[42644,1,""],[42645,2],[42646,1,""],[42647,2],[42648,1,""],[42649,2],[42650,1,""],[42651,2],[42652,1,""],[42653,1,""],[42654,2],[42655,2],[[42656,42725],2],[[42726,42735],2],[[42736,42737],2],[[42738,42743],2],[[42744,42751],3],[[42752,42774],2],[[42775,42778],2],[[42779,42783],2],[[42784,42785],2],[42786,1,""],[42787,2],[42788,1,""],[42789,2],[42790,1,""],[42791,2],[42792,1,""],[42793,2],[42794,1,""],[42795,2],[42796,1,""],[42797,2],[42798,1,""],[[42799,42801],2],[42802,1,""],[42803,2],[42804,1,""],[42805,2],[42806,1,""],[42807,2],[42808,1,""],[42809,2],[42810,1,""],[42811,2],[42812,1,""],[42813,2],[42814,1,""],[42815,2],[42816,1,""],[42817,2],[42818,1,""],[42819,2],[42820,1,""],[42821,2],[42822,1,""],[42823,2],[42824,1,""],[42825,2],[42826,1,""],[42827,2],[42828,1,""],[42829,2],[42830,1,""],[42831,2],[42832,1,""],[42833,2],[42834,1,""],[42835,2],[42836,1,""],[42837,2],[42838,1,""],[42839,2],[42840,1,""],[42841,2],[42842,1,""],[42843,2],[42844,1,""],[42845,2],[42846,1,""],[42847,2],[42848,1,""],[42849,2],[42850,1,""],[42851,2],[42852,1,""],[42853,2],[42854,1,""],[42855,2],[42856,1,""],[42857,2],[42858,1,""],[42859,2],[42860,1,""],[42861,2],[42862,1,""],[42863,2],[42864,1,""],[[42865,42872],2],[42873,1,""],[42874,2],[42875,1,""],[42876,2],[42877,1,""],[42878,1,""],[42879,2],[42880,1,""],[42881,2],[42882,1,""],[42883,2],[42884,1,""],[42885,2],[42886,1,""],[[42887,42888],2],[[42889,42890],2],[42891,1,""],[42892,2],[42893,1,""],[42894,2],[42895,2],[42896,1,""],[42897,2],[42898,1,""],[42899,2],[[42900,42901],2],[42902,1,""],[42903,2],[42904,1,""],[42905,2],[42906,1,""],[42907,2],[42908,1,""],[42909,2],[42910,1,""],[42911,2],[42912,1,""],[42913,2],[42914,1,""],[42915,2],[42916,1,""],[42917,2],[42918,1,""],[42919,2],[42920,1,""],[42921,2],[42922,1,""],[42923,1,""],[42924,1,""],[42925,1,""],[42926,1,""],[42927,2],[42928,1,""],[42929,1,""],[42930,1,""],[42931,1,""],[42932,1,""],[42933,2],[42934,1,""],[42935,2],[42936,1,""],[42937,2],[42938,1,""],[42939,2],[42940,1,""],[42941,2],[42942,1,""],[42943,2],[[42944,42945],3],[42946,1,""],[42947,2],[42948,1,""],[42949,1,""],[42950,1,""],[[42951,42998],3],[42999,2],[43000,1,""],[43001,1,""],[43002,2],[[43003,43007],2],[[43008,43047],2],[[43048,43051],2],[[43052,43055],3],[[43056,43065],2],[[43066,43071],3],[[43072,43123],2],[[43124,43127],2],[[43128,43135],3],[[43136,43204],2],[43205,2],[[43206,43213],3],[[43214,43215],2],[[43216,43225],2],[[43226,43231],3],[[43232,43255],2],[[43256,43258],2],[43259,2],[43260,2],[43261,2],[[43262,43263],2],[[43264,43309],2],[[43310,43311],2],[[43312,43347],2],[[43348,43358],3],[43359,2],[[43360,43388],2],[[43389,43391],3],[[43392,43456],2],[[43457,43469],2],[43470,3],[[43471,43481],2],[[43482,43485],3],[[43486,43487],2],[[43488,43518],2],[43519,3],[[43520,43574],2],[[43575,43583],3],[[43584,43597],2],[[43598,43599],3],[[43600,43609],2],[[43610,43611],3],[[43612,43615],2],[[43616,43638],2],[[43639,43641],2],[[43642,43643],2],[[43644,43647],2],[[43648,43714],2],[[43715,43738],3],[[43739,43741],2],[[43742,43743],2],[[43744,43759],2],[[43760,43761],2],[[43762,43766],2],[[43767,43776],3],[[43777,43782],2],[[43783,43784],3],[[43785,43790],2],[[43791,43792],3],[[43793,43798],2],[[43799,43807],3],[[43808,43814],2],[43815,3],[[43816,43822],2],[43823,3],[[43824,43866],2],[43867,2],[43868,1,""],[43869,1,""],[43870,1,""],[43871,1,""],[[43872,43875],2],[[43876,43877],2],[[43878,43879],2],[[43880,43887],3],[43888,1,""],[43889,1,""],[43890,1,""],[43891,1,""],[43892,1,""],[43893,1,""],[43894,1,""],[43895,1,""],[43896,1,""],[43897,1,""],[43898,1,""],[43899,1,""],[43900,1,""],[43901,1,""],[43902,1,""],[43903,1,""],[43904,1,""],[43905,1,""],[43906,1,""],[43907,1,""],[43908,1,""],[43909,1,""],[43910,1,""],[43911,1,""],[43912,1,""],[43913,1,""],[43914,1,""],[43915,1,""],[43916,1,""],[43917,1,""],[43918,1,""],[43919,1,""],[43920,1,""],[43921,1,""],[43922,1,""],[43923,1,""],[43924,1,""],[43925,1,""],[43926,1,""],[43927,1,""],[43928,1,""],[43929,1,""],[43930,1,""],[43931,1,""],[43932,1,""],[43933,1,""],[43934,1,""],[43935,1,""],[43936,1,""],[43937,1,""],[43938,1,""],[43939,1,""],[43940,1,""],[43941,1,""],[43942,1,""],[43943,1,""],[43944,1,""],[43945,1,""],[43946,1,""],[43947,1,""],[43948,1,""],[43949,1,""],[43950,1,""],[43951,1,""],[43952,1,""],[43953,1,""],[43954,1,""],[43955,1,""],[43956,1,""],[43957,1,""],[43958,1,""],[43959,1,""],[43960,1,""],[43961,1,""],[43962,1,""],[43963,1,""],[43964,1,""],[43965,1,""],[43966,1,""],[43967,1,""],[[43968,44010],2],[44011,2],[[44012,44013],2],[[44014,44015],3],[[44016,44025],2],[[44026,44031],3],[[44032,55203],2],[[55204,55215],3],[[55216,55238],2],[[55239,55242],3],[[55243,55291],2],[[55292,55295],3],[[55296,57343],3],[[57344,63743],3],[63744,1,""],[63745,1,""],[63746,1,""],[63747,1,""],[63748,1,""],[63749,1,""],[63750,1,""],[[63751,63752],1,""],[63753,1,""],[63754,1,""],[63755,1,""],[63756,1,""],[63757,1,""],[63758,1,""],[63759,1,""],[63760,1,""],[63761,1,""],[63762,1,""],[63763,1,""],[63764,1,""],[63765,1,""],[63766,1,""],[63767,1,""],[63768,1,""],[63769,1,""],[63770,1,""],[63771,1,""],[63772,1,""],[63773,1,""],[63774,1,""],[63775,1,""],[63776,1,""],[63777,1,""],[63778,1,""],[63779,1,""],[63780,1,""],[63781,1,""],[63782,1,""],[63783,1,""],[63784,1,""],[63785,1,""],[63786,1,""],[63787,1,""],[63788,1,""],[63789,1,""],[63790,1,""],[63791,1,""],[63792,1,""],[63793,1,""],[63794,1,""],[63795,1,""],[63796,1,""],[63797,1,""],[63798,1,""],[63799,1,""],[63800,1,""],[63801,1,""],[63802,1,""],[63803,1,""],[63804,1,""],[63805,1,""],[63806,1,""],[63807,1,""],[63808,1,""],[63809,1,""],[63810,1,""],[63811,1,""],[63812,1,""],[63813,1,""],[63814,1,""],[63815,1,""],[63816,1,""],[63817,1,""],[63818,1,""],[63819,1,""],[63820,1,""],[63821,1,""],[63822,1,""],[63823,1,""],[63824,1,""],[63825,1,""],[63826,1,""],[63827,1,""],[63828,1,""],[63829,1,""],[63830,1,""],[63831,1,""],[63832,1,""],[63833,1,""],[63834,1,""],[63835,1,""],[63836,1,""],[63837,1,""],[63838,1,""],[63839,1,""],[63840,1,""],[63841,1,""],[63842,1,""],[63843,1,""],[63844,1,""],[63845,1,""],[63846,1,""],[63847,1,""],[63848,1,""],[63849,1,""],[63850,1,""],[63851,1,""],[63852,1,""],[63853,1,""],[63854,1,""],[63855,1,""],[63856,1,""],[63857,1,""],[63858,1,""],[63859,1,""],[63860,1,""],[63861,1,""],[63862,1,""],[63863,1,""],[63864,1,""],[63865,1,""],[63866,1,""],[63867,1,""],[63868,1,""],[63869,1,""],[63870,1,""],[63871,1,""],[63872,1,""],[63873,1,""],[63874,1,""],[63875,1,""],[63876,1,""],[63877,1,""],[63878,1,""],[63879,1,""],[63880,1,""],[63881,1,""],[63882,1,""],[63883,1,""],[63884,1,""],[63885,1,""],[63886,1,""],[63887,1,""],[63888,1,""],[63889,1,""],[63890,1,""],[63891,1,""],[63892,1,""],[63893,1,""],[63894,1,""],[63895,1,""],[63896,1,""],[63897,1,""],[63898,1,""],[63899,1,""],[63900,1,""],[63901,1,""],[63902,1,""],[63903,1,""],[63904,1,""],[63905,1,""],[63906,1,""],[63907,1,""],[63908,1,""],[63909,1,""],[63910,1,""],[63911,1,""],[63912,1,""],[63913,1,""],[63914,1,""],[63915,1,""],[63916,1,""],[63917,1,""],[63918,1,""],[63919,1,""],[63920,1,""],[63921,1,""],[63922,1,""],[63923,1,""],[63924,1,""],[63925,1,""],[63926,1,""],[63927,1,""],[63928,1,""],[63929,1,""],[63930,1,""],[63931,1,""],[63932,1,""],[63933,1,""],[63934,1,""],[63935,1,""],[63936,1,""],[63937,1,""],[63938,1,""],[63939,1,""],[63940,1,""],[63941,1,""],[63942,1,""],[63943,1,""],[63944,1,""],[63945,1,""],[63946,1,""],[63947,1,""],[63948,1,""],[63949,1,""],[63950,1,""],[63951,1,""],[63952,1,""],[63953,1,""],[63954,1,""],[63955,1,""],[63956,1,""],[63957,1,""],[63958,1,""],[63959,1,""],[63960,1,""],[63961,1,""],[63962,1,""],[63963,1,""],[63964,1,""],[63965,1,""],[63966,1,""],[63967,1,""],[63968,1,""],[63969,1,""],[63970,1,""],[63971,1,""],[63972,1,""],[63973,1,""],[63974,1,""],[63975,1,""],[63976,1,""],[63977,1,""],[63978,1,""],[63979,1,""],[63980,1,""],[63981,1,""],[63982,1,""],[63983,1,""],[63984,1,""],[63985,1,""],[63986,1,""],[63987,1,""],[63988,1,""],[63989,1,""],[63990,1,""],[63991,1,""],[63992,1,""],[63993,1,""],[63994,1,""],[63995,1,""],[63996,1,""],[63997,1,""],[63998,1,""],[63999,1,""],[64000,1,""],[64001,1,""],[64002,1,""],[64003,1,""],[64004,1,""],[64005,1,""],[64006,1,""],[64007,1,""],[64008,1,""],[64009,1,""],[64010,1,""],[64011,1,""],[64012,1,""],[64013,1,""],[[64014,64015],2],[64016,1,""],[64017,2],[64018,1,""],[[64019,64020],2],[64021,1,""],[64022,1,""],[64023,1,""],[64024,1,""],[64025,1,""],[64026,1,""],[64027,1,""],[64028,1,""],[64029,1,""],[64030,1,""],[64031,2],[64032,1,""],[64033,2],[64034,1,""],[[64035,64036],2],[64037,1,""],[64038,1,""],[[64039,64041],2],[64042,1,""],[64043,1,""],[64044,1,""],[64045,1,""],[64046,1,""],[64047,1,""],[64048,1,""],[64049,1,""],[64050,1,""],[64051,1,""],[64052,1,""],[64053,1,""],[64054,1,""],[64055,1,""],[64056,1,""],[64057,1,""],[64058,1,""],[64059,1,""],[64060,1,""],[64061,1,""],[64062,1,""],[64063,1,""],[64064,1,""],[64065,1,""],[64066,1,""],[64067,1,""],[64068,1,""],[64069,1,""],[64070,1,""],[64071,1,""],[64072,1,""],[64073,1,""],[64074,1,""],[64075,1,""],[64076,1,""],[64077,1,""],[64078,1,""],[64079,1,""],[64080,1,""],[64081,1,""],[64082,1,""],[64083,1,""],[64084,1,""],[64085,1,""],[64086,1,""],[64087,1,""],[64088,1,""],[64089,1,""],[64090,1,""],[64091,1,""],[64092,1,""],[[64093,64094],1,""],[64095,1,""],[64096,1,""],[64097,1,""],[64098,1,""],[64099,1,""],[64100,1,""],[64101,1,""],[64102,1,""],[64103,1,""],[64104,1,""],[64105,1,""],[64106,1,""],[64107,1,""],[64108,1,""],[64109,1,""],[[64110,64111],3],[64112,1,""],[64113,1,""],[64114,1,""],[64115,1,""],[64116,1,""],[64117,1,""],[64118,1,""],[64119,1,""],[64120,1,""],[64121,1,""],[64122,1,""],[64123,1,""],[64124,1,""],[64125,1,""],[64126,1,""],[64127,1,""],[64128,1,""],[64129,1,""],[64130,1,""],[64131,1,""],[64132,1,""],[64133,1,""],[64134,1,""],[64135,1,""],[64136,1,""],[64137,1,""],[64138,1,""],[64139,1,""],[64140,1,""],[64141,1,""],[64142,1,""],[64143,1,""],[64144,1,""],[64145,1,""],[64146,1,""],[64147,1,""],[64148,1,""],[64149,1,""],[64150,1,""],[64151,1,""],[64152,1,""],[64153,1,""],[64154,1,""],[64155,1,""],[64156,1,""],[64157,1,""],[64158,1,""],[64159,1,""],[64160,1,""],[64161,1,""],[64162,1,""],[64163,1,""],[64164,1,""],[64165,1,""],[64166,1,""],[64167,1,""],[64168,1,""],[64169,1,""],[64170,1,""],[64171,1,""],[64172,1,""],[64173,1,""],[64174,1,""],[64175,1,""],[64176,1,""],[64177,1,""],[64178,1,""],[64179,1,""],[64180,1,""],[64181,1,""],[64182,1,""],[64183,1,""],[64184,1,""],[64185,1,""],[64186,1,""],[64187,1,""],[64188,1,""],[64189,1,""],[64190,1,""],[64191,1,""],[64192,1,""],[64193,1,""],[64194,1,""],[64195,1,""],[64196,1,""],[64197,1,""],[64198,1,""],[64199,1,""],[64200,1,""],[64201,1,""],[64202,1,""],[64203,1,""],[64204,1,""],[64205,1,""],[64206,1,""],[64207,1,""],[64208,1,""],[64209,1,""],[64210,1,""],[64211,1,""],[64212,1,""],[64213,1,""],[64214,1,""],[64215,1,""],[64216,1,""],[64217,1,""],[[64218,64255],3],[64256,1,"ff"],[64257,1,"fi"],[64258,1,"fl"],[64259,1,"ffi"],[64260,1,"ffl"],[[64261,64262],1,"st"],[[64263,64274],3],[64275,1,""],[64276,1,""],[64277,1,""],[64278,1,""],[64279,1,""],[[64280,64284],3],[64285,1,""],[64286,2],[64287,1,""],[64288,1,""],[64289,1,""],[64290,1,""],[64291,1,""],[64292,1,""],[64293,1,""],[64294,1,""],[64295,1,""],[64296,1,""],[64297,5,"+"],[64298,1,""],[64299,1,""],[64300,1,""],[64301,1,""],[64302,1,""],[64303,1,""],[64304,1,""],[64305,1,""],[64306,1,""],[64307,1,""],[64308,1,""],[64309,1,""],[64310,1,""],[64311,3],[64312,1,""],[64313,1,""],[64314,1,""],[64315,1,""],[64316,1,""],[64317,3],[64318,1,""],[64319,3],[64320,1,""],[64321,1,""],[64322,3],[64323,1,""],[64324,1,""],[64325,3],[64326,1,""],[64327,1,""],[64328,1,""],[64329,1,""],[64330,1,""],[64331,1,""],[64332,1,""],[64333,1,""],[64334,1,""],[64335,1,""],[[64336,64337],1,""],[[64338,64341],1,""],[[64342,64345],1,""],[[64346,64349],1,""],[[64350,64353],1,""],[[64354,64357],1,""],[[64358,64361],1,""],[[64362,64365],1,""],[[64366,64369],1,""],[[64370,64373],1,""],[[64374,64377],1,""],[[64378,64381],1,""],[[64382,64385],1,""],[[64386,64387],1,""],[[64388,64389],1,""],[[64390,64391],1,""],[[64392,64393],1,""],[[64394,64395],1,""],[[64396,64397],1,""],[[64398,64401],1,""],[[64402,64405],1,""],[[64406,64409],1,""],[[64410,64413],1,""],[[64414,64415],1,""],[[64416,64419],1,""],[[64420,64421],1,""],[[64422,64425],1,""],[[64426,64429],1,""],[[64430,64431],1,""],[[64432,64433],1,""],[[64434,64449],2],[[64450,64466],3],[[64467,64470],1,""],[[64471,64472],1,""],[[64473,64474],1,""],[[64475,64476],1,""],[64477,1,""],[[64478,64479],1,""],[[64480,64481],1,""],[[64482,64483],1,""],[[64484,64487],1,""],[[64488,64489],1,""],[[64490,64491],1,""],[[64492,64493],1,""],[[64494,64495],1,""],[[64496,64497],1,""],[[64498,64499],1,""],[[64500,64501],1,""],[[64502,64504],1,""],[[64505,64507],1,""],[[64508,64511],1,""],[64512,1,""],[64513,1,""],[64514,1,""],[64515,1,""],[64516,1,""],[64517,1,""],[64518,1,""],[64519,1,""],[64520,1,""],[64521,1,""],[64522,1,""],[64523,1,""],[64524,1,""],[64525,1,""],[64526,1,""],[64527,1,""],[64528,1,""],[64529,1,""],[64530,1,""],[64531,1,""],[64532,1,""],[64533,1,""],[64534,1,""],[64535,1,""],[64536,1,""],[64537,1,""],[64538,1,""],[64539,1,""],[64540,1,""],[64541,1,""],[64542,1,""],[64543,1,""],[64544,1,""],[64545,1,""],[64546,1,""],[64547,1,""],[64548,1,""],[64549,1,""],[64550,1,""],[64551,1,""],[64552,1,""],[64553,1,""],[64554,1,""],[64555,1,""],[64556,1,""],[64557,1,""],[64558,1,""],[64559,1,""],[64560,1,""],[64561,1,""],[64562,1,""],[64563,1,""],[64564,1,""],[64565,1,""],[64566,1,""],[64567,1,""],[64568,1,""],[64569,1,""],[64570,1,""],[64571,1,""],[64572,1,""],[64573,1,""],[64574,1,""],[64575,1,""],[64576,1,""],[64577,1,""],[64578,1,""],[64579,1,""],[64580,1,""],[64581,1,""],[64582,1,""],[64583,1,""],[64584,1,""],[64585,1,""],[64586,1,""],[64587,1,""],[64588,1,""],[64589,1,""],[64590,1,""],[64591,1,""],[64592,1,""],[64593,1,""],[64594,1,""],[64595,1,""],[64596,1,""],[64597,1,""],[64598,1,""],[64599,1,""],[64600,1,""],[64601,1,""],[64602,1,""],[64603,1,""],[64604,1,""],[64605,1,""],[64606,5," "],[64607,5," "],[64608,5," "],[64609,5," "],[64610,5," "],[64611,5," "],[64612,1,""],[64613,1,""],[64614,1,""],[64615,1,""],[64616,1,""],[64617,1,""],[64618,1,""],[64619,1,""],[64620,1,""],[64621,1,""],[64622,1,""],[64623,1,""],[64624,1,""],[64625,1,""],[64626,1,""],[64627,1,""],[64628,1,""],[64629,1,""],[64630,1,""],[64631,1,""],[64632,1,""],[64633,1,""],[64634,1,""],[64635,1,""],[64636,1,""],[64637,1,""],[64638,1,""],[64639,1,""],[64640,1,""],[64641,1,""],[64642,1,""],[64643,1,""],[64644,1,""],[64645,1,""],[64646,1,""],[64647,1,""],[64648,1,""],[64649,1,""],[64650,1,""],[64651,1,""],[64652,1,""],[64653,1,""],[64654,1,""],[64655,1,""],[64656,1,""],[64657,1,""],[64658,1,""],[64659,1,""],[64660,1,""],[64661,1,""],[64662,1,""],[64663,1,""],[64664,1,""],[64665,1,""],[64666,1,""],[64667,1,""],[64668,1,""],[64669,1,""],[64670,1,""],[64671,1,""],[64672,1,""],[64673,1,""],[64674,1,""],[64675,1,""],[64676,1,""],[64677,1,""],[64678,1,""],[64679,1,""],[64680,1,""],[64681,1,""],[64682,1,""],[64683,1,""],[64684,1,""],[64685,1,""],[64686,1,""],[64687,1,""],[64688,1,""],[64689,1,""],[64690,1,""],[64691,1,""],[64692,1,""],[64693,1,""],[64694,1,""],[64695,1,""],[64696,1,""],[64697,1,""],[64698,1,""],[64699,1,""],[64700,1,""],[64701,1,""],[64702,1,""],[64703,1,""],[64704,1,""],[64705,1,""],[64706,1,""],[64707,1,""],[64708,1,""],[64709,1,""],[64710,1,""],[64711,1,""],[64712,1,""],[64713,1,""],[64714,1,""],[64715,1,""],[64716,1,""],[64717,1,""],[64718,1,""],[64719,1,""],[64720,1,""],[64721,1,""],[64722,1,""],[64723,1,""],[64724,1,""],[64725,1,""],[64726,1,""],[64727,1,""],[64728,1,""],[64729,1,""],[64730,1,""],[64731,1,""],[64732,1,""],[64733,1,""],[64734,1,""],[64735,1,""],[64736,1,""],[64737,1,""],[64738,1,""],[64739,1,""],[64740,1,""],[64741,1,""],[64742,1,""],[64743,1,""],[64744,1,""],[64745,1,""],[64746,1,""],[64747,1,""],[64748,1,""],[64749,1,""],[64750,1,""],[64751,1,""],[64752,1,""],[64753,1,""],[64754,1,""],[64755,1,""],[64756,1,""],[64757,1,""],[64758,1,""],[64759,1,""],[64760,1,""],[64761,1,""],[64762,1,""],[64763,1,""],[64764,1,""],[64765,1,""],[64766,1,""],[64767,1,""],[64768,1,""],[64769,1,""],[64770,1,""],[64771,1,""],[64772,1,""],[64773,1,""],[64774,1,""],[64775,1,""],[64776,1,""],[64777,1,""],[64778,1,""],[64779,1,""],[64780,1,""],[64781,1,""],[64782,1,""],[64783,1,""],[64784,1,""],[64785,1,""],[64786,1,""],[64787,1,""],[64788,1,""],[64789,1,""],[64790,1,""],[64791,1,""],[64792,1,""],[64793,1,""],[64794,1,""],[64795,1,""],[64796,1,""],[64797,1,""],[64798,1,""],[64799,1,""],[64800,1,""],[64801,1,""],[64802,1,""],[64803,1,""],[64804,1,""],[64805,1,""],[64806,1,""],[64807,1,""],[64808,1,""],[64809,1,""],[64810,1,""],[64811,1,""],[64812,1,""],[64813,1,""],[64814,1,""],[64815,1,""],[64816,1,""],[64817,1,""],[64818,1,""],[64819,1,""],[64820,1,""],[64821,1,""],[64822,1,""],[64823,1,""],[64824,1,""],[64825,1,""],[64826,1,""],[64827,1,""],[[64828,64829],1,""],[[64830,64831],2],[[64832,64847],3],[64848,1,""],[[64849,64850],1,""],[64851,1,""],[64852,1,""],[64853,1,""],[64854,1,""],[64855,1,""],[[64856,64857],1,""],[64858,1,""],[64859,1,""],[64860,1,""],[64861,1,""],[64862,1,""],[[64863,64864],1,""],[64865,1,""],[[64866,64867],1,""],[[64868,64869],1,""],[64870,1,""],[[64871,64872],1,""],[64873,1,""],[[64874,64875],1,""],[[64876,64877],1,""],[64878,1,""],[[64879,64880],1,""],[[64881,64882],1,""],[64883,1,""],[64884,1,""],[64885,1,""],[[64886,64887],1,""],[64888,1,""],[64889,1,""],[64890,1,""],[64891,1,""],[[64892,64893],1,""],[64894,1,""],[64895,1,""],[64896,1,""],[64897,1,""],[64898,1,""],[[64899,64900],1,""],[[64901,64902],1,""],[[64903,64904],1,""],[64905,1,""],[64906,1,""],[64907,1,""],[64908,1,""],[64909,1,""],[64910,1,""],[64911,1,""],[[64912,64913],3],[64914,1,""],[64915,1,""],[64916,1,""],[64917,1,""],[64918,1,""],[[64919,64920],1,""],[64921,1,""],[64922,1,""],[64923,1,""],[[64924,64925],1,""],[64926,1,""],[64927,1,""],[64928,1,""],[64929,1,""],[64930,1,""],[64931,1,""],[64932,1,""],[64933,1,""],[64934,1,""],[64935,1,""],[64936,1,""],[64937,1,""],[64938,1,""],[64939,1,""],[64940,1,""],[64941,1,""],[64942,1,""],[64943,1,""],[64944,1,""],[64945,1,""],[64946,1,""],[64947,1,""],[64948,1,""],[64949,1,""],[64950,1,""],[64951,1,""],[64952,1,""],[64953,1,""],[64954,1,""],[64955,1,""],[64956,1,""],[64957,1,""],[64958,1,""],[64959,1,""],[64960,1,""],[64961,1,""],[64962,1,""],[64963,1,""],[64964,1,""],[64965,1,""],[64966,1,""],[64967,1,""],[[64968,64975],3],[[64976,65007],3],[65008,1,""],[65009,1,""],[65010,1,""],[65011,1,""],[65012,1,""],[65013,1,""],[65014,1,""],[65015,1,""],[65016,1,""],[65017,1,""],[65018,5,"   "],[65019,5," "],[65020,1,""],[65021,2],[[65022,65023],3],[[65024,65039],7],[65040,5,","],[65041,1,""],[65042,3],[65043,5,":"],[65044,5,";"],[65045,5,"!"],[65046,5,"?"],[65047,1,""],[65048,1,""],[65049,3],[[65050,65055],3],[[65056,65059],2],[[65060,65062],2],[[65063,65069],2],[[65070,65071],2],[65072,3],[65073,1,""],[65074,1,""],[[65075,65076],5,"_"],[65077,5,"("],[65078,5,")"],[65079,5,"{"],[65080,5,"}"],[65081,1,""],[65082,1,""],[65083,1,""],[65084,1,""],[65085,1,""],[65086,1,""],[65087,1,""],[65088,1,""],[65089,1,""],[65090,1,""],[65091,1,""],[65092,1,""],[[65093,65094],2],[65095,5,"["],[65096,5,"]"],[[65097,65100],5," "],[[65101,65103],5,"_"],[65104,5,","],[65105,1,""],[65106,3],[65107,3],[65108,5,";"],[65109,5,":"],[65110,5,"?"],[65111,5,"!"],[65112,1,""],[65113,5,"("],[65114,5,")"],[65115,5,"{"],[65116,5,"}"],[65117,1,""],[65118,1,""],[65119,5,"#"],[65120,5,"&"],[65121,5,"*"],[65122,5,"+"],[65123,1,"-"],[65124,5,"<"],[65125,5,">"],[65126,5,"="],[65127,3],[65128,5,"\\\\"],[65129,5,"$"],[65130,5,"%"],[65131,5,"@"],[[65132,65135],3],[65136,5," "],[65137,1,""],[65138,5," "],[65139,2],[65140,5," "],[65141,3],[65142,5," "],[65143,1,""],[65144,5," "],[65145,1,""],[65146,5," "],[65147,1,""],[65148,5," "],[65149,1,""],[65150,5," "],[65151,1,""],[65152,1,""],[[65153,65154],1,""],[[65155,65156],1,""],[[65157,65158],1,""],[[65159,65160],1,""],[[65161,65164],1,""],[[65165,65166],1,""],[[65167,65170],1,""],[[65171,65172],1,""],[[65173,65176],1,""],[[65177,65180],1,""],[[65181,65184],1,""],[[65185,65188],1,""],[[65189,65192],1,""],[[65193,65194],1,""],[[65195,65196],1,""],[[65197,65198],1,""],[[65199,65200],1,""],[[65201,65204],1,""],[[65205,65208],1,""],[[65209,65212],1,""],[[65213,65216],1,""],[[65217,65220],1,""],[[65221,65224],1,""],[[65225,65228],1,""],[[65229,65232],1,""],[[65233,65236],1,""],[[65237,65240],1,""],[[65241,65244],1,""],[[65245,65248],1,""],[[65249,65252],1,""],[[65253,65256],1,""],[[65257,65260],1,""],[[65261,65262],1,""],[[65263,65264],1,""],[[65265,65268],1,""],[[65269,65270],1,""],[[65271,65272],1,""],[[65273,65274],1,""],[[65275,65276],1,""],[[65277,65278],3],[65279,7],[65280,3],[65281,5,"!"],[65282,5,"\\""],[65283,5,"#"],[65284,5,"$"],[65285,5,"%"],[65286,5,"&"],[65287,5,"\'"],[65288,5,"("],[65289,5,")"],[65290,5,"*"],[65291,5,"+"],[65292,5,","],[65293,1,"-"],[65294,1,"."],[65295,5,"/"],[65296,1,"0"],[65297,1,"1"],[65298,1,"2"],[65299,1,"3"],[65300,1,"4"],[65301,1,"5"],[65302,1,"6"],[65303,1,"7"],[65304,1,"8"],[65305,1,"9"],[65306,5,":"],[65307,5,";"],[65308,5,"<"],[65309,5,"="],[65310,5,">"],[65311,5,"?"],[65312,5,"@"],[65313,1,"a"],[65314,1,"b"],[65315,1,"c"],[65316,1,"d"],[65317,1,"e"],[65318,1,"f"],[65319,1,"g"],[65320,1,"h"],[65321,1,"i"],[65322,1,"j"],[65323,1,"k"],[65324,1,"l"],[65325,1,"m"],[65326,1,"n"],[65327,1,"o"],[65328,1,"p"],[65329,1,"q"],[65330,1,"r"],[65331,1,"s"],[65332,1,"t"],[65333,1,"u"],[65334,1,"v"],[65335,1,"w"],[65336,1,"x"],[65337,1,"y"],[65338,1,"z"],[65339,5,"["],[65340,5,"\\\\"],[65341,5,"]"],[65342,5,"^"],[65343,5,"_"],[65344,5,"`"],[65345,1,"a"],[65346,1,"b"],[65347,1,"c"],[65348,1,"d"],[65349,1,"e"],[65350,1,"f"],[65351,1,"g"],[65352,1,"h"],[65353,1,"i"],[65354,1,"j"],[65355,1,"k"],[65356,1,"l"],[65357,1,"m"],[65358,1,"n"],[65359,1,"o"],[65360,1,"p"],[65361,1,"q"],[65362,1,"r"],[65363,1,"s"],[65364,1,"t"],[65365,1,"u"],[65366,1,"v"],[65367,1,"w"],[65368,1,"x"],[65369,1,"y"],[65370,1,"z"],[65371,5,"{"],[65372,5,"|"],[65373,5,"}"],[65374,5,"~"],[65375,1,""],[65376,1,""],[65377,1,"."],[65378,1,""],[65379,1,""],[65380,1,""],[65381,1,""],[65382,1,""],[65383,1,""],[65384,1,""],[65385,1,""],[65386,1,""],[65387,1,""],[65388,1,""],[65389,1,""],[65390,1,""],[65391,1,""],[65392,1,""],[65393,1,""],[65394,1,""],[65395,1,""],[65396,1,""],[65397,1,""],[65398,1,""],[65399,1,""],[65400,1,""],[65401,1,""],[65402,1,""],[65403,1,""],[65404,1,""],[65405,1,""],[65406,1,""],[65407,1,""],[65408,1,""],[65409,1,""],[65410,1,""],[65411,1,""],[65412,1,""],[65413,1,""],[65414,1,""],[65415,1,""],[65416,1,""],[65417,1,""],[65418,1,""],[65419,1,""],[65420,1,""],[65421,1,""],[65422,1,""],[65423,1,""],[65424,1,""],[65425,1,""],[65426,1,""],[65427,1,""],[65428,1,""],[65429,1,""],[65430,1,""],[65431,1,""],[65432,1,""],[65433,1,""],[65434,1,""],[65435,1,""],[65436,1,""],[65437,1,""],[65438,1,""],[65439,1,""],[65440,3],[65441,1,""],[65442,1,""],[65443,1,""],[65444,1,""],[65445,1,""],[65446,1,""],[65447,1,""],[65448,1,""],[65449,1,""],[65450,1,""],[65451,1,""],[65452,1,""],[65453,1,""],[65454,1,""],[65455,1,""],[65456,1,""],[65457,1,""],[65458,1,""],[65459,1,""],[65460,1,""],[65461,1,""],[65462,1,""],[65463,1,""],[65464,1,""],[65465,1,""],[65466,1,""],[65467,1,""],[65468,1,""],[65469,1,""],[65470,1,""],[[65471,65473],3],[65474,1,""],[65475,1,""],[65476,1,""],[65477,1,""],[65478,1,""],[65479,1,""],[[65480,65481],3],[65482,1,""],[65483,1,""],[65484,1,""],[65485,1,""],[65486,1,""],[65487,1,""],[[65488,65489],3],[65490,1,""],[65491,1,""],[65492,1,""],[65493,1,""],[65494,1,""],[65495,1,""],[[65496,65497],3],[65498,1,""],[65499,1,""],[65500,1,""],[[65501,65503],3],[65504,1,""],[65505,1,""],[65506,1,""],[65507,5," "],[65508,1,""],[65509,1,""],[65510,1,""],[65511,3],[65512,1,""],[65513,1,""],[65514,1,""],[65515,1,""],[65516,1,""],[65517,1,""],[65518,1,""],[[65519,65528],3],[[65529,65531],3],[65532,3],[65533,3],[[65534,65535],3],[[65536,65547],2],[65548,3],[[65549,65574],2],[65575,3],[[65576,65594],2],[65595,3],[[65596,65597],2],[65598,3],[[65599,65613],2],[[65614,65615],3],[[65616,65629],2],[[65630,65663],3],[[65664,65786],2],[[65787,65791],3],[[65792,65794],2],[[65795,65798],3],[[65799,65843],2],[[65844,65846],3],[[65847,65855],2],[[65856,65930],2],[[65931,65932],2],[[65933,65934],2],[65935,3],[[65936,65947],2],[[65948,65951],3],[65952,2],[[65953,65999],3],[[66000,66044],2],[66045,2],[[66046,66175],3],[[66176,66204],2],[[66205,66207],3],[[66208,66256],2],[[66257,66271],3],[66272,2],[[66273,66299],2],[[66300,66303],3],[[66304,66334],2],[66335,2],[[66336,66339],2],[[66340,66348],3],[[66349,66351],2],[[66352,66368],2],[66369,2],[[66370,66377],2],[66378,2],[[66379,66383],3],[[66384,66426],2],[[66427,66431],3],[[66432,66461],2],[66462,3],[66463,2],[[66464,66499],2],[[66500,66503],3],[[66504,66511],2],[[66512,66517],2],[[66518,66559],3],[66560,1,""],[66561,1,""],[66562,1,""],[66563,1,""],[66564,1,""],[66565,1,""],[66566,1,""],[66567,1,""],[66568,1,""],[66569,1,""],[66570,1,""],[66571,1,""],[66572,1,""],[66573,1,""],[66574,1,""],[66575,1,""],[66576,1,""],[66577,1,""],[66578,1,""],[66579,1,""],[66580,1,""],[66581,1,""],[66582,1,""],[66583,1,""],[66584,1,""],[66585,1,""],[66586,1,""],[66587,1,""],[66588,1,""],[66589,1,""],[66590,1,""],[66591,1,""],[66592,1,""],[66593,1,""],[66594,1,""],[66595,1,""],[66596,1,""],[66597,1,""],[66598,1,""],[66599,1,""],[[66600,66637],2],[[66638,66717],2],[[66718,66719],3],[[66720,66729],2],[[66730,66735],3],[66736,1,""],[66737,1,""],[66738,1,""],[66739,1,""],[66740,1,""],[66741,1,""],[66742,1,""],[66743,1,""],[66744,1,""],[66745,1,""],[66746,1,""],[66747,1,""],[66748,1,""],[66749,1,""],[66750,1,""],[66751,1,""],[66752,1,""],[66753,1,""],[66754,1,""],[66755,1,""],[66756,1,""],[66757,1,""],[66758,1,""],[66759,1,""],[66760,1,""],[66761,1,""],[66762,1,""],[66763,1,""],[66764,1,""],[66765,1,""],[66766,1,""],[66767,1,""],[66768,1,""],[66769,1,""],[66770,1,""],[66771,1,""],[[66772,66775],3],[[66776,66811],2],[[66812,66815],3],[[66816,66855],2],[[66856,66863],3],[[66864,66915],2],[[66916,66926],3],[66927,2],[[66928,67071],3],[[67072,67382],2],[[67383,67391],3],[[67392,67413],2],[[67414,67423],3],[[67424,67431],2],[[67432,67583],3],[[67584,67589],2],[[67590,67591],3],[67592,2],[67593,3],[[67594,67637],2],[67638,3],[[67639,67640],2],[[67641,67643],3],[67644,2],[[67645,67646],3],[67647,2],[[67648,67669],2],[67670,3],[[67671,67679],2],[[67680,67702],2],[[67703,67711],2],[[67712,67742],2],[[67743,67750],3],[[67751,67759],2],[[67760,67807],3],[[67808,67826],2],[67827,3],[[67828,67829],2],[[67830,67834],3],[[67835,67839],2],[[67840,67861],2],[[67862,67865],2],[[67866,67867],2],[[67868,67870],3],[67871,2],[[67872,67897],2],[[67898,67902],3],[67903,2],[[67904,67967],3],[[67968,68023],2],[[68024,68027],3],[[68028,68029],2],[[68030,68031],2],[[68032,68047],2],[[68048,68049],3],[[68050,68095],2],[[68096,68099],2],[68100,3],[[68101,68102],2],[[68103,68107],3],[[68108,68115],2],[68116,3],[[68117,68119],2],[68120,3],[[68121,68147],2],[[68148,68149],2],[[68150,68151],3],[[68152,68154],2],[[68155,68158],3],[68159,2],[[68160,68167],2],[68168,2],[[68169,68175],3],[[68176,68184],2],[[68185,68191],3],[[68192,68220],2],[[68221,68223],2],[[68224,68252],2],[[68253,68255],2],[[68256,68287],3],[[68288,68295],2],[68296,2],[[68297,68326],2],[[68327,68330],3],[[68331,68342],2],[[68343,68351],3],[[68352,68405],2],[[68406,68408],3],[[68409,68415],2],[[68416,68437],2],[[68438,68439],3],[[68440,68447],2],[[68448,68466],2],[[68467,68471],3],[[68472,68479],2],[[68480,68497],2],[[68498,68504],3],[[68505,68508],2],[[68509,68520],3],[[68521,68527],2],[[68528,68607],3],[[68608,68680],2],[[68681,68735],3],[68736,1,""],[68737,1,""],[68738,1,""],[68739,1,""],[68740,1,""],[68741,1,""],[68742,1,""],[68743,1,""],[68744,1,""],[68745,1,""],[68746,1,""],[68747,1,""],[68748,1,""],[68749,1,""],[68750,1,""],[68751,1,""],[68752,1,""],[68753,1,""],[68754,1,""],[68755,1,""],[68756,1,""],[68757,1,""],[68758,1,""],[68759,1,""],[68760,1,""],[68761,1,""],[68762,1,""],[68763,1,""],[68764,1,""],[68765,1,""],[68766,1,""],[68767,1,""],[68768,1,""],[68769,1,""],[68770,1,""],[68771,1,""],[68772,1,""],[68773,1,""],[68774,1,""],[68775,1,""],[68776,1,""],[68777,1,""],[68778,1,""],[68779,1,""],[68780,1,""],[68781,1,""],[68782,1,""],[68783,1,""],[68784,1,""],[68785,1,""],[68786,1,""],[[68787,68799],3],[[68800,68850],2],[[68851,68857],3],[[68858,68863],2],[[68864,68903],2],[[68904,68911],3],[[68912,68921],2],[[68922,69215],3],[[69216,69246],2],[[69247,69375],3],[[69376,69404],2],[[69405,69414],2],[69415,2],[[69416,69423],3],[[69424,69456],2],[[69457,69465],2],[[69466,69599],3],[[69600,69622],2],[[69623,69631],3],[[69632,69702],2],[[69703,69709],2],[[69710,69713],3],[[69714,69733],2],[[69734,69743],2],[[69744,69758],3],[69759,2],[[69760,69818],2],[[69819,69820],2],[69821,3],[[69822,69825],2],[[69826,69836],3],[69837,3],[[69838,69839],3],[[69840,69864],2],[[69865,69871],3],[[69872,69881],2],[[69882,69887],3],[[69888,69940],2],[69941,3],[[69942,69951],2],[[69952,69955],2],[[69956,69958],2],[[69959,69967],3],[[69968,70003],2],[[70004,70005],2],[70006,2],[[70007,70015],3],[[70016,70084],2],[[70085,70088],2],[[70089,70092],2],[70093,2],[[70094,70095],3],[[70096,70105],2],[70106,2],[70107,2],[70108,2],[[70109,70111],2],[70112,3],[[70113,70132],2],[[70133,70143],3],[[70144,70161],2],[70162,3],[[70163,70199],2],[[70200,70205],2],[70206,2],[[70207,70271],3],[[70272,70278],2],[70279,3],[70280,2],[70281,3],[[70282,70285],2],[70286,3],[[70287,70301],2],[70302,3],[[70303,70312],2],[70313,2],[[70314,70319],3],[[70320,70378],2],[[70379,70383],3],[[70384,70393],2],[[70394,70399],3],[70400,2],[[70401,70403],2],[70404,3],[[70405,70412],2],[[70413,70414],3],[[70415,70416],2],[[70417,70418],3],[[70419,70440],2],[70441,3],[[70442,70448],2],[70449,3],[[70450,70451],2],[70452,3],[[70453,70457],2],[70458,3],[70459,2],[[70460,70468],2],[[70469,70470],3],[[70471,70472],2],[[70473,70474],3],[[70475,70477],2],[[70478,70479],3],[70480,2],[[70481,70486],3],[70487,2],[[70488,70492],3],[[70493,70499],2],[[70500,70501],3],[[70502,70508],2],[[70509,70511],3],[[70512,70516],2],[[70517,70655],3],[[70656,70730],2],[[70731,70735],2],[[70736,70745],2],[70746,3],[70747,2],[70748,3],[70749,2],[70750,2],[70751,2],[[70752,70783],3],[[70784,70853],2],[70854,2],[70855,2],[[70856,70863],3],[[70864,70873],2],[[70874,71039],3],[[71040,71093],2],[[71094,71095],3],[[71096,71104],2],[[71105,71113],2],[[71114,71127],2],[[71128,71133],2],[[71134,71167],3],[[71168,71232],2],[[71233,71235],2],[71236,2],[[71237,71247],3],[[71248,71257],2],[[71258,71263],3],[[71264,71276],2],[[71277,71295],3],[[71296,71351],2],[71352,2],[[71353,71359],3],[[71360,71369],2],[[71370,71423],3],[[71424,71449],2],[71450,2],[[71451,71452],3],[[71453,71467],2],[[71468,71471],3],[[71472,71481],2],[[71482,71487],2],[[71488,71679],3],[[71680,71738],2],[71739,2],[[71740,71839],3],[71840,1,""],[71841,1,""],[71842,1,""],[71843,1,""],[71844,1,""],[71845,1,""],[71846,1,""],[71847,1,""],[71848,1,""],[71849,1,""],[71850,1,""],[71851,1,""],[71852,1,""],[71853,1,""],[71854,1,""],[71855,1,""],[71856,1,""],[71857,1,""],[71858,1,""],[71859,1,""],[71860,1,""],[71861,1,""],[71862,1,""],[71863,1,""],[71864,1,""],[71865,1,""],[71866,1,""],[71867,1,""],[71868,1,""],[71869,1,""],[71870,1,""],[71871,1,""],[[71872,71913],2],[[71914,71922],2],[[71923,71934],3],[71935,2],[[71936,72095],3],[[72096,72103],2],[[72104,72105],3],[[72106,72151],2],[[72152,72153],3],[[72154,72161],2],[72162,2],[[72163,72164],2],[[72165,72191],3],[[72192,72254],2],[[72255,72262],2],[72263,2],[[72264,72271],3],[[72272,72323],2],[[72324,72325],2],[[72326,72345],2],[[72346,72348],2],[72349,2],[[72350,72354],2],[[72355,72383],3],[[72384,72440],2],[[72441,72703],3],[[72704,72712],2],[72713,3],[[72714,72758],2],[72759,3],[[72760,72768],2],[[72769,72773],2],[[72774,72783],3],[[72784,72793],2],[[72794,72812],2],[[72813,72815],3],[[72816,72817],2],[[72818,72847],2],[[72848,72849],3],[[72850,72871],2],[72872,3],[[72873,72886],2],[[72887,72959],3],[[72960,72966],2],[72967,3],[[72968,72969],2],[72970,3],[[72971,73014],2],[[73015,73017],3],[73018,2],[73019,3],[[73020,73021],2],[73022,3],[[73023,73031],2],[[73032,73039],3],[[73040,73049],2],[[73050,73055],3],[[73056,73061],2],[73062,3],[[73063,73064],2],[73065,3],[[73066,73102],2],[73103,3],[[73104,73105],2],[73106,3],[[73107,73112],2],[[73113,73119],3],[[73120,73129],2],[[73130,73439],3],[[73440,73462],2],[[73463,73464],2],[[73465,73663],3],[[73664,73713],2],[[73714,73726],3],[73727,2],[[73728,74606],2],[[74607,74648],2],[74649,2],[[74650,74751],3],[[74752,74850],2],[[74851,74862],2],[74863,3],[[74864,74867],2],[74868,2],[[74869,74879],3],[[74880,75075],2],[[75076,77823],3],[[77824,78894],2],[78895,3],[[78896,78904],3],[[78905,82943],3],[[82944,83526],2],[[83527,92159],3],[[92160,92728],2],[[92729,92735],3],[[92736,92766],2],[92767,3],[[92768,92777],2],[[92778,92781],3],[[92782,92783],2],[[92784,92879],3],[[92880,92909],2],[[92910,92911],3],[[92912,92916],2],[92917,2],[[92918,92927],3],[[92928,92982],2],[[92983,92991],2],[[92992,92995],2],[[92996,92997],2],[[92998,93007],3],[[93008,93017],2],[93018,3],[[93019,93025],2],[93026,3],[[93027,93047],2],[[93048,93052],3],[[93053,93071],2],[[93072,93759],3],[93760,1,""],[93761,1,""],[93762,1,""],[93763,1,""],[93764,1,""],[93765,1,""],[93766,1,""],[93767,1,""],[93768,1,""],[93769,1,""],[93770,1,""],[93771,1,""],[93772,1,""],[93773,1,""],[93774,1,""],[93775,1,""],[93776,1,""],[93777,1,""],[93778,1,""],[93779,1,""],[93780,1,""],[93781,1,""],[93782,1,""],[93783,1,""],[93784,1,""],[93785,1,""],[93786,1,""],[93787,1,""],[93788,1,""],[93789,1,""],[93790,1,""],[93791,1,""],[[93792,93823],2],[[93824,93850],2],[[93851,93951],3],[[93952,94020],2],[[94021,94026],2],[[94027,94030],3],[94031,2],[[94032,94078],2],[[94079,94087],2],[[94088,94094],3],[[94095,94111],2],[[94112,94175],3],[94176,2],[94177,2],[94178,2],[94179,2],[[94180,94207],3],[[94208,100332],2],[[100333,100337],2],[[100338,100343],2],[[100344,100351],3],[[100352,101106],2],[[101107,110591],3],[[110592,110593],2],[[110594,110878],2],[[110879,110927],3],[[110928,110930],2],[[110931,110947],3],[[110948,110951],2],[[110952,110959],3],[[110960,111355],2],[[111356,113663],3],[[113664,113770],2],[[113771,113775],3],[[113776,113788],2],[[113789,113791],3],[[113792,113800],2],[[113801,113807],3],[[113808,113817],2],[[113818,113819],3],[113820,2],[[113821,113822],2],[113823,2],[[113824,113827],7],[[113828,118783],3],[[118784,119029],2],[[119030,119039],3],[[119040,119078],2],[[119079,119080],3],[119081,2],[[119082,119133],2],[119134,1,""],[119135,1,""],[119136,1,""],[119137,1,""],[119138,1,""],[119139,1,""],[119140,1,""],[[119141,119154],2],[[119155,119162],3],[[119163,119226],2],[119227,1,""],[119228,1,""],[119229,1,""],[119230,1,""],[119231,1,""],[119232,1,""],[[119233,119261],2],[[119262,119272],2],[[119273,119295],3],[[119296,119365],2],[[119366,119519],3],[[119520,119539],2],[[119540,119551],3],[[119552,119638],2],[[119639,119647],3],[[119648,119665],2],[[119666,119672],2],[[119673,119807],3],[119808,1,"a"],[119809,1,"b"],[119810,1,"c"],[119811,1,"d"],[119812,1,"e"],[119813,1,"f"],[119814,1,"g"],[119815,1,"h"],[119816,1,"i"],[119817,1,"j"],[119818,1,"k"],[119819,1,"l"],[119820,1,"m"],[119821,1,"n"],[119822,1,"o"],[119823,1,"p"],[119824,1,"q"],[119825,1,"r"],[119826,1,"s"],[119827,1,"t"],[119828,1,"u"],[119829,1,"v"],[119830,1,"w"],[119831,1,"x"],[119832,1,"y"],[119833,1,"z"],[119834,1,"a"],[119835,1,"b"],[119836,1,"c"],[119837,1,"d"],[119838,1,"e"],[119839,1,"f"],[119840,1,"g"],[119841,1,"h"],[119842,1,"i"],[119843,1,"j"],[119844,1,"k"],[119845,1,"l"],[119846,1,"m"],[119847,1,"n"],[119848,1,"o"],[119849,1,"p"],[119850,1,"q"],[119851,1,"r"],[119852,1,"s"],[119853,1,"t"],[119854,1,"u"],[119855,1,"v"],[119856,1,"w"],[119857,1,"x"],[119858,1,"y"],[119859,1,"z"],[119860,1,"a"],[119861,1,"b"],[119862,1,"c"],[119863,1,"d"],[119864,1,"e"],[119865,1,"f"],[119866,1,"g"],[119867,1,"h"],[119868,1,"i"],[119869,1,"j"],[119870,1,"k"],[119871,1,"l"],[119872,1,"m"],[119873,1,"n"],[119874,1,"o"],[119875,1,"p"],[119876,1,"q"],[119877,1,"r"],[119878,1,"s"],[119879,1,"t"],[119880,1,"u"],[119881,1,"v"],[119882,1,"w"],[119883,1,"x"],[119884,1,"y"],[119885,1,"z"],[119886,1,"a"],[119887,1,"b"],[119888,1,"c"],[119889,1,"d"],[119890,1,"e"],[119891,1,"f"],[119892,1,"g"],[119893,3],[119894,1,"i"],[119895,1,"j"],[119896,1,"k"],[119897,1,"l"],[119898,1,"m"],[119899,1,"n"],[119900,1,"o"],[119901,1,"p"],[119902,1,"q"],[119903,1,"r"],[119904,1,"s"],[119905,1,"t"],[119906,1,"u"],[119907,1,"v"],[119908,1,"w"],[119909,1,"x"],[119910,1,"y"],[119911,1,"z"],[119912,1,"a"],[119913,1,"b"],[119914,1,"c"],[119915,1,"d"],[119916,1,"e"],[119917,1,"f"],[119918,1,"g"],[119919,1,"h"],[119920,1,"i"],[119921,1,"j"],[119922,1,"k"],[119923,1,"l"],[119924,1,"m"],[119925,1,"n"],[119926,1,"o"],[119927,1,"p"],[119928,1,"q"],[119929,1,"r"],[119930,1,"s"],[119931,1,"t"],[119932,1,"u"],[119933,1,"v"],[119934,1,"w"],[119935,1,"x"],[119936,1,"y"],[119937,1,"z"],[119938,1,"a"],[119939,1,"b"],[119940,1,"c"],[119941,1,"d"],[119942,1,"e"],[119943,1,"f"],[119944,1,"g"],[119945,1,"h"],[119946,1,"i"],[119947,1,"j"],[119948,1,"k"],[119949,1,"l"],[119950,1,"m"],[119951,1,"n"],[119952,1,"o"],[119953,1,"p"],[119954,1,"q"],[119955,1,"r"],[119956,1,"s"],[119957,1,"t"],[119958,1,"u"],[119959,1,"v"],[119960,1,"w"],[119961,1,"x"],[119962,1,"y"],[119963,1,"z"],[119964,1,"a"],[119965,3],[119966,1,"c"],[119967,1,"d"],[[119968,119969],3],[119970,1,"g"],[[119971,119972],3],[119973,1,"j"],[119974,1,"k"],[[119975,119976],3],[119977,1,"n"],[119978,1,"o"],[119979,1,"p"],[119980,1,"q"],[119981,3],[119982,1,"s"],[119983,1,"t"],[119984,1,"u"],[119985,1,"v"],[119986,1,"w"],[119987,1,"x"],[119988,1,"y"],[119989,1,"z"],[119990,1,"a"],[119991,1,"b"],[119992,1,"c"],[119993,1,"d"],[119994,3],[119995,1,"f"],[119996,3],[119997,1,"h"],[119998,1,"i"],[119999,1,"j"],[120000,1,"k"],[120001,1,"l"],[120002,1,"m"],[120003,1,"n"],[120004,3],[120005,1,"p"],[120006,1,"q"],[120007,1,"r"],[120008,1,"s"],[120009,1,"t"],[120010,1,"u"],[120011,1,"v"],[120012,1,"w"],[120013,1,"x"],[120014,1,"y"],[120015,1,"z"],[120016,1,"a"],[120017,1,"b"],[120018,1,"c"],[120019,1,"d"],[120020,1,"e"],[120021,1,"f"],[120022,1,"g"],[120023,1,"h"],[120024,1,"i"],[120025,1,"j"],[120026,1,"k"],[120027,1,"l"],[120028,1,"m"],[120029,1,"n"],[120030,1,"o"],[120031,1,"p"],[120032,1,"q"],[120033,1,"r"],[120034,1,"s"],[120035,1,"t"],[120036,1,"u"],[120037,1,"v"],[120038,1,"w"],[120039,1,"x"],[120040,1,"y"],[120041,1,"z"],[120042,1,"a"],[120043,1,"b"],[120044,1,"c"],[120045,1,"d"],[120046,1,"e"],[120047,1,"f"],[120048,1,"g"],[120049,1,"h"],[120050,1,"i"],[120051,1,"j"],[120052,1,"k"],[120053,1,"l"],[120054,1,"m"],[120055,1,"n"],[120056,1,"o"],[120057,1,"p"],[120058,1,"q"],[120059,1,"r"],[120060,1,"s"],[120061,1,"t"],[120062,1,"u"],[120063,1,"v"],[120064,1,"w"],[120065,1,"x"],[120066,1,"y"],[120067,1,"z"],[120068,1,"a"],[120069,1,"b"],[120070,3],[120071,1,"d"],[120072,1,"e"],[120073,1,"f"],[120074,1,"g"],[[120075,120076],3],[120077,1,"j"],[120078,1,"k"],[120079,1,"l"],[120080,1,"m"],[120081,1,"n"],[120082,1,"o"],[120083,1,"p"],[120084,1,"q"],[120085,3],[120086,1,"s"],[120087,1,"t"],[120088,1,"u"],[120089,1,"v"],[120090,1,"w"],[120091,1,"x"],[120092,1,"y"],[120093,3],[120094,1,"a"],[120095,1,"b"],[120096,1,"c"],[120097,1,"d"],[120098,1,"e"],[120099,1,"f"],[120100,1,"g"],[120101,1,"h"],[120102,1,"i"],[120103,1,"j"],[120104,1,"k"],[120105,1,"l"],[120106,1,"m"],[120107,1,"n"],[120108,1,"o"],[120109,1,"p"],[120110,1,"q"],[120111,1,"r"],[120112,1,"s"],[120113,1,"t"],[120114,1,"u"],[120115,1,"v"],[120116,1,"w"],[120117,1,"x"],[120118,1,"y"],[120119,1,"z"],[120120,1,"a"],[120121,1,"b"],[120122,3],[120123,1,"d"],[120124,1,"e"],[120125,1,"f"],[120126,1,"g"],[120127,3],[120128,1,"i"],[120129,1,"j"],[120130,1,"k"],[120131,1,"l"],[120132,1,"m"],[120133,3],[120134,1,"o"],[[120135,120137],3],[120138,1,"s"],[120139,1,"t"],[120140,1,"u"],[120141,1,"v"],[120142,1,"w"],[120143,1,"x"],[120144,1,"y"],[120145,3],[120146,1,"a"],[120147,1,"b"],[120148,1,"c"],[120149,1,"d"],[120150,1,"e"],[120151,1,"f"],[120152,1,"g"],[120153,1,"h"],[120154,1,"i"],[120155,1,"j"],[120156,1,"k"],[120157,1,"l"],[120158,1,"m"],[120159,1,"n"],[120160,1,"o"],[120161,1,"p"],[120162,1,"q"],[120163,1,"r"],[120164,1,"s"],[120165,1,"t"],[120166,1,"u"],[120167,1,"v"],[120168,1,"w"],[120169,1,"x"],[120170,1,"y"],[120171,1,"z"],[120172,1,"a"],[120173,1,"b"],[120174,1,"c"],[120175,1,"d"],[120176,1,"e"],[120177,1,"f"],[120178,1,"g"],[120179,1,"h"],[120180,1,"i"],[120181,1,"j"],[120182,1,"k"],[120183,1,"l"],[120184,1,"m"],[120185,1,"n"],[120186,1,"o"],[120187,1,"p"],[120188,1,"q"],[120189,1,"r"],[120190,1,"s"],[120191,1,"t"],[120192,1,"u"],[120193,1,"v"],[120194,1,"w"],[120195,1,"x"],[120196,1,"y"],[120197,1,"z"],[120198,1,"a"],[120199,1,"b"],[120200,1,"c"],[120201,1,"d"],[120202,1,"e"],[120203,1,"f"],[120204,1,"g"],[120205,1,"h"],[120206,1,"i"],[120207,1,"j"],[120208,1,"k"],[120209,1,"l"],[120210,1,"m"],[120211,1,"n"],[120212,1,"o"],[120213,1,"p"],[120214,1,"q"],[120215,1,"r"],[120216,1,"s"],[120217,1,"t"],[120218,1,"u"],[120219,1,"v"],[120220,1,"w"],[120221,1,"x"],[120222,1,"y"],[120223,1,"z"],[120224,1,"a"],[120225,1,"b"],[120226,1,"c"],[120227,1,"d"],[120228,1,"e"],[120229,1,"f"],[120230,1,"g"],[120231,1,"h"],[120232,1,"i"],[120233,1,"j"],[120234,1,"k"],[120235,1,"l"],[120236,1,"m"],[120237,1,"n"],[120238,1,"o"],[120239,1,"p"],[120240,1,"q"],[120241,1,"r"],[120242,1,"s"],[120243,1,"t"],[120244,1,"u"],[120245,1,"v"],[120246,1,"w"],[120247,1,"x"],[120248,1,"y"],[120249,1,"z"],[120250,1,"a"],[120251,1,"b"],[120252,1,"c"],[120253,1,"d"],[120254,1,"e"],[120255,1,"f"],[120256,1,"g"],[120257,1,"h"],[120258,1,"i"],[120259,1,"j"],[120260,1,"k"],[120261,1,"l"],[120262,1,"m"],[120263,1,"n"],[120264,1,"o"],[120265,1,"p"],[120266,1,"q"],[120267,1,"r"],[120268,1,"s"],[120269,1,"t"],[120270,1,"u"],[120271,1,"v"],[120272,1,"w"],[120273,1,"x"],[120274,1,"y"],[120275,1,"z"],[120276,1,"a"],[120277,1,"b"],[120278,1,"c"],[120279,1,"d"],[120280,1,"e"],[120281,1,"f"],[120282,1,"g"],[120283,1,"h"],[120284,1,"i"],[120285,1,"j"],[120286,1,"k"],[120287,1,"l"],[120288,1,"m"],[120289,1,"n"],[120290,1,"o"],[120291,1,"p"],[120292,1,"q"],[120293,1,"r"],[120294,1,"s"],[120295,1,"t"],[120296,1,"u"],[120297,1,"v"],[120298,1,"w"],[120299,1,"x"],[120300,1,"y"],[120301,1,"z"],[120302,1,"a"],[120303,1,"b"],[120304,1,"c"],[120305,1,"d"],[120306,1,"e"],[120307,1,"f"],[120308,1,"g"],[120309,1,"h"],[120310,1,"i"],[120311,1,"j"],[120312,1,"k"],[120313,1,"l"],[120314,1,"m"],[120315,1,"n"],[120316,1,"o"],[120317,1,"p"],[120318,1,"q"],[120319,1,"r"],[120320,1,"s"],[120321,1,"t"],[120322,1,"u"],[120323,1,"v"],[120324,1,"w"],[120325,1,"x"],[120326,1,"y"],[120327,1,"z"],[120328,1,"a"],[120329,1,"b"],[120330,1,"c"],[120331,1,"d"],[120332,1,"e"],[120333,1,"f"],[120334,1,"g"],[120335,1,"h"],[120336,1,"i"],[120337,1,"j"],[120338,1,"k"],[120339,1,"l"],[120340,1,"m"],[120341,1,"n"],[120342,1,"o"],[120343,1,"p"],[120344,1,"q"],[120345,1,"r"],[120346,1,"s"],[120347,1,"t"],[120348,1,"u"],[120349,1,"v"],[120350,1,"w"],[120351,1,"x"],[120352,1,"y"],[120353,1,"z"],[120354,1,"a"],[120355,1,"b"],[120356,1,"c"],[120357,1,"d"],[120358,1,"e"],[120359,1,"f"],[120360,1,"g"],[120361,1,"h"],[120362,1,"i"],[120363,1,"j"],[120364,1,"k"],[120365,1,"l"],[120366,1,"m"],[120367,1,"n"],[120368,1,"o"],[120369,1,"p"],[120370,1,"q"],[120371,1,"r"],[120372,1,"s"],[120373,1,"t"],[120374,1,"u"],[120375,1,"v"],[120376,1,"w"],[120377,1,"x"],[120378,1,"y"],[120379,1,"z"],[120380,1,"a"],[120381,1,"b"],[120382,1,"c"],[120383,1,"d"],[120384,1,"e"],[120385,1,"f"],[120386,1,"g"],[120387,1,"h"],[120388,1,"i"],[120389,1,"j"],[120390,1,"k"],[120391,1,"l"],[120392,1,"m"],[120393,1,"n"],[120394,1,"o"],[120395,1,"p"],[120396,1,"q"],[120397,1,"r"],[120398,1,"s"],[120399,1,"t"],[120400,1,"u"],[120401,1,"v"],[120402,1,"w"],[120403,1,"x"],[120404,1,"y"],[120405,1,"z"],[120406,1,"a"],[120407,1,"b"],[120408,1,"c"],[120409,1,"d"],[120410,1,"e"],[120411,1,"f"],[120412,1,"g"],[120413,1,"h"],[120414,1,"i"],[120415,1,"j"],[120416,1,"k"],[120417,1,"l"],[120418,1,"m"],[120419,1,"n"],[120420,1,"o"],[120421,1,"p"],[120422,1,"q"],[120423,1,"r"],[120424,1,"s"],[120425,1,"t"],[120426,1,"u"],[120427,1,"v"],[120428,1,"w"],[120429,1,"x"],[120430,1,"y"],[120431,1,"z"],[120432,1,"a"],[120433,1,"b"],[120434,1,"c"],[120435,1,"d"],[120436,1,"e"],[120437,1,"f"],[120438,1,"g"],[120439,1,"h"],[120440,1,"i"],[120441,1,"j"],[120442,1,"k"],[120443,1,"l"],[120444,1,"m"],[120445,1,"n"],[120446,1,"o"],[120447,1,"p"],[120448,1,"q"],[120449,1,"r"],[120450,1,"s"],[120451,1,"t"],[120452,1,"u"],[120453,1,"v"],[120454,1,"w"],[120455,1,"x"],[120456,1,"y"],[120457,1,"z"],[120458,1,"a"],[120459,1,"b"],[120460,1,"c"],[120461,1,"d"],[120462,1,"e"],[120463,1,"f"],[120464,1,"g"],[120465,1,"h"],[120466,1,"i"],[120467,1,"j"],[120468,1,"k"],[120469,1,"l"],[120470,1,"m"],[120471,1,"n"],[120472,1,"o"],[120473,1,"p"],[120474,1,"q"],[120475,1,"r"],[120476,1,"s"],[120477,1,"t"],[120478,1,"u"],[120479,1,"v"],[120480,1,"w"],[120481,1,"x"],[120482,1,"y"],[120483,1,"z"],[120484,1,""],[120485,1,""],[[120486,120487],3],[120488,1,""],[120489,1,""],[120490,1,""],[120491,1,""],[120492,1,""],[120493,1,""],[120494,1,""],[120495,1,""],[120496,1,""],[120497,1,""],[120498,1,""],[120499,1,""],[120500,1,""],[120501,1,""],[120502,1,""],[120503,1,""],[120504,1,""],[120505,1,""],[120506,1,""],[120507,1,""],[120508,1,""],[120509,1,""],[120510,1,""],[120511,1,""],[120512,1,""],[120513,1,""],[120514,1,""],[120515,1,""],[120516,1,""],[120517,1,""],[120518,1,""],[120519,1,""],[120520,1,""],[120521,1,""],[120522,1,""],[120523,1,""],[120524,1,""],[120525,1,""],[120526,1,""],[120527,1,""],[120528,1,""],[120529,1,""],[120530,1,""],[[120531,120532],1,""],[120533,1,""],[120534,1,""],[120535,1,""],[120536,1,""],[120537,1,""],[120538,1,""],[120539,1,""],[120540,1,""],[120541,1,""],[120542,1,""],[120543,1,""],[120544,1,""],[120545,1,""],[120546,1,""],[120547,1,""],[120548,1,""],[120549,1,""],[120550,1,""],[120551,1,""],[120552,1,""],[120553,1,""],[120554,1,""],[120555,1,""],[120556,1,""],[120557,1,""],[120558,1,""],[120559,1,""],[120560,1,""],[120561,1,""],[120562,1,""],[120563,1,""],[120564,1,""],[120565,1,""],[120566,1,""],[120567,1,""],[120568,1,""],[120569,1,""],[120570,1,""],[120571,1,""],[120572,1,""],[120573,1,""],[120574,1,""],[120575,1,""],[120576,1,""],[120577,1,""],[120578,1,""],[120579,1,""],[120580,1,""],[120581,1,""],[120582,1,""],[120583,1,""],[120584,1,""],[120585,1,""],[120586,1,""],[120587,1,""],[120588,1,""],[[120589,120590],1,""],[120591,1,""],[120592,1,""],[120593,1,""],[120594,1,""],[120595,1,""],[120596,1,""],[120597,1,""],[120598,1,""],[120599,1,""],[120600,1,""],[120601,1,""],[120602,1,""],[120603,1,""],[120604,1,""],[120605,1,""],[120606,1,""],[120607,1,""],[120608,1,""],[120609,1,""],[120610,1,""],[120611,1,""],[120612,1,""],[120613,1,""],[120614,1,""],[120615,1,""],[120616,1,""],[120617,1,""],[120618,1,""],[120619,1,""],[120620,1,""],[120621,1,""],[120622,1,""],[120623,1,""],[120624,1,""],[120625,1,""],[120626,1,""],[120627,1,""],[120628,1,""],[120629,1,""],[120630,1,""],[120631,1,""],[120632,1,""],[120633,1,""],[120634,1,""],[120635,1,""],[120636,1,""],[120637,1,""],[120638,1,""],[120639,1,""],[120640,1,""],[120641,1,""],[120642,1,""],[120643,1,""],[120644,1,""],[120645,1,""],[120646,1,""],[[120647,120648],1,""],[120649,1,""],[120650,1,""],[120651,1,""],[120652,1,""],[120653,1,""],[120654,1,""],[120655,1,""],[120656,1,""],[120657,1,""],[120658,1,""],[120659,1,""],[120660,1,""],[120661,1,""],[120662,1,""],[120663,1,""],[120664,1,""],[120665,1,""],[120666,1,""],[120667,1,""],[120668,1,""],[120669,1,""],[120670,1,""],[120671,1,""],[120672,1,""],[120673,1,""],[120674,1,""],[120675,1,""],[120676,1,""],[120677,1,""],[120678,1,""],[120679,1,""],[120680,1,""],[120681,1,""],[120682,1,""],[120683,1,""],[120684,1,""],[120685,1,""],[120686,1,""],[120687,1,""],[120688,1,""],[120689,1,""],[120690,1,""],[120691,1,""],[120692,1,""],[120693,1,""],[120694,1,""],[120695,1,""],[120696,1,""],[120697,1,""],[120698,1,""],[120699,1,""],[120700,1,""],[120701,1,""],[120702,1,""],[120703,1,""],[120704,1,""],[[120705,120706],1,""],[120707,1,""],[120708,1,""],[120709,1,""],[120710,1,""],[120711,1,""],[120712,1,""],[120713,1,""],[120714,1,""],[120715,1,""],[120716,1,""],[120717,1,""],[120718,1,""],[120719,1,""],[120720,1,""],[120721,1,""],[120722,1,""],[120723,1,""],[120724,1,""],[120725,1,""],[120726,1,""],[120727,1,""],[120728,1,""],[120729,1,""],[120730,1,""],[120731,1,""],[120732,1,""],[120733,1,""],[120734,1,""],[120735,1,""],[120736,1,""],[120737,1,""],[120738,1,""],[120739,1,""],[120740,1,""],[120741,1,""],[120742,1,""],[120743,1,""],[120744,1,""],[120745,1,""],[120746,1,""],[120747,1,""],[120748,1,""],[120749,1,""],[120750,1,""],[120751,1,""],[120752,1,""],[120753,1,""],[120754,1,""],[120755,1,""],[120756,1,""],[120757,1,""],[120758,1,""],[120759,1,""],[120760,1,""],[120761,1,""],[120762,1,""],[[120763,120764],1,""],[120765,1,""],[120766,1,""],[120767,1,""],[120768,1,""],[120769,1,""],[120770,1,""],[120771,1,""],[120772,1,""],[120773,1,""],[120774,1,""],[120775,1,""],[120776,1,""],[120777,1,""],[[120778,120779],1,""],[[120780,120781],3],[120782,1,"0"],[120783,1,"1"],[120784,1,"2"],[120785,1,"3"],[120786,1,"4"],[120787,1,"5"],[120788,1,"6"],[120789,1,"7"],[120790,1,"8"],[120791,1,"9"],[120792,1,"0"],[120793,1,"1"],[120794,1,"2"],[120795,1,"3"],[120796,1,"4"],[120797,1,"5"],[120798,1,"6"],[120799,1,"7"],[120800,1,"8"],[120801,1,"9"],[120802,1,"0"],[120803,1,"1"],[120804,1,"2"],[120805,1,"3"],[120806,1,"4"],[120807,1,"5"],[120808,1,"6"],[120809,1,"7"],[120810,1,"8"],[120811,1,"9"],[120812,1,"0"],[120813,1,"1"],[120814,1,"2"],[120815,1,"3"],[120816,1,"4"],[120817,1,"5"],[120818,1,"6"],[120819,1,"7"],[120820,1,"8"],[120821,1,"9"],[120822,1,"0"],[120823,1,"1"],[120824,1,"2"],[120825,1,"3"],[120826,1,"4"],[120827,1,"5"],[120828,1,"6"],[120829,1,"7"],[120830,1,"8"],[120831,1,"9"],[[120832,121343],2],[[121344,121398],2],[[121399,121402],2],[[121403,121452],2],[[121453,121460],2],[121461,2],[[121462,121475],2],[121476,2],[[121477,121483],2],[[121484,121498],3],[[121499,121503],2],[121504,3],[[121505,121519],2],[[121520,122879],3],[[122880,122886],2],[122887,3],[[122888,122904],2],[[122905,122906],3],[[122907,122913],2],[122914,3],[[122915,122916],2],[122917,3],[[122918,122922],2],[[122923,123135],3],[[123136,123180],2],[[123181,123183],3],[[123184,123197],2],[[123198,123199],3],[[123200,123209],2],[[123210,123213],3],[123214,2],[123215,2],[[123216,123583],3],[[123584,123641],2],[[123642,123646],3],[123647,2],[[123648,124927],3],[[124928,125124],2],[[125125,125126],3],[[125127,125135],2],[[125136,125142],2],[[125143,125183],3],[125184,1,""],[125185,1,""],[125186,1,""],[125187,1,""],[125188,1,""],[125189,1,""],[125190,1,""],[125191,1,""],[125192,1,""],[125193,1,""],[125194,1,""],[125195,1,""],[125196,1,""],[125197,1,""],[125198,1,""],[125199,1,""],[125200,1,""],[125201,1,""],[125202,1,""],[125203,1,""],[125204,1,""],[125205,1,""],[125206,1,""],[125207,1,""],[125208,1,""],[125209,1,""],[125210,1,""],[125211,1,""],[125212,1,""],[125213,1,""],[125214,1,""],[125215,1,""],[125216,1,""],[125217,1,""],[[125218,125258],2],[125259,2],[[125260,125263],3],[[125264,125273],2],[[125274,125277],3],[[125278,125279],2],[[125280,126064],3],[[126065,126132],2],[[126133,126208],3],[[126209,126269],2],[[126270,126463],3],[126464,1,""],[126465,1,""],[126466,1,""],[126467,1,""],[126468,3],[126469,1,""],[126470,1,""],[126471,1,""],[126472,1,""],[126473,1,""],[126474,1,""],[126475,1,""],[126476,1,""],[126477,1,""],[126478,1,""],[126479,1,""],[126480,1,""],[126481,1,""],[126482,1,""],[126483,1,""],[126484,1,""],[126485,1,""],[126486,1,""],[126487,1,""],[126488,1,""],[126489,1,""],[126490,1,""],[126491,1,""],[126492,1,""],[126493,1,""],[126494,1,""],[126495,1,""],[126496,3],[126497,1,""],[126498,1,""],[126499,3],[126500,1,""],[[126501,126502],3],[126503,1,""],[126504,3],[126505,1,""],[126506,1,""],[126507,1,""],[126508,1,""],[126509,1,""],[126510,1,""],[126511,1,""],[126512,1,""],[126513,1,""],[126514,1,""],[126515,3],[126516,1,""],[126517,1,""],[126518,1,""],[126519,1,""],[126520,3],[126521,1,""],[126522,3],[126523,1,""],[[126524,126529],3],[126530,1,""],[[126531,126534],3],[126535,1,""],[126536,3],[126537,1,""],[126538,3],[126539,1,""],[126540,3],[126541,1,""],[126542,1,""],[126543,1,""],[126544,3],[126545,1,""],[126546,1,""],[126547,3],[126548,1,""],[[126549,126550],3],[126551,1,""],[126552,3],[126553,1,""],[126554,3],[126555,1,""],[126556,3],[126557,1,""],[126558,3],[126559,1,""],[126560,3],[126561,1,""],[126562,1,""],[126563,3],[126564,1,""],[[126565,126566],3],[126567,1,""],[126568,1,""],[126569,1,""],[126570,1,""],[126571,3],[126572,1,""],[126573,1,""],[126574,1,""],[126575,1,""],[126576,1,""],[126577,1,""],[126578,1,""],[126579,3],[126580,1,""],[126581,1,""],[126582,1,""],[126583,1,""],[126584,3],[126585,1,""],[126586,1,""],[126587,1,""],[126588,1,""],[126589,3],[126590,1,""],[126591,3],[126592,1,""],[126593,1,""],[126594,1,""],[126595,1,""],[126596,1,""],[126597,1,""],[126598,1,""],[126599,1,""],[126600,1,""],[126601,1,""],[126602,3],[126603,1,""],[126604,1,""],[126605,1,""],[126606,1,""],[126607,1,""],[126608,1,""],[126609,1,""],[126610,1,""],[126611,1,""],[126612,1,""],[126613,1,""],[126614,1,""],[126615,1,""],[126616,1,""],[126617,1,""],[126618,1,""],[126619,1,""],[[126620,126624],3],[126625,1,""],[126626,1,""],[126627,1,""],[126628,3],[126629,1,""],[126630,1,""],[126631,1,""],[126632,1,""],[126633,1,""],[126634,3],[126635,1,""],[126636,1,""],[126637,1,""],[126638,1,""],[126639,1,""],[126640,1,""],[126641,1,""],[126642,1,""],[126643,1,""],[126644,1,""],[126645,1,""],[126646,1,""],[126647,1,""],[126648,1,""],[126649,1,""],[126650,1,""],[126651,1,""],[[126652,126703],3],[[126704,126705],2],[[126706,126975],3],[[126976,127019],2],[[127020,127023],3],[[127024,127123],2],[[127124,127135],3],[[127136,127150],2],[[127151,127152],3],[[127153,127166],2],[127167,2],[127168,3],[[127169,127183],2],[127184,3],[[127185,127199],2],[[127200,127221],2],[[127222,127231],3],[127232,3],[127233,5,"0,"],[127234,5,"1,"],[127235,5,"2,"],[127236,5,"3,"],[127237,5,"4,"],[127238,5,"5,"],[127239,5,"6,"],[127240,5,"7,"],[127241,5,"8,"],[127242,5,"9,"],[[127243,127244],2],[[127245,127247],3],[127248,5,"(a)"],[127249,5,"(b)"],[127250,5,"(c)"],[127251,5,"(d)"],[127252,5,"(e)"],[127253,5,"(f)"],[127254,5,"(g)"],[127255,5,"(h)"],[127256,5,"(i)"],[127257,5,"(j)"],[127258,5,"(k)"],[127259,5,"(l)"],[127260,5,"(m)"],[127261,5,"(n)"],[127262,5,"(o)"],[127263,5,"(p)"],[127264,5,"(q)"],[127265,5,"(r)"],[127266,5,"(s)"],[127267,5,"(t)"],[127268,5,"(u)"],[127269,5,"(v)"],[127270,5,"(w)"],[127271,5,"(x)"],[127272,5,"(y)"],[127273,5,"(z)"],[127274,1,"s"],[127275,1,"c"],[127276,1,"r"],[127277,1,"cd"],[127278,1,"wz"],[127279,2],[127280,1,"a"],[127281,1,"b"],[127282,1,"c"],[127283,1,"d"],[127284,1,"e"],[127285,1,"f"],[127286,1,"g"],[127287,1,"h"],[127288,1,"i"],[127289,1,"j"],[127290,1,"k"],[127291,1,"l"],[127292,1,"m"],[127293,1,"n"],[127294,1,"o"],[127295,1,"p"],[127296,1,"q"],[127297,1,"r"],[127298,1,"s"],[127299,1,"t"],[127300,1,"u"],[127301,1,"v"],[127302,1,"w"],[127303,1,"x"],[127304,1,"y"],[127305,1,"z"],[127306,1,"hv"],[127307,1,"mv"],[127308,1,"sd"],[127309,1,"ss"],[127310,1,"ppv"],[127311,1,"wc"],[[127312,127318],2],[127319,2],[[127320,127326],2],[127327,2],[[127328,127337],2],[127338,1,"mc"],[127339,1,"md"],[127340,1,"mr"],[[127341,127343],3],[[127344,127352],2],[127353,2],[127354,2],[[127355,127356],2],[[127357,127358],2],[127359,2],[[127360,127369],2],[[127370,127373],2],[[127374,127375],2],[127376,1,"dj"],[[127377,127386],2],[[127387,127404],2],[[127405,127461],3],[[127462,127487],2],[127488,1,""],[127489,1,""],[127490,1,""],[[127491,127503],3],[127504,1,""],[127505,1,""],[127506,1,""],[127507,1,""],[127508,1,""],[127509,1,""],[127510,1,""],[127511,1,""],[127512,1,""],[127513,1,""],[127514,1,""],[127515,1,""],[127516,1,""],[127517,1,""],[127518,1,""],[127519,1,""],[127520,1,""],[127521,1,""],[127522,1,""],[127523,1,""],[127524,1,""],[127525,1,""],[127526,1,""],[127527,1,""],[127528,1,""],[127529,1,""],[127530,1,""],[127531,1,""],[127532,1,""],[127533,1,""],[127534,1,""],[127535,1,""],[127536,1,""],[127537,1,""],[127538,1,""],[127539,1,""],[127540,1,""],[127541,1,""],[127542,1,""],[127543,1,""],[127544,1,""],[127545,1,""],[127546,1,""],[127547,1,""],[[127548,127551],3],[127552,1,""],[127553,1,""],[127554,1,""],[127555,1,""],[127556,1,""],[127557,1,""],[127558,1,""],[127559,1,""],[127560,1,""],[[127561,127567],3],[127568,1,""],[127569,1,""],[[127570,127583],3],[[127584,127589],2],[[127590,127743],3],[[127744,127776],2],[[127777,127788],2],[[127789,127791],2],[[127792,127797],2],[127798,2],[[127799,127868],2],[127869,2],[[127870,127871],2],[[127872,127891],2],[[127892,127903],2],[[127904,127940],2],[127941,2],[[127942,127946],2],[[127947,127950],2],[[127951,127955],2],[[127956,127967],2],[[127968,127984],2],[[127985,127991],2],[[127992,127999],2],[[128000,128062],2],[128063,2],[128064,2],[128065,2],[[128066,128247],2],[128248,2],[[128249,128252],2],[[128253,128254],2],[128255,2],[[128256,128317],2],[[128318,128319],2],[[128320,128323],2],[[128324,128330],2],[[128331,128335],2],[[128336,128359],2],[[128360,128377],2],[128378,2],[[128379,128419],2],[128420,2],[[128421,128506],2],[[128507,128511],2],[128512,2],[[128513,128528],2],[128529,2],[[128530,128532],2],[128533,2],[128534,2],[128535,2],[128536,2],[128537,2],[128538,2],[128539,2],[[128540,128542],2],[128543,2],[[128544,128549],2],[[128550,128551],2],[[128552,128555],2],[128556,2],[128557,2],[[128558,128559],2],[[128560,128563],2],[128564,2],[[128565,128576],2],[[128577,128578],2],[[128579,128580],2],[[128581,128591],2],[[128592,128639],2],[[128640,128709],2],[[128710,128719],2],[128720,2],[[128721,128722],2],[[128723,128724],2],[128725,2],[[128726,128735],3],[[128736,128748],2],[[128749,128751],3],[[128752,128755],2],[[128756,128758],2],[[128759,128760],2],[128761,2],[128762,2],[[128763,128767],3],[[128768,128883],2],[[128884,128895],3],[[128896,128980],2],[[128981,128984],2],[[128985,128991],3],[[128992,129003],2],[[129004,129023],3],[[129024,129035],2],[[129036,129039],3],[[129040,129095],2],[[129096,129103],3],[[129104,129113],2],[[129114,129119],3],[[129120,129159],2],[[129160,129167],3],[[129168,129197],2],[[129198,129279],3],[[129280,129291],2],[129292,3],[[129293,129295],2],[[129296,129304],2],[[129305,129310],2],[129311,2],[[129312,129319],2],[[129320,129327],2],[129328,2],[[129329,129330],2],[[129331,129342],2],[129343,2],[[129344,129355],2],[129356,2],[[129357,129359],2],[[129360,129374],2],[[129375,129387],2],[[129388,129392],2],[129393,2],[129394,3],[[129395,129398],2],[[129399,129401],3],[129402,2],[129403,2],[[129404,129407],2],[[129408,129412],2],[[129413,129425],2],[[129426,129431],2],[[129432,129442],2],[[129443,129444],3],[[129445,129450],2],[[129451,129453],3],[[129454,129455],2],[[129456,129465],2],[[129466,129471],2],[129472,2],[[129473,129474],2],[[129475,129482],2],[[129483,129484],3],[[129485,129487],2],[[129488,129510],2],[[129511,129535],2],[[129536,129619],2],[[129620,129631],3],[[129632,129645],2],[[129646,129647],3],[[129648,129651],2],[[129652,129655],3],[[129656,129658],2],[[129659,129663],3],[[129664,129666],2],[[129667,129679],3],[[129680,129685],2],[[129686,131069],3],[[131070,131071],3],[[131072,173782],2],[[173783,173823],3],[[173824,177972],2],[[177973,177983],3],[[177984,178205],2],[[178206,178207],3],[[178208,183969],2],[[183970,183983],3],[[183984,191456],2],[[191457,194559],3],[194560,1,""],[194561,1,""],[194562,1,""],[194563,1,""],[194564,1,""],[194565,1,""],[194566,1,""],[194567,1,""],[194568,1,""],[194569,1,""],[194570,1,""],[194571,1,""],[194572,1,""],[194573,1,""],[194574,1,""],[194575,1,""],[194576,1,""],[194577,1,""],[194578,1,""],[194579,1,""],[194580,1,""],[194581,1,""],[194582,1,""],[194583,1,""],[194584,1,""],[194585,1,""],[194586,1,""],[194587,1,""],[194588,1,""],[194589,1,""],[194590,1,""],[194591,1,""],[194592,1,""],[194593,1,""],[194594,1,""],[194595,1,""],[194596,1,""],[194597,1,""],[194598,1,""],[194599,1,""],[194600,1,""],[194601,1,""],[194602,1,""],[194603,1,""],[194604,1,""],[194605,1,""],[194606,1,""],[194607,1,""],[194608,1,""],[[194609,194611],1,""],[194612,1,""],[194613,1,""],[194614,1,""],[194615,1,""],[194616,1,""],[194617,1,""],[194618,1,""],[194619,1,""],[194620,1,""],[194621,1,""],[194622,1,""],[194623,1,""],[194624,1,""],[194625,1,""],[194626,1,""],[194627,1,""],[194628,1,""],[[194629,194630],1,""],[194631,1,""],[194632,1,""],[194633,1,""],[194634,1,""],[194635,1,""],[194636,1,""],[194637,1,""],[194638,1,""],[194639,1,""],[194640,1,""],[194641,1,""],[194642,1,""],[194643,1,""],[194644,1,""],[194645,1,""],[194646,1,""],[194647,1,""],[194648,1,""],[194649,1,""],[194650,1,""],[194651,1,""],[194652,1,""],[194653,1,""],[194654,1,""],[194655,1,""],[194656,1,""],[194657,1,""],[194658,1,""],[194659,1,""],[194660,1,""],[194661,1,""],[194662,1,""],[194663,1,""],[194664,3],[194665,1,""],[[194666,194667],1,""],[194668,1,""],[194669,1,""],[194670,1,""],[194671,1,""],[194672,1,""],[194673,1,""],[194674,1,""],[194675,1,""],[194676,3],[194677,1,""],[194678,1,""],[194679,1,""],[194680,1,""],[194681,1,""],[194682,1,""],[194683,1,""],[194684,1,""],[194685,1,""],[194686,1,""],[194687,1,""],[194688,1,""],[194689,1,""],[194690,1,""],[194691,1,""],[194692,1,""],[194693,1,""],[194694,1,""],[194695,1,""],[194696,1,""],[194697,1,""],[194698,1,""],[194699,1,""],[194700,1,""],[194701,1,""],[194702,1,""],[194703,1,""],[194704,1,""],[[194705,194706],1,""],[194707,1,""],[[194708,194709],1,""],[194710,1,""],[194711,1,""],[194712,1,""],[194713,1,""],[194714,1,""],[194715,1,""],[194716,1,""],[194717,1,""],[194718,1,""],[194719,1,""],[194720,1,""],[194721,1,""],[194722,1,""],[194723,1,""],[194724,1,""],[194725,1,""],[194726,1,""],[194727,1,""],[194728,1,""],[194729,1,""],[194730,1,""],[194731,1,""],[194732,1,""],[194733,1,""],[194734,1,""],[194735,1,""],[194736,1,""],[194737,1,""],[194738,1,""],[194739,1,""],[194740,1,""],[194741,1,""],[194742,1,""],[194743,1,""],[194744,1,""],[194745,1,""],[194746,1,""],[194747,1,""],[194748,1,""],[194749,1,""],[194750,1,""],[194751,1,""],[194752,1,""],[194753,1,""],[194754,1,""],[194755,1,""],[194756,1,""],[194757,1,""],[194758,1,""],[194759,1,""],[194760,1,""],[194761,1,""],[194762,1,""],[194763,1,""],[194764,1,""],[194765,1,""],[194766,1,""],[194767,1,""],[194768,1,""],[194769,1,""],[194770,1,""],[194771,1,""],[194772,1,""],[194773,1,""],[194774,1,""],[194775,1,""],[194776,1,""],[194777,1,""],[194778,1,""],[194779,1,""],[194780,1,""],[194781,1,""],[194782,1,""],[194783,1,""],[194784,1,""],[194785,1,""],[194786,1,""],[194787,1,""],[194788,1,""],[194789,1,""],[194790,1,""],[194791,1,""],[194792,1,""],[194793,1,""],[194794,1,""],[194795,1,""],[194796,1,""],[194797,1,""],[194798,1,""],[194799,1,""],[194800,1,""],[194801,1,""],[194802,1,""],[194803,1,""],[194804,1,""],[194805,1,""],[194806,1,""],[194807,1,""],[194808,1,""],[194809,1,""],[194810,1,""],[194811,1,""],[194812,1,""],[194813,1,""],[194814,1,""],[194815,1,""],[194816,1,""],[194817,1,""],[194818,1,""],[194819,1,""],[194820,1,""],[194821,1,""],[194822,1,""],[194823,1,""],[194824,1,""],[194825,1,""],[194826,1,""],[194827,1,""],[194828,1,""],[194829,1,""],[194830,1,""],[194831,1,""],[194832,1,""],[194833,1,""],[194834,1,""],[194835,1,""],[194836,1,""],[194837,1,""],[194838,1,""],[194839,1,""],[194840,1,""],[194841,1,""],[194842,1,""],[194843,1,""],[194844,1,""],[194845,1,""],[194846,1,""],[194847,3],[194848,1,""],[194849,1,""],[194850,1,""],[194851,1,""],[194852,1,""],[194853,1,""],[194854,1,""],[194855,1,""],[194856,1,""],[194857,1,""],[194858,1,""],[194859,1,""],[[194860,194861],1,""],[194862,1,""],[194863,1,""],[194864,1,""],[194865,1,""],[194866,1,""],[194867,1,""],[194868,1,""],[194869,1,""],[194870,1,""],[194871,1,""],[194872,1,""],[194873,1,""],[194874,1,""],[194875,1,""],[194876,1,""],[194877,1,""],[194878,1,""],[194879,1,""],[194880,1,""],[194881,1,""],[194882,1,""],[194883,1,""],[194884,1,""],[194885,1,""],[[194886,194887],1,""],[194888,1,""],[194889,1,""],[194890,1,""],[194891,1,""],[194892,1,""],[194893,1,""],[194894,1,""],[194895,1,""],[194896,1,""],[194897,1,""],[194898,1,""],[194899,1,""],[194900,1,""],[194901,1,""],[194902,1,""],[194903,1,""],[194904,1,""],[194905,1,""],[194906,1,""],[194907,1,""],[194908,1,""],[[194909,194910],1,""],[194911,3],[194912,1,""],[194913,1,""],[194914,1,""],[194915,1,""],[194916,1,""],[194917,1,""],[194918,1,""],[194919,1,""],[194920,1,""],[194921,1,""],[194922,1,""],[194923,1,""],[194924,1,""],[194925,1,""],[194926,1,""],[194927,1,""],[194928,1,""],[194929,1,""],[194930,1,""],[194931,1,""],[194932,1,""],[194933,1,""],[194934,1,""],[194935,1,""],[194936,1,""],[194937,1,""],[194938,1,""],[194939,1,""],[194940,1,""],[194941,1,""],[194942,1,""],[194943,1,""],[194944,1,""],[194945,1,""],[194946,1,""],[194947,1,""],[194948,1,""],[194949,1,""],[194950,1,""],[194951,1,""],[194952,1,""],[194953,1,""],[194954,1,""],[194955,1,""],[194956,1,""],[194957,1,""],[194958,1,""],[194959,1,""],[194960,1,""],[194961,1,""],[194962,1,""],[194963,1,""],[194964,1,""],[194965,1,""],[194966,1,""],[194967,1,""],[194968,1,""],[194969,1,""],[194970,1,""],[194971,1,""],[194972,1,""],[194973,1,""],[194974,1,""],[194975,1,""],[194976,1,""],[194977,1,""],[194978,1,""],[194979,1,""],[194980,1,""],[194981,1,""],[194982,1,""],[194983,1,""],[194984,1,""],[194985,1,""],[194986,1,""],[194987,1,""],[194988,1,""],[194989,1,""],[194990,1,""],[194991,1,""],[194992,1,""],[194993,1,""],[194994,1,""],[194995,1,""],[194996,1,""],[194997,1,""],[194998,1,""],[194999,1,""],[195000,1,""],[195001,1,""],[195002,1,""],[195003,1,""],[195004,1,""],[195005,1,""],[195006,1,""],[195007,3],[195008,1,""],[195009,1,""],[195010,1,""],[195011,1,""],[195012,1,""],[195013,1,""],[195014,1,""],[195015,1,""],[195016,1,""],[195017,1,""],[195018,1,""],[195019,1,""],[195020,1,""],[195021,1,""],[195022,1,""],[195023,1,""],[195024,1,""],[195025,1,""],[195026,1,""],[195027,1,""],[195028,1,""],[195029,1,""],[195030,1,""],[195031,1,""],[195032,1,""],[195033,1,""],[195034,1,""],[195035,1,""],[195036,1,""],[195037,1,""],[195038,1,""],[195039,1,""],[195040,1,""],[195041,1,""],[195042,1,""],[195043,1,""],[195044,1,""],[195045,1,""],[195046,1,""],[195047,1,""],[195048,1,""],[195049,1,""],[195050,1,""],[195051,1,""],[195052,1,""],[195053,1,""],[195054,1,""],[195055,1,""],[195056,1,""],[195057,1,""],[195058,1,""],[195059,1,""],[195060,1,""],[195061,1,""],[195062,1,""],[195063,1,""],[195064,1,""],[195065,1,""],[195066,1,""],[195067,1,""],[195068,1,""],[195069,1,""],[[195070,195071],1,""],[195072,1,""],[195073,1,""],[195074,1,""],[195075,1,""],[195076,1,""],[195077,1,""],[195078,1,""],[195079,1,""],[195080,1,""],[195081,1,""],[195082,1,""],[195083,1,""],[195084,1,""],[195085,1,""],[195086,1,""],[195087,1,""],[195088,1,""],[195089,1,""],[195090,1,""],[195091,1,""],[195092,1,""],[195093,1,""],[195094,1,""],[195095,1,""],[195096,1,""],[195097,1,""],[195098,1,""],[195099,1,""],[195100,1,""],[195101,1,""],[[195102,196605],3],[[196606,196607],3],[[196608,262141],3],[[262142,262143],3],[[262144,327677],3],[[327678,327679],3],[[327680,393213],3],[[393214,393215],3],[[393216,458749],3],[[458750,458751],3],[[458752,524285],3],[[524286,524287],3],[[524288,589821],3],[[589822,589823],3],[[589824,655357],3],[[655358,655359],3],[[655360,720893],3],[[720894,720895],3],[[720896,786429],3],[[786430,786431],3],[[786432,851965],3],[[851966,851967],3],[[851968,917501],3],[[917502,917503],3],[917504,3],[917505,3],[[917506,917535],3],[[917536,917631],3],[[917632,917759],3],[[917760,917999],7],[[918000,983037],3],[[983038,983039],3],[[983040,1048573],3],[[1048574,1048575],3],[[1048576,1114109],3],[[1114110,1114111],3]]')},function(t,e,n){"use strict";t.exports.STATUS_MAPPING={mapped:1,valid:2,disallowed:3,disallowed_STD3_valid:4,disallowed_STD3_mapped:5,deviation:6,ignored:7}},function(t,e,n){"use strict";const i=n(292),r=n(62);e.implementation=class{constructor(t,e,{doNotStripQMark:n=!1}){let i=e[0];if(this._list=[],this._url=null,n||"string"!=typeof i||"?"!==i[0]||(i=i.slice(1)),Array.isArray(i))for(const t of i){if(2!==t.length)throw new TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence's element does not contain exactly two elements.");this._list.push([t[0],t[1]])}else if("object"==typeof i&&null===Object.getPrototypeOf(i))for(const t of Object.keys(i)){const e=i[t];this._list.push([t,e])}else this._list=r.parseUrlencoded(i)}_updateSteps(){if(null!==this._url){let t=r.serializeUrlencoded(this._list);""===t&&(t=null),this._url._url.query=t}}append(t,e){this._list.push([t,e]),this._updateSteps()}delete(t){let e=0;for(;e<this._list.length;)this._list[e][0]===t?this._list.splice(e,1):e++;this._updateSteps()}get(t){for(const e of this._list)if(e[0]===t)return e[1];return null}getAll(t){const e=[];for(const n of this._list)n[0]===t&&e.push(n[1]);return e}has(t){for(const e of this._list)if(e[0]===t)return!0;return!1}set(t,e){let n=!1,i=0;for(;i<this._list.length;)this._list[i][0]===t?n?this._list.splice(i,1):(n=!0,this._list[i][1]=e,i++):i++;n||this._list.push([t,e]),this._updateSteps()}sort(){this._list=i(this._list,[0]),this._updateSteps()}[Symbol.iterator](){return this._list[Symbol.iterator]()}toString(){return r.serializeUrlencoded(this._list)}}},function(t,e,n){(function(t,n){var i="[object Arguments]",r="[object Map]",o="[object Object]",s="[object Set]",a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/,l=/^\./,c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h=/\\(\\)?/g,f=/^\[object .+?Constructor\]$/,d=/^(?:0|[1-9]\d*)$/,p={};p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p[i]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object Boolean]"]=p["[object DataView]"]=p["[object Date]"]=p["[object Error]"]=p["[object Function]"]=p[r]=p["[object Number]"]=p[o]=p["[object RegExp]"]=p[s]=p["[object String]"]=p["[object WeakMap]"]=!1;var g="object"==typeof t&&t&&t.Object===Object&&t,v="object"==typeof self&&self&&self.Object===Object&&self,m=g||v||Function("return this")(),y=e&&!e.nodeType&&e,x=y&&"object"==typeof n&&n&&!n.nodeType&&n,E=x&&x.exports===y&&g.process,b=function(){try{return E&&E.binding("util")}catch(t){}}(),C=b&&b.isTypedArray;function w(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function _(t,e){for(var n=-1,i=t?t.length:0,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function A(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function S(t,e){for(var n=-1,i=t?t.length:0;++n<i;)if(e(t[n],n,t))return!0;return!1}function D(t){return function(e){return t(e)}}function L(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function F(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function T(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var M,I,P,O=Array.prototype,B=Function.prototype,N=Object.prototype,k=m["__core-js_shared__"],R=(M=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||""))?"Symbol(src)_1."+M:"",j=B.toString,V=N.hasOwnProperty,G=N.toString,z=RegExp("^"+j.call(V).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),q=m.Symbol,U=m.Uint8Array,X=N.propertyIsEnumerable,H=O.splice,Y=q?q.isConcatSpreadable:void 0,W=(I=Object.keys,P=Object,function(t){return I(P(t))}),J=Math.max,K=It(m,"DataView"),Z=It(m,"Map"),$=It(m,"Promise"),Q=It(m,"Set"),tt=It(m,"WeakMap"),et=It(Object,"create"),nt=zt(K),it=zt(Z),rt=zt($),ot=zt(Q),st=zt(tt),at=q?q.prototype:void 0,ut=at?at.valueOf:void 0,lt=at?at.toString:void 0;function ct(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function ht(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function ft(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function dt(t){var e=-1,n=t?t.length:0;for(this.__data__=new ft;++e<n;)this.add(t[e])}function pt(t){this.__data__=new ht(t)}function gt(t,e){var n=Yt(t)||Ht(t)?function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}(t.length,String):[],i=n.length,r=!!i;for(var o in t)!e&&!V.call(t,o)||r&&("length"==o||Bt(o,i))||n.push(o);return n}function vt(t,e){for(var n=t.length;n--;)if(Xt(t[n][0],e))return n;return-1}ct.prototype.clear=function(){this.__data__=et?et(null):{}},ct.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},ct.prototype.get=function(t){var e=this.__data__;if(et){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return V.call(e,t)?e[t]:void 0},ct.prototype.has=function(t){var e=this.__data__;return et?void 0!==e[t]:V.call(e,t)},ct.prototype.set=function(t,e){return this.__data__[t]=et&&void 0===e?"__lodash_hash_undefined__":e,this},ht.prototype.clear=function(){this.__data__=[]},ht.prototype.delete=function(t){var e=this.__data__,n=vt(e,t);return!(n<0)&&(n==e.length-1?e.pop():H.call(e,n,1),!0)},ht.prototype.get=function(t){var e=this.__data__,n=vt(e,t);return n<0?void 0:e[n][1]},ht.prototype.has=function(t){return vt(this.__data__,t)>-1},ht.prototype.set=function(t,e){var n=this.__data__,i=vt(n,t);return i<0?n.push([t,e]):n[i][1]=e,this},ft.prototype.clear=function(){this.__data__={hash:new ct,map:new(Z||ht),string:new ct}},ft.prototype.delete=function(t){return Mt(this,t).delete(t)},ft.prototype.get=function(t){return Mt(this,t).get(t)},ft.prototype.has=function(t){return Mt(this,t).has(t)},ft.prototype.set=function(t,e){return Mt(this,t).set(t,e),this},dt.prototype.add=dt.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},dt.prototype.has=function(t){return this.__data__.has(t)},pt.prototype.clear=function(){this.__data__=new ht},pt.prototype.delete=function(t){return this.__data__.delete(t)},pt.prototype.get=function(t){return this.__data__.get(t)},pt.prototype.has=function(t){return this.__data__.has(t)},pt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof ht){var i=n.__data__;if(!Z||i.length<199)return i.push([t,e]),this;n=this.__data__=new ft(i)}return n.set(t,e),this};var mt,yt,xt=(mt=function(t,e){return t&&Et(t,e,ee)},function(t,e){if(null==t)return t;if(!Wt(t))return mt(t,e);for(var n=t.length,i=yt?n:-1,r=Object(t);(yt?i--:++i<n)&&!1!==e(r[i],i,r););return t});var Et=function(t){return function(e,n,i){for(var r=-1,o=Object(e),s=i(e),a=s.length;a--;){var u=s[t?a:++r];if(!1===n(o[u],u,o))break}return e}}();function bt(t,e){for(var n=0,i=(e=kt(e,t)?[e]:Lt(e)).length;null!=t&&n<i;)t=t[Gt(e[n++])];return n&&n==i?t:void 0}function Ct(t,e){return null!=t&&e in Object(t)}function wt(t,e,n,a,u){return t===e||(null==t||null==e||!Zt(t)&&!$t(e)?t!=t&&e!=e:function(t,e,n,a,u,l){var c=Yt(t),h=Yt(e),f="[object Array]",d="[object Array]";c||(f=(f=Pt(t))==i?o:f);h||(d=(d=Pt(e))==i?o:d);var p=f==o&&!L(t),g=d==o&&!L(e),v=f==d;if(v&&!p)return l||(l=new pt),c||te(t)?Tt(t,e,n,a,u,l):function(t,e,n,i,o,a,u){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new U(t),new U(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Xt(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case r:var l=F;case s:var c=2&a;if(l||(l=T),t.size!=e.size&&!c)return!1;var h=u.get(t);if(h)return h==e;a|=1,u.set(t,e);var f=Tt(l(t),l(e),i,o,a,u);return u.delete(t),f;case"[object Symbol]":if(ut)return ut.call(t)==ut.call(e)}return!1}(t,e,f,n,a,u,l);if(!(2&u)){var m=p&&V.call(t,"__wrapped__"),y=g&&V.call(e,"__wrapped__");if(m||y){var x=m?t.value():t,E=y?e.value():e;return l||(l=new pt),n(x,E,a,u,l)}}if(!v)return!1;return l||(l=new pt),function(t,e,n,i,r,o){var s=2&r,a=ee(t),u=a.length,l=ee(e).length;if(u!=l&&!s)return!1;var c=u;for(;c--;){var h=a[c];if(!(s?h in e:V.call(e,h)))return!1}var f=o.get(t);if(f&&o.get(e))return f==e;var d=!0;o.set(t,e),o.set(e,t);var p=s;for(;++c<u;){h=a[c];var g=t[h],v=e[h];if(i)var m=s?i(v,g,h,e,t,o):i(g,v,h,t,e,o);if(!(void 0===m?g===v||n(g,v,i,r,o):m)){d=!1;break}p||(p="constructor"==h)}if(d&&!p){var y=t.constructor,x=e.constructor;y==x||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof x&&x instanceof x||(d=!1)}return o.delete(t),o.delete(e),d}(t,e,n,a,u,l)}(t,e,wt,n,a,u))}function _t(t){return!(!Zt(t)||function(t){return!!R&&R in t}(t))&&(Jt(t)||L(t)?z:f).test(zt(t))}function At(t){return"function"==typeof t?t:null==t?ne:"object"==typeof t?Yt(t)?function(t,e){if(kt(t)&&Rt(e))return jt(Gt(t),e);return function(n){var i=function(t,e,n){var i=null==t?void 0:bt(t,e);return void 0===i?n:i}(n,t);return void 0===i&&i===e?function(t,e){return null!=t&&function(t,e,n){e=kt(e,t)?[e]:Lt(e);var i,r=-1,o=e.length;for(;++r<o;){var s=Gt(e[r]);if(!(i=null!=t&&n(t,s)))break;t=t[s]}if(i)return i;return!!(o=t?t.length:0)&&Kt(o)&&Bt(s,o)&&(Yt(t)||Ht(t))}(t,e,Ct)}(n,t):wt(e,i,void 0,3)}}(t[0],t[1]):function(t){var e=function(t){var e=ee(t),n=e.length;for(;n--;){var i=e[n],r=t[i];e[n]=[i,r,Rt(r)]}return e}(t);if(1==e.length&&e[0][2])return jt(e[0][0],e[0][1]);return function(n){return n===t||function(t,e,n,i){var r=n.length,o=r,s=!i;if(null==t)return!o;for(t=Object(t);r--;){var a=n[r];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<o;){var u=(a=n[r])[0],l=t[u],c=a[1];if(s&&a[2]){if(void 0===l&&!(u in t))return!1}else{var h=new pt;if(i)var f=i(l,c,u,t,e,h);if(!(void 0===f?wt(c,l,i,3,h):f))return!1}}return!0}(n,t,e)}}(t):kt(e=t)?(n=Gt(e),function(t){return null==t?void 0:t[n]}):function(t){return function(e){return bt(e,t)}}(e);var e,n}function St(t){if(n=(e=t)&&e.constructor,i="function"==typeof n&&n.prototype||N,e!==i)return W(t);var e,n,i,r=[];for(var o in Object(t))V.call(t,o)&&"constructor"!=o&&r.push(o);return r}function Dt(t,e,n){var i=-1;return e=_(e.length?e:[ne],D(At)),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(function(t,e){var n=-1,i=Wt(t)?Array(t.length):[];return xt(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}(t,(function(t,n,r){return{criteria:_(e,(function(e){return e(t)})),index:++i,value:t}})),(function(t,e){return function(t,e,n){var i=-1,r=t.criteria,o=e.criteria,s=r.length,a=n.length;for(;++i<s;){var u=Ft(r[i],o[i]);if(u){if(i>=a)return u;var l=n[i];return u*("desc"==l?-1:1)}}return t.index-e.index}(t,e,n)}))}function Lt(t){return Yt(t)?t:Vt(t)}function Ft(t,e){if(t!==e){var n=void 0!==t,i=null===t,r=t==t,o=Qt(t),s=void 0!==e,a=null===e,u=e==e,l=Qt(e);if(!a&&!l&&!o&&t>e||o&&s&&u&&!a&&!l||i&&s&&u||!n&&u||!r)return 1;if(!i&&!o&&!l&&t<e||l&&n&&r&&!i&&!o||a&&n&&r||!s&&r||!u)return-1}return 0}function Tt(t,e,n,i,r,o){var s=2&r,a=t.length,u=e.length;if(a!=u&&!(s&&u>a))return!1;var l=o.get(t);if(l&&o.get(e))return l==e;var c=-1,h=!0,f=1&r?new dt:void 0;for(o.set(t,e),o.set(e,t);++c<a;){var d=t[c],p=e[c];if(i)var g=s?i(p,d,c,e,t,o):i(d,p,c,t,e,o);if(void 0!==g){if(g)continue;h=!1;break}if(f){if(!S(e,(function(t,e){if(!f.has(e)&&(d===t||n(d,t,i,r,o)))return f.add(e)}))){h=!1;break}}else if(d!==p&&!n(d,p,i,r,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function Mt(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function It(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return _t(n)?n:void 0}var Pt=function(t){return G.call(t)};function Ot(t){return Yt(t)||Ht(t)||!!(Y&&t&&t[Y])}function Bt(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||d.test(t))&&t>-1&&t%1==0&&t<e}function Nt(t,e,n){if(!Zt(n))return!1;var i=typeof e;return!!("number"==i?Wt(n)&&Bt(e,n.length):"string"==i&&e in n)&&Xt(n[e],t)}function kt(t,e){if(Yt(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Qt(t))||(u.test(t)||!a.test(t)||null!=e&&t in Object(e))}function Rt(t){return t==t&&!Zt(t)}function jt(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}(K&&"[object DataView]"!=Pt(new K(new ArrayBuffer(1)))||Z&&Pt(new Z)!=r||$&&"[object Promise]"!=Pt($.resolve())||Q&&Pt(new Q)!=s||tt&&"[object WeakMap]"!=Pt(new tt))&&(Pt=function(t){var e=G.call(t),n=e==o?t.constructor:void 0,i=n?zt(n):void 0;if(i)switch(i){case nt:return"[object DataView]";case it:return r;case rt:return"[object Promise]";case ot:return s;case st:return"[object WeakMap]"}return e});var Vt=Ut((function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(Qt(t))return lt?lt.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(e);var n=[];return l.test(t)&&n.push(""),t.replace(c,(function(t,e,i,r){n.push(i?r.replace(h,"$1"):e||t)})),n}));function Gt(t){if("string"==typeof t||Qt(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function zt(t){if(null!=t){try{return j.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var qt=function(t,e){return e=J(void 0===e?t.length-1:e,0),function(){for(var n=arguments,i=-1,r=J(n.length-e,0),o=Array(r);++i<r;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=o,w(t,this,s)}}((function(t,e){if(null==t)return[];var n=e.length;return n>1&&Nt(t,e[0],e[1])?e=[]:n>2&&Nt(e[0],e[1],e[2])&&(e=[e[0]]),Dt(t,function t(e,n,i,r,o){var s=-1,a=e.length;for(i||(i=Ot),o||(o=[]);++s<a;){var u=e[s];n>0&&i(u)?n>1?t(u,n-1,i,r,o):A(o,u):r||(o[o.length]=u)}return o}(e,1),[])}));function Ut(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s),s};return n.cache=new(Ut.Cache||ft),n}function Xt(t,e){return t===e||t!=t&&e!=e}function Ht(t){return function(t){return $t(t)&&Wt(t)}(t)&&V.call(t,"callee")&&(!X.call(t,"callee")||G.call(t)==i)}Ut.Cache=ft;var Yt=Array.isArray;function Wt(t){return null!=t&&Kt(t.length)&&!Jt(t)}function Jt(t){var e=Zt(t)?G.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}function Kt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Zt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function $t(t){return!!t&&"object"==typeof t}function Qt(t){return"symbol"==typeof t||$t(t)&&"[object Symbol]"==G.call(t)}var te=C?D(C):function(t){return $t(t)&&Kt(t.length)&&!!p[G.call(t)]};function ee(t){return Wt(t)?gt(t):St(t)}function ne(t){return t}n.exports=qt}).call(this,n(92),n(134)(t))},function(t,e,n){"use strict";const i=n(137);e.cloningSteps=Symbol("cloning steps"),e.domSymbolTree=new i("DOM SymbolTree")},function(t,e,n){"use strict";t.exports=class{constructor(){this.parent=null,this.previousSibling=null,this.nextSibling=null,this.firstChild=null,this.lastChild=null,this.childrenVersion=0,this.childIndexCachedUpTo=null,this.cachedIndex=-1,this.cachedIndexVersion=NaN}get isAttached(){return Boolean(this.parent||this.previousSibling||this.nextSibling)}get hasChildren(){return Boolean(this.firstChild)}childrenChanged(){this.childrenVersion=this.childrenVersion+1&4294967295,this.childIndexCachedUpTo=null}getCachedIndex(t){return this.cachedIndexVersion!==t.childrenVersion?(this.cachedIndexVersion=NaN,-1):this.cachedIndex}setCachedIndex(t,e){this.cachedIndexVersion=t.childrenVersion,this.cachedIndex=e}}},function(t,e,n){"use strict";t.exports=Object.freeze({DISCONNECTED:1,PRECEDING:2,FOLLOWING:4,CONTAINS:8,CONTAINED_BY:16})},function(t,e,n){"use strict";const i=Symbol(),r=Symbol(),o=Symbol(),s=Symbol();class a{constructor(t,e,n,a){this[i]=t,this[r]=e,this[o]=n,this[s]=a}next(){const t=this[i],e=this[s],n=this[r];if(!this[o])return{done:!0,value:n};const a=this[o];return this[o]=1===e?t._node(a).previousSibling:2===e?t._node(a).nextSibling:3===e?t._node(a).parent:4===e?t.preceding(a,{root:n}):t.following(a,{root:n}),{done:!1,value:a}}}Object.defineProperty(a.prototype,Symbol.iterator,{value:function(){return this},writable:!1}),a.PREV=1,a.NEXT=2,a.PARENT=3,a.PRECEDING=4,a.FOLLOWING=5,Object.freeze(a),Object.freeze(a.prototype),t.exports=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TileLayer=void 0,n(11),n(298);e.TileLayer=L.Layer.extend({initialize:function(t){this.options=t},renderTileLayer:function(){var t=this.options,e=t.url,n=t.colorFilter;this.tileLayer=L.tileLayer.colorFilter(e,{filter:n||[]}).addTo(this._map)},onAdd:function(t){this._map=t,this.renderTileLayer()},setOptions:function(){this._map&&this.tileLayer&&this._map.removeLayer(this.tileLayer),this.renderTileLayer()},onRemove:function(){this._map&&this.tileLayer&&this._map.removeLayer(this.tileLayer)},render:function(){return null}})},function(t,e,n){"use strict";L.TileLayer.ColorFilter=L.TileLayer.extend({intialize:function(t,e){L.TileLayer.prototype.initialize.call(this,t,e)},colorFilter:function(){var t=["blur:px","brightness:%","bright:brightness:%","bri:brightness:%","contrast:%","con:contrast:%","grayscale:%","gray:grayscale:%","hue-rotate:deg","hue:hue-rotate:deg","hue-rotation:hue-rotate:deg","invert:%","inv:invert:%","opacity:%","op:opacity:%","saturate:%","saturation:saturate:%","sat:saturate:%","sepia:%","sep:sepia:%"];return(this.options.filter?this.options.filter:[]).map((function(e){var n=e.toLowerCase().split(":");if(2===n.length){var i=t.find((function(t){return t.split(":")[0]===n[0]}));if(i)return i=i.split(":"),n[1]+=/^\d+$/.test(n[1])?i[i.length-1]:"","".concat(i[i.length-2],"(").concat(n[1],")")}return""})).join(" ")},_initContainer:function(){L.TileLayer.prototype._initContainer.call(this),this._container.style.filter=this.colorFilter()},updateFilter:function(t){this.options.filter=t,this._container&&(this._container.style.filter=this.colorFilter())}}),L.tileLayer.colorFilter=function(t,e){return new L.TileLayer.ColorFilter(t,e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HeatLayer=void 0;var i=a(n(3));n(11);var r=a(n(300)),o=a(n(114)),s=n(10);function a(t){return t&&t.__esModule?t:{default:t}}var u={blur:3,radius:5,minOpacity:.1,unit:"pixel",minPixel:1},l=(e.HeatLayer=L.HeatLayer=o.default.extend({_forceRenderKeys:["fill","radius","blur","valueName","getValue","unit","minPixel"],initialize:function(t){t=(0,i.default)({},u,t),o.default.prototype.initialize.call(this,t),this.grid=[]},_initEvents:function(){var t=this;this.on("loadstart",(function(e){t.clearGrid(),t.data={type:"FeatureCollection",features:[]}})),this.on("loaddata",(function(e){t.data.features=t.data.features.concat(e.data.features),t.addDataToGrid(e.data)})),this.on("load",(function(e){t._forceRender()}))},_onMapMovestart:function(){this.clearGrid(),o.default.prototype._onMapMovestart.call(this,this._map)},_onZoomstart:function(t){this.clearGrid(),o.default.prototype._onZoomstart.call(this,this._map)},convertUnit:function(t){if("meter"===this.options.unit)return(0,s.meterToPixel)(t,0,this.options.minPixel,this._map).width;if("arc"===this.options.unit)return(0,s.arcToPixel)(t,0,this.options.minPixel,this._map).width;if("pixel"===this.options.unit)return t;throw new Error("only support unit [arc, meter, pixel]")},_updateOptions:function(){if(null!=this.heat){var t=this.getHeat(),e=this.options,n=e.radius,i=e.blur;if(t.radius(this.convertUnit(n),this.convertUnit(i)),this.options.fill){var r=this.getFillMax(),o=this.getFillMin(),s=this.getGradient();t.gradient(s),t.max(r-o)}}},onAdd:function(t){o.default.prototype.onAdd.call(this,t),this.initHeat()},getFillMax:function(){var t=this.options.fill.domain;return 0===t.length?1:t[t.length-1]},getFillMin:function(){var t=this.options.fill.domain;return t.length<2?0:t[0]},getGradient:function(){var t=this.options.fill,e=t.domain,n=t.range,i=this.getFillMax(),r=this.getFillMin(),o=i-r;o<=0&&(o=1);var s={};return e.forEach((function(t,e){var i=t-r;i<=0&&(i=0),s[i/o]=n[e]})),s},initHeat:function(){if(this.heat)return this.heat;var t=this.createCanvas();return this.heat=(0,r.default)(t),this._updateOptions(),this.heat},getHeat:function(){return this.heat?this.heat:this.initHeat()},_lockAllCanvas:function(){o.default.prototype._lockAllCanvas.call(this),this.heat=void 0},addDataToGrid:function(t){if(null!=t){for(var e=this.getFillMin(),n=(this.getHeat()._r,this.getRenderContainerBounds()),i=this.getBufferedOffset(),r=this.grid,o=0,a=t.features.length;o<a;o++){var u=t.features[o],l=(0,s.pointToPixel)(u,n,this._map,i);if(null!=l){var c=[parseInt(l.x),parseInt(l.y)],h=c[0],f=c[1],d=this.getValue(u);isNaN(d)&&(d=e),r[f]=r[f]||[];var p=r[f][h];p?p[2]+=d:r[f][h]=[h,f,d]}}return r}},renderGrid:function(t){for(var e=this.getHeat(),n=this.getFillMax(),i=this.getFillMin(),r=[],o=0,s=t.length;o<s;o++)if(t[o])for(var a=0,u=t[o].length;a<u;a++){var l=t[o][a];l&&r.push([Math.round(l[0]),Math.round(l[1]),Math.min(l[2]-i,n-i)])}this.clearAllCanvas(),e.data(r).draw(this.options.minOpacity)},clearGrid:function(){this.grid=[]},recomputeDataToGrid:function(){0===this.grid.length&&this.addDataToGrid(this.data)},setOptions:function(t){var e=(0,s.isAnyRenderOptionsChange)(t,this.options,this._forceRenderKeys),n=this.options.valueName!==t.valueName||this.options.getValue!==t.getValue;if(L.setOptions(this,t),t.ds&&this._ds!==t.ds)return this._ds.destroy(),void this._initDs();n&&this.clearGrid(),(n||e)&&this._forceRender()},render:function(){var t=this;this.recomputeDataToGrid(),this._updateOptions(),this.renderGrid(this.grid),this.raf((function(){t.fire("renderdone")}))}}),L.heatLayer=function(t,e){return new L.HeatLayer(t,e)});e.default=l},function(t,e,n){"use strict";function i(t){if(!(this instanceof i))return new i(t);this._canvas=t="string"==typeof t?document.getElementById(t):t,this._ctx=t.getContext("2d"),this._width=t.width,this._height=t.height,this._max=1,this._data=[]}t.exports=i,i.prototype={defaultRadius:25,defaultGradient:{.4:"blue",.6:"cyan",.7:"lime",.8:"yellow",1:"red"},data:function(t){return this._data=t,this},max:function(t){return this._max=t,this},add:function(t){return this._data.push(t),this},clear:function(){return this._data=[],this},radius:function(t,e){e=void 0===e?15:e;var n=this._circle=document.createElement("canvas"),i=n.getContext("2d"),r=this._r=t+e;return n.width=n.height=2*r,i.shadowOffsetX=i.shadowOffsetY=2*r,i.shadowBlur=e,i.shadowColor="black",i.beginPath(),i.arc(-r,-r,t,0,2*Math.PI,!0),i.closePath(),i.fill(),this},resize:function(){this._width=this._canvas.width,this._height=this._canvas.height},gradient:function(t){var e=document.createElement("canvas"),n=e.getContext("2d"),i=n.createLinearGradient(0,0,0,256);for(var r in e.width=1,e.height=256,t)i.addColorStop(r,t[r]);return n.fillStyle=i,n.fillRect(0,0,1,256),this._grad=n.getImageData(0,0,1,256).data,this},draw:function(t){this._circle||this.radius(this.defaultRadius),this._grad||this.gradient(this.defaultGradient);var e=this._ctx;e.clearRect(0,0,this._width,this._height);for(var n,i=0,r=this._data.length;i<r;i++)n=this._data[i],e.globalAlpha=Math.max(n[2]/this._max,void 0===t?.05:t),e.drawImage(this._circle,n[0]-this._r,n[1]-this._r);var o=e.getImageData(0,0,this._width,this._height);return this._colorize(o.data,this._grad),e.putImageData(o,0,0),this},_colorize:function(t,e){for(var n,i=0,r=t.length;i<r;i+=4)(n=4*t[i+3])&&(t[i]=e[n],t[i+1]=e[n+1],t[i+2]=e[n+2])}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PolylineLayer=void 0;var i=g(n(60)),r=g(n(302)),o=g(n(19)),s=g(n(34)),a=g(n(305)),u=g(n(3)),l=n(13),c=g(n(16)),h=n(10),f=(g(n(138)),n(306)),d=n(307),p=g(n(15));function g(t){return t&&t.__esModule?t:{default:t}}var v={strokeWidth:3},m="stroke",y="pattern",x=e.PolylineLayer=c.default.extend({_forceRenderKeys:["pattern","stroke","strokeWidth","valueName","getValue"],initialize:function(t){t=(0,u.default)({},v,t),c.default.prototype.initialize.call(this,t)},loadPolylineRenderOptions:function(){var t=this;return(0,a.default)(r.default.mark((function e(){var n,i,a,u,l,c,h,f,d;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t.options.pattern){e.next=2;break}return e.abrupt("return",{type:m});case 2:if(n=t.options.pattern,i=n.src,a=n.patternWidth,u=n.patternHeight,l=n.cropOffsetX,c=n.cropOffsetY,"object"!==(void 0===i?"undefined":(0,s.default)(i))){e.next=17;break}h={},f=(0,o.default)(i.maps),d=0;case 7:if(!(d<f.length)){e.next=14;break}return e.next=10,t.loadImg(i.maps[f[d]],{patternWidth:a,patternHeight:u,cropOffsetX:l,cropOffsetY:c});case 10:h[f[d]]=e.sent;case 11:d++,e.next=7;break;case 14:return e.abrupt("return",{type:"morePattern",property:i.key,pattern:h});case 17:if("string"!=typeof i){e.next=22;break}return e.next=20,t.loadImg(i,{patternWidth:a,patternHeight:u,cropOffsetX:l,cropOffsetY:c});case 20:return e.t0=e.sent,e.abrupt("return",{type:"onePattern",pattern:e.t0});case 22:case"end":return e.stop()}}),e,t)})))()},loadImg:function(t,e){var n=this,o=e.patternWidth,s=e.patternHeight,u=e.cropOffsetX,c=e.cropOffsetY;return(0,a.default)(r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new i.default((function(e,n){var i=new Image;i.src=t,i.onload=function(){var t=o/i.width,n=s/i.height;e({type:y,pattern:new l.fabric.Pattern({source:(0,f.createPatternCanvas)(i,t,n,u,c,0,0)})})},i.onerror=n})));case 1:case"end":return e.stop()}}),e,n)})))()},clonePixels:function(t){var e=[];return t.forEach((function(t){e.push({x:t.x,y:t.y})})),e},createPolylineWithPattern:function(t,e,n){var i=this.options.pattern,r=i.paddingX,o=i.paddingY,s=this.options,a=s.strokeWidth,u=s.stroke,c=s.valueName,f=s.getValue,g=null==f?n.properties[c||"value"]:f(n),v=p.default.isFunction(u)?u(n):(0,h.getScale)(g||void 0,u),m=new l.fabric.Polyline(this.clonePixels(t),{stroke:v,strokeWidth:a,strokeLineCap:"round",strokeLineJoin:"round",fill:"transparent"});m.minY=m.minY+e.source.height/2,m.minX=m.minX+e.source.height/2;var y=[m],x=(0,d.createPolylineDecoratorsWithPattern)(this.clonePixels(t),e,r,o);return y=y.concat(x)},createSimplePolyline:function(t,e){var n=this.options,i=n.strokeWidth,r=n.stroke,o=n.valueName,s=n.getValue,a=null==s?t.properties[o||"value"]:s(t),u=p.default.isFunction(r)?r(t):(0,h.getScale)(a||void 0,r),c=new l.fabric.Polyline(e,{stroke:u,strokeWidth:i,strokeLineCap:"round",strokeLineJoin:"round",fill:"transparent"});return c.minY=c.minY+this.options.strokeWidth/2,c.minX=c.minX+this.options.strokeWidth/2,c},createPolyline:function(t,e,n,i){var r=(0,h.lineToPixels)(t,e,this._map,i);return null==r?null:n.type===y?this.createPolylineWithPattern(r,n.pattern,t):this.createSimplePolyline(t,r)},render:function(t){var e=this;return(0,a.default)(r.default.mark((function n(){var i;return r.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=t){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,e.loadPolylineRenderOptions();case 4:i=n.sent,e.renderInMultiFrames(t,(function(t,n,r){var o="onePattern"===i.type?i.pattern:"morePattern"===i.type?i.pattern[t.properties[i.property]]:i;return e.createPolyline(t,n,o,r)}),2e3);case 6:case"end":return n.stop()}}),n,e)})))()},findObjectByXy:function(t,e){for(var n=this.data.features,i=this._map.getSize(),r=new L.Bounds(L.point([0,0]),i),o=n.length-1;o>-1;o--){var s=n[o],a=(0,h.lineToPixels)(s,r,this._map);if(null!=a&&(0,h.isPointOnLine)(t,e,a,this.options.strokeWidth))return s}return null}});e.default=function(t){return new x(t)}},function(t,e,n){t.exports=n(303)},function(t,e,n){var i=function(){return this}()||Function("return this")(),r=i.regeneratorRuntime&&Object.getOwnPropertyNames(i).indexOf("regeneratorRuntime")>=0,o=r&&i.regeneratorRuntime;if(i.regeneratorRuntime=void 0,t.exports=n(304),r)i.regeneratorRuntime=o;else try{delete i.regeneratorRuntime}catch(t){i.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";var n=Object.prototype,i=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag",u="object"==typeof t,l=e.regeneratorRuntime;if(l)u&&(t.exports=l);else{(l=e.regeneratorRuntime=u?t.exports:{}).wrap=g;var c={},h={};h[o]=function(){return this};var f=Object.getPrototypeOf,d=f&&f(f(S([])));d&&d!==n&&i.call(d,o)&&(h=d);var p=x.prototype=m.prototype=Object.create(h);y.prototype=p.constructor=x,x.constructor=y,x[a]=y.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(p),t},l.awrap=function(t){return{__await:t}},E(b.prototype),b.prototype[s]=function(){return this},l.AsyncIterator=b,l.async=function(t,e,n,i){var r=new b(g(t,e,n,i));return l.isGeneratorFunction(e)?r:r.next().then((function(t){return t.done?t.value:r.next()}))},E(p),p[a]="Generator",p[o]=function(){return this},p.toString=function(){return"[object Generator]"},l.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},l.values=S,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,i){return s.type="throw",s.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var a=i.call(o,"catchLoc"),u=i.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),c},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),c}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;_(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}}}function g(t,e,n,i){var r=e&&e.prototype instanceof m?e:m,o=Object.create(r.prototype),s=new A(i||[]);return o._invoke=function(t,e,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return D()}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=C(s,n);if(a){if(a===c)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var u=v(t,e,n);if("normal"===u.type){if(i=n.done?"completed":"suspendedYield",u.arg===c)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i="completed",n.method="throw",n.arg=u.arg)}}}(t,n,s),o}function v(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function m(){}function y(){}function x(){}function E(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function b(t){var e;this._invoke=function(n,r){function o(){return new Promise((function(e,o){!function e(n,r,o,s){var a=v(t[n],t,r);if("throw"!==a.type){var u=a.arg,l=u.value;return l&&"object"==typeof l&&i.call(l,"__await")?Promise.resolve(l.__await).then((function(t){e("next",t,o,s)}),(function(t){e("throw",t,o,s)})):Promise.resolve(l).then((function(t){u.value=t,o(u)}),s)}s(a.arg)}(n,r,e,o)}))}return e=e?e.then(o,o):o()}}function C(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,C(t,e),"throw"===e.method))return c;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var i=v(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,c;var r=i.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,c):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,c)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:D}}function D(){return{value:void 0,done:!0}}}(function(){return this}()||Function("return this")())},function(t,e,n){"use strict";e.__esModule=!0;var i,r=n(60),o=(i=r)&&i.__esModule?i:{default:i};e.default=function(t){return function(){var e=t.apply(this,arguments);return new o.default((function(t,n){return function i(r,s){try{var a=e[r](s),u=a.value}catch(t){return void n(t)}if(!a.done)return o.default.resolve(u).then((function(t){i("next",t)}),(function(t){i("throw",t)}));t(u)}("next")}))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createPatternCanvas=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=document.createElement("canvas");u.width=t.width*e+o,u.height=t.height*n+s;var l=u.getContext("2d"),c=o,h=s;a>0&&(l.translate(u.width/2,u.height/2),c=-u.width/2,h=-u.height/2,l.rotate(-a));return l.drawImage(t,i,r,t.width-i,t.height-r,c,h,t.width*e,t.height*n),u}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createPolylineDecoratorsWithPattern=function(t,e,n,i){var r=e.source.width+n,a=e.source.width,u=[];return t.slice(1).map((function(i,s){var l=t[s],c=[l,i],h=[],f=o.default.getVector(c),d=o.default.getLen(f);if(a+d<r)a+=d;else{var p=o.default.getRotateAngle(c,[{x:0,y:0},{x:1,y:0}]),g=o.default.getRotateDegree(c,[{x:0,y:0},{x:1,y:0}]),v=e.source.height/2*Math.sin(-p),m=-e.source.height/2*Math.cos(-p);h.degree=g,h.offsetX=l.x+v,h.offsetY=l.y+m,h.len=d;var y={x:n-a,y:0};h.push(y);for(var x=y;d-x.x-r>e.source.width;){var E={x:x.x+r,y:0};h.push(E),x=E}u.push(h),a=d-(x.x+e.source.width)}})),u.map((function(t){var n=[new s.fabric.Rect({top:0,left:0,width:0,height:e.source.height,fill:"transparent",strokeWidth:0})];return n=n.concat(t.map((function(t){return new s.fabric.Rect({top:t.y,left:t.x,width:e.source.width,height:e.source.height,fill:e,strokeWidth:0})}))),new s.fabric.Group(n,{top:t.offsetY,left:t.offsetX,angle:-t.degree,originX:"left",originY:"top"})}))};var i,r=n(138),o=(i=r)&&i.__esModule?i:{default:i},s=n(13)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GridHeatLayer=void 0;var i=a(n(3)),r=n(13),o=a(n(16)),s=n(10);function a(t){return t&&t.__esModule?t:{default:t}}var u={minPixel:5,gridSize:{width:1,height:1,unit:"arc"}},l=e.GridHeatLayer=o.default.extend({_forceRenderKeys:["gridSize","fill","minPixel","valueName","getValue","minPixel","unit"],initialize:function(t){t=(0,i.default)({},u,t),o.default.prototype.initialize.call(this,t)},createGrid:function(t,e,n,i){var o=(0,s.pointToPixel)(t,e,this._map,i);if(null==o)return null;var a=this.getValue(t),u=(0,s.getScale)(a,this.options.fill);return new r.fabric.Rect({originX:"center",originY:"center",fill:u,top:o.y,left:o.x,width:n.width,height:n.height})},gridSizeToPixel:function(t){var e=this._map,n=t.unit,i=t.width,r=t.height;if("arc"===n)return(0,s.arcToPixel)(i,r,this.options.minPixel,e);if("meter"===n)return(0,s.meterToPixel)(i,r,this.options.minPixel,e);if("pixel"===n)return{width:i,height:r};throw new Error("only support unit [arc, meter, pixel]")},render:function(t){var e=this;if(null!=t){var n=this.options.gridSize,i=this.gridSizeToPixel(n);this.renderInMultiFrames(t,(function(t,n,r){return e.createGrid(t,n,i,r)}),2e3)}},findObjectByXy:function(t,e){for(var n=this.data.features,i=this.gridSizeToPixel(this.options.gridSize),r=this._map.getSize(),o=new L.Bounds(L.point([-i.width,-i.height]),r.add([i.width,i.height])),a=n.length-1;a>-1;a--){var u=n[a],l=(0,s.pointToPixel)(u,o,this._map);if(null!=l&&!(Math.abs(l.x-t)>i.width/2||Math.abs(l.y-e)>i.height/2))return u}return null}});e.default=function(t){return new l(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PolygonLayer=void 0;var i=c(n(39)),r=c(n(3)),o=n(13),s=c(n(16)),a=n(10),u=c(n(7)),l=c(n(0));function c(t){return t&&t.__esModule?t:{default:t}}var h={strokeWidth:3,stroke:{range:["rgb(0, 167, 157)"]},fill:{range:["rgba(0, 167, 157, 0.5)"]}},f=e.PolygonLayer=s.default.extend({_forceRenderKeys:["fill","stroke","strokeWidth","valueName","getValue"],initialize:function(t){t=(0,r.default)({},h,t),s.default.prototype.initialize.call(this,t)},createPolygon:function(t,e,n){var i=(0,a.polygonToPixels)(t,e,this._map,n);if(null==i)return null;var r=this.getValue(t),s=(0,a.getScale)(r,this.options.stroke||h.stroke),u=(0,a.getScale)(r,this.options.fill||h.fill);return new o.fabric.Polygon(i,{stroke:s,strokeWidth:this.options.strokeWidth,strokeLineCap:"round",strokeLineJoin:"round",fill:u})},render:function(t){var e=this;null!=t&&this.renderInMultiFrames(t,(function(t,n,i){return e.createPolygon(t,n,i)}),2e3)},findObjectByXy:function(t,e){var n=this.data.features,r=(0,a.pixelToPoint)(t,e,this._map),o=l.default.point([r.lng,r.lat]),s=!0,c=!1,h=void 0;try{for(var f,d=(0,i.default)(n);!(s=(f=d.next()).done);s=!0){var p=f.value,g=l.default.polygon((0,a.getPolygonCoords)(p));if((0,u.default)(o,g))return p}}catch(t){c=!0,h=t}finally{try{!s&&d.return&&d.return()}finally{if(c)throw h}}return null}});e.default=function(t){return new f(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScatterLayer=void 0;var i=a(n(3)),r=n(13),o=a(n(16)),s=n(10);function a(t){return t&&t.__esModule?t:{default:t}}var u={radius:5},l=e.ScatterLayer=o.default.extend({_forceRenderKeys:["radius","fill","valueName","getValue"],initialize:function(t){t=(0,i.default)({},u,t),o.default.prototype.initialize.call(this,t)},createScatter:function(t,e,n){var i=(0,s.pointToPixel)(t,e,this._map,n);if(null==i)return null;var o=this.getValue(t),a=(0,s.getScale)(o,this.options.fill);return new r.fabric.Circle({originX:"center",originY:"center",fill:a,radius:this.options.radius,top:i.y,left:i.x})},render:function(t){var e=this;if(null!=t){this.options.radius;this.renderInMultiFrames(t,(function(t,n,i){return e.createScatter(t,n,i)}),2e3)}},findObjectByXy:function(t,e){for(var n=this.data.features,i=this.options.radius,r=Math.pow(i,2),o=this._map.getSize(),a=new L.Bounds(L.point([-i,-i]),o.add([i,i])),u=n.length-1;u>-1;u--){var l=n[u],c=(0,s.pointToPixel)(l,a,this._map);if(null!=c)if(Math.pow(t-c.x,2)+Math.pow(e-c.y,2)<=r)return l}return null}});e.default=function(t){return new l(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BubbleLayer=void 0;var i=a(n(3)),r=n(13),o=a(n(16)),s=n(10);function a(t){return t&&t.__esModule?t:{default:t}}var u={gap:3},l=e.BubbleLayer=o.default.extend({_forceRenderKeys:["radius","fill","gap","valueName","getValue"],initialize:function(t){t=(0,i.default)({},u,t),o.default.prototype.initialize.call(this,t)},createBubble:function(t,e,n){var i=this.getValue(t),o=(0,s.getScale)(i,this.options.radius),a=(0,s.pointToPixel)(t,e,this._map,n);if(null==a)return null;var u=(0,s.getScale)(i,this.options.fill),l=[new r.fabric.Circle({radius:o,strokeWidth:2,fill:"#fff",stroke:u,originX:"center",originY:"center"}),new r.fabric.Circle({radius:o-this.options.gap,fill:u,originX:"center",originY:"center"})];if(this.options.font){var c=new r.fabric.Text(i.toString(),{originX:"center",originY:"center",fontSize:this.options.font.size,fill:this.options.font.fill});l.push(c)}return new r.fabric.Group(l,{originX:"center",originY:"center",top:a.y,left:a.x,opacity:this.options.opacity})},render:function(t){var e=this;null!=t&&this.renderInMultiFrames(t,(function(t,n,i){return e.createBubble(t,n,i)}),500)},findObjectByXy:function(t,e){for(var n=this.data.features,i=this._map.getSize(),r=n.length-1;r>-1;r--){var o=n[r],a=this.getValue(o),u=(0,s.getScale)(a,this.options.radius),l=new L.Bounds(L.point([-u,-u]),i.add([u,u])),c=(0,s.pointToPixel)(o,l,this._map);if(null!=c){var h=Math.pow(u,2);if(Math.pow(t-c.x,2)+Math.pow(e-c.y,2)<=h)return o}}return null}});e.default=function(t){return new l(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveImgLayer=void 0;var i=a(n(3)),r=n(13),o=a(n(16)),s=n(10);function a(t){return t&&t.__esModule?t:{default:t}}var u=n(139),l={scale:.3,iconTurnCtl:!0,speed:20},c=e.MoveImgLayer=o.default.extend({_forceRenderKeys:["radius","fill","gap","valueName","getValue"],initialize:function(t){t=(0,i.default)({},l,t),o.default.prototype.initialize.call(this,t)},createImg:function(t,e,n){var i=this,o=this.options.imgurl,a=(0,s.lineToPixels)(t,e,this._map,n);this.angles=[],this.durations=[];for(var l=0,c=t.geometry.coordinates.length-1;l<c;l++){var h=u.point(t.geometry.coordinates[l]),f=u.point(t.geometry.coordinates[l+1]);if(this.options.iconTurnCtl){var d=u.bearing(h,f);this.angles.push(d)}else this.angles.push(0);var p=u.distance(h,f,"meters");this.durations.push(p/this.options.speed*1e3)}if(null==a)return null;r.fabric.Image.fromURL(o,(function(t){var e=a[0],n=t.set({angle:i.angles[0],left:e.x,top:e.y,originX:"center",originY:"center"}).scale(i.options.scale);i.getFabric().add(n),i.animateImg(i.getFabric(),n,0,a)}))},animateImg:function(t,e,n,i,o){var s=this;r.fabric.util.animate({startValue:i[n].x,endValue:i[n+1].x,duration:this.durations[n],onChange:function(t){e.left=t}}),r.fabric.util.animate({startValue:i[n].y,endValue:i[n+1].y,duration:this.durations[n],onChange:function(i){e.top=i,e.angle=s.angles[n],t.renderAll()},onComplete:function(){++n===i.length-1&&(e.top=i[0].top,e.left=i[0].left,e.angle=s.angles[0],t.renderAll(),n=0),s.animateImg(t,e,n,i)}})},render:function(t){var e=this;null!=t&&this.renderInMultiFrames(t,(function(t,n,i){return e.createImg(t,n,i)}),500)},findObjectByXy:function(t,e){return null}});e.default=function(t){return new c(t)}},function(t,e,n){var i=n(2),r=i.getCoords,o=n(1).featureEach;t.exports=function(t,e,n){i.collectionOf(t,"Point","input must contain Points"),e=e||"elevation";for(var s=function(t,e){var n={};return o(t,(function(t){var e=r(t)[1];n[e]||(n[e]=[]),n[e].push(t)})),Object.keys(n).map((function(t){return n[t].sort((function(t,e){return r(t)[0]-r(e)[0]}))})).sort((function(t,n){return e?r(t[0])[1]-r(n[0])[1]:r(n[0])[1]-r(t[0])[1]}))}(t,n),a=[],u=0;u<s.length;u++){for(var l=s[u],c=[],h=0;h<l.length;h++){var f=l[h];f.properties[e]?c.push(f.properties[e]):c.push(0)}a.push(c)}return a}},function(t,e,n){var i,r,o;
/*!
* @license GNU Affero General Public License.
* Copyright (c) 2015, 2015 Ronny Lorenz <ronny@tbi.univie.ac.at>
* v. 1.2.0
* https://github.com/RaumZeit/MarchingSquares.js
*/r=[n(315),n(316)],void 0===(o="function"==typeof(i=function(t,e){return{isoBands:"function"==typeof t?t:"object"==typeof t&&"function"==typeof t.isoBands?t.isoBands:null,isoContours:"function"==typeof e?e:"object"==typeof e&&"function"==typeof e.isoContours?e.isoContours:null}})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r;
/*!
* @license GNU Affero General Public License.
* Copyright (c) 2015, 2015 Ronny Lorenz <ronny@tbi.univie.ac.at>
* v. 1.2.0
* https://github.com/RaumZeit/MarchingSquares.js
*/r=function(){var t={successCallback:null,verbose:!1,polygons:!1},e={},n=[],i=[],r=[],o=[],s=[],a=[],u=[],l=[],c=[],h=[],f=[],d=[],p=[],g=[],v=[],m=[],y=[],x=[],E=[],b=[],C=[],w=[],_=[],A=[];u[85]=h[85]=-1,l[85]=f[85]=0,c[85]=d[85]=1,E[85]=w[85]=1,b[85]=_[85]=0,C[85]=A[85]=1,n[85]=o[85]=0,i[85]=s[85]=-1,r[85]=v[85]=0,m[85]=p[85]=0,y[85]=g[85]=1,a[85]=x[85]=1,w[1]=w[169]=0,_[1]=_[169]=-1,A[1]=A[169]=0,p[1]=p[169]=-1,g[1]=g[169]=0,v[1]=v[169]=0,h[4]=h[166]=0,f[4]=f[166]=-1,d[4]=d[166]=1,m[4]=m[166]=1,y[4]=y[166]=0,x[4]=x[166]=0,u[16]=u[154]=0,l[16]=l[154]=1,c[16]=c[154]=1,o[16]=o[154]=1,s[16]=s[154]=0,a[16]=a[154]=1,E[64]=E[106]=0,b[64]=b[106]=1,C[64]=C[106]=0,n[64]=n[106]=-1,i[64]=i[106]=0,r[64]=r[106]=1,E[2]=E[168]=0,b[2]=b[168]=-1,C[2]=C[168]=1,w[2]=w[168]=0,_[2]=_[168]=-1,A[2]=A[168]=0,p[2]=p[168]=-1,g[2]=g[168]=0,v[2]=v[168]=0,m[2]=m[168]=-1,y[2]=y[168]=0,x[2]=x[168]=1,u[8]=u[162]=0,l[8]=l[162]=-1,c[8]=c[162]=0,h[8]=h[162]=0,f[8]=f[162]=-1,d[8]=d[162]=1,p[8]=p[162]=1,g[8]=g[162]=0,v[8]=v[162]=1,m[8]=m[162]=1,y[8]=y[162]=0,x[8]=x[162]=0,u[32]=u[138]=0,l[32]=l[138]=1,c[32]=c[138]=1,h[32]=h[138]=0,f[32]=f[138]=1,d[32]=d[138]=0,n[32]=n[138]=1,i[32]=i[138]=0,r[32]=r[138]=0,o[32]=o[138]=1,s[32]=s[138]=0,a[32]=a[138]=1,w[128]=w[42]=0,_[128]=_[42]=1,A[128]=A[42]=1,E[128]=E[42]=0,b[128]=b[42]=1,C[128]=C[42]=0,n[128]=n[42]=-1,i[128]=i[42]=0,r[128]=r[42]=1,o[128]=o[42]=-1,s[128]=s[42]=0,a[128]=a[42]=0,h[5]=h[165]=-1,f[5]=f[165]=0,d[5]=d[165]=0,w[5]=w[165]=1,_[5]=_[165]=0,A[5]=A[165]=0,m[20]=m[150]=0,y[20]=y[150]=1,x[20]=x[150]=1,o[20]=o[150]=0,s[20]=s[150]=-1,a[20]=a[150]=1,u[80]=u[90]=-1,l[80]=l[90]=0,c[80]=c[90]=1,E[80]=E[90]=1,b[80]=b[90]=0,C[80]=C[90]=1,p[65]=p[105]=0,g[65]=g[105]=1,v[65]=v[105]=0,n[65]=n[105]=0,i[65]=i[105]=-1,r[65]=r[105]=0,u[160]=u[10]=-1,l[160]=l[10]=0,c[160]=c[10]=1,h[160]=h[10]=-1,f[160]=f[10]=0,d[160]=d[10]=0,w[160]=w[10]=1,_[160]=_[10]=0,A[160]=A[10]=0,E[160]=E[10]=1,b[160]=b[10]=0,C[160]=C[10]=1,m[130]=m[40]=0,y[130]=y[40]=1,x[130]=x[40]=1,p[130]=p[40]=0,g[130]=g[40]=1,v[130]=v[40]=0,n[130]=n[40]=0,i[130]=i[40]=-1,r[130]=r[40]=0,o[130]=o[40]=0,s[130]=s[40]=-1,a[130]=a[40]=1,h[37]=h[133]=0,f[37]=f[133]=1,d[37]=d[133]=1,w[37]=w[133]=0,_[37]=_[133]=1,A[37]=A[133]=0,n[37]=n[133]=-1,i[37]=i[133]=0,r[37]=r[133]=0,o[37]=o[133]=1,s[37]=s[133]=0,a[37]=a[133]=0,m[148]=m[22]=-1,y[148]=y[22]=0,x[148]=x[22]=0,w[148]=w[22]=0,_[148]=_[22]=-1,A[148]=A[22]=1,E[148]=E[22]=0,b[148]=b[22]=1,C[148]=C[22]=1,o[148]=o[22]=-1,s[148]=s[22]=0,a[148]=a[22]=1,u[82]=u[88]=0,l[82]=l[88]=-1,c[82]=c[88]=1,m[82]=m[88]=1,y[82]=y[88]=0,x[82]=x[88]=1,p[82]=p[88]=-1,g[82]=g[88]=0,v[82]=v[88]=1,E[82]=E[88]=0,b[82]=b[88]=-1,C[82]=C[88]=0,u[73]=u[97]=0,l[73]=l[97]=1,c[73]=c[97]=0,h[73]=h[97]=0,f[73]=f[97]=-1,d[73]=d[97]=0,p[73]=p[97]=1,g[73]=g[97]=0,v[73]=v[97]=0,n[73]=n[97]=1,i[73]=i[97]=0,r[73]=r[97]=1,u[145]=u[25]=0,l[145]=l[25]=-1,c[145]=c[25]=0,p[145]=p[25]=1,g[145]=g[25]=0,v[145]=v[25]=1,w[145]=w[25]=0,_[145]=_[25]=1,A[145]=A[25]=1,o[145]=o[25]=-1,s[145]=s[25]=0,a[145]=a[25]=0,h[70]=h[100]=0,f[70]=f[100]=1,d[70]=d[100]=0,m[70]=m[100]=-1,y[70]=y[100]=0,x[70]=x[100]=1,E[70]=E[100]=0,b[70]=b[100]=-1,C[70]=C[100]=1,n[70]=n[100]=1,i[70]=i[100]=0,r[70]=r[100]=0,h[101]=h[69]=0,f[101]=f[69]=1,d[101]=d[69]=0,n[101]=n[69]=1,i[101]=i[69]=0,r[101]=r[69]=0,w[149]=w[21]=0,_[149]=_[21]=1,A[149]=A[21]=1,o[149]=o[21]=-1,s[149]=s[21]=0,a[149]=a[21]=0,m[86]=m[84]=-1,y[86]=y[84]=0,x[86]=x[84]=1,E[86]=E[84]=0,b[86]=b[84]=-1,C[86]=C[84]=1,u[89]=u[81]=0,l[89]=l[81]=-1,c[89]=c[81]=0,p[89]=p[81]=1,g[89]=g[81]=0,v[89]=v[81]=1,u[96]=u[74]=0,l[96]=l[74]=1,c[96]=c[74]=0,h[96]=h[74]=-1,f[96]=f[74]=0,d[96]=d[74]=1,E[96]=E[74]=1,b[96]=b[74]=0,C[96]=C[74]=0,n[96]=n[74]=1,i[96]=i[74]=0,r[96]=r[74]=1,u[24]=u[146]=0,l[24]=l[146]=-1,c[24]=c[146]=1,m[24]=m[146]=1,y[24]=y[146]=0,x[24]=x[146]=1,p[24]=p[146]=0,g[24]=g[146]=1,v[24]=v[146]=1,o[24]=o[146]=0,s[24]=s[146]=-1,a[24]=a[146]=0,h[6]=h[164]=-1,f[6]=f[164]=0,d[6]=d[164]=1,m[6]=m[164]=-1,y[6]=y[164]=0,x[6]=x[164]=0,w[6]=w[164]=0,_[6]=_[164]=-1,A[6]=A[164]=1,E[6]=E[164]=1,b[6]=b[164]=0,C[6]=C[164]=0,p[129]=p[41]=0,g[129]=g[41]=1,v[129]=v[41]=1,w[129]=w[41]=0,_[129]=_[41]=1,A[129]=A[41]=0,n[129]=n[41]=-1,i[129]=i[41]=0,r[129]=r[41]=0,o[129]=o[41]=0,s[129]=s[41]=-1,a[129]=a[41]=0,m[66]=m[104]=0,y[66]=y[104]=1,x[66]=x[104]=0,p[66]=p[104]=-1,g[66]=g[104]=0,v[66]=v[104]=1,E[66]=E[104]=0,b[66]=b[104]=-1,C[66]=C[104]=0,n[66]=n[104]=0,i[66]=i[104]=-1,r[66]=r[104]=1,u[144]=u[26]=-1,l[144]=l[26]=0,c[144]=c[26]=0,w[144]=w[26]=1,_[144]=_[26]=0,A[144]=A[26]=1,E[144]=E[26]=0,b[144]=b[26]=1,C[144]=C[26]=1,o[144]=o[26]=-1,s[144]=s[26]=0,a[144]=a[26]=1,h[36]=h[134]=0,f[36]=f[134]=1,d[36]=d[134]=1,m[36]=m[134]=0,y[36]=y[134]=1,x[36]=x[134]=0,n[36]=n[134]=0,i[36]=i[134]=-1,r[36]=r[134]=1,o[36]=o[134]=1,s[36]=s[134]=0,a[36]=a[134]=0,u[9]=u[161]=-1,l[9]=l[161]=0,c[9]=c[161]=0,h[9]=h[161]=0,f[9]=f[161]=-1,d[9]=d[161]=0,p[9]=p[161]=1,g[9]=g[161]=0,v[9]=v[161]=0,w[9]=w[161]=1,_[9]=_[161]=0,A[9]=A[161]=1,u[136]=0,l[136]=1,c[136]=1,h[136]=0,f[136]=1,d[136]=0,m[136]=-1,y[136]=0,x[136]=1,p[136]=-1,g[136]=0,v[136]=0,w[136]=0,_[136]=-1,A[136]=0,E[136]=0,b[136]=-1,C[136]=1,n[136]=1,i[136]=0,r[136]=0,o[136]=1,s[136]=0,a[136]=1,u[34]=0,l[34]=-1,c[34]=0,h[34]=0,f[34]=-1,d[34]=1,m[34]=1,y[34]=0,x[34]=0,p[34]=1,g[34]=0,v[34]=1,w[34]=0,_[34]=1,A[34]=1,E[34]=0,b[34]=1,C[34]=0,n[34]=-1,i[34]=0,r[34]=1,o[34]=-1,s[34]=0,a[34]=0,u[35]=0,l[35]=1,c[35]=1,h[35]=0,f[35]=-1,d[35]=1,m[35]=1,y[35]=0,x[35]=0,p[35]=-1,g[35]=0,v[35]=0,w[35]=0,_[35]=-1,A[35]=0,E[35]=0,b[35]=1,C[35]=0,n[35]=-1,i[35]=0,r[35]=1,o[35]=1,s[35]=0,a[35]=1,u[153]=0,l[153]=1,c[153]=1,p[153]=-1,g[153]=0,v[153]=0,w[153]=0,_[153]=-1,A[153]=0,o[153]=1,s[153]=0,a[153]=1,h[102]=0,f[102]=-1,d[102]=1,m[102]=1,y[102]=0,x[102]=0,E[102]=0,b[102]=1,C[102]=0,n[102]=-1,i[102]=0,r[102]=1,u[155]=0,l[155]=-1,c[155]=0,p[155]=1,g[155]=0,v[155]=1,w[155]=0,_[155]=1,A[155]=1,o[155]=-1,s[155]=0,a[155]=0,h[103]=0,f[103]=1,d[103]=0,m[103]=-1,y[103]=0,x[103]=1,E[103]=0,b[103]=-1,C[103]=1,n[103]=1,i[103]=0,r[103]=0,u[152]=0,l[152]=1,c[152]=1,m[152]=-1,y[152]=0,x[152]=1,p[152]=-1,g[152]=0,v[152]=0,w[152]=0,_[152]=-1,A[152]=0,E[152]=0,b[152]=-1,C[152]=1,o[152]=1,s[152]=0,a[152]=1,u[156]=0,l[156]=-1,c[156]=1,m[156]=1,y[156]=0,x[156]=1,p[156]=-1,g[156]=0,v[156]=0,w[156]=0,_[156]=-1,A[156]=0,E[156]=0,b[156]=1,C[156]=1,o[156]=-1,s[156]=0,a[156]=1,u[137]=0,l[137]=1,c[137]=1,h[137]=0,f[137]=1,d[137]=0,p[137]=-1,g[137]=0,v[137]=0,w[137]=0,_[137]=-1,A[137]=0,n[137]=1,i[137]=0,r[137]=0,o[137]=1,s[137]=0,a[137]=1,u[139]=0,l[139]=1,c[139]=1,h[139]=0,f[139]=-1,d[139]=0,p[139]=1,g[139]=0,v[139]=0,w[139]=0,_[139]=1,A[139]=0,n[139]=-1,i[139]=0,r[139]=0,o[139]=1,s[139]=0,a[139]=1,u[98]=0,l[98]=-1,c[98]=0,h[98]=0,f[98]=-1,d[98]=1,m[98]=1,y[98]=0,x[98]=0,p[98]=1,g[98]=0,v[98]=1,E[98]=0,b[98]=1,C[98]=0,n[98]=-1,i[98]=0,r[98]=1,u[99]=0,l[99]=1,c[99]=0,h[99]=0,f[99]=-1,d[99]=1,m[99]=1,y[99]=0,x[99]=0,p[99]=-1,g[99]=0,v[99]=1,E[99]=0,b[99]=-1,C[99]=0,n[99]=1,i[99]=0,r[99]=1,h[38]=0,f[38]=-1,d[38]=1,m[38]=1,y[38]=0,x[38]=0,w[38]=0,_[38]=1,A[38]=1,E[38]=0,b[38]=1,C[38]=0,n[38]=-1,i[38]=0,r[38]=1,o[38]=-1,s[38]=0,a[38]=0,h[39]=0,f[39]=1,d[39]=1,m[39]=-1,y[39]=0,x[39]=0,w[39]=0,_[39]=-1,A[39]=1,E[39]=0,b[39]=1,C[39]=0,n[39]=-1,i[39]=0,r[39]=1,o[39]=1,s[39]=0,a[39]=0;var S=function(t){return[[t.bottomleft,0],[0,0],[0,t.leftbottom]]},D=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0]]},L=function(t){return[[t.topright,1],[1,1],[1,t.righttop]]},F=function(t){return[[0,t.lefttop],[0,1],[t.topleft,1]]},T=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop]]},M=function(t){return[[t.bottomright,0],[t.bottomleft,0],[1,t.righttop],[1,t.rightbottom]]},I=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.topleft,1],[t.topright,1]]},P=function(t){return[[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},O=[],B=[],N=[],k=[],R=[],j=[],V=[],G=[];k[1]=R[1]=18,k[169]=R[169]=18,N[4]=B[4]=12,N[166]=B[166]=12,O[16]=G[16]=4,O[154]=G[154]=4,j[64]=V[64]=22,j[106]=V[106]=22,N[2]=j[2]=17,k[2]=R[2]=18,N[168]=j[168]=17,k[168]=R[168]=18,O[8]=k[8]=9,B[8]=N[8]=12,O[162]=k[162]=9,B[162]=N[162]=12,O[32]=G[32]=4,B[32]=V[32]=1,O[138]=G[138]=4,B[138]=V[138]=1,R[128]=G[128]=21,j[128]=V[128]=22,R[42]=G[42]=21,j[42]=V[42]=22,B[5]=R[5]=14,B[165]=R[165]=14,N[20]=G[20]=6,N[150]=G[150]=6,O[80]=j[80]=11,O[90]=j[90]=11,k[65]=V[65]=3,k[105]=V[105]=3,O[160]=j[160]=11,B[160]=R[160]=14,O[10]=j[10]=11,B[10]=R[10]=14,N[130]=G[130]=6,k[130]=V[130]=3,N[40]=G[40]=6,k[40]=V[40]=3,B[101]=V[101]=1,B[69]=V[69]=1,R[149]=G[149]=21,R[21]=G[21]=21,N[86]=j[86]=17,N[84]=j[84]=17,O[89]=k[89]=9,O[81]=k[81]=9,O[96]=V[96]=0,B[96]=j[96]=15,O[74]=V[74]=0,B[74]=j[74]=15,O[24]=N[24]=8,k[24]=G[24]=7,O[146]=N[146]=8,k[146]=G[146]=7,B[6]=j[6]=15,N[6]=R[6]=16,B[164]=j[164]=15,N[164]=R[164]=16,k[129]=G[129]=7,R[129]=V[129]=20,k[41]=G[41]=7,R[41]=V[41]=20,N[66]=V[66]=2,k[66]=j[66]=19,N[104]=V[104]=2,k[104]=j[104]=19,O[144]=R[144]=10,j[144]=G[144]=23,O[26]=R[26]=10,j[26]=G[26]=23,B[36]=G[36]=5,N[36]=V[36]=2,B[134]=G[134]=5,N[134]=V[134]=2,O[9]=R[9]=10,B[9]=k[9]=13,O[161]=R[161]=10,B[161]=k[161]=13,B[37]=G[37]=5,R[37]=V[37]=20,B[133]=G[133]=5,R[133]=V[133]=20,N[148]=R[148]=16,j[148]=G[148]=23,N[22]=R[22]=16,j[22]=G[22]=23,O[82]=N[82]=8,k[82]=j[82]=19,O[88]=N[88]=8,k[88]=j[88]=19,O[73]=V[73]=0,B[73]=k[73]=13,O[97]=V[97]=0,B[97]=k[97]=13,O[145]=k[145]=9,R[145]=G[145]=21,O[25]=k[25]=9,R[25]=G[25]=21,B[70]=V[70]=1,N[70]=j[70]=17,B[100]=V[100]=1,N[100]=j[100]=17,O[34]=k[34]=9,B[34]=N[34]=12,R[34]=G[34]=21,j[34]=V[34]=22,O[136]=G[136]=4,B[136]=V[136]=1,N[136]=j[136]=17,k[136]=R[136]=18,O[35]=G[35]=4,B[35]=N[35]=12,k[35]=R[35]=18,j[35]=V[35]=22,O[153]=G[153]=4,k[153]=R[153]=18,B[102]=N[102]=12,j[102]=V[102]=22,O[155]=k[155]=9,R[155]=G[155]=23,B[103]=V[103]=1,N[103]=j[103]=17,O[152]=G[152]=4,N[152]=j[152]=17,k[152]=R[152]=18,O[156]=N[156]=8,k[156]=R[156]=18,j[156]=G[156]=23,O[137]=G[137]=4,B[137]=V[137]=1,k[137]=R[137]=18,O[139]=G[139]=4,B[139]=k[139]=13,R[139]=V[139]=20,O[98]=k[98]=9,B[98]=N[98]=12,j[98]=V[98]=22,O[99]=V[99]=0,B[99]=N[99]=12,k[99]=j[99]=19,B[38]=N[38]=12,R[38]=G[38]=21,j[38]=V[38]=22,B[39]=G[39]=5,N[39]=R[39]=16,j[39]=V[39]=22;var z=[];function q(t,e,n){return(t-e)/(n-e)}function U(t){return t.constructor.toString().indexOf("Array")>-1}function X(t,e,n,i,r,o){for(var s=t.cells[n][e],a=s.cval_real,u=e+i,l=n+r,c=[],h=!1;!h;){if(void 0===t.cells[l]||void 0===t.cells[l][u])if(l-=r,u-=i,a=(s=t.cells[l][u]).cval_real,-1===r)if(0===o)if(1&a)c.push([u,l]),i=-1,r=0,o=0;else{if(!(4&a)){c.push([u+s.bottomright,l]),i=0,r=1,o=1,h=!0;break}c.push([u+1,l]),i=1,r=0,o=0}else{if(!(1&a)){if(4&a){c.push([u+s.bottomright,l]),i=0,r=1,o=1,h=!0;break}c.push([u+s.bottomleft,l]),i=0,r=1,o=0,h=!0;break}c.push([u,l]),i=-1,r=0,o=0}else if(1===r)if(0===o){if(!(16&a)){if(64&a){c.push([u+s.topleft,l+1]),i=0,r=-1,o=0,h=!0;break}c.push([u+s.topright,l+1]),i=0,r=-1,o=1,h=!0;break}c.push([u+1,l+1]),i=1,r=0,o=1}else c.push([u+1,l+1]),i=1,r=0,o=1;else if(-1===i)if(0===o){if(!(64&a)){if(1&a){c.push([u,l+s.leftbottom]),i=1,r=0,o=0,h=!0;break}c.push([u,l+s.lefttop]),i=1,r=0,o=1,h=!0;break}c.push([u,l+1]),i=0,r=1,o=0}else{if(!(64&a)){console.log("MarchingSquaresJS-isoBands: wtf");break}c.push([u,l+1]),i=0,r=1,o=0}else{if(1!==i){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(0===o){if(!(4&a)){c.push([u+1,l+s.rightbottom]),i=-1,r=0,o=0,h=!0;break}c.push([u+1,l]),i=0,r=-1,o=1}else{if(!(4&a)){if(16&a){c.push([u+1,l+s.righttop]),i=-1,r=0,o=1;break}c.push([u+1,l+s.rightbottom]),i=-1,r=0,o=0,h=!0;break}c.push([u+1,l]),i=0,r=-1,o=1}}else if(a=(s=t.cells[l][u]).cval_real,-1===i)if(0===o)if(void 0!==t.cells[l-1]&&void 0!==t.cells[l-1][u])i=0,r=-1,o=1;else{if(!(1&a)){c.push([u+s.bottomright,l]),i=0,r=1,o=1,h=!0;break}c.push([u,l])}else{if(!(64&a)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+u+","+l);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(1===i){if(0===o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[l+1]&&void 0!==t.cells[l+1][u])i=0,r=1,o=0;else{if(!(16&a)){c.push([u+s.topleft,l+1]),i=0,r=-1,o=0,h=!0;break}c.push([u+1,l+1]),i=1,r=0,o=1}}else if(-1===r){if(1!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[l][u+1])i=1,r=0,o=1;else{if(!(4&a)){c.push([u+1,l+s.righttop]),i=-1,r=0,o=1,h=!0;break}c.push([u+1,l]),i=0,r=-1,o=1}}else{if(1!==r){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(0!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[l][u-1])i=-1,r=0,o=0;else{if(!(64&a)){c.push([u,l+s.leftbottom]),i=1,r=0,o=0,h=!0;break}c.push([u,l+1]),i=0,r=1,o=0}}if(l+=r,(u+=i)===e&&l===n)break}return{path:c,i:u,j:l,x:i,y:r,o:o}}function H(t){if(t.edges.length>0){var e=t.edges[t.edges.length-1],n=t.cval_real;switch(e){case 0:return 16&n?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 1:return 4&n?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 2:return 4&n?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 3:return 1&n?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 4:return 16&n?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 5:return 4&n?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 6:return 4&n?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 7:return 1&n?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 8:return 4&n?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.righttop],x:-1,y:0,o:1};case 9:return 1&n?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 10:return 1&n?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.righttop],x:-1,y:0,o:1};case 11:return 64&n?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 12:return 4&n?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 13:return 1&n?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 14:return 1&n?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 15:return 64&n?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 16:return 4&n?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 17:return 64&n?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 18:return 1&n?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 19:return 64&n?{p:[t.bottomleft,0],x:0,y:1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 20:return 64&n?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 21:return 16&n?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.topright,1],x:0,y:-1,o:1};case 22:return 64&n?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 23:return 16&n?{p:[0,t.lefttop],x:1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t)}}return null}function Y(t,e,S,D){var L,F,T,M,I,P=t.cval;switch(e){case-1:switch(D){case 0:L=B[P],T=h[P],M=f[P],I=d[P];break;default:L=O[P],T=u[P],M=l[P],I=c[P]}break;case 1:switch(D){case 0:L=R[P],T=w[P],M=_[P],I=A[P];break;default:L=j[P],T=E[P],M=b[P],I=C[P]}break;default:switch(S){case-1:switch(D){case 0:L=V[P],T=n[P],M=i[P],I=r[P];break;default:L=G[P],T=o[P],M=s[P],I=a[P]}break;case 1:switch(D){case 0:L=k[P],T=p[P],M=g[P],I=v[P];break;default:L=N[P],T=m[P],M=y[P],I=x[P]}}}if(F=t.edges.indexOf(L),void 0===t.edges[F])return null;switch(function(t,e){delete t.edges[e];for(var n=e+1;n<t.edges.length;n++)t.edges[n-1]=t.edges[n];t.edges.pop()}(t,F),P=t.cval_real,L){case 0:16&P?(e=t.topleft,S=1):(e=1,S=t.righttop);break;case 1:4&P?(e=1,S=t.rightbottom):(e=t.topleft,S=1);break;case 2:4&P?(e=t.topleft,S=1):(e=t.bottomright,S=0);break;case 3:1&P?(e=t.bottomleft,S=0):(e=t.topleft,S=1);break;case 4:16&P?(e=t.topright,S=1):(e=1,S=t.righttop);break;case 5:4&P?(e=1,S=t.rightbottom):(e=t.topright,S=1);break;case 6:4&P?(e=t.topright,S=1):(e=t.bottomright,S=0);break;case 7:1&P?(e=t.bottomleft,S=0):(e=t.topright,S=1);break;case 8:4&P?(e=1,S=t.righttop):(e=t.bottomright,S=0);break;case 9:1&P?(e=t.bottomleft,S=0):(e=1,S=t.righttop);break;case 10:1&P?(e=1,S=t.righttop):(e=0,S=t.leftbottom);break;case 11:64&P?(e=0,S=t.lefttop):(e=1,S=t.righttop);break;case 12:4&P?(e=1,S=t.rightbottom):(e=t.bottomright,S=0);break;case 13:1&P?(e=t.bottomleft,S=0):(e=1,S=t.rightbottom);break;case 14:1&P?(e=1,S=t.rightbottom):(e=0,S=t.leftbottom);break;case 15:64&P?(e=0,S=t.lefttop):(e=1,S=t.rightbottom);break;case 16:4&P?(e=0,S=t.leftbottom):(e=t.bottomright,S=0);break;case 17:64&P?(e=0,S=t.lefttop):(e=t.bottomright,S=0);break;case 18:1&P?(e=t.bottomleft,S=0):(e=0,S=t.leftbottom);break;case 19:64&P?(e=0,S=t.lefttop):(e=t.bottomleft,S=0);break;case 20:64&P?(e=0,S=t.leftbottom):(e=t.topleft,S=1);break;case 21:16&P?(e=t.topright,S=1):(e=0,S=t.leftbottom);break;case 22:64&P?(e=0,S=t.lefttop):(e=t.topleft,S=1);break;case 23:16&P?(e=t.topright,S=1):(e=0,S=t.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t),null}return void 0!==e&&void 0!==S&&void 0!==T&&void 0!==M&&void 0!==I||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(t),console.log(e+" "+S+" "+T+" "+M+" "+I)),{p:[e,S],x:T,y:M,o:I}}return z[1]=z[169]=S,z[4]=z[166]=D,z[16]=z[154]=L,z[64]=z[106]=F,z[168]=z[2]=T,z[162]=z[8]=M,z[138]=z[32]=I,z[42]=z[128]=P,z[5]=z[165]=function(t){return[[0,0],[0,t.leftbottom],[1,t.rightbottom],[1,0]]},z[20]=z[150]=function(t){return[[1,0],[t.bottomright,0],[t.topright,1],[1,1]]},z[80]=z[90]=function(t){return[[1,1],[1,t.righttop],[0,t.lefttop],[0,1]]},z[65]=z[105]=function(t){return[[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},z[160]=z[10]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.leftbottom],[0,t.lefttop]]},z[130]=z[40]=function(t){return[[t.topleft,1],[t.topright,1],[t.bottomright,0],[t.bottomleft,0]]},z[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},z[101]=z[69]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,1],[t.topleft,1]]},z[149]=z[21]=function(t){return[[t.topright,1],[1,1],[1,0],[0,0],[0,t.leftbottom]]},z[86]=z[84]=function(t){return[[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[1,1]]},z[89]=z[81]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,1]]},z[96]=z[74]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.lefttop],[0,1],[t.topleft,1]]},z[24]=z[146]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[t.topright,1]]},z[6]=z[164]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop]]},z[129]=z[41]=function(t){return[[t.topright,1],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1]]},z[66]=z[104]=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},z[144]=z[26]=function(t){return[[1,1],[1,t.righttop],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},z[36]=z[134]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[t.topleft,1],[t.topright,1]]},z[9]=z[161]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom]]},z[37]=z[133]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},z[148]=z[22]=function(t){return[[1,1],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},z[82]=z[88]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1]]},z[73]=z[97]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},z[145]=z[25]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},z[70]=z[100]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},z[34]=function(t){return[P(t),M(t)]},z[35]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},z[136]=function(t){return[I(t),T(t)]},z[153]=function(t){return[L(t),S(t)]},z[102]=function(t){return[D(t),F(t)]},z[155]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},z[103]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},z[152]=function(t){return[L(t),T(t)]},z[156]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},z[137]=function(t){return[I(t),S(t)]},z[139]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},z[98]=function(t){return[M(t),F(t)]},z[99]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},z[38]=function(t){return[D(t),P(t)]},z[39]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},function(n,i,r,o){o=o||{};for(var s=Object.keys(t),a=0;a<s.length;a++){var u=s[a],l=o[u];l=null!=l?l:t[u],e[u]=l}e.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+i+":"+(i+r)+"]");var c,h=function(t,e,n){for(var i=t.length-1,r=t[0].length-1,o={rows:i,cols:r,cells:[]},s=e+Math.abs(n),a=0;a<i;++a){o.cells[a]=[];for(var u=0;u<r;++u){var l=0,c=t[a+1][u],h=t[a+1][u+1],f=t[a][u+1],d=t[a][u];if(!(isNaN(c)||isNaN(h)||isNaN(f)||isNaN(d))){l|=c<e?0:c>s?128:64,l|=h<e?0:h>s?32:16,l|=f<e?0:f>s?8:4;var p=+(l|=d<e?0:d>s?2:1),g=0;if(17===l||18===l||33===l||34===l||38===l||68===l||72===l||98===l||102===l||132===l||136===l||137===l||152===l||153===l){var v=(c+h+f+d)/4;g=v>s?2:v<e?0:1,34===l?1===g?l=35:0===g&&(l=136):136===l?1===g?(l=35,g=4):0===g&&(l=34):17===l?1===g?(l=155,g=4):0===g&&(l=153):68===l?1===g?(l=103,g=4):0===g&&(l=102):153===l?1===g&&(l=155):102===l?1===g&&(l=103):152===l?g<2&&(l=156,g=1):137===l?g<2&&(l=139,g=1):98===l?g<2&&(l=99,g=1):38===l?g<2&&(l=39,g=1):18===l?g>0?(l=156,g=4):l=152:33===l?g>0?(l=139,g=4):l=137:72===l?g>0?(l=99,g=4):l=98:132===l&&(g>0?(l=39,g=4):l=38)}if(0!=l&&170!=l){var m,y,x,E,b,C,w,_;m=y=x=E=b=C=w=_=.5;var A=[];1===l?(x=1-q(e,f,d),_=1-q(e,c,d),A.push(k[l])):169===l?(x=q(s,d,f),_=q(s,d,c),A.push(k[l])):4===l?(C=1-q(e,h,f),E=q(e,d,f),A.push(B[l])):166===l?(C=q(s,f,h),E=1-q(s,f,d),A.push(B[l])):16===l?(b=q(e,f,h),y=q(e,c,h),A.push(O[l])):154===l?(b=1-q(s,h,f),y=1-q(s,h,c),A.push(O[l])):64===l?(w=q(e,d,c),m=1-q(e,h,c),A.push(j[l])):106===l?(w=1-q(s,c,d),m=q(s,c,h),A.push(j[l])):168===l?(E=q(s,d,f),x=q(e,d,f),_=q(e,d,c),w=q(s,d,c),A.push(N[l]),A.push(k[l])):2===l?(E=1-q(e,f,d),x=1-q(s,f,d),_=1-q(s,c,d),w=1-q(e,c,d),A.push(N[l]),A.push(k[l])):162===l?(b=q(s,f,h),C=q(e,f,h),E=1-q(e,f,d),x=1-q(s,f,d),A.push(N[l]),A.push(k[l])):8===l?(b=1-q(e,h,f),C=1-q(s,h,f),E=q(s,d,f),x=q(e,d,f),A.push(O[l]),A.push(B[l])):138===l?(b=1-q(e,h,f),C=1-q(s,h,f),m=1-q(s,h,c),y=1-q(e,h,c),A.push(O[l]),A.push(B[l])):32===l?(b=q(s,f,h),C=q(e,f,h),m=q(e,c,h),y=q(s,c,h),A.push(O[l]),A.push(B[l])):42===l?(_=1-q(s,c,d),w=1-q(e,c,d),m=q(e,c,h),y=q(s,c,h),A.push(R[l]),A.push(j[l])):128===l&&(_=q(e,d,c),w=q(s,d,c),m=1-q(s,h,c),y=1-q(e,h,c),A.push(R[l]),A.push(j[l])),5===l?(C=1-q(e,h,f),_=1-q(e,c,d),A.push(B[l])):165===l?(C=q(s,f,h),_=q(s,d,c),A.push(B[l])):20===l?(E=q(e,d,f),y=q(e,c,h),A.push(N[l])):150===l?(E=1-q(s,f,d),y=1-q(s,h,c),A.push(N[l])):80===l?(b=q(e,f,h),w=q(e,d,c),A.push(O[l])):90===l?(b=1-q(s,h,f),w=1-q(s,c,d),A.push(O[l])):65===l?(x=1-q(e,f,d),m=1-q(e,h,c),A.push(k[l])):105===l?(x=q(s,d,f),m=q(s,c,h),A.push(k[l])):160===l?(b=q(s,f,h),C=q(e,f,h),_=q(e,d,c),w=q(s,d,c),A.push(O[l]),A.push(B[l])):10===l?(b=1-q(e,h,f),C=1-q(s,h,f),_=1-q(s,c,d),w=1-q(e,c,d),A.push(O[l]),A.push(B[l])):130===l?(E=1-q(e,f,d),x=1-q(s,f,d),m=1-q(s,h,c),y=1-q(e,h,c),A.push(N[l]),A.push(k[l])):40===l?(E=q(s,d,f),x=q(e,d,f),m=q(e,c,h),y=q(s,c,h),A.push(N[l]),A.push(k[l])):101===l?(C=q(s,f,h),m=q(s,c,h),A.push(B[l])):69===l?(C=1-q(e,h,f),m=1-q(e,h,c),A.push(B[l])):149===l?(_=q(s,d,c),y=1-q(s,h,c),A.push(R[l])):21===l?(_=1-q(e,c,d),y=q(e,c,h),A.push(R[l])):86===l?(E=1-q(s,f,d),w=1-q(s,c,d),A.push(N[l])):84===l?(E=q(e,d,f),w=q(e,d,c),A.push(N[l])):89===l?(b=1-q(s,h,f),x=q(s,d,f),A.push(k[l])):81===l?(b=q(e,f,h),x=1-q(e,f,d),A.push(k[l])):96===l?(b=q(s,f,h),C=q(e,f,h),w=q(e,d,c),m=q(s,c,h),A.push(O[l]),A.push(B[l])):74===l?(b=1-q(e,h,f),C=1-q(s,h,f),w=1-q(s,c,d),m=1-q(e,h,c),A.push(O[l]),A.push(B[l])):24===l?(b=1-q(s,h,f),E=q(s,d,f),x=q(e,d,f),y=q(e,c,h),A.push(O[l]),A.push(k[l])):146===l?(b=q(e,f,h),E=1-q(e,f,d),x=1-q(s,f,d),y=1-q(s,h,c),A.push(O[l]),A.push(k[l])):6===l?(C=1-q(e,h,f),E=1-q(s,f,d),_=1-q(s,c,d),w=1-q(e,c,d),A.push(B[l]),A.push(N[l])):164===l?(C=q(s,f,h),E=q(e,d,f),_=q(e,d,c),w=q(s,d,c),A.push(B[l]),A.push(N[l])):129===l?(x=1-q(e,f,d),_=q(s,d,c),m=1-q(s,h,c),y=1-q(e,h,c),A.push(k[l]),A.push(R[l])):41===l?(x=q(s,d,f),_=1-q(e,c,d),m=q(e,c,h),y=q(s,c,h),A.push(k[l]),A.push(R[l])):66===l?(E=1-q(e,f,d),x=1-q(s,f,d),w=1-q(s,c,d),m=1-q(e,h,c),A.push(N[l]),A.push(k[l])):104===l?(E=q(s,d,f),x=q(e,d,f),w=q(e,d,c),m=q(s,c,h),A.push(k[l]),A.push(V[l])):144===l?(b=q(e,f,h),_=q(e,d,c),w=q(s,d,c),y=1-q(s,h,c),A.push(O[l]),A.push(j[l])):26===l?(b=1-q(s,h,f),_=1-q(s,c,d),w=1-q(e,c,d),y=q(e,c,h),A.push(O[l]),A.push(j[l])):36===l?(C=q(s,f,h),E=q(e,d,f),m=q(e,c,h),y=q(s,c,h),A.push(B[l]),A.push(N[l])):134===l?(C=1-q(e,h,f),E=1-q(s,f,d),m=1-q(s,h,c),y=1-q(e,h,c),A.push(B[l]),A.push(N[l])):9===l?(b=1-q(e,h,f),C=1-q(s,h,f),x=q(s,d,f),_=1-q(e,c,d),A.push(O[l]),A.push(B[l])):161===l?(b=q(s,f,h),C=q(e,f,h),x=1-q(e,f,d),_=q(s,d,c),A.push(O[l]),A.push(B[l])):37===l?(C=q(s,f,h),_=1-q(e,c,d),m=q(e,c,h),y=q(s,c,h),A.push(B[l]),A.push(R[l])):133===l?(C=1-q(e,h,f),_=q(s,d,c),m=1-q(s,h,c),y=1-q(e,h,c),A.push(B[l]),A.push(R[l])):148===l?(E=q(e,d,f),_=q(e,d,c),w=q(s,d,c),y=1-q(s,h,c),A.push(N[l]),A.push(j[l])):22===l?(E=1-q(s,f,d),_=1-q(s,c,d),w=1-q(e,c,d),y=q(e,c,h),A.push(N[l]),A.push(j[l])):82===l?(b=q(e,f,h),E=1-q(e,f,d),x=1-q(s,f,d),w=1-q(s,c,d),A.push(O[l]),A.push(k[l])):88===l?(b=1-q(s,h,f),E=q(s,d,f),x=q(e,d,f),w=q(e,d,c),A.push(O[l]),A.push(k[l])):73===l?(b=1-q(e,h,f),C=1-q(s,h,f),x=q(s,d,f),m=1-q(e,h,c),A.push(O[l]),A.push(B[l])):97===l?(b=q(s,f,h),C=q(e,f,h),x=1-q(e,f,d),m=q(s,c,h),A.push(O[l]),A.push(B[l])):145===l?(b=q(e,f,h),x=1-q(e,f,d),_=q(s,d,c),y=1-q(s,h,c),A.push(O[l]),A.push(R[l])):25===l?(b=1-q(s,h,f),x=q(s,d,f),_=1-q(e,c,d),y=q(e,c,h),A.push(O[l]),A.push(R[l])):70===l?(C=1-q(e,h,f),E=1-q(s,f,d),w=1-q(s,c,d),m=1-q(e,h,c),A.push(B[l]),A.push(N[l])):100===l?(C=q(s,f,h),E=q(e,d,f),w=q(e,d,c),m=q(s,c,h),A.push(B[l]),A.push(N[l])):34===l?(0===g?(b=1-q(e,h,f),C=1-q(s,h,f),E=q(s,d,f),x=q(e,d,f),_=q(e,d,c),w=q(s,d,c),m=1-q(s,h,c),y=1-q(e,h,c)):(b=q(s,f,h),C=q(e,f,h),E=1-q(e,f,d),x=1-q(s,f,d),_=1-q(s,c,d),w=1-q(e,c,d),m=q(e,c,h),y=q(s,c,h)),A.push(O[l]),A.push(B[l]),A.push(R[l]),A.push(j[l])):35===l?(4===g?(b=1-q(e,h,f),C=1-q(s,h,f),E=q(s,d,f),x=q(e,d,f),_=q(e,d,c),w=q(s,d,c),m=1-q(s,h,c),y=1-q(e,h,c)):(b=q(s,f,h),C=q(e,f,h),E=1-q(e,f,d),x=1-q(s,f,d),_=1-q(s,c,d),w=1-q(e,c,d),m=q(e,c,h),y=q(s,c,h)),A.push(O[l]),A.push(B[l]),A.push(k[l]),A.push(j[l])):136===l?(0===g?(b=q(s,f,h),C=q(e,f,h),E=1-q(e,f,d),x=1-q(s,f,d),_=1-q(s,c,d),w=1-q(e,c,d),m=q(e,c,h),y=q(s,c,h)):(b=1-q(e,h,f),C=1-q(s,h,f),E=q(s,d,f),x=q(e,d,f),_=q(e,d,c),w=q(s,d,c),m=1-q(s,h,c),y=1-q(e,h,c)),A.push(O[l]),A.push(B[l]),A.push(R[l]),A.push(j[l])):153===l?(0===g?(b=q(e,f,h),x=1-q(e,f,d),_=1-q(e,c,d),y=q(e,c,h)):(b=1-q(s,h,f),x=q(s,d,f),_=q(s,d,c),y=1-q(s,h,c)),A.push(O[l]),A.push(k[l])):102===l?(0===g?(C=1-q(e,h,f),E=q(e,d,f),w=q(e,d,c),m=1-q(e,h,c)):(C=q(s,f,h),E=1-q(s,f,d),w=1-q(s,c,d),m=q(s,c,h)),A.push(B[l]),A.push(j[l])):155===l?(4===g?(b=q(e,f,h),x=1-q(e,f,d),_=1-q(e,c,d),y=q(e,c,h)):(b=1-q(s,h,f),x=q(s,d,f),_=q(s,d,c),y=1-q(s,h,c)),A.push(O[l]),A.push(R[l])):103===l?(4===g?(C=1-q(e,h,f),E=q(e,d,f),w=q(e,d,c),m=1-q(e,h,c)):(C=q(s,f,h),E=1-q(s,f,d),w=1-q(s,c,d),m=q(s,c,h)),A.push(B[l]),A.push(N[l])):152===l?(0===g?(b=q(e,f,h),E=1-q(e,f,d),x=1-q(s,f,d),_=1-q(s,c,d),w=1-q(e,c,d),y=q(e,c,h)):(b=1-q(s,h,f),E=q(s,d,f),x=q(e,d,f),_=q(e,d,c),w=q(s,d,c),y=1-q(s,h,c)),A.push(O[l]),A.push(N[l]),A.push(k[l])):156===l?(4===g?(b=q(e,f,h),E=1-q(e,f,d),x=1-q(s,f,d),_=1-q(s,c,d),w=1-q(e,c,d),y=q(e,c,h)):(b=1-q(s,h,f),E=q(s,d,f),x=q(e,d,f),_=q(e,d,c),w=q(s,d,c),y=1-q(s,h,c)),A.push(O[l]),A.push(k[l]),A.push(j[l])):137===l?(0===g?(b=q(s,f,h),C=q(e,f,h),x=1-q(e,f,d),_=1-q(e,c,d),m=q(e,c,h),y=q(s,c,h)):(b=1-q(e,h,f),C=1-q(s,h,f),x=q(s,d,f),_=q(s,d,c),m=1-q(s,h,c),y=1-q(e,h,c)),A.push(O[l]),A.push(B[l]),A.push(k[l])):139===l?(4===g?(b=q(s,f,h),C=q(e,f,h),x=1-q(e,f,d),_=1-q(e,c,d),m=q(e,c,h),y=q(s,c,h)):(b=1-q(e,h,f),C=1-q(s,h,f),x=q(s,d,f),_=q(s,d,c),m=1-q(s,h,c),y=1-q(e,h,c)),A.push(O[l]),A.push(B[l]),A.push(R[l])):98===l?(0===g?(b=1-q(e,h,f),C=1-q(s,h,f),E=q(s,d,f),x=q(e,d,f),w=q(e,d,c),m=1-q(e,h,c)):(b=q(s,f,h),C=q(e,f,h),E=1-q(e,f,d),x=1-q(s,f,d),w=1-q(s,c,d),m=q(s,c,h)),A.push(O[l]),A.push(B[l]),A.push(j[l])):99===l?(4===g?(b=1-q(e,h,f),C=1-q(s,h,f),E=q(s,d,f),x=q(e,d,f),w=q(e,d,c),m=1-q(e,h,c)):(b=q(s,f,h),C=q(e,f,h),E=1-q(e,f,d),x=1-q(s,f,d),w=1-q(s,c,d),m=q(s,c,h)),A.push(O[l]),A.push(B[l]),A.push(k[l])):38===l?(0===g?(C=1-q(e,h,f),E=q(e,d,f),_=q(e,d,c),w=q(s,d,c),m=1-q(s,h,c),y=1-q(e,h,c)):(C=q(s,f,h),E=1-q(s,f,d),_=1-q(s,c,d),w=1-q(e,c,d),m=q(e,c,h),y=q(s,c,h)),A.push(B[l]),A.push(R[l]),A.push(j[l])):39===l?(4===g?(C=1-q(e,h,f),E=q(e,d,f),_=q(e,d,c),w=q(s,d,c),m=1-q(s,h,c),y=1-q(e,h,c)):(C=q(s,f,h),E=1-q(s,f,d),_=1-q(s,c,d),w=1-q(e,c,d),m=q(e,c,h),y=q(s,c,h)),A.push(B[l]),A.push(N[l]),A.push(j[l])):85===l&&(b=1,C=0,E=1,x=0,_=0,w=1,m=0,y=1),(m<0||m>1||y<0||y>1||b<0||b>1||E<0||E>1||_<0||_>1||w<0||w>1)&&console.log("MarchingSquaresJS-isoBands: "+l+" "+p+" "+c+","+h+","+f+","+d+" "+g+" "+m+" "+y+" "+b+" "+C+" "+E+" "+x+" "+_+" "+w),o.cells[a][u]={cval:l,cval_real:p,flipped:g,topleft:m,topright:y,righttop:b,rightbottom:C,bottomright:E,bottomleft:x,leftbottom:_,lefttop:w,edges:A}}}}}return o}(n,i,r);return e.polygons?(e.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),c=function(t){var e=[],n=0;return t.cells.forEach((function(t,i){t.forEach((function(t,r){if(void 0!==t){var o=z[t.cval](t);"object"==typeof o&&U(o)?"object"==typeof o[0]&&U(o[0])?"object"==typeof o[0][0]&&U(o[0][0])?o.forEach((function(t){t.forEach((function(t){t[0]+=r,t[1]+=i})),e[n++]=t})):(o.forEach((function(t){t[0]+=r,t[1]+=i})),e[n++]=o):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}}))})),e}(h)):(e.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),c=function(t){for(var e=[],n=t.rows,i=t.cols,r=[],o=0;o<n;o++)for(var s=0;s<i;s++)if(void 0!==t.cells[o][s]&&t.cells[o][s].edges.length>0){var a=H(t.cells[o][s]),u=null,l=s,c=o;null!==a&&r.push([a.p[0]+l,a.p[1]+c]);do{if(null===(u=Y(t.cells[c][l],a.x,a.y,a.o)))break;if(r.push([u.p[0]+l,u.p[1]+c]),l+=u.x,c+=u.y,a=u,c<0||c>=n||l<0||l>=i||void 0===t.cells[c][l]){l-=u.x,c-=u.y;var h=X(t,l,c,u.x,u.y,u.o);if(null===h)break;h.path.forEach((function(t){r.push(t)})),l=h.i,c=h.j,a=h}}while(void 0!==t.cells[c][l]&&t.cells[c][l].edges.length>0);e.push(r),r=[],t.cells[o][s].edges.length>0&&s--}return e}(h)),"function"==typeof e.successCallback&&e.successCallback(c),c}},void 0===(i=function(){return{isoBands:r()}}.apply(e,[]))||(t.exports=i)},function(t,e,n){var i,r;
/*!
* @license GNU Affero General Public License.
* Copyright (c) 2015, 2015 Ronny Lorenz <ronny@tbi.univie.ac.at>
* v. 1.2.0
* https://github.com/RaumZeit/MarchingSquares.js
*/r=function(){var t={successCallback:null,verbose:!1},e={};function n(t,e,n){return(t-e)/(n-e)}function i(t){return 0===t.cval||15===t.cval}function r(t){i(t)||5===t.cval||10===t.cval||(t.cval=15)}function o(t,e){return"top"===e?[t.top,1]:"bottom"===e?[t.bottom,0]:"right"===e?[1,t.right]:"left"===e?[0,t.left]:void 0}return function(s,a,u){u=u||{};for(var l=Object.keys(t),c=0;c<l.length;c++){var h=l[c],f=u[h];f=null!=f?f:t[h],e[h]=f}e.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+a);var d,p,g,v=(d=function(t,e){for(var i=t.length-1,r=t[0].length-1,o={rows:i,cols:r,cells:[]},s=0;s<i;++s){o.cells[s]=[];for(var a=0;a<r;++a){var u=0,l=t[s+1][a],c=t[s+1][a+1],h=t[s][a+1],f=t[s][a];if(!(isNaN(l)||isNaN(c)||isNaN(h)||isNaN(f))){u|=l>=e?8:0,u|=c>=e?4:0,u|=h>=e?2:0;var d,p,g,v,m=!1;if(5==(u|=f>=e?1:0)||10===u){var y=(l+c+h+f)/4;5===u&&y<e?(u=10,m=!0):10===u&&y<e&&(u=5,m=!0)}0!=u&&15!=u&&(d=p=g=v=.5,1===u?(g=1-n(e,l,f),p=1-n(e,h,f)):2===u?(p=n(e,f,h),v=1-n(e,c,h)):3===u?(g=1-n(e,l,f),v=1-n(e,c,h)):4===u?(d=n(e,l,c),v=n(e,h,c)):5===u?(d=n(e,l,c),v=n(e,h,c),p=1-n(e,h,f),g=1-n(e,l,f)):6===u?(p=n(e,f,h),d=n(e,l,c)):7===u?(g=1-n(e,l,f),d=n(e,l,c)):8===u?(g=n(e,f,l),d=1-n(e,c,l)):9===u?(p=1-n(e,h,f),d=1-n(e,c,l)):10===u?(d=1-n(e,c,l),v=1-n(e,c,h),p=n(e,f,h),g=n(e,f,l)):11===u?(d=1-n(e,c,l),v=1-n(e,c,h)):12===u?(g=n(e,f,l),v=n(e,h,c)):13===u?(p=1-n(e,h,f),v=n(e,h,c)):14===u?(g=n(e,f,l),p=n(e,f,h)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+u),o.cells[s][a]={cval:u,flipped:m,top:d,right:v,bottom:p,left:g})}}}return o}(s,a),p=[],g=0,d.rows,d.cols,d.cells.forEach((function(t,e){t.forEach((function(t,n){if(void 0!==t&&5!==(f=t).cval&&10!==f.cval&&!i(t)){var s=function(t,e,n){var i,s,a,u=t.length,l=[],c=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],h=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],f=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],d=(t[e][n],t[e][n]),p=d.cval,g=o(d,a=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"][p]);l.push([n+g[0],e+g[1]]),g=o(d,a=f[p]),l.push([n+g[0],e+g[1]]),r(d);for(var v=n+c[p],m=e+h[p],y=p;v>=0&&m>=0&&m<u&&(v!=n||m!=e)&&void 0!==(d=t[m][v]);){if(0===(p=d.cval)||15===p)return{path:l,info:"mergeable"};a=f[p],i=c[p],s=h[p],5!==p&&10!==p||(5===p?d.flipped?-1===h[y]?(a="left",i=-1,s=0):(a="right",i=1,s=0):-1===c[y]&&(a="bottom",i=0,s=-1):10===p&&(d.flipped?-1===c[y]?(a="top",i=0,s=1):(a="bottom",i=0,s=-1):1===h[y]&&(a="left",i=-1,s=0))),g=o(d,a),l.push([v+g[0],m+g[1]]),r(d),v+=i,m+=s,y=p}return{path:l,info:"closed"}}(d.cells,e,n),a=!1;if("mergeable"===s.info)for(var u=s.path[s.path.length-1][0],l=s.path[s.path.length-1][1],c=g-1;c>=0;c--)if(Math.abs(p[c][0][0]-u)<=1e-7&&Math.abs(p[c][0][1]-l)<=1e-7){for(var h=s.path.length-2;h>=0;--h)p[c].unshift(s.path[h]);a=!0;break}a||(p[g++]=s.path)}var f}))})),p);return"function"==typeof e.successCallback&&e.successCallback(v),v}},void 0===(i=function(){return{isoContours:r()}}.apply(e,[]))||(t.exports=i)},function(t,e,n){"use strict";var i=n(318),r=n(319),o=n(325);t.exports=function(t){var e=t.length;if(0===e)return[];if(1===e)return[[0]];var n=t[0].length;if(0===n)return[];if(1===n)return i(t);if(2===n)return r(t);return o(t,n)}},function(t,e,n){"use strict";t.exports=function(t){for(var e=0,n=0,i=1;i<t.length;++i)t[i][0]<t[e][0]&&(e=i),t[i][0]>t[n][0]&&(n=i);return e<n?[[e],[n]]:e>n?[[n],[e]]:[[e]]}},function(t,e,n){"use strict";t.exports=function(t){var e=i(t),n=e.length;if(n<=2)return[];for(var r=new Array(n),o=e[n-1],s=0;s<n;++s){var a=e[s];r[s]=[o,a],o=a}return r};var i=n(320)},function(t,e,n){"use strict";t.exports=function(t){var e=t.length;if(e<3){for(var n=new Array(e),r=0;r<e;++r)n[r]=r;return 2===e&&t[0][0]===t[1][0]&&t[0][1]===t[1][1]?[0]:n}var o=new Array(e);for(r=0;r<e;++r)o[r]=r;o.sort((function(e,n){var i=t[e][0]-t[n][0];return i||t[e][1]-t[n][1]}));var s=[o[0],o[1]],a=[o[0],o[1]];for(r=2;r<e;++r){for(var u=o[r],l=t[u],c=s.length;c>1&&i(t[s[c-2]],t[s[c-1]],l)<=0;)c-=1,s.pop();for(s.push(u),c=a.length;c>1&&i(t[a[c-2]],t[a[c-1]],l)>=0;)c-=1,a.pop();a.push(u)}n=new Array(a.length+s.length-2);for(var h=0,f=(r=0,s.length);r<f;++r)n[h++]=s[r];for(var d=a.length-2;d>0;--d)n[h++]=a[d];return n};var i=n(94)[3]},function(t,e,n){"use strict";t.exports=function(t,e){var n=0|t.length,i=0|e.length;if(1===n&&1===i)return function(t,e){var n=t+e,i=n-t,r=t-(n-i)+(e-i);if(r)return[r,n];return[n]}(t[0],e[0]);var r,o,s=new Array(n+i),a=0,u=0,l=0,c=Math.abs,h=t[u],f=c(h),d=e[l],p=c(d);f<p?(o=h,(u+=1)<n&&(h=t[u],f=c(h))):(o=d,(l+=1)<i&&(d=e[l],p=c(d)));u<n&&f<p||l>=i?(r=h,(u+=1)<n&&(h=t[u],f=c(h))):(r=d,(l+=1)<i&&(d=e[l],p=c(d)));var g,v,m=r+o,y=m-r,x=o-y,E=x,b=m;for(;u<n&&l<i;)f<p?(r=h,(u+=1)<n&&(h=t[u],f=c(h))):(r=d,(l+=1)<i&&(d=e[l],p=c(d))),(x=(o=E)-(y=(m=r+o)-r))&&(s[a++]=x),E=b-((g=b+m)-(v=g-b))+(m-v),b=g;for(;u<n;)(x=(o=E)-(y=(m=(r=h)+o)-r))&&(s[a++]=x),E=b-((g=b+m)-(v=g-b))+(m-v),b=g,(u+=1)<n&&(h=t[u]);for(;l<i;)(x=(o=E)-(y=(m=(r=d)+o)-r))&&(s[a++]=x),E=b-((g=b+m)-(v=g-b))+(m-v),b=g,(l+=1)<i&&(d=e[l]);E&&(s[a++]=E);b&&(s[a++]=b);a||(s[a++]=0);return s.length=a,s}},function(t,e,n){"use strict";var i=n(141),r=n(323);t.exports=function(t,e){var n=t.length;if(1===n){var o=i(t[0],e);return o[0]?o:[o[1]]}var s=new Array(2*n),a=[.1,.1],u=[.1,.1],l=0;i(t[0],e,a),a[0]&&(s[l++]=a[0]);for(var c=1;c<n;++c){i(t[c],e,u);var h=a[1];r(h,u[0],a),a[0]&&(s[l++]=a[0]);var f=u[1],d=a[1],p=f+d,g=d-(p-f);a[1]=p,g&&(s[l++]=g)}a[1]&&(s[l++]=a[1]);0===l&&(s[l++]=0);return s.length=l,s}},function(t,e,n){"use strict";t.exports=function(t,e,n){var i=t+e,r=i-t,o=e-r,s=t-(i-r);if(n)return n[0]=s+o,n[1]=i,n;return[s+o,i]}},function(t,e,n){"use strict";t.exports=function(t,e){var n=0|t.length,i=0|e.length;if(1===n&&1===i)return function(t,e){var n=t+e,i=n-t,r=t-(n-i)+(e-i);if(r)return[r,n];return[n]}(t[0],-e[0]);var r,o,s=new Array(n+i),a=0,u=0,l=0,c=Math.abs,h=t[u],f=c(h),d=-e[l],p=c(d);f<p?(o=h,(u+=1)<n&&(h=t[u],f=c(h))):(o=d,(l+=1)<i&&(d=-e[l],p=c(d)));u<n&&f<p||l>=i?(r=h,(u+=1)<n&&(h=t[u],f=c(h))):(r=d,(l+=1)<i&&(d=-e[l],p=c(d)));var g,v,m=r+o,y=m-r,x=o-y,E=x,b=m;for(;u<n&&l<i;)f<p?(r=h,(u+=1)<n&&(h=t[u],f=c(h))):(r=d,(l+=1)<i&&(d=-e[l],p=c(d))),(x=(o=E)-(y=(m=r+o)-r))&&(s[a++]=x),E=b-((g=b+m)-(v=g-b))+(m-v),b=g;for(;u<n;)(x=(o=E)-(y=(m=(r=h)+o)-r))&&(s[a++]=x),E=b-((g=b+m)-(v=g-b))+(m-v),b=g,(u+=1)<n&&(h=t[u]);for(;l<i;)(x=(o=E)-(y=(m=(r=d)+o)-r))&&(s[a++]=x),E=b-((g=b+m)-(v=g-b))+(m-v),b=g,(l+=1)<i&&(d=-e[l]);E&&(s[a++]=E);b&&(s[a++]=b);a||(s[a++]=0);return s.length=a,s}},function(t,e,n){"use strict";t.exports=function(t,e){try{return i(t,!0)}catch(s){var n=r(t);if(n.length<=e)return[];var o=function(t,e){for(var n=t.length,i=new Array(n),r=0;r<e.length;++r)i[r]=t[e[r]];var o=e.length;for(r=0;r<n;++r)e.indexOf(r)<0&&(i[o++]=t[r]);return i}(t,n);return function(t,e){for(var n=t.length,i=e.length,r=0;r<n;++r)for(var o=t[r],s=0;s<o.length;++s){var a=o[s];if(a<i)o[s]=e[a];else{a-=i;for(var u=0;u<i;++u)a>=e[u]&&(a+=1);o[s]=a}}return t}(i(o,!0),n)}};var i=n(326),r=n(330)},function(t,e,n){"use strict";t.exports=function(t,e){var n=t.length;if(0===n)throw new Error("Must have at least d+1 points");var r=t[0].length;if(n<=r)throw new Error("Must input at least d+1 points");var s=t.slice(0,r+1),a=i.apply(void 0,s);if(0===a)throw new Error("Input not in general position");for(var u=new Array(r+1),c=0;c<=r;++c)u[c]=c;a<0&&(u[0]=1,u[1]=0);var h=new o(u,new Array(r+1),!1),f=h.adjacent,d=new Array(r+2);for(c=0;c<=r;++c){for(var p=u.slice(),g=0;g<=r;++g)g===c&&(p[g]=-1);var v=p[0];p[0]=p[1],p[1]=v;var m=new o(p,new Array(r+1),!0);f[c]=m,d[c]=m}d[r+1]=h;for(c=0;c<=r;++c){p=f[c].vertices;var y=f[c].adjacent;for(g=0;g<=r;++g){var x=p[g];if(x<0)y[g]=h;else for(var E=0;E<=r;++E)f[E].vertices.indexOf(x)<0&&(y[g]=f[E])}}var b=new l(r,s,d),C=!!e;for(c=r+1;c<n;++c)b.insert(t[c],C);return b.boundary()};var i=n(94),r=n(327).compareCells;function o(t,e,n){this.vertices=t,this.adjacent=e,this.boundary=n,this.lastVisited=-1}function s(t,e,n){this.vertices=t,this.cell=e,this.index=n}function a(t,e){return r(t.vertices,e.vertices)}o.prototype.flip=function(){var t=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=t;var e=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=e};var u=[];function l(t,e,n){this.dimension=t,this.vertices=e,this.simplices=n,this.interior=n.filter((function(t){return!t.boundary})),this.tuple=new Array(t+1);for(var r=0;r<=t;++r)this.tuple[r]=this.vertices[r];var o=u[t];o||(o=u[t]=function(t){for(var e=["function orient(){var tuple=this.tuple;return test("],n=0;n<=t;++n)n>0&&e.push(","),e.push("tuple[",n,"]");e.push(")}return orient");var r=new Function("test",e.join("")),o=i[t+1];return o||(o=i),r(o)}(t)),this.orient=o}var c=l.prototype;c.handleBoundaryDegeneracy=function(t,e){var n=this.dimension,i=this.vertices.length-1,r=this.tuple,o=this.vertices,s=[t];for(t.lastVisited=-i;s.length>0;){(t=s.pop()).vertices;for(var a=t.adjacent,u=0;u<=n;++u){var l=a[u];if(l.boundary&&!(l.lastVisited<=-i)){for(var c=l.vertices,h=0;h<=n;++h){var f=c[h];r[h]=f<0?e:o[f]}var d=this.orient();if(d>0)return l;l.lastVisited=-i,0===d&&s.push(l)}}}return null},c.walk=function(t,e){var n=this.vertices.length-1,i=this.dimension,r=this.vertices,o=this.tuple,s=e?this.interior.length*Math.random()|0:this.interior.length-1,a=this.interior[s];t:for(;!a.boundary;){for(var u=a.vertices,l=a.adjacent,c=0;c<=i;++c)o[c]=r[u[c]];a.lastVisited=n;for(c=0;c<=i;++c){var h=l[c];if(!(h.lastVisited>=n)){var f=o[c];o[c]=t;var d=this.orient();if(o[c]=f,d<0){a=h;continue t}h.boundary?h.lastVisited=-n:h.lastVisited=n}}return}return a},c.addPeaks=function(t,e){var n=this.vertices.length-1,i=this.dimension,r=this.vertices,u=this.tuple,l=this.interior,c=this.simplices,h=[e];e.lastVisited=n,e.vertices[e.vertices.indexOf(-1)]=n,e.boundary=!1,l.push(e);for(var f=[];h.length>0;){var d=(e=h.pop()).vertices,p=e.adjacent,g=d.indexOf(n);if(!(g<0))for(var v=0;v<=i;++v)if(v!==g){var m=p[v];if(m.boundary&&!(m.lastVisited>=n)){var y=m.vertices;if(m.lastVisited!==-n){for(var x=0,E=0;E<=i;++E)y[E]<0?(x=E,u[E]=t):u[E]=r[y[E]];if(this.orient()>0){y[x]=n,m.boundary=!1,l.push(m),h.push(m),m.lastVisited=n;continue}m.lastVisited=-n}var b=m.adjacent,C=d.slice(),w=p.slice(),_=new o(C,w,!0);c.push(_);var A=b.indexOf(e);if(!(A<0)){b[A]=_,w[g]=m,C[v]=-1,w[v]=e,p[v]=_,_.flip();for(E=0;E<=i;++E){var S=C[E];if(!(S<0||S===n)){for(var D=new Array(i-1),L=0,F=0;F<=i;++F){var T=C[F];T<0||F===E||(D[L++]=T)}f.push(new s(D,_,E))}}}}}}f.sort(a);for(v=0;v+1<f.length;v+=2){var M=f[v],I=f[v+1],P=M.index,O=I.index;P<0||O<0||(M.cell.adjacent[M.index]=I.cell,I.cell.adjacent[I.index]=M.cell)}},c.insert=function(t,e){var n=this.vertices;n.push(t);var i=this.walk(t,e);if(i){for(var r=this.dimension,o=this.tuple,s=0;s<=r;++s){var a=i.vertices[s];o[s]=a<0?t:n[a]}var u=this.orient(o);u<0||(0!==u||(i=this.handleBoundaryDegeneracy(i,t)))&&this.addPeaks(t,i)}},c.boundary=function(){for(var t=this.dimension,e=[],n=this.simplices,i=n.length,r=0;r<i;++r){var o=n[r];if(o.boundary){for(var s=new Array(t),a=o.vertices,u=0,l=0,c=0;c<=t;++c)a[c]>=0?s[u++]=a[c]:l=1&c;if(l===(1&t)){var h=s[0];s[0]=s[1],s[1]=h}e.push(s)}}return e}},function(t,e,n){"use strict";var i=n(328),r=n(329);function o(t,e){var n=t.length,i=t.length-e.length,r=Math.min;if(i)return i;switch(n){case 0:return 0;case 1:return t[0]-e[0];case 2:return(a=t[0]+t[1]-e[0]-e[1])||r(t[0],t[1])-r(e[0],e[1]);case 3:var o=t[0]+t[1],s=e[0]+e[1];if(a=o+t[2]-(s+e[2]))return a;var a,u=r(t[0],t[1]),l=r(e[0],e[1]);return(a=r(u,t[2])-r(l,e[2]))||r(u+t[2],o)-r(l+e[2],s);default:var c=t.slice(0);c.sort();var h=e.slice(0);h.sort();for(var f=0;f<n;++f)if(i=c[f]-h[f])return i;return 0}}function s(t,e){return o(t[0],e[0])}function a(t,e){if(e){for(var n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=[t[r],e[r]];i.sort(s);for(r=0;r<n;++r)t[r]=i[r][0],e[r]=i[r][1];return t}return t.sort(o),t}function u(t){if(0===t.length)return[];for(var e=1,n=t.length,i=1;i<n;++i){var r=t[i];if(o(r,t[i-1])){if(i===e){e++;continue}t[e++]=r}}return t.length=e,t}function l(t,e){for(var n=0,i=t.length-1,r=-1;n<=i;){var s=n+i>>1,a=o(t[s],e);a<=0?(0===a&&(r=s),n=s+1):a>0&&(i=s-1)}return r}function c(t,e){for(var n=new Array(t.length),r=0,s=n.length;r<s;++r)n[r]=[];for(var a=[],u=(r=0,e.length);r<u;++r)for(var c=e[r],h=c.length,f=1,d=1<<h;f<d;++f){a.length=i.popCount(f);for(var p=0,g=0;g<h;++g)f&1<<g&&(a[p++]=c[g]);var v=l(t,a);if(!(v<0))for(;n[v++].push(r),!(v>=t.length||0!==o(t[v],a)););}return n}function h(t,e){if(e<0)return[];for(var n=[],r=(1<<e+1)-1,o=0;o<t.length;++o)for(var s=t[o],u=r;u<1<<s.length;u=i.nextCombination(u)){for(var l=new Array(e+1),c=0,h=0;h<s.length;++h)u&1<<h&&(l[c++]=s[h]);n.push(l)}return a(n)}e.dimension=function(t){for(var e=0,n=Math.max,i=0,r=t.length;i<r;++i)e=n(e,t[i].length);return e-1},e.countVertices=function(t){for(var e=-1,n=Math.max,i=0,r=t.length;i<r;++i)for(var o=t[i],s=0,a=o.length;s<a;++s)e=n(e,o[s]);return e+1},e.cloneCells=function(t){for(var e=new Array(t.length),n=0,i=t.length;n<i;++n)e[n]=t[n].slice(0);return e},e.compareCells=o,e.normalize=a,e.unique=u,e.findCell=l,e.incidence=c,e.dual=function(t,e){if(!e)return c(u(h(t,0)),t);for(var n=new Array(e),i=0;i<e;++i)n[i]=[];i=0;for(var r=t.length;i<r;++i)for(var o=t[i],s=0,a=o.length;s<a;++s)n[o[s]].push(i);return n},e.explode=function(t){for(var e=[],n=0,i=t.length;n<i;++n)for(var r=t[n],o=0|r.length,s=1,u=1<<o;s<u;++s){for(var l=[],c=0;c<o;++c)s>>>c&1&&l.push(r[c]);e.push(l)}return a(e)},e.skeleton=h,e.boundary=function(t){for(var e=[],n=0,i=t.length;n<i;++n)for(var r=t[n],o=0,s=r.length;o<s;++o){for(var u=new Array(r.length-1),l=0,c=0;l<s;++l)l!==o&&(u[c++]=r[l]);e.push(u)}return a(e)},e.connectedComponents=function(t,e){return e?function(t,e){for(var n=new r(e),i=0;i<t.length;++i)for(var o=t[i],s=0;s<o.length;++s)for(var a=s+1;a<o.length;++a)n.link(o[s],o[a]);var u=[],l=n.ranks;for(i=0;i<l.length;++i)l[i]=-1;for(i=0;i<t.length;++i){var c=n.find(t[i][0]);l[c]<0?(l[c]=u.length,u.push([t[i].slice(0)])):u[l[c]].push(t[i].slice(0))}return u}(t,e):function(t){for(var e=u(a(h(t,0))),n=new r(e.length),i=0;i<t.length;++i)for(var o=t[i],s=0;s<o.length;++s)for(var c=l(e,[o[s]]),f=s+1;f<o.length;++f)n.link(c,l(e,[o[f]]));var d=[],p=n.ranks;for(i=0;i<p.length;++i)p[i]=-1;for(i=0;i<t.length;++i){var g=n.find(l(e,[t[i][0]]));p[g]<0?(p[g]=d.length,d.push([t[i].slice(0)])):d[p[g]].push(t[i].slice(0))}return d}(t)}},function(t,e,n){"use strict";function i(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>31;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,n;return e=(t>65535)<<4,e|=n=((t>>>=e)>255)<<3,e|=n=((t>>>=n)>15)<<2,(e|=n=((t>>>=n)>3)<<1)|(t>>>=n)>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=i,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var r=new Array(256);!function(t){for(var e=0;e<256;++e){var n=e,i=e,r=7;for(n>>>=1;n;n>>>=1)i<<=1,i|=1&n,--r;t[e]=i<<r&255}}(r),e.reverse=function(t){return r[255&t]<<24|r[t>>>8&255]<<16|r[t>>>16&255]<<8|r[t>>>24&255]},e.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},e.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},e.interleave3=function(t,e,n){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},e.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>i(t)+1}},function(t,e,n){"use strict";function i(t){this.roots=new Array(t),this.ranks=new Array(t);for(var e=0;e<t;++e)this.roots[e]=e,this.ranks[e]=0}t.exports=i;var r=i.prototype;Object.defineProperty(r,"length",{get:function(){return this.roots.length}}),r.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},r.find=function(t){for(var e=t,n=this.roots;n[t]!==t;)t=n[t];for(;n[e]!==t;){var i=n[e];n[e]=t,e=i}return t},r.link=function(t,e){var n=this.find(t),i=this.find(e);if(n!==i){var r=this.ranks,o=this.roots,s=r[n],a=r[i];s<a?o[n]=i:a<s?o[i]=n:(o[i]=n,++r[n])}}},function(t,e,n){"use strict";t.exports=function(t){var e=t.length;if(0===e)return[];if(1===e)return[0];for(var n=t[0].length,i=[t[0]],o=[0],s=1;s<e;++s)if(i.push(t[s]),r(i,n)){if(o.push(s),o.length===n+1)return o}else i.pop();return o};var i=n(94);function r(t,e){for(var n=new Array(e+1),r=0;r<t.length;++r)n[r]=t[r];for(r=0;r<=t.length;++r){for(var o=t.length;o<=e;++o){for(var s=new Array(e),a=0;a<e;++a)s[a]=Math.pow(o+1-r,a);n[o]=s}if(i.apply(void 0,n))return!0}return!1}},function(t,e,n){var i=n(388).topology,r=n(389).merge,o=n(332),s=n(44).geomEach,a=n(333);function u(t){return t.length?Array.isArray(t[0])?t[0]:Array.prototype.slice.call(t):[]}function l(t){var e={geoms:{type:"GeometryCollection",geometries:JSON.parse(JSON.stringify(t))}},n=i(e);return r(n,n.objects.geoms.geometries)}function c(t){for(var e=null,n=0;n<t.length;n++)if(e){if(e!==t[n].type)return null}else e=t[n].type;return e}t.exports=function(){var t=u(arguments),e=t.reduce((function(t,e){var n=a(e);Array.isArray(n)||(n=[n]);for(var i=0;i<n.length;i++)s(n[i],(function(e){t.push(e)}));return t}),[]),n=c(e);if(!n)throw new Error("List does not contain only homoegenous GeoJSON");switch(n){case"LineString":return o(e);case"Polygon":return l(e);default:return e}}},function(t,e){function n(t){return t[0].toString()+","+t[1].toString()}function i(t,e){var i,r=n(t.coordinates[0]),o=n(t.coordinates[t.coordinates.length-1]),s=n(e.coordinates[0]),a=n(e.coordinates[e.coordinates.length-1]);if(r===a)i=e.coordinates.concat(t.coordinates.slice(1));else if(s===o)i=t.coordinates.concat(e.coordinates.slice(1));else if(r===s)i=t.coordinates.slice(1).reverse().concat(e.coordinates);else{if(o!==a)return null;i=t.coordinates.concat(e.coordinates.reverse().slice(1))}return{type:"LineString",coordinates:i}}t.exports=function(t){var e=t.slice(),n=[];for(;e.length>0;){var r=e.shift();e=e.reduce((function(t,e){var n=i(r,e);return n?r=n:t.push(e),t}),[]),n.push(r)}n=1===n.length?n[0]:{type:"MultiLineString",coordinates:n.map((function(t){return t.coordinates}))};return n}},function(t,e){t.exports=function t(e){switch(e&&e.type||null){case"FeatureCollection":return e.features=e.features.reduce((function(e,n){return e.concat(t(n))}),[]),e;case"Feature":return e.geometry?t(e.geometry).map((function(t){var n={type:"Feature",properties:JSON.parse(JSON.stringify(e.properties)),geometry:t};return void 0!==e.id&&(n.id=e.id),n})):e;case"MultiPoint":return e.coordinates.map((function(t){return{type:"Point",coordinates:t}}));case"MultiPolygon":return e.coordinates.map((function(t){return{type:"Polygon",coordinates:t}}));case"MultiLineString":return e.coordinates.map((function(t){return{type:"LineString",coordinates:t}}));case"GeometryCollection":return e.geometries.map(t).reduce((function(t,e){return t.concat(e)}),[]);case"Point":case"Polygon":case"LineString":return[e]}}},function(t,e){t.exports.RADIUS=6378137,t.exports.FLATTENING=1/298.257223563,t.exports.POLAR_RADIUS=6356752.3142},function(t,e,n){var i=n(1),r=n(2),o=n(97),s=n(29),a=n(155),u=i.coordAll,l=i.segmentEach,c=r.getGeomType;t.exports=function(t,e){if(!t)throw new Error("feature1 is required");if(!e)throw new Error("feature2 is required");var n=c(t);if(n!==c(e))throw new Error("features must be of the same type");if("Point"===n)throw new Error("Point geometry not supported");if(new a({precision:6}).compare(t,e))return!1;var i=0;switch(n){case"MultiPoint":var r=u(t),h=u(e);r.forEach((function(t){h.forEach((function(e){t[0]===e[0]&&t[1]===e[1]&&i++}))}));break;case"LineString":case"MultiLineString":l(t,(function(t){l(e,(function(e){o(t,e).features.length&&i++}))}));break;case"Polygon":case"MultiPolygon":l(t,(function(t){l(e,(function(e){s(t,e).features.length&&i++}))}))}return i>0}},function(t,e,n){"use strict";var i;if(!Object.keys){var r=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=n(149),a=Object.prototype.propertyIsEnumerable,u=!a.call({toString:null},"toString"),l=a.call((function(){}),"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],h=function(t){var e=t.constructor;return e&&e.prototype===t},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!f["$"+t]&&r.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{h(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();i=function(t){var e=null!==t&&"object"==typeof t,n="[object Function]"===o.call(t),i=s(t),a=e&&"[object String]"===o.call(t),f=[];if(!e&&!n&&!i)throw new TypeError("Object.keys called on a non-object");var p=l&&n;if(a&&t.length>0&&!r.call(t,0))for(var g=0;g<t.length;++g)f.push(String(g));if(i&&t.length>0)for(var v=0;v<t.length;++v)f.push(String(v));else for(var m in t)p&&"prototype"===m||!r.call(t,m)||f.push(String(m));if(u)for(var y=function(t){if("undefined"==typeof window||!d)return h(t);try{return h(t)}catch(t){return!1}}(t),x=0;x<c.length;++x)y&&"constructor"===c[x]||!r.call(t,c[x])||f.push(c[x]);return f}}t.exports=i},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,r=Object.prototype.toString,o=function(t){return!(i&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===r.call(t)},s=function(t){return!!o(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==r.call(t)&&"[object Function]"===r.call(t.callee)},a=function(){return o(arguments)}();o.isLegacyArguments=s,t.exports=a?o:s},function(t,e,n){"use strict";var i=n(45),r=n(150),o=n(151),s=n(152),a=n(343),u=r(s(),Object);i(u,{getPolyfill:s,implementation:o,shim:a}),t.exports=u},function(t,e,n){"use strict";var i="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,o=Object.prototype.toString;t.exports=function(t){var e=this;if("function"!=typeof e||"[object Function]"!==o.call(e))throw new TypeError(i+e);for(var n,s=r.call(arguments,1),a=function(){if(this instanceof n){var i=e.apply(this,s.concat(r.call(arguments)));return Object(i)===i?i:this}return e.apply(t,s.concat(r.call(arguments)))},u=Math.max(0,e.length-s.length),l=[],c=0;c<u;c++)l.push("$"+c);if(n=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(a),e.prototype){var h=function(){};h.prototype=e.prototype,n.prototype=new h,h.prototype=null}return n}},function(t,e,n){"use strict";var i=TypeError,r=Object.getOwnPropertyDescriptor;if(r)try{r({},"")}catch(t){r=null}var o=function(){throw new i},s=r?function(){try{return arguments.callee,o}catch(t){try{return r(arguments,"callee").get}catch(t){return o}}}():o,a=n(341)(),u=Object.getPrototypeOf||function(t){return t.__proto__},l=void 0,c="undefined"==typeof Uint8Array?void 0:u(Uint8Array),h={"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":a?u([][Symbol.iterator]()):void 0,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":void 0,"%AsyncFunctionPrototype%":void 0,"%AsyncGenerator%":void 0,"%AsyncGeneratorFunction%":void 0,"%AsyncGeneratorPrototype%":void 0,"%AsyncIteratorPrototype%":l&&a&&Symbol.asyncIterator?l[Symbol.asyncIterator]():void 0,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":void 0,"%GeneratorFunction%":void 0,"%GeneratorPrototype%":void 0,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":a?u(u([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%JSONParse%":"object"==typeof JSON?JSON.parse:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&a?u((new Map)[Symbol.iterator]()):void 0,"%MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"%PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"%Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"%Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"%Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&a?u((new Set)[Symbol.iterator]()):void 0,"%SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":a?u(""[Symbol.iterator]()):void 0,"%StringPrototype%":String.prototype,"%Symbol%":a?Symbol:void 0,"%SymbolPrototype%":a?Symbol.prototype:void 0,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":s,"%TypedArray%":c,"%TypedArrayPrototype%":c?c.prototype:void 0,"%TypeError%":i,"%TypeErrorPrototype%":i.prototype,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?void 0:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"%WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype},f=n(98).call(Function.call,String.prototype.replace),d=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,p=/\\(\\)?/g,g=function(t){var e=[];return f(t,d,(function(t,n,i,r){e[e.length]=i?f(r,p,"$1"):n||t})),e},v=function(t,e){if(!(t in h))throw new SyntaxError("intrinsic "+t+" does not exist!");if(void 0===h[t]&&!e)throw new i("intrinsic "+t+" exists, but is not available. Please file an issue!");return h[t]};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new TypeError('"allowMissing" argument must be a boolean');for(var n=g(t),o=v("%"+(n.length>0?n[0]:"")+"%",e),s=1;s<n.length;s+=1)if(null!=o)if(r&&s+1>=n.length){var a=r(o,n[s]);if(!e&&!(n[s]in o))throw new i("base intrinsic for "+t+" exists, but the property is not available.");o=a?a.get||a.value:o[n[s]]}else o=o[n[s]];return o}},function(t,e,n){"use strict";(function(e){var i=e.Symbol,r=n(342);t.exports=function(){return"function"==typeof i&&("function"==typeof Symbol&&("symbol"==typeof i("foo")&&("symbol"==typeof Symbol("bar")&&r())))}}).call(this,n(92))},function(t,e,n){"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var i=Object.getOwnPropertySymbols(t);if(1!==i.length||i[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var r=Object.getOwnPropertyDescriptor(t,e);if(42!==r.value||!0!==r.enumerable)return!1}return!0}},function(t,e,n){"use strict";var i=n(152),r=n(45);t.exports=function(){var t=i();return r(Object,{is:t},{is:function(){return Object.is!==t}}),t}},function(t,e,n){"use strict";var i=n(345),r=RegExp.prototype.exec,o=Object.getOwnPropertyDescriptor,s=Object.prototype.toString,a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(t){if(!t||"object"!=typeof t)return!1;if(!a)return"[object RegExp]"===s.call(t);var e=o(t,"lastIndex");return!(!e||!i(e,"value"))&&function(t){try{var e=t.lastIndex;return t.lastIndex=0,r.call(t),!0}catch(t){return!1}finally{t.lastIndex=e}}(t)}},function(t,e,n){"use strict";var i=n(98);t.exports=i.call(Function.call,Object.prototype.hasOwnProperty)},function(t,e,n){"use strict";var i=n(45),r=n(150),o=n(153),s=n(154),a=n(347),u=r(o);i(u,{getPolyfill:s,implementation:o,shim:a}),t.exports=u},function(t,e,n){"use strict";var i=n(45).supportsDescriptors,r=n(154),o=Object.getOwnPropertyDescriptor,s=Object.defineProperty,a=TypeError,u=Object.getPrototypeOf,l=/a/;t.exports=function(){if(!i||!u)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=r(),e=u(l),n=o(e,"flags");return n&&n.get===t||s(e,"flags",{configurable:!0,enumerable:!1,get:t}),t}},function(t,e,n){"use strict";var i=Date.prototype.getDay,r=Object.prototype.toString,o="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(t){return"object"==typeof t&&null!==t&&(o?function(t){try{return i.call(t),!0}catch(t){return!1}}(t):"[object Date]"===r.call(t))}},function(t,e,n){t.exports=function(){"use strict";function t(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function e(t,e){return t<e?-1:t>e?1:0}return function(n,i,r,o,s){!function e(n,i,r,o,s){for(;o>r;){if(o-r>600){var a=o-r+1,u=i-r+1,l=Math.log(a),c=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*c*(a-c)/a)*(u-a/2<0?-1:1),f=Math.max(r,Math.floor(i-u*c/a+h)),d=Math.min(o,Math.floor(i+(a-u)*c/a+h));e(n,i,f,d,s)}var p=n[i],g=r,v=o;for(t(n,r,i),s(n[o],p)>0&&t(n,r,o);g<v;){for(t(n,g,v),g++,v--;s(n[g],p)<0;)g++;for(;s(n[v],p)>0;)v--}0===s(n[r],p)?t(n,r,v):(v++,t(n,v,o)),v<=i&&(r=v+1),i<=v&&(o=v-1)}}(n,i,r||0,o||n.length-1,s||e)}}()},function(t,e,n){!function(){var e=this.gju={};function n(t){for(var e=[],n=[],i=0;i<t[0].length;i++)e.push(t[0][i][1]),n.push(t[0][i][0]);return e=e.sort((function(t,e){return t-e})),n=n.sort((function(t,e){return t-e})),[[e[0],n[0]],[e[e.length-1],n[n.length-1]]]}function i(t,e,n){for(var i=[[0,0]],r=0;r<n.length;r++){for(var o=0;o<n[r].length;o++)i.push(n[r][o]);i.push(n[r][0]),i.push([0,0])}var s=!1;for(r=0,o=i.length-1;r<i.length;o=r++)i[r][0]>e!=i[o][0]>e&&t<(i[o][1]-i[r][1])*(e-i[r][0])/(i[o][0]-i[r][0])+i[r][1]&&(s=!s);return s}t.exports&&(t.exports=e),e.lineStringsIntersect=function(t,e){for(var n=[],i=0;i<=t.coordinates.length-2;++i)for(var r=0;r<=e.coordinates.length-2;++r){var o={x:t.coordinates[i][1],y:t.coordinates[i][0]},s={x:t.coordinates[i+1][1],y:t.coordinates[i+1][0]},a={x:e.coordinates[r][1],y:e.coordinates[r][0]},u={x:e.coordinates[r+1][1],y:e.coordinates[r+1][0]},l=(u.y-a.y)*(s.x-o.x)-(u.x-a.x)*(s.y-o.y);if(0!=l){var c=((u.x-a.x)*(o.y-a.y)-(u.y-a.y)*(o.x-a.x))/l,h=((s.x-o.x)*(o.y-a.y)-(s.y-o.y)*(o.x-a.x))/l;0<=c&&c<=1&&0<=h&&h<=1&&n.push({type:"Point",coordinates:[o.x+c*(s.x-o.x),o.y+c*(s.y-o.y)]})}}return 0==n.length&&(n=!1),n},e.pointInBoundingBox=function(t,e){return!(t.coordinates[1]<e[0][0]||t.coordinates[1]>e[1][0]||t.coordinates[0]<e[0][1]||t.coordinates[0]>e[1][1])},e.pointInPolygon=function(t,r){for(var o="Polygon"==r.type?[r.coordinates]:r.coordinates,s=!1,a=0;a<o.length;a++)e.pointInBoundingBox(t,n(o[a]))&&(s=!0);if(!s)return!1;var u=!1;for(a=0;a<o.length;a++)i(t.coordinates[1],t.coordinates[0],o[a])&&(u=!0);return u},e.pointInMultiPolygon=function(t,r){for(var o="MultiPolygon"==r.type?[r.coordinates]:r.coordinates,s=!1,a=!1,u=0;u<o.length;u++){for(var l=o[u],c=0;c<l.length;c++)s||e.pointInBoundingBox(t,n(l[c]))&&(s=!0);if(!s)return!1;for(c=0;c<l.length;c++)a||i(t.coordinates[1],t.coordinates[0],l[c])&&(a=!0)}return a},e.numberToRadius=function(t){return t*Math.PI/180},e.numberToDegree=function(t){return 180*t/Math.PI},e.drawCircle=function(t,n,i){for(var r=[n.coordinates[1],n.coordinates[0]],o=t/1e3/6371,s=[e.numberToRadius(r[0]),e.numberToRadius(r[1])],a=(i=i||15,[[r[0],r[1]]]),u=0;u<i;u++){var l=2*Math.PI*u/i,c=Math.asin(Math.sin(s[0])*Math.cos(o)+Math.cos(s[0])*Math.sin(o)*Math.cos(l)),h=s[1]+Math.atan2(Math.sin(l)*Math.sin(o)*Math.cos(s[0]),Math.cos(o)-Math.sin(s[0])*Math.sin(c));a[u]=[],a[u][1]=e.numberToDegree(c),a[u][0]=e.numberToDegree(h)}return{type:"Polygon",coordinates:[a]}},e.rectangleCentroid=function(t){var e=t.coordinates[0],n=e[0][0],i=e[0][1];return{type:"Point",coordinates:[n+(e[2][0]-n)/2,i+(e[2][1]-i)/2]}},e.pointDistance=function(t,n){var i=t.coordinates[0],r=t.coordinates[1],o=n.coordinates[0],s=n.coordinates[1],a=e.numberToRadius(s-r),u=e.numberToRadius(o-i),l=Math.pow(Math.sin(a/2),2)+Math.cos(e.numberToRadius(r))*Math.cos(e.numberToRadius(s))*Math.pow(Math.sin(u/2),2);return 6371*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))*1e3},e.geometryWithinRadius=function(t,n,i){if("Point"==t.type)return e.pointDistance(t,n)<=i;if("LineString"==t.type||"Polygon"==t.type){var r,o={};for(var s in r="Polygon"==t.type?t.coordinates[0]:t.coordinates)if(o.coordinates=r[s],e.pointDistance(o,n)>i)return!1}return!0},e.area=function(t){for(var e=0,n=t.coordinates[0],i=n.length-1,r=0;r<n.length;i=r++){var o={x:n[r][1],y:n[r][0]},s={x:n[i][1],y:n[i][0]};e+=o.x*s.y,e-=o.y*s.x}return e/=2},e.centroid=function(t){for(var n,i=0,r=0,o=t.coordinates[0],s=o.length-1,a=0;a<o.length;s=a++){var u={x:o[a][1],y:o[a][0]},l={x:o[s][1],y:o[s][0]};i+=(u.x+l.x)*(n=u.x*l.y-l.x*u.y),r+=(u.y+l.y)*n}return{type:"Point",coordinates:[r/(n=6*e.area(t)),i/n]}},e.simplify=function(t,e){var n,i,r,o,s,a,u,l,c,h,f,d,p,g,v,m,y,x;e=e||20,t=t.map((function(t){return{lng:t.coordinates[0],lat:t.coordinates[1]}}));var E=Math.PI/180*.5,b=new Array,C=new Array,w=new Array;if(t.length<3)return t;for(n=t.length,c=360*e/(2*Math.PI*6378137),c*=c,r=0,C[0]=0,w[0]=n-1,i=1;i>0;)if(o=C[i-1],s=w[i-1],i--,s-o>1){for(h=t[s].lng()-t[o].lng(),f=t[s].lat()-t[o].lat(),Math.abs(h)>180&&(h=360-Math.abs(h)),d=(h*=Math.cos(E*(t[s].lat()+t[o].lat())))*h+f*f,A=o+1,a=o,l=-1;A<s;A++)p=t[A].lng()-t[o].lng(),g=t[A].lat()-t[o].lat(),Math.abs(p)>180&&(p=360-Math.abs(p)),v=(p*=Math.cos(E*(t[A].lat()+t[o].lat())))*p+g*g,m=t[A].lng()-t[s].lng(),y=t[A].lat()-t[s].lat(),Math.abs(m)>180&&(m=360-Math.abs(m)),(u=v>=d+(x=(m*=Math.cos(E*(t[A].lat()+t[s].lat())))*m+y*y)?x:x>=d+v?v:(p*f-g*h)*(p*f-g*h)/d)>l&&(a=A,l=u);l<c?(b[r]=o,r++):(C[++i-1]=a,w[i-1]=s,C[++i-1]=o,w[i-1]=a)}else b[r]=o,r++;b[r]=n-1,r++;for(var _=new Array,A=0;A<r;A++)_.push(t[b[A]]);return _.map((function(t){return{type:"Point",coordinates:[t.lng,t.lat]}}))},e.destinationPoint=function(t,n,i){i/=6371,n=e.numberToRadius(n);var r=e.numberToRadius(t.coordinates[0]),o=e.numberToRadius(t.coordinates[1]),s=Math.asin(Math.sin(o)*Math.cos(i)+Math.cos(o)*Math.sin(i)*Math.cos(n)),a=r+Math.atan2(Math.sin(n)*Math.sin(i)*Math.cos(o),Math.cos(i)-Math.sin(o)*Math.sin(s));return a=(a+3*Math.PI)%(2*Math.PI)-Math.PI,{type:"Point",coordinates:[e.numberToDegree(a),e.numberToDegree(s)]}}}()},function(t,e,n){"use strict";
/**
* @license get-closest https://github.com/cosmosio/get-closest
*
* The MIT License (MIT)
*
* Copyright (c) 2014-2017 Olivier Scherrer <pode.fr@gmail.com>
*/function i(t,e,n){var i,r;if(!Array.isArray(e))throw new Error("Get closest expects an array as second argument");return e.forEach((function(e,o){var s=n(e,t);s>=0&&(void 0===r||s<r)&&(r=s,i=o)})),i}t.exports={number:function(t,e){return i(t,e,(function(t,e){return Math.abs(t-e)}))},greaterNumber:function(t,e){return i(t,e,(function(t,e){return t-e}))},lowerNumber:function(t,e){return i(t,e,(function(t,e){return e-t}))},custom:function(t,e,n){return i(t,e,n)}}},function(t,e,n){var i;!function(){"use strict";function r(t,e,n){var i=e.x,r=e.y,o=n.x-i,s=n.y-r;if(0!==o||0!==s){var a=((t.x-i)*o+(t.y-r)*s)/(o*o+s*s);a>1?(i=n.x,r=n.y):a>0&&(i+=o*a,r+=s*a)}return(o=t.x-i)*o+(s=t.y-r)*s}function o(t,e){var n=t.length-1,i=[t[0]];return function t(e,n,i,o,s){for(var a,u=o,l=n+1;l<i;l++){var c=r(e[l],e[n],e[i]);c>u&&(a=l,u=c)}u>o&&(a-n>1&&t(e,n,a,o,s),s.push(e[a]),i-a>1&&t(e,a,i,o,s))}(t,0,n,e,i),i.push(t[n]),i}function s(t,e,n){if(t.length<=2)return t;var i=void 0!==e?e*e:1;return t=o(t=n?t:function(t,e){for(var n,i,r,o,s,a=t[0],u=[a],l=1,c=t.length;l<c;l++)n=t[l],r=a,o=void 0,s=void 0,o=(i=n).x-r.x,s=i.y-r.y,o*o+s*s>e&&(u.push(n),a=n);return a!==n&&u.push(n),u}(t,i),i)}void 0===(i=function(){return s}.call(e,n,e,t))||(t.exports=i)}()},function(t,e){var n=function(t){this.points=t.points||[],this.duration=t.duration||1e4,this.sharpness=t.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=t.stepLength||60,this.length=this.points.length,this.delay=0;for(var e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(e=0;e<this.length-1;e++){var n=this.points[e],i=this.points[e+1];this.centers.push({x:(n.x+i.x)/2,y:(n.y+i.y)/2,z:(n.z+i.z)/2})}this.controls.push([this.points[0],this.points[0]]);for(e=0;e<this.centers.length-1;e++){n=this.centers[e],i=this.centers[e+1];var r=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2,o=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2,s=this.points[e+1].z-(this.centers[e].y+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+r),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+s)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+r),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+s)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this};n.prototype.cacheSteps=function(t){var e=[],n=this.pos(0);e.push(0);for(var i=0;i<this.duration;i+=10){var r=this.pos(i);Math.sqrt((r.x-n.x)*(r.x-n.x)+(r.y-n.y)*(r.y-n.y)+(r.z-n.z)*(r.z-n.z))>t&&(e.push(i),n=r)}return e},n.prototype.vector=function(t){var e=this.pos(t+10),n=this.pos(t-10);return{angle:180*Math.atan2(e.y-n.y,e.x-n.x)/3.14,speed:Math.sqrt((n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y)+(n.z-e.z)*(n.z-e.z))}},n.prototype.pos=function(t){var e=t-this.delay;e<0&&(e=0),e>this.duration&&(e=this.duration-1);var n=e/this.duration;if(n>=1)return this.points[this.length-1];var i=Math.floor((this.points.length-1)*n);return function(t,e,n,i,r){var o=function(t){var e=t*t;return[e*t,3*e*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]}(t);return{x:r.x*o[0]+i.x*o[1]+n.x*o[2]+e.x*o[3],y:r.y*o[0]+i.y*o[1]+n.y*o[2]+e.y*o[3],z:r.z*o[0]+i.z*o[1]+n.z*o[2]+e.z*o[3]}}((this.length-1)*n-i,this.points[i],this.controls[i][1],this.controls[i+1][0],this.points[i+1])},t.exports=n},function(t,e,n){var i=n(355),r=n(166).point;t.exports=function(t,e){var n=i(t),o=(n[0]+n[2])/2,s=(n[1]+n[3])/2;return r([o,s],e)}},function(t,e,n){var i=n(165).coordEach;t.exports=function(t){var e=[1/0,1/0,-1/0,-1/0];return i(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}},function(t,e,n){var i=n(1).coordEach,r=n(48);function o(t,e,n){if(!t)throw new Error("geojson is required");return!0!==e&&(t=r(t)),i(t,(function(t){var e,i,r,o="mercator"===n?function(t){var e=Math.PI/180,n=6378137,i=20037508.342789244,r=Math.abs(t[0])<=180?t[0]:t[0]-360*(s=t[0],s<0?-1:s>0?1:0),o=[n*r*e,n*Math.log(Math.tan(.25*Math.PI+.5*t[1]*e))];var s;o[0]>i&&(o[0]=i);o[0]<-i&&(o[0]=-i);o[1]>i&&(o[1]=i);o[1]<-i&&(o[1]=-i);return o}(t):(e=t,i=180/Math.PI,r=6378137,[e[0]*i/r,(.5*Math.PI-2*Math.atan(Math.exp(-e[1]/r)))*i]);t[0]=o[0],t[1]=o[1]})),t}t.exports={toMercator:function(t,e){return o(t,e,"mercator")},toWgs84:function(t,e){return o(t,e,"wgs84")}}},function(t,e,n){"use strict";function i(t,e,n){n=n||2;var i,a,u,l,c,d,p,v=e&&e.length,m=v?e[0]*n:t.length,y=r(t,0,m,n,!0),x=[];if(!y||y.next===y.prev)return x;if(v&&(y=function(t,e,n,i){var s,a,u,l,c,d=[];for(s=0,a=e.length;s<a;s++)u=e[s]*i,l=s<a-1?e[s+1]*i:t.length,(c=r(t,u,l,i,!1))===c.next&&(c.steiner=!0),d.push(g(c));for(d.sort(h),s=0;s<d.length;s++)f(d[s],n),n=o(n,n.next);return n}(t,e,y,n)),t.length>80*n){i=u=t[0],a=l=t[1];for(var E=n;E<m;E+=n)(c=t[E])<i&&(i=c),(d=t[E+1])<a&&(a=d),c>u&&(u=c),d>l&&(l=d);p=0!==(p=Math.max(u-i,l-a))?1/p:0}return s(y,x,n,i,a,p),x}function r(t,e,n,i,r){var o,s;if(r===L(t,e,n,i)>0)for(o=e;o<n;o+=i)s=A(o,t[o],t[o+1],s);else for(o=n-i;o>=e;o-=i)s=A(o,t[o],t[o+1],s);return s&&x(s,s.next)&&(S(s),s=s.next),s}function o(t,e){if(!t)return t;e||(e=t);var n,i=t;do{if(n=!1,i.steiner||!x(i,i.next)&&0!==y(i.prev,i,i.next))i=i.next;else{if(S(i),(i=e=i.prev)===i.next)break;n=!0}}while(n||i!==e);return e}function s(t,e,n,i,r,h,f){if(t){!f&&h&&function(t,e,n,i){var r=t;do{null===r.z&&(r.z=p(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,n,i,r,o,s,a,u,l=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,i=n,a=0,e=0;e<l&&(a++,i=i.nextZ);e++);for(u=l;a>0||u>0&&i;)0!==a&&(0===u||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,u--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;n=i}o.nextZ=null,l*=2}while(s>1)}(r)}(t,i,r,h);for(var d,g,v=t;t.prev!==t.next;)if(d=t.prev,g=t.next,h?u(t,i,r,h):a(t))e.push(d.i/n),e.push(t.i/n),e.push(g.i/n),S(t),t=g.next,v=g.next;else if((t=g)===v){f?1===f?s(t=l(o(t),e,n),e,n,i,r,h,2):2===f&&c(t,e,n,i,r,h):s(o(t),e,n,i,r,h,1);break}}}function a(t){var e=t.prev,n=t,i=t.next;if(y(e,n,i)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(v(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&y(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function u(t,e,n,i){var r=t.prev,o=t,s=t.next;if(y(r,o,s)>=0)return!1;for(var a=r.x<o.x?r.x<s.x?r.x:s.x:o.x<s.x?o.x:s.x,u=r.y<o.y?r.y<s.y?r.y:s.y:o.y<s.y?o.y:s.y,l=r.x>o.x?r.x>s.x?r.x:s.x:o.x>s.x?o.x:s.x,c=r.y>o.y?r.y>s.y?r.y:s.y:o.y>s.y?o.y:s.y,h=p(a,u,e,n,i),f=p(l,c,e,n,i),d=t.prevZ,g=t.nextZ;d&&d.z>=h&&g&&g.z<=f;){if(d!==t.prev&&d!==t.next&&v(r.x,r.y,o.x,o.y,s.x,s.y,d.x,d.y)&&y(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,g!==t.prev&&g!==t.next&&v(r.x,r.y,o.x,o.y,s.x,s.y,g.x,g.y)&&y(g.prev,g,g.next)>=0)return!1;g=g.nextZ}for(;d&&d.z>=h;){if(d!==t.prev&&d!==t.next&&v(r.x,r.y,o.x,o.y,s.x,s.y,d.x,d.y)&&y(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;g&&g.z<=f;){if(g!==t.prev&&g!==t.next&&v(r.x,r.y,o.x,o.y,s.x,s.y,g.x,g.y)&&y(g.prev,g,g.next)>=0)return!1;g=g.nextZ}return!0}function l(t,e,n){var i=t;do{var r=i.prev,s=i.next.next;!x(r,s)&&E(r,i,i.next,s)&&w(r,s)&&w(s,r)&&(e.push(r.i/n),e.push(i.i/n),e.push(s.i/n),S(i),S(i.next),i=t=s),i=i.next}while(i!==t);return o(i)}function c(t,e,n,i,r,a){var u=t;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&m(u,l)){var c=_(u,l);return u=o(u,u.next),c=o(c,c.next),s(u,e,n,i,r,a),void s(c,e,n,i,r,a)}l=l.next}u=u.next}while(u!==t)}function h(t,e){return t.x-e.x}function f(t,e){if(e=function(t,e){var n,i=e,r=t.x,o=t.y,s=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var a=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(a<=r&&a>s){if(s=a,a===r){if(o===i.y)return i;if(o===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!n)return null;if(r===s)return n;var u,l=n,c=n.x,h=n.y,f=1/0;i=n;do{r>=i.x&&i.x>=c&&r!==i.x&&v(o<h?r:s,o,c,h,o<h?s:r,o,i.x,i.y)&&(u=Math.abs(o-i.y)/(r-i.x),w(i,t)&&(u<f||u===f&&(i.x>n.x||i.x===n.x&&d(n,i)))&&(n=i,f=u)),i=i.next}while(i!==l);return n}(t,e)){var n=_(e,t);o(e,e.next),o(n,n.next)}}function d(t,e){return y(t.prev,t,e.prev)<0&&y(e.next,t,t.next)<0}function p(t,e,n,i,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function g(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function v(t,e,n,i,r,o,s,a){return(r-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(i-a)-(n-s)*(e-a)>=0&&(n-s)*(o-a)-(r-s)*(i-a)>=0}function m(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&E(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(w(t,e)&&w(e,t)&&function(t,e){var n=t,i=!1,r=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==t);return i}(t,e)&&(y(t.prev,t,e.prev)||y(t,e.prev,e))||x(t,e)&&y(t.prev,t,t.next)>0&&y(e.prev,e,e.next)>0)}function y(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function x(t,e){return t.x===e.x&&t.y===e.y}function E(t,e,n,i){var r=C(y(t,e,n)),o=C(y(t,e,i)),s=C(y(n,i,t)),a=C(y(n,i,e));return r!==o&&s!==a||(!(0!==r||!b(t,n,e))||(!(0!==o||!b(t,i,e))||(!(0!==s||!b(n,t,i))||!(0!==a||!b(n,e,i)))))}function b(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function C(t){return t>0?1:t<0?-1:0}function w(t,e){return y(t.prev,t,t.next)<0?y(t,e,t.next)>=0&&y(t,t.prev,e)>=0:y(t,e,t.prev)<0||y(t,t.next,e)<0}function _(t,e){var n=new D(t.i,t.x,t.y),i=new D(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function A(t,e,n,i){var r=new D(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function S(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function D(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function L(t,e,n,i){for(var r=0,o=e,s=n-i;o<n;o+=i)r+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return r}t.exports=i,t.exports.default=i,i.deviation=function(t,e,n,i){var r=e&&e.length,o=r?e[0]*n:t.length,s=Math.abs(L(t,0,o,n));if(r)for(var a=0,u=e.length;a<u;a++){var l=e[a]*n,c=a<u-1?e[a+1]*n:t.length;s-=Math.abs(L(t,l,c,n))}var h=0;for(a=0;a<i.length;a+=3){var f=i[a]*n,d=i[a+1]*n,p=i[a+2]*n;h+=Math.abs((t[f]-t[p])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[p+1]-t[f+1]))}return 0===s&&0===h?0:Math.abs((h-s)/s)},i.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},i=0,r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++)for(var s=0;s<e;s++)n.vertices.push(t[r][o][s]);r>0&&(i+=t[r-1].length,n.holes.push(i))}return n}},function(t,e){function n(t){return t?function(t){return[Math.random()*(t[2]-t[0])+t[0],Math.random()*(t[3]-t[1])+t[1]]}(t):[s(),a()]}function r(t){return function(e,n){return[e[0]+t[0],e[1]+t[1]]}}function o(){return Math.random()-.5}function s(){return 360*o()}function a(){return 180*o()}function u(t){return{type:"Point",coordinates:t||[s(),a()]}}function l(t){return{type:"Feature",geometry:t,properties:{}}}function c(t){return{type:"FeatureCollection",features:t}}t.exports=function(){throw new Error("call .point() or .polygon() instead")},t.exports.position=n,t.exports.point=function(t,e){var r=[];for(i=0;i<t;i++)r.push(l(e?u(n(e)):u()));return c(r)},t.exports.polygon=function(t,e,o,s){"number"!=typeof e&&(e=10),"number"!=typeof o&&(o=10);var a=[];for(i=0;i<t;i++){var u=[],h=Array.apply(null,new Array(e+1)).map(Math.random);h.forEach(f),h.forEach(d),u[u.length-1]=u[0],u=u.map(r(n(s))),a.push(l({type:"Polygon",coordinates:[u]}))}function f(t,e,n){n[e]=e>0?t+n[e-1]:t}function d(t,e){t=2*t*Math.PI/h[h.length-1];var n=Math.random();u.push([n*o*Math.sin(t),n*o*Math.cos(t)])}return c(a)}},function(t,e,n){var i=n(360),r=n(70),o=n(7),s=n(185),a=n(35),u=n(186)("simplepolygon"),l=n(186)("simplepolygon:all");t.exports=function(t){if("Feature"!=t.type)throw new Error("The input must a geojson object of type Feature");if(void 0===t.geometry||null==t.geometry)throw new Error("The input must a geojson object with a non-empty geometry");if("Polygon"!=t.geometry.type)throw new Error("The input must be a geojson Polygon");for(var e=t.geometry.coordinates.length,n=[],g=0;g<e;g++){var v=t.geometry.coordinates[g];p(v[0],v[v.length-1])||v.push(v[0]),n.push.apply(n,v.slice(0,v.length-1))}if(!function(t){for(var e={},n=1,i=0,r=t.length;i<r;++i){if(e.hasOwnProperty(t[i])){n=0;break}e[t[i]]=1}return n}(n))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var m=n.length;u("Processing input");var y=i(t,(function(t,e,n,i,r,o,s,a,u,l,c,h){return[t,e,n,i,r,o,s,a,u,l,c,h]})),x=y.length;if(u("Computing self-intersections"),0==x){var E=[];for(g=0;g<e;g++)E.push(r.polygon([t.geometry.coordinates[g]],{parent:-1,winding:d(t.geometry.coordinates[g])}));var b=r.featureCollection(E);return Y(),W(),l("No self-intersections found. Input rings are output rings. Computed winding numbers, net winding numbers and parents"),u("Finishing without self-intersections"),b}var C=[],w=[];for(g=0;g<e;g++){C.push([]);for(var _=0;_<t.geometry.coordinates[g].length-1;_++)C[g].push([new c(t.geometry.coordinates[g][(_+1).modulo(t.geometry.coordinates[g].length-1)],1,[g,_],[g,(_+1).modulo(t.geometry.coordinates[g].length-1)],void 0)]),w.push(new h(t.geometry.coordinates[g][_],[g,(_-1).modulo(t.geometry.coordinates[g].length-1)],[g,_],void 0,void 0,!1,!0))}for(g=0;g<x;g++)C[y[g][1]][y[g][2]].push(new c(y[g][0],y[g][5],[y[g][1],y[g][2]],[y[g][6],y[g][7]],void 0)),y[g][11]&&w.push(new h(y[g][0],[y[g][1],y[g][2]],[y[g][6],y[g][7]],void 0,void 0,!0,!0));var A=w.length;for(g=0;g<C.length;g++)for(_=0;_<C[g].length;_++)C[g][_].sort((function(t,e){return t.param<e.param?-1:1}));u("Setting up pseudoVtxListByRingAndEdge and isectList"),allIsectsAsIsectRbushTreeItem=[];for(g=0;g<A;g++)allIsectsAsIsectRbushTreeItem.push({minX:w[g].coord[0],minY:w[g].coord[1],maxX:w[g].coord[0],maxY:w[g].coord[1],index:g});var S=a();S.load(allIsectsAsIsectRbushTreeItem);for(g=0;g<C.length;g++)for(_=0;_<C[g].length;_++)for(var D=0;D<C[g][_].length;D++){F=D==C[g][_].length-1?C[g][(_+1).modulo(t.geometry.coordinates[g].length-1)][0].coord:C[g][_][D+1].coord;var L=S.search({minX:F[0],minY:F[1],maxX:F[0],maxY:F[1]})[0];C[g][_][D].nxtIsectAlongEdgeIn=L.index}u("Computing nextIsect for pseudoVtxListByRingAndEdge");for(g=0;g<C.length;g++)for(_=0;_<C[g].length;_++)for(D=0;D<C[g][_].length;D++){var F=C[g][_][D].coord,T=(L=S.search({minX:F[0],minY:F[1],maxX:F[0],maxY:F[1]})[0]).index;T<m?w[T].nxtIsectAlongRingAndEdge2=C[g][_][D].nxtIsectAlongEdgeIn:p(w[T].ringAndEdge1,C[g][_][D].ringAndEdgeIn)?w[T].nxtIsectAlongRingAndEdge1=C[g][_][D].nxtIsectAlongEdgeIn:w[T].nxtIsectAlongRingAndEdge2=C[g][_][D].nxtIsectAlongEdgeIn}u("Porting nextIsect to isectList");var M=[];for(g=0,_=0;_<e;_++){var I=g;for(D=0;D<t.geometry.coordinates[_].length-1;D++)w[g].coord[0]<w[I].coord[0]&&(I=g),g++;var P=w[I].nxtIsectAlongRingAndEdge2;for(D=0;D<w.length;D++)if(w[D].nxtIsectAlongRingAndEdge1==I||w[D].nxtIsectAlongRingAndEdge2==I){var O=D;break}var B=f([w[O].coord,w[I].coord,w[P].coord],!0)?1:-1;M.push({isect:I,parent:-1,winding:B})}M.sort((function(t,e){return w[t.isect].coord>w[e.isect].coord?-1:1})),l("Initial state of the queue: "+JSON.stringify(M)),u("Setting up queue");for(E=[];M.length>0;){var N=M.pop(),k=N.isect,R=N.parent,j=N.winding,V=E.length,G=[w[k].coord];l("# Starting output ring number "+E.length+" with winding "+j+" from intersection "+k),k<m&&l("This is a ring-vertex-intersections, which means this output ring does not touch existing output rings");var z=k;if(w[k].ringAndEdge1Walkable)var q=w[k].ringAndEdge1,U=w[k].nxtIsectAlongRingAndEdge1;else q=w[k].ringAndEdge2,U=w[k].nxtIsectAlongRingAndEdge2;for(;!p(w[k].coord,w[U].coord);){l("Walking from intersection "+z+" to "+U+" over ring "+q[0]+" and edge "+q[1]),G.push(w[U].coord),l("Adding intersection "+U+" to current output ring");var X=void 0;for(g=0;g<M.length;g++)if(M[g].isect==U){X=g;break}if(null!=X&&(l("Removing intersection "+U+" from queue"),M.splice(X,1)),p(q,w[U].ringAndEdge1)){if(q=w[U].ringAndEdge2,w[U].ringAndEdge2Walkable=!1,w[U].ringAndEdge1Walkable){l("Adding intersection "+U+" to queue");var H={isect:U};f([w[z].coord,w[U].coord,w[w[U].nxtIsectAlongRingAndEdge2].coord],1==j)?(H.parent=R,H.winding=-j):(H.parent=V,H.winding=j),M.push(H)}z=U,U=w[U].nxtIsectAlongRingAndEdge2}else{if(q=w[U].ringAndEdge1,w[U].ringAndEdge1Walkable=!1,w[U].ringAndEdge2Walkable){l("Adding intersection "+U+" to queue");H={isect:U};f([w[z].coord,w[U].coord,w[w[U].nxtIsectAlongRingAndEdge1].coord],1==j)?(H.parent=R,H.winding=-j):(H.parent=V,H.winding=j),M.push(H)}z=U,U=w[U].nxtIsectAlongRingAndEdge1}l("Current state of the queue: "+JSON.stringify(M))}l("Walking from intersection "+z+" to "+U+" over ring "+q[0]+" and edge "+q[1]+" and closing ring"),G.push(w[U].coord),E.push(r.polygon([G],{index:V,parent:R,winding:j,netWinding:void 0}))}b=r.featureCollection(E);function Y(){for(var t=[],e=0;e<b.features.length;e++)l("Output ring "+e+" has parent "+b.features[e].properties.parent),-1==b.features[e].properties.parent&&t.push(e);if(l("The following output ring(s) have no parent: "+t),t.length>1)for(e=0;e<t.length;e++){for(var n=-1,i=0;i<b.features.length;i++)t[e]!=i&&o(r.point(b.features[t[e]].geometry.coordinates[0][0]),b.features[i],!0)&&s(b.features[i])<1/0&&(n=i,l("Ring "+t[e]+" lies inside output ring "+i));b.features[t[e]].properties.parent=n,l("Ring "+t[e]+" is assigned parent "+n)}}function W(){for(var t=0;t<b.features.length;t++)if(-1==b.features[t].properties.parent){var e=b.features[t].properties.winding;b.features[t].properties.netWinding=e,J(t,e)}}function J(t,e){for(var n=0;n<b.features.length;n++)if(b.features[n].properties.parent==t){var i=e+b.features[n].properties.winding;b.features[n].properties.netWinding=i,J(n,i)}}return u("Walking"),Y(),u("Determining parents"),W(),u("Setting winding number"),l("# Total of "+b.features.length+" rings"),b};var c=function(t,e,n,i,r){this.coord=t,this.param=e,this.ringAndEdgeIn=n,this.ringAndEdgeOut=i,this.nxtIsectAlongEdgeIn=r},h=function(t,e,n,i,r,o,s){this.coord=t,this.ringAndEdge1=e,this.ringAndEdge2=n,this.nxtIsectAlongRingAndEdge1=i,this.nxtIsectAlongRingAndEdge2=r,this.ringAndEdge1Walkable=o,this.ringAndEdge2Walkable=s};function f(t,e){if(void 0===e&&(e=!0),3!=t.length)throw new Error("This function requires an array of three points [x,y]");return(t[1][0]-t[0][0])*(t[2][1]-t[0][1])-(t[1][1]-t[0][1])*(t[2][0]-t[0][0])>=0==e}function d(t){for(var e=0,n=0;n<t.length-1;n++)t[n][0]<t[e][0]&&(e=n);if(f([t[(e-1).modulo(t.length-1)],t[e],t[(e+1).modulo(t.length-1)]],!0))var i=1;else i=-1;return i}function p(t,e){if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!p(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0}Number.prototype.modulo=function(t){return(this%t+t)%t}},function(t,e,n){var i=n(35),r=function(){var t={};return Array.prototype.slice.call(arguments).forEach((function(e){e&&Object.keys(e).forEach((function(n){t[n]=e[n]}))})),t},o={useSpatialIndex:!0,epsilon:0,reportVertexOnVertex:!1,reportVertexOnEdge:!1};function s(t,e){if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!s(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0}t.exports=function(t,e,n){var a;if(a=r(o,"object"==typeof n?n:{useSpatialIndex:n}),"Polygon"!=t.geometry.type)throw new Error("The input feature must be a Polygon");var u=t.geometry.coordinates,l=[],c={};if(a.useSpatialIndex){for(var h=[],f=0;f<u.length;f++)for(var d=0;d<u[f].length-1;d++)h.push(E(f,d));var p=i();p.load(h)}for(f=0;f<u.length;f++)for(d=0;d<u[f].length-1;d++){if(a.useSpatialIndex)p.search(E(f,d)).forEach((function(t){var e=t.ring,n=t.edge;x(f,d,e,n)}));else for(var g=0;g<u.length;g++)for(var v=0;v<u[g].length-1;v++)x(f,d,g,v)}return e||(l={type:"Feature",geometry:{type:"MultiPoint",coordinates:l}}),l;function m(t){var e=a.epsilon*a.epsilon;return e>=(t-1)*(t-1)||e>=t*t}function y(t){return t<0-a.epsilon||t>1+a.epsilon}function x(t,n,i,r){var o=u[t][n],h=u[t][n+1],f=u[i][r],d=u[i][r+1],p=function(t,e,n,i){if(s(t,n)||s(t,i)||s(e,n)||s(i,n))return null;var r=t[0],o=t[1],a=e[0],u=e[1],l=n[0],c=n[1],h=i[0],f=i[1],d=(r-a)*(c-f)-(o-u)*(l-h);return 0==d?null:[((r*u-o*a)*(l-h)-(r-a)*(l*f-c*h))/d,((r*u-o*a)*(c-f)-(o-u)*(l*f-c*h))/d]}(o,h,f,d);if(null!=p){if(h[0]!=o[0])var g=(p[0]-o[0])/(h[0]-o[0]);else g=(p[1]-o[1])/(h[1]-o[1]);if(d[0]!=f[0])var v=(p[0]-f[0])/(d[0]-f[0]);else v=(p[1]-f[1])/(d[1]-f[1]);if(!y(g)&&!y(v)&&(!m(g)||!m(v)||a.reportVertexOnVertex)&&(!m(g)&&!m(v)||a.reportVertexOnEdge)){var x=p,E=!c[x];E&&(c[x]=!0),e?l.push(e(p,t,n,o,h,g,i,r,f,d,v,E)):l.push(p)}}}function E(t,e){var n=u[t][e],i=u[t][e+1];if(n[0]<i[0])var r=n[0],o=i[0];else r=i[0],o=n[0];if(n[1]<i[1])var s=n[1],a=i[1];else s=i[1],a=n[1];return{minX:r,minY:s,maxX:o,maxY:a,ring:t,edge:e}}}},function(t,e,n){var i;function r(t){function n(){if(n.enabled){var t=n,r=+new Date,o=r-(i||r);t.diff=o,t.prev=i,t.curr=r,i=r;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var u=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(n,i){if("%%"===n)return n;u++;var r=e.formatters[i];if("function"==typeof r){var o=s[u];n=r.call(t,o),s.splice(u,1),u--}return n})),e.formatArgs.call(t,s);var l=n.log||e.log||console.log.bind(console);l.apply(t,s)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=function(t){var n,i=0;for(n in t)i=(i<<5)-i+t.charCodeAt(n),i|=0;return e.colors[Math.abs(i)%e.colors.length]}(t),"function"==typeof e.init&&e.init(n),n}(e=t.exports=r.debug=r.default=r).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){e.save(t),e.names=[],e.skips=[];for(var n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length,r=0;r<i;r++)n[r]&&("-"===(t=n[r].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){var n,i;for(n=0,i=e.skips.length;n<i;n++)if(e.skips[n].test(t))return!1;for(n=0,i=e.names.length;n<i;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(362),e.names=[],e.skips=[],e.formatters={}},function(t,e){var n=1e3,i=6e4,r=60*i,o=24*r;function s(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,e){e=e||{};var a,u=typeof t;if("string"===u&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var s=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*i;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(t);if("number"===u&&!1===isNaN(t))return e.long?s(a=t,o,"day")||s(a,r,"hour")||s(a,i,"minute")||s(a,n,"second")||a+" ms":function(t){if(t>=o)return Math.round(t/o)+"d";if(t>=r)return Math.round(t/r)+"h";if(t>=i)return Math.round(t/i)+"m";if(t>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){"use strict";var i=Math.PI/180,r=180/Math.PI,o=function(t,e){this.lon=t,this.lat=e,this.x=i*t,this.y=i*e};o.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},o.prototype.antipode=function(){var t=-1*this.lat,e=this.lon<0?180+this.lon:-1*(180-this.lon);return new o(e,t)};var s=function(){this.coords=[],this.length=0};s.prototype.move_to=function(t){this.length++,this.coords.push(t)};var a=function(t){this.properties=t||{},this.geometries=[]};a.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var t=[],e=0;e<this.geometries.length;e++)t.push(this.geometries[e].coords);return{geometry:{type:"MultiLineString",coordinates:t},type:"Feature",properties:this.properties}},a.prototype.wkt=function(){for(var t="",e="LINESTRING(",n=function(t){e+=t[0]+" "+t[1]+","},i=0;i<this.geometries.length;i++){if(0===this.geometries[i].coords.length)return"LINESTRING(empty)";this.geometries[i].coords.forEach(n),t+=e.substring(0,e.length-1)+")"}return t};var u=function(t,e,n){if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new o(t.x,t.y),this.end=new o(e.x,e.y),this.properties=n||{};var i=this.start.x-this.end.x,r=this.start.y-this.end.y,s=Math.pow(Math.sin(r/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(i/2),2);if(this.g=2*Math.asin(Math.sqrt(s)),this.g===Math.PI)throw new Error("it appears "+t.view()+" and "+e.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+t+" and "+e)};u.prototype.interpolate=function(t){var e=Math.sin((1-t)*this.g)/Math.sin(this.g),n=Math.sin(t*this.g)/Math.sin(this.g),i=e*Math.cos(this.start.y)*Math.cos(this.start.x)+n*Math.cos(this.end.y)*Math.cos(this.end.x),o=e*Math.cos(this.start.y)*Math.sin(this.start.x)+n*Math.cos(this.end.y)*Math.sin(this.end.x),s=e*Math.sin(this.start.y)+n*Math.sin(this.end.y),a=r*Math.atan2(s,Math.sqrt(Math.pow(i,2)+Math.pow(o,2)));return[r*Math.atan2(o,i),a]},u.prototype.Arc=function(t,e){var n=[];if(!t||t<=2)n.push([this.start.lon,this.start.lat]),n.push([this.end.lon,this.end.lat]);else for(var i=1/(t-1),r=0;r<t;++r){var o=i*r,u=this.interpolate(o);n.push(u)}for(var l=!1,c=0,h=e&&e.offset?e.offset:10,f=180-h,d=-180+h,p=360-h,g=1;g<n.length;++g){var v=n[g-1][0],m=n[g][0],y=Math.abs(m-v);y>p&&(m>f&&v<d||v>f&&m<d)?l=!0:y>c&&(c=y)}var x=[];if(l&&c<h){var E=[];x.push(E);for(var b=0;b<n.length;++b){var C=parseFloat(n[b][0]);if(b>0&&Math.abs(C-n[b-1][0])>p){var w=parseFloat(n[b-1][0]),_=parseFloat(n[b-1][1]),A=parseFloat(n[b][0]),S=parseFloat(n[b][1]);if(w>-180&&w<d&&180===A&&b+1<n.length&&n[b-1][0]>-180&&n[b-1][0]<d){E.push([-180,n[b][1]]),b++,E.push([n[b][0],n[b][1]]);continue}if(w>f&&w<180&&-180===A&&b+1<n.length&&n[b-1][0]>f&&n[b-1][0]<180){E.push([180,n[b][1]]),b++,E.push([n[b][0],n[b][1]]);continue}if(w<d&&A>f){var D=w;w=A,A=D;var L=_;_=S,S=L}if(w>f&&A<d&&(A+=360),w<=180&&A>=180&&w<A){var F=(180-w)/(A-w),T=F*S+(1-F)*_;E.push([n[b-1][0]>f?180:-180,T]),(E=[]).push([n[b-1][0]>f?-180:180,T]),x.push(E)}else E=[],x.push(E);E.push([C,n[b][1]])}else E.push([n[b][0],n[b][1]])}}else{var M=[];x.push(M);for(var I=0;I<n.length;++I)M.push([n[I][0],n[I][1]])}for(var P=new a(this.properties),O=0;O<x.length;++O){var B=new s;P.geometries.push(B);for(var N=x[O],k=0;k<N.length;++k)B.move_to(N[k])}return P},t.exports={Coord:o,Arc:a,GreatCircle:u}},function(t,e,n){"use strict";function i(t,e,n){var i,s,a,u,l,c=t.length,h=o(t[0],e),f=[];for(n||(n=[]),i=1;i<c;i++){for(s=t[i-1],u=l=o(a=t[i],e);;){if(!(h|u)){f.push(s),u!==l?(f.push(a),i<c-1&&(n.push(f),f=[])):i===c-1&&f.push(a);break}if(h&u)break;h?h=o(s=r(s,a,h,e),e):u=o(a=r(s,a,u,e),e)}h=l}return f.length&&n.push(f),n}function r(t,e,n,i){return 8&n?[t[0]+(e[0]-t[0])*(i[3]-t[1])/(e[1]-t[1]),i[3]]:4&n?[t[0]+(e[0]-t[0])*(i[1]-t[1])/(e[1]-t[1]),i[1]]:2&n?[i[2],t[1]+(e[1]-t[1])*(i[2]-t[0])/(e[0]-t[0])]:1&n?[i[0],t[1]+(e[1]-t[1])*(i[0]-t[0])/(e[0]-t[0])]:null}function o(t,e){var n=0;return t[0]<e[0]?n|=1:t[0]>e[2]&&(n|=2),t[1]<e[1]?n|=4:t[1]>e[3]&&(n|=8),n}t.exports=i,i.polyline=i,i.polygon=function(t,e){var n,i,s,a,u,l,c;for(i=1;i<=8;i*=2){for(n=[],s=t[t.length-1],a=!(o(s,e)&i),u=0;u<t.length;u++)l=t[u],(c=!(o(l,e)&i))!==a&&n.push(r(s,l,i,e)),c&&n.push(l),s=l,a=c;if(!(t=n).length)break}return n}},function(t,e,n){"use strict";if(t.exports)var i=n(72);function r(t,e){if(!(this instanceof r))return new r(t,e);this.lat=Number(t),this.lon=Number(e)}r.prototype.distanceTo=function(t,e){if(!(t instanceof r))throw new TypeError("point is not LatLon object");var n=e=void 0===e?6371e3:Number(e),i=this.lat.toRadians(),o=this.lon.toRadians(),s=t.lat.toRadians(),a=s-i,u=t.lon.toRadians()-o,l=Math.sin(a/2)*Math.sin(a/2)+Math.cos(i)*Math.cos(s)*Math.sin(u/2)*Math.sin(u/2);return n*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))},r.prototype.bearingTo=function(t){if(!(t instanceof r))throw new TypeError("point is not LatLon object");var e=this.lat.toRadians(),n=t.lat.toRadians(),i=(t.lon-this.lon).toRadians(),o=Math.sin(i)*Math.cos(n),s=Math.cos(e)*Math.sin(n)-Math.sin(e)*Math.cos(n)*Math.cos(i);return(Math.atan2(o,s).toDegrees()+360)%360},r.prototype.finalBearingTo=function(t){if(!(t instanceof r))throw new TypeError("point is not LatLon object");return(t.bearingTo(this)+180)%360},r.prototype.midpointTo=function(t){if(!(t instanceof r))throw new TypeError("point is not LatLon object");var e=this.lat.toRadians(),n=this.lon.toRadians(),i=t.lat.toRadians(),o=(t.lon-this.lon).toRadians(),s=Math.cos(i)*Math.cos(o),a=Math.cos(i)*Math.sin(o),u=Math.sqrt((Math.cos(e)+s)*(Math.cos(e)+s)+a*a),l=Math.sin(e)+Math.sin(i),c=Math.atan2(l,u),h=n+Math.atan2(a,Math.cos(e)+s);return new r(c.toDegrees(),(h.toDegrees()+540)%360-180)},r.prototype.intermediatePointTo=function(t,e){if(!(t instanceof r))throw new TypeError("point is not LatLon object");var n=this.lat.toRadians(),i=this.lon.toRadians(),o=t.lat.toRadians(),s=t.lon.toRadians(),a=Math.sin(n),u=Math.cos(n),l=Math.sin(i),c=Math.cos(i),h=Math.sin(o),f=Math.cos(o),d=Math.sin(s),p=Math.cos(s),g=o-n,v=s-i,m=Math.sin(g/2)*Math.sin(g/2)+Math.cos(n)*Math.cos(o)*Math.sin(v/2)*Math.sin(v/2),y=2*Math.atan2(Math.sqrt(m),Math.sqrt(1-m)),x=Math.sin((1-e)*y)/Math.sin(y),E=Math.sin(e*y)/Math.sin(y),b=x*u*c+E*f*p,C=x*u*l+E*f*d,w=x*a+E*h,_=Math.atan2(w,Math.sqrt(b*b+C*C)),A=Math.atan2(C,b);return new r(_.toDegrees(),(A.toDegrees()+540)%360-180)},r.prototype.destinationPoint=function(t,e,n){n=void 0===n?6371e3:Number(n);var i=Number(t)/n,o=Number(e).toRadians(),s=this.lat.toRadians(),a=this.lon.toRadians(),u=Math.sin(s),l=Math.cos(s),c=Math.sin(i),h=Math.cos(i),f=Math.sin(o),d=u*h+l*c*Math.cos(o),p=Math.asin(d),g=f*c*l,v=h-u*d,m=a+Math.atan2(g,v);return new r(p.toDegrees(),(m.toDegrees()+540)%360-180)},r.intersection=function(t,e,n,i){if(!(t instanceof r))throw new TypeError("p1 is not LatLon object");if(!(n instanceof r))throw new TypeError("p2 is not LatLon object");var o=t.lat.toRadians(),s=t.lon.toRadians(),a=n.lat.toRadians(),u=n.lon.toRadians(),l=Number(e).toRadians(),c=Number(i).toRadians(),h=a-o,f=u-s,d=2*Math.asin(Math.sqrt(Math.sin(h/2)*Math.sin(h/2)+Math.cos(o)*Math.cos(a)*Math.sin(f/2)*Math.sin(f/2)));if(0==d)return null;var p=Math.acos((Math.sin(a)-Math.sin(o)*Math.cos(d))/(Math.sin(d)*Math.cos(o)));isNaN(p)&&(p=0);var g=Math.acos((Math.sin(o)-Math.sin(a)*Math.cos(d))/(Math.sin(d)*Math.cos(a))),v=l-(Math.sin(u-s)>0?p:2*Math.PI-p),m=(Math.sin(u-s)>0?2*Math.PI-g:g)-c;if(0==Math.sin(v)&&0==Math.sin(m))return null;if(Math.sin(v)*Math.sin(m)<0)return null;var y=Math.acos(-Math.cos(v)*Math.cos(m)+Math.sin(v)*Math.sin(m)*Math.cos(d)),x=Math.atan2(Math.sin(d)*Math.sin(v)*Math.sin(m),Math.cos(m)+Math.cos(v)*Math.cos(y)),E=Math.asin(Math.sin(o)*Math.cos(x)+Math.cos(o)*Math.sin(x)*Math.cos(l)),b=s+Math.atan2(Math.sin(l)*Math.sin(x)*Math.cos(o),Math.cos(x)-Math.sin(o)*Math.sin(E));return new r(E.toDegrees(),(b.toDegrees()+540)%360-180)},r.prototype.crossTrackDistanceTo=function(t,e,n){if(!(t instanceof r))throw new TypeError("pathStart is not LatLon object");if(!(e instanceof r))throw new TypeError("pathEnd is not LatLon object");var i=void 0===n?6371e3:Number(n),o=t.distanceTo(this,i)/i,s=t.bearingTo(this).toRadians(),a=t.bearingTo(e).toRadians();return Math.asin(Math.sin(o)*Math.sin(s-a))*i},r.prototype.alongTrackDistanceTo=function(t,e,n){if(!(t instanceof r))throw new TypeError("pathStart is not LatLon object");if(!(e instanceof r))throw new TypeError("pathEnd is not LatLon object");var i=void 0===n?6371e3:Number(n),o=t.distanceTo(this,i)/i,s=t.bearingTo(this).toRadians(),a=t.bearingTo(e).toRadians(),u=Math.asin(Math.sin(o)*Math.sin(s-a));return Math.acos(Math.cos(o)/Math.abs(Math.cos(u)))*Math.sign(Math.cos(a-s))*i},r.prototype.maxLatitude=function(t){var e=Number(t).toRadians(),n=this.lat.toRadians();return Math.acos(Math.abs(Math.sin(e)*Math.cos(n))).toDegrees()},r.crossingParallels=function(t,e,n){var i=Number(n).toRadians(),r=t.lat.toRadians(),o=t.lon.toRadians(),s=e.lat.toRadians(),a=e.lon.toRadians()-o,u=Math.sin(r)*Math.cos(s)*Math.cos(i)*Math.sin(a),l=Math.sin(r)*Math.cos(s)*Math.cos(i)*Math.cos(a)-Math.cos(r)*Math.sin(s)*Math.cos(i),c=Math.cos(r)*Math.cos(s)*Math.sin(i)*Math.sin(a);if(c*c>u*u+l*l)return null;var h=Math.atan2(-l,u),f=Math.acos(c/Math.sqrt(u*u+l*l)),d=o+h+f;return{lon1:((o+h-f).toDegrees()+540)%360-180,lon2:(d.toDegrees()+540)%360-180}},r.prototype.rhumbDistanceTo=function(t,e){if(!(t instanceof r))throw new TypeError("point is not LatLon object");var n=e=void 0===e?6371e3:Number(e),i=this.lat.toRadians(),o=t.lat.toRadians(),s=o-i,a=Math.abs(t.lon-this.lon).toRadians();a>Math.PI&&(a-=2*Math.PI);var u=Math.log(Math.tan(o/2+Math.PI/4)/Math.tan(i/2+Math.PI/4)),l=Math.abs(u)>1e-11?s/u:Math.cos(i);return Math.sqrt(s*s+l*l*a*a)*n},r.prototype.rhumbBearingTo=function(t){if(!(t instanceof r))throw new TypeError("point is not LatLon object");var e=this.lat.toRadians(),n=t.lat.toRadians(),i=(t.lon-this.lon).toRadians();i>Math.PI&&(i-=2*Math.PI),i<-Math.PI&&(i+=2*Math.PI);var o=Math.log(Math.tan(n/2+Math.PI/4)/Math.tan(e/2+Math.PI/4));return(Math.atan2(i,o).toDegrees()+360)%360},r.prototype.rhumbDestinationPoint=function(t,e,n){n=void 0===n?6371e3:Number(n);var i=Number(t)/n,o=this.lat.toRadians(),s=this.lon.toRadians(),a=Number(e).toRadians(),u=i*Math.cos(a),l=o+u;Math.abs(l)>Math.PI/2&&(l=l>0?Math.PI-l:-Math.PI-l);var c=Math.log(Math.tan(l/2+Math.PI/4)/Math.tan(o/2+Math.PI/4)),h=Math.abs(c)>1e-11?u/c:Math.cos(o),f=s+i*Math.sin(a)/h;return new r(l.toDegrees(),(f.toDegrees()+540)%360-180)},r.prototype.rhumbMidpointTo=function(t){if(!(t instanceof r))throw new TypeError("point is not LatLon object");var e=this.lat.toRadians(),n=this.lon.toRadians(),i=t.lat.toRadians(),o=t.lon.toRadians();Math.abs(o-n)>Math.PI&&(n+=2*Math.PI);var s=(e+i)/2,a=Math.tan(Math.PI/4+e/2),u=Math.tan(Math.PI/4+i/2),l=Math.tan(Math.PI/4+s/2),c=((o-n)*Math.log(l)+n*Math.log(u)-o*Math.log(a))/Math.log(u/a);return isFinite(c)||(c=(n+o)/2),r(s.toDegrees(),(c.toDegrees()+540)%360-180)},r.areaOf=function(t,e){var n=void 0===e?6371e3:Number(e),i=t[0].equals(t[t.length-1]);i||t.push(t[0]);for(var r=t.length-1,o=0,s=0;s<r;s++){var a=t[s].lat.toRadians(),u=t[s+1].lat.toRadians(),l=(t[s+1].lon-t[s].lon).toRadians();o+=2*Math.atan2(Math.tan(l/2)*(Math.tan(a/2)+Math.tan(u/2)),1+Math.tan(a/2)*Math.tan(u/2))}(function(t){for(var e=0,n=t[0].bearingTo(t[1]),i=0;i<t.length-1;i++){var r=t[i].bearingTo(t[i+1]),o=t[i].finalBearingTo(t[i+1]);e+=(r-n+540)%360-180,e+=(o-r+540)%360-180,n=o}r=t[0].bearingTo(t[1]);return e+=(r-n+540)%360-180,Math.abs(e)<90})(t)&&(o=Math.abs(o)-2*Math.PI);var c=Math.abs(o*n*n);return i||t.pop(),c},r.prototype.equals=function(t){if(!(t instanceof r))throw new TypeError("point is not LatLon object");return this.lat==t.lat&&this.lon==t.lon},r.prototype.toString=function(t,e){return i.toLat(this.lat,t,e)+", "+i.toLon(this.lon,t,e)},void 0===Number.prototype.toRadians&&(Number.prototype.toRadians=function(){return this*Math.PI/180}),void 0===Number.prototype.toDegrees&&(Number.prototype.toDegrees=function(){return 180*this/Math.PI}),t.exports&&(t.exports=r)},function(t,e,n){"use strict";if(t.exports)var i=n(50);i.prototype.distanceTo=function(t){if(!(t instanceof i))throw new TypeError("point is not LatLon object");try{return Number(this.inverse(t).distance.toFixed(3))}catch(t){return NaN}},i.prototype.initialBearingTo=function(t){if(!(t instanceof i))throw new TypeError("point is not LatLon object");try{return Number(this.inverse(t).initialBearing.toFixed(9))}catch(t){return NaN}},i.prototype.finalBearingTo=function(t){if(!(t instanceof i))throw new TypeError("point is not LatLon object");try{return Number(this.inverse(t).finalBearing.toFixed(9))}catch(t){return NaN}},i.prototype.destinationPoint=function(t,e){return this.direct(Number(t),Number(e)).point},i.prototype.finalBearingOn=function(t,e){return Number(this.direct(Number(t),Number(e)).finalBearing.toFixed(9))},i.prototype.direct=function(t,e){var n,r,o,s,a=this.lat.toRadians(),u=this.lon.toRadians(),l=e.toRadians(),c=t,h=this.datum.ellipsoid.a,f=this.datum.ellipsoid.b,d=this.datum.ellipsoid.f,p=Math.sin(l),g=Math.cos(l),v=(1-d)*Math.tan(a),m=1/Math.sqrt(1+v*v),y=v*m,x=Math.atan2(v,g),E=m*p,b=1-E*E,C=b*(h*h-f*f)/(f*f),w=1+C/16384*(4096+C*(C*(320-175*C)-768)),_=C/1024*(256+C*(C*(74-47*C)-128)),A=c/(f*w),S=0;do{n=Math.cos(2*x+A),s=A,A=c/(f*w)+_*(r=Math.sin(A))*(n+_/4*((o=Math.cos(A))*(2*n*n-1)-_/6*n*(4*r*r-3)*(4*n*n-3)))}while(Math.abs(A-s)>1e-12&&++S<100);if(S>=100)throw new Error("Formula failed to converge");var D=y*r-m*o*g,L=Math.atan2(y*o+m*r*g,(1-d)*Math.sqrt(E*E+D*D)),F=d/16*b*(4+d*(4-3*b)),T=(u+(Math.atan2(r*p,m*o-y*r*g)-(1-F)*d*E*(A+F*r*(n+F*o*(2*n*n-1))))+3*Math.PI)%(2*Math.PI)-Math.PI,M=Math.atan2(E,-D);return M=(M+2*Math.PI)%(2*Math.PI),{point:new i(L.toDegrees(),T.toDegrees(),this.datum),finalBearing:M.toDegrees(),iterations:S}},i.prototype.inverse=function(t){var e=t;-180==this.lon&&(this.lon=180);var n,i,r,o,s,a,u=this.lat.toRadians(),l=this.lon.toRadians(),c=e.lat.toRadians(),h=e.lon.toRadians(),f=this.datum.ellipsoid.a,d=this.datum.ellipsoid.b,p=this.datum.ellipsoid.f,g=h-l,v=(1-p)*Math.tan(u),m=1/Math.sqrt(1+v*v),y=v*m,x=(1-p)*Math.tan(c),E=1/Math.sqrt(1+x*x),b=x*E,C=0,w=0,_=0,A=0,S=0,D=g,L=0;do{if(0==(r=E*(n=Math.sin(D))*(E*n)+(m*b-y*E*(i=Math.cos(D)))*(m*b-y*E*i)))break;if(w=y*b+m*E*i,a=D,D=g+(1-(s=p/16*(A=1-(o=m*E*n/(C=Math.sqrt(r)))*o)*(4+p*(4-3*A))))*p*o*((_=Math.atan2(C,w))+s*C*((S=0!=A?w-2*y*b/A:0)+s*w*(2*S*S-1))),Math.abs(D)>Math.PI)throw new Error(" > ")}while(Math.abs(D-a)>1e-12&&++L<1e3);if(L>=1e3)throw new Error("Formula failed to converge");var F=A*(f*f-d*d)/(d*d),T=F/1024*(256+F*(F*(74-47*F)-128)),M=d*(1+F/16384*(4096+F*(F*(320-175*F)-768)))*(_-T*C*(S+T/4*(w*(2*S*S-1)-T/6*S*(4*C*C-3)*(4*S*S-3)))),I=Math.atan2(E*n,m*b-y*E*i),P=Math.atan2(m*n,-y*E+m*b*i);return I=(I+2*Math.PI)%(2*Math.PI),P=(P+2*Math.PI)%(2*Math.PI),{distance:M,initialBearing:0==M?NaN:I.toDegrees(),finalBearing:0==M?NaN:P.toDegrees(),iterations:L}},void 0===Number.prototype.toRadians&&(Number.prototype.toRadians=function(){return this*Math.PI/180}),void 0===Number.prototype.toDegrees&&(Number.prototype.toDegrees=function(){return 180*this/Math.PI}),t.exports&&(t.exports=i)},function(t,e,n){"use strict";if(t.exports)var i=n(109);if(t.exports)var r=n(72);function o(t,e){if(!(this instanceof o))return new o(t,e);this.lat=Number(t),this.lon=Number(e)}o.prototype.toVector=function(){var t=this.lat.toRadians(),e=this.lon.toRadians(),n=Math.cos(t)*Math.cos(e),r=Math.cos(t)*Math.sin(e),o=Math.sin(t);return new i(n,r,o)},i.prototype.toLatLonS=function(){var t=Math.atan2(this.z,Math.sqrt(this.x*this.x+this.y*this.y)),e=Math.atan2(this.y,this.x);return new o(t.toDegrees(),e.toDegrees())},o.prototype.greatCircle=function(t){var e=this.lat.toRadians(),n=this.lon.toRadians(),r=Number(t).toRadians(),o=Math.sin(n)*Math.cos(r)-Math.sin(e)*Math.cos(n)*Math.sin(r),s=-Math.cos(n)*Math.cos(r)-Math.sin(e)*Math.sin(n)*Math.sin(r),a=Math.cos(e)*Math.sin(r);return new i(o,s,a)},i.prototype.greatCircle=function(t){var e=Number(t).toRadians(),n=new i(0,0,1).cross(this),r=this.cross(n),o=n.times(Math.cos(e)/n.length());return r.times(Math.sin(e)/r.length()).minus(o)},o.prototype.distanceTo=function(t,e){if(!(t instanceof o))throw new TypeError("point is not LatLon object");e=void 0===e?6371e3:Number(e);var n=this.toVector(),i=t.toVector();return n.angleTo(i)*e},o.prototype.bearingTo=function(t){if(!(t instanceof o))throw new TypeError("point is not LatLon object");var e=this.toVector(),n=t.toVector(),r=new i(0,0,1),s=e.cross(n),a=e.cross(r);return(s.angleTo(a,e).toDegrees()+360)%360},o.prototype.midpointTo=function(t){if(!(t instanceof o))throw new TypeError("point is not LatLon object");var e=this.toVector(),n=t.toVector();return e.plus(n).unit().toLatLonS()},o.prototype.intermediatePointTo=function(t,e){if(!(t instanceof o))throw new TypeError("point is not LatLon object");var n=this.toVector(),r=t.toVector(),s=n.cross(r).length(),a=n.dot(r),u=Math.atan2(s,a)*Number(e),l=Math.sin(u),c=Math.cos(u),h=n.cross(r).unit().cross(n),f=n.times(c).plus(h.times(l));return new i(f.x,f.y,f.z).toLatLonS()},o.prototype.intermediatePointOnChordTo=function(t,e){if(!(t instanceof o))throw new TypeError("point is not LatLon object");var n=this.toVector(),r=t.toVector(),s=n.plus(r.minus(n).times(Number(e)));return new i(s.x,s.y,s.z).toLatLonS()},o.prototype.destinationPoint=function(t,e,n){n=void 0===n?6371e3:Number(n);var r=this.toVector(),o=Number(t)/n,s=Number(e).toRadians(),a=new i(0,0,1).cross(r).unit(),u=r.cross(a),l=a.times(Math.sin(s)),c=u.times(Math.cos(s)).plus(l),h=r.times(Math.cos(o)),f=c.times(Math.sin(o));return h.plus(f).toLatLonS()},o.intersection=function(t,e,n,i){if(!(t instanceof o))throw new TypeError("path1start is not LatLon object");if(!(n instanceof o))throw new TypeError("path2start is not LatLon object");if(!(e instanceof o)&&isNaN(e))throw new TypeError("path1brngEnd is not LatLon object or bearing");if(!(i instanceof o)&&isNaN(i))throw new TypeError("path2brngEnd is not LatLon object or bearing");var r,s,a,u,l=t.toVector(),c=n.toVector();e instanceof o?(r=l.cross(e.toVector()),a="endpoint"):(r=t.greatCircle(Number(e)),a="bearing"),i instanceof o?(s=c.cross(i.toVector()),u="endpoint"):(s=n.greatCircle(Number(i)),u="bearing");var h=r.cross(s),f=s.cross(r),d=null;switch(a+"+"+u){case"bearing+bearing":switch(Math.sign(r.cross(l).dot(h))+Math.sign(s.cross(c).dot(h))){case 2:d=h;break;case-2:d=f;break;case 0:d=l.plus(c).dot(h)>0?f:h}break;case"bearing+endpoint":d=Math.sign(r.cross(l).dot(h))>0?h:f;break;case"endpoint+bearing":d=Math.sign(s.cross(c).dot(h))>0?h:f;break;case"endpoint+endpoint":d=l.plus(c).plus(e.toVector()).plus(i.toVector()).dot(h)>0?h:f}return d.toLatLonS()},o.prototype.crossTrackDistanceTo=function(t,e,n){if(!(t instanceof o))throw new TypeError("pathStart is not LatLon object");var i=void 0===n?6371e3:Number(n),r=this.toVector();return((e instanceof o?t.toVector().cross(e.toVector()):t.greatCircle(Number(e))).angleTo(r)-Math.PI/2)*i},o.prototype.alongTrackDistanceTo=function(t,e,n){if(!(t instanceof o))throw new TypeError("pathStart is not LatLon object");var i=void 0===n?6371e3:Number(n),r=this.toVector(),s=e instanceof o?t.toVector().cross(e.toVector()):t.greatCircle(Number(e)),a=s.cross(r).cross(s);return t.toVector().angleTo(a,s)*i},o.prototype.nearestPointOnSegment=function(t,e){var n=null;if(this.isBetween(t,e)){var i=this.toVector(),r=t.toVector(),o=e.toVector(),s=r.cross(o),a=i.cross(s);n=s.cross(a).toLatLonS()}else{n=this.distanceTo(t)<this.distanceTo(e)?t:e}return n},o.prototype.isBetween=function(t,e){var n=this.toVector(),i=t.toVector(),r=e.toVector(),o=n.minus(i),s=r.minus(i),a=n.minus(r),u=i.minus(r),l=o.dot(s),c=a.dot(u),h=l>=0&&c>=0,f=n.dot(i)>=0&&n.dot(r)>=0;return h&&f},o.prototype.enclosedBy=function(t){var e=t[0].equals(t[t.length-1]);e||t.push(t[0]);for(var n=t.length-1,i=this.toVector(),r=[],o=0;o<n;o++)r[o]=i.minus(t[o].toVector());r.push(r[0]);var s=0;for(o=0;o<n;o++)s+=r[o].angleTo(r[o+1],i);var a=Math.abs(s)>Math.PI;return e||t.pop(),a},o.areaOf=function(t,e){var n=null==e?6371e3:Number(e),i=t[0].equals(t[t.length-1]);i||t.push(t[0]);for(var r=t.length-1,o=[],s=0;s<r;s++){var a=t[s].toVector(),u=t[s+1].toVector();o[s]=a.cross(u)}o.push(o[0]);var l=t[0].toVector(),c=0;for(s=0;s<r;s++)c+=o[s].angleTo(o[s+1],l);var h=(r*Math.PI-Math.abs(c)-(r-2)*Math.PI)*n*n;return i||t.pop(),h},o.meanOf=function(t){for(var e=new i(0,0,0),n=0;n<t.length;n++)e=e.plus(t[n].toVector());return e.unit().toLatLonS()},o.prototype.equals=function(t){if(!(t instanceof o))throw new TypeError("point is not LatLon object");return this.lat==t.lat&&this.lon==t.lon},o.prototype.toString=function(t,e){return r.toLat(this.lat,t,e)+", "+r.toLon(this.lon,t,e)},void 0===Number.prototype.toRadians&&(Number.prototype.toRadians=function(){return this*Math.PI/180}),void 0===Number.prototype.toDegrees&&(Number.prototype.toDegrees=function(){return 180*this/Math.PI}),void 0===Math.sign&&(Math.sign=function(t){return 0===(t=+t)||isNaN(t)?t:t>0?1:-1}),t.exports&&(t.exports=o,t.exports.Vector3d=i)},function(t,e,n){"use strict";if(t.exports)var i=n(192);if(t.exports)var r=n(50);function o(t,e,n,i,s,a,u){if(!(this instanceof o))return new o(t,e,n,i,s,a,u);if(void 0===u&&(u=r.datum.WGS84),!(1<=t&&t<=60))throw new Error("Invalid MGRS grid reference (zone "+t+")");if(1!=e.length)throw new Error("Invalid MGRS grid reference (band "+e+")");if(-1==o.latBands.indexOf(e))throw new Error("Invalid MGRS grid reference (band "+e+")");if(1!=n.length)throw new Error("Invalid MGRS grid reference (e100k "+n+")");if(1!=i.length)throw new Error("Invalid MGRS grid reference (n100k "+i+")");this.zone=Number(t),this.band=e,this.e100k=n,this.n100k=i,this.easting=Number(s),this.northing=Number(a),this.datum=u}o.latBands="CDEFGHJKLMNPQRSTUVWXX",o.e100kLetters=["ABCDEFGH","JKLMNPQR","STUVWXYZ"],o.n100kLetters=["ABCDEFGHJKLMNPQRSTUV","FGHJKLMNPQRSTUVABCDE"],i.prototype.toMgrs=function(){if(isNaN(this.zone+this.easting+this.northing))throw new Error("Invalid UTM coordinate "+this.toString()+"");var t=this.zone,e=this.toLatLonE(),n=o.latBands.charAt(Math.floor(e.lat/8+10)),i=Math.floor(this.easting/1e5),r=o.e100kLetters[(t-1)%3].charAt(i-1),s=Math.floor(this.northing/1e5)%20,a=o.n100kLetters[(t-1)%2].charAt(s),u=this.easting%1e5,l=this.northing%1e5;return new o(t,n,r,a,u=Number(u.toFixed(6)),l=Number(l.toFixed(6)))},o.prototype.toUtm=function(){for(var t=this.zone,e=this.band,n=this.e100k,s=this.n100k,a=this.easting,u=this.northing,l=e>="N"?"N":"S",c=1e5*(o.e100kLetters[(t-1)%3].indexOf(n)+1),h=1e5*o.n100kLetters[(t-1)%2].indexOf(s),f=8*(o.latBands.indexOf(e)-10),d=1e5*Math.floor(new r(f,0).toUtm().northing/1e5),p=0;p+h+u<d;)p+=2e6;return new i(t,l,c+a,p+h+u,this.datum)},o.parse=function(t){if(!(t=t.trim()).match(/\s/)){var e=t.slice(5);e=e.slice(0,e.length/2)+" "+e.slice(-e.length/2),t=t.slice(0,3)+" "+t.slice(3,5)+" "+e}if(null==(t=t.match(/\S+/g))||4!=t.length)throw new Error("Invalid MGRS grid reference "+t+"");var n=t[0],i=n.slice(0,2),r=n.slice(2,3),s=t[1],a=s.slice(0,1),u=s.slice(1,2),l=t[2],c=t[3];return new o(i,r,a,u,l=l.length>=5?l:(l+"00000").slice(0,5),c=c.length>=5?c:(c+"00000").slice(0,5))},o.prototype.toString=function(t){if(t=void 0===t?10:Number(t),-1==[2,4,6,8,10].indexOf(t))throw new Error("Invalid precision "+t+"");var e=("00"+this.zone).slice(-2),n=this.band,i=this.e100k,r=this.n100k,o=Math.floor(this.easting/Math.pow(10,5-t/2)),s=Math.floor(this.northing/Math.pow(10,5-t/2));return e+n+" "+i+r+" "+("00000"+o).slice(-t/2)+" "+("00000"+s).slice(-t/2)},t.exports&&(t.exports=o)},function(t,e,n){"use strict";if(t.exports)var i=n(50);function r(t,e){if(!(this instanceof r))return new r(t,e);this.easting=Number(t),this.northing=Number(e)}r.latLonToOsGrid=function(t){if(!(t instanceof i))throw new TypeError("point is not LatLon object");t.datum!=i.datum.OSGB36&&(t=t.convertDatum(i.datum.OSGB36));var e=t.lat.toRadians(),n=t.lon.toRadians(),o=6377563.396,s=6356256.909,a=.9996012717,u=49..toRadians(),l=(-2).toRadians(),c=1-s*s/(o*o),h=(o-s)/(o+s),f=h*h,d=h*h*h,p=Math.cos(e),g=Math.sin(e),v=o*a/Math.sqrt(1-c*g*g),m=o*a*(1-c)/Math.pow(1-c*g*g,1.5),y=v/m-1,x=s*a*(1.0016767257673973*(e-u)-(3*h+3*h*h+21/8*d)*Math.sin(e-u)*Math.cos(e+u)+(15/8*f+15/8*d)*Math.sin(2*(e-u))*Math.cos(2*(e+u))-35/24*d*Math.sin(3*(e-u))*Math.cos(3*(e+u))),E=p*p*p,b=E*p*p,C=Math.tan(e)*Math.tan(e),w=C*C,_=n-l,A=_*_,S=A*_,D=S*_,L=D*_,F=x+-1e5+v/2*g*p*A+v/24*g*E*(5-C+9*y)*D+v/720*g*b*(61-58*C+w)*(L*_),T=4e5+v*p*_+v/6*E*(v/m-C)*S+v/120*b*(5-18*C+w+14*y-58*C*y)*L;return F=Number(F.toFixed(3)),new r(T=Number(T.toFixed(3)),F)},r.osGridToLatLon=function(t,e){if(!(t instanceof r))throw new TypeError("gridref is not OsGridRef object");void 0===e&&(e=i.datum.WGS84);var n=t.easting,o=t.northing,s=6377563.396,a=6356256.909,u=.9996012717,l=49..toRadians(),c=(-2).toRadians(),h=1-a*a/(s*s),f=(s-a)/(s+a),d=f*f,p=f*f*f,g=l,v=0;do{v=a*u*(1.0016767257673973*((g=(o- -1e5-v)/(s*u)+g)-l)-(3*f+3*f*f+21/8*p)*Math.sin(g-l)*Math.cos(g+l)+(15/8*d+15/8*p)*Math.sin(2*(g-l))*Math.cos(2*(g+l))-35/24*p*Math.sin(3*(g-l))*Math.cos(3*(g+l)))}while(o- -1e5-v>=1e-5);var m=Math.cos(g),y=Math.sin(g),x=s*u/Math.sqrt(1-h*y*y),E=s*u*(1-h)/Math.pow(1-h*y*y,1.5),b=x/E-1,C=Math.tan(g),w=C*C,_=w*w,A=1/m,S=x*x*x,D=S*x*x,L=n-4e5,F=L*L,T=F*L,M=F*F,I=T*F,P=c+A/x*L-A/(6*S)*(x/E+2*w)*T+A/(120*D)*(5+28*w+24*_)*I-A/(5040*(D*x*x))*(61+662*w+1320*_+720*(_*w))*(I*F),O=new i((g=g-C/(2*E*x)*F+C/(24*E*S)*(5+3*w+b-9*w*b)*M-C/(720*E*D)*(61+90*w+45*_)*(M*F)).toDegrees(),P.toDegrees(),i.datum.OSGB36);return e!=i.datum.OSGB36&&(O=O.convertDatum(e)),O},r.parse=function(t){var e=(t=String(t).trim()).match(/^(\d+),\s*(\d+)$/);if(e)return new r(e[1],e[2]);if(!(e=t.match(/^[A-Z]{2}\s*[0-9]+\s*[0-9]+$/i)))throw new Error("Invalid grid reference");var n=t.toUpperCase().charCodeAt(0)-"A".charCodeAt(0),i=t.toUpperCase().charCodeAt(1)-"A".charCodeAt(0);n>7&&n--,i>7&&i--;var o=(n-2)%5*5+i%5,s=19-5*Math.floor(n/5)-Math.floor(i/5),a=t.slice(2).trim().split(/\s+/);if(1==a.length&&(a=[a[0].slice(0,a[0].length/2),a[0].slice(a[0].length/2)]),o<0||o>6||s<0||s>12)throw new Error("Invalid grid reference");if(2!=a.length)throw new Error("Invalid grid reference");if(a[0].length!=a[1].length)throw new Error("Invalid grid reference");return a[0]=(a[0]+"00000").slice(0,5),a[1]=(a[1]+"00000").slice(0,5),new r(o+a[0],s+a[1])},r.prototype.toString=function(t){if(t=void 0===t?10:Number(t),isNaN(t)||t%2!=0||t>16)throw new RangeError("Invalid precision "+t+"");var e=this.easting,n=this.northing;if(isNaN(e)||isNaN(n))throw new Error("Invalid grid reference");if(0==t){var i=Math.floor(e),r=e-i,o=Math.floor(n),s=n-o;return("000000"+i).slice(-6)+(r>0?r.toFixed(3).slice(1):"")+","+((o<1e6?("000000"+o).slice(-6):o)+(s>0?s.toFixed(3).slice(1):""))}var a=Math.floor(e/1e5),u=Math.floor(n/1e5);if(a<0||a>6||u<0||u>12)return"";var l=19-u-(19-u)%5+Math.floor((a+10)/5),c=5*(19-u)%25+a%5;l>7&&l++,c>7&&c++;var h=String.fromCharCode(l+"A".charCodeAt(0),c+"A".charCodeAt(0));return e=Math.floor(e%1e5/Math.pow(10,5-t/2)),n=Math.floor(n%1e5/Math.pow(10,5-t/2)),h+" "+(e=("00000000"+e).slice(-t/2))+" "+(n=("00000000"+n).slice(-t/2))},t.exports&&(t.exports=r)},function(t,e,n){var i=n(44).coordEach;t.exports=function(t){var e=[1/0,1/0,-1/0,-1/0];return i(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}},function(t,e,n){var i=n(196);function r(t,e,n){var i=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var r=0,o=e.length-1;r<e.length;o=r++){var s=e[r][0],a=e[r][1],u=e[o][0],l=e[o][1];if(t[1]*(s-u)+a*(u-t[0])+l*(t[0]-s)==0&&(s-t[0])*(u-t[0])<=0&&(a-t[1])*(l-t[1])<=0)return!n;a>t[1]!=l>t[1]&&t[0]<(u-s)*(t[1]-a)/(l-a)+s&&(i=!i)}return i}t.exports=function(t,e){var n=i.getCoord(t),o=e.geometry.coordinates;"Polygon"===e.geometry.type&&(o=[o]);for(var s=0,a=!1;s<o.length&&!a;s++)if(r(n,o[s][0])){for(var u=!1,l=1;l<o[s].length&&!u;)r(n,o[s][l],!0)&&(u=!0),l++;u||(a=!0)}return a}},function(t,e,n){var i=n(70).featureCollection,r=n(44).featureEach,o=n(44).coordEach,s=n(70).point;t.exports=function(t){var e=[];return"FeatureCollection"===t.type?r(t,(function(t){o(t,(function(n){e.push(s(n,t.properties))}))})):o(t,(function(n){e.push(s(n,t.properties))})),i(e)}},function(t,e,n){"use strict";
/*!
* MarchingSquaresJS
* version 1.3.3
* https://github.com/RaumZeit/MarchingSquares.js
*
* @license GNU Affero General Public License.
* Copyright (c) 2015-2019 Ronny Lorenz <ronny@tbi.univie.ac.at>
*/
function i(t,e,n){return t<e?(n-t)/(e-t):(t-n)/(t-e)}function r(t,e,n,i){var r;return n>i&&(r=n,n=i,i=r),t<e?t<n?(n-t)/(e-t):(i-t)/(e-t):t>i?(t-i)/(t-e):(t-n)/(t-e)}function o(t,e,n,i){return t<e?(n-t)/(e-t):(t-i)/(t-e)}function s(t,e,n,i){return t<e?(i-t)/(e-t):(t-n)/(t-e)}function a(){this.successCallback=null,this.verbose=!1,this.polygons=!1,this.polygons_full=!1,this.linearRing=!0,this.noQuadTree=!1,this.noFrame=!1}function u(t,e,n,i){var r=[];return t.polygons.forEach((function(t){t.forEach((function(t){t[0]+=e,t[1]+=n})),i.linearRing&&t.push(t[0]),r.push(t)})),r}function l(t,e,n,i){return 0===n?(t+=1,e+=i[0][1]):1===n?t+=i[0][0]:2===n?e+=i[0][1]:3===n&&(t+=i[0][0],e+=1),[t,e]}function c(t,e,n){return 0===n?t++:1===n||(2===n?e++:3===n&&(t++,e++)),[t,e]}function h(t,e,n,i,r){var o=i,s=r,a=0,u=0;if(this.x=e,this.y=n,this.lowerBound=null,this.upperBound=null,this.childA=null,this.childB=null,this.childC=null,this.childD=null,1===i&&1===r)this.lowerBound=Math.min(t[n][e],t[n][e+1],t[n+1][e+1],t[n+1][e]),this.upperBound=Math.max(t[n][e],t[n][e+1],t[n+1][e+1],t[n+1][e]);else{if(i>1){for(;0!==o;)o>>=1,a++;i===1<<a-1&&a--,o=1<<a-1}if(r>1){for(;0!==s;)s>>=1,u++;r===1<<u-1&&u--,s=1<<u-1}this.childA=new h(t,e,n,o,s),this.lowerBound=this.childA.lowerBound,this.upperBound=this.childA.upperBound,i-o>0&&(this.childB=new h(t,e+o,n,i-o,s),this.lowerBound=Math.min(this.lowerBound,this.childB.lowerBound),this.upperBound=Math.max(this.upperBound,this.childB.upperBound),r-s>0&&(this.childC=new h(t,e+o,n+s,i-o,r-s),this.lowerBound=Math.min(this.lowerBound,this.childC.lowerBound),this.upperBound=Math.max(this.upperBound,this.childC.upperBound))),r-s>0&&(this.childD=new h(t,e,n+s,o,r-s),this.lowerBound=Math.min(this.lowerBound,this.childD.lowerBound),this.upperBound=Math.max(this.upperBound,this.childD.upperBound))}}function f(t){var e,n;if(!t)throw new Error("data is required");if(!Array.isArray(t)||!Array.isArray(t[0]))throw new Error("data must be scalar field, i.e. array of arrays");if(t.length<2)throw new Error("data must contain at least two rows");if((n=t[0].length)<2)throw new Error("data must contain at least two columns");for(e=1;e<t.length;e++){if(!Array.isArray(t[e]))throw new Error("Row "+e+" is not an array");if(t[e].length!=n)throw new Error("unequal row lengths detected, please provide a regular grid")}this.data=t,this.root=new h(t,0,0,t[0].length-1,t.length-1)}function d(t,e,n){var r,o,s,h=!1,d=!1,g=null,v=null,m=null,y=null,x=null,E=[];if(!t)throw new Error("data is required");if(null==e)throw new Error("threshold is required");if(n&&"object"!=typeof n)throw new Error("options must be an object");if(r=function(t){var e,n,r,o,s;for(o=new a,t=t||{},s=Object.keys(o),e=0;e<s.length;e++)null!=(r=t[n=s[e]])&&(o[n]=r);return o.polygons_full=!o.polygons,o.interpolate=i,o}(n),t instanceof f)g=t,v=t.root,m=t.data,r.noQuadTree||(h=!0);else{if(!Array.isArray(t)||!Array.isArray(t[0]))throw new Error("input is neither array of arrays nor object retrieved from 'QuadTree()'");m=t}if(Array.isArray(e)){for(d=!0,r.noQuadTree||(h=!0),o=0;o<e.length;o++)if(isNaN(+e[o]))throw new Error("threshold["+o+"] is not a number")}else{if(isNaN(+e))throw new Error("threshold must be a number or array of numbers");e=[e]}return h&&!v&&(g=new f(m),v=g.root,m=g.data),r.verbose&&(r.polygons?console.log("MarchingSquaresJS-isoLines: returning single lines (polygons) for each grid cell"):console.log("MarchingSquaresJS-isoLines: returning line paths (polygons) for entire data grid"),d&&console.log("MarchingSquaresJS-isoLines: multiple lines requested, returning array of line paths instead of lines for a single threshold")),e.forEach((function(t,e){if(x=[],r.threshold=t,r.verbose&&console.log("MarchingSquaresJS-isoLines: computing iso lines for threshold "+t),r.polygons)if(h)v.cellsBelowThreshold(r.threshold,!0).forEach((function(t){x=x.concat(u(p(m,t.x,t.y,r),t.x,t.y,r))}));else for(s=0;s<m.length-1;++s)for(e=0;e<m[0].length-1;++e)x=x.concat(u(p(m,e,s,r),e,s,r));else{for(y=[],e=0;e<m[0].length-1;++e)y[e]=[];if(h)v.cellsBelowThreshold(r.threshold,!1).forEach((function(t){y[t.x][t.y]=p(m,t.x,t.y,r)}));else for(e=0;e<m[0].length-1;++e)for(s=0;s<m.length-1;++s)y[e][s]=p(m,e,s,r);x=function(t,e,n){var i,r,o,s,a,u,h,f,d,p,g,v,m,y,x,E=[],b=t.length-1,C=t[0].length-1,w=["right","bottom","left","top"],_=[0,-1,0,1],A=[-1,0,1,0],S={bottom:1,left:2,top:3,right:0};return n.noFrame||function(t,e){var n,i,r,o,s;for(n=!0,i=t[0].length,r=t.length,s=0;s<r;s++)if(t[s][0]>=e||t[s][i-1]>=e){n=!1;break}if(n&&(t[r-1][0]>=e||t[r-1][i-1]>=e)&&(n=!1),n)for(o=0;o<i-1;o++)if(t[0][o]>=e||t[r-1][o]>e){n=!1;break}return n}(t,n.threshold)&&(n.linearRing?E.push([[0,0],[0,b],[C,b],[C,0],[0,0]]):E.push([[0,0],[0,b],[C,b],[C,0]])),e.forEach((function(t,D){t.forEach((function(t,L){for(i=null,r=0;r<4;r++)if(i=w[r],"object"==typeof t.edges[i]){for(a=[],o=t.edges[i],u=i,h=D,f=L,d=!1,p=[D+o.path[0][0],L+o.path[0][1]],a.push(p);!d&&"object"==typeof(s=e[h][f]).edges[u];)if(o=s.edges[u],delete s.edges[u],(g=o.path[1])[0]+=h,g[1]+=f,a.push(g),u=o.move.enter,h+=o.move.x,f+=o.move.y,void 0===e[h]||void 0===e[h][f]){if(!n.linearRing)break;if(v=0,m=0,h===C?(h--,v=0):h<0?(h++,v=2):f===b?(f--,v=3):f<0&&(f++,v=1),h===D&&f===L&&v===S[i]){d=!0,u=i;break}for(;;){if(y=!1,m>4)throw new Error("Direction change counter overflow! This should never happen!");if(void 0!==e[h]&&void 0!==e[h][f]&&(s=e[h][f],x=w[v],"object"==typeof s.edges[x])){o=s.edges[x],a.push(l(h,f,v,o.path)),u=x,y=!0;break}if(y)break;if(a.push(c(h,f,v)),f+=A[v],void 0!==e[h+=_[v]]&&void 0!==e[h][f]||(0===v&&f<0||1===v&&h<0||2===v&&f===b||3===v&&h===C)&&(h-=_[v],f-=A[v],v=(v+1)%4,m++),h===D&&f===L&&v===S[i]){d=!0,u=i;break}}}!n.linearRing||a[a.length-1][0]===p[0]&&a[a.length-1][1]===p[1]||a.push(p),E.push(a)}}))})),E}(m,y,r)}d?E.push(x):E=x,"function"==typeof r.successCallback&&r.successCallback(E,t)})),E}function p(t,e,n,i){var r,o,s,a,u,l,c=0,h=t[n+1][e],f=t[n+1][e+1],d=t[n][e+1],p=t[n][e],g=i.threshold;if(!(isNaN(p)||isNaN(d)||isNaN(f)||isNaN(h))){switch(c|=h>=g?8:0,c|=f>=g?4:0,c|=d>=g?2:0,l={cval:c=+(c|=p>=g?1:0),polygons:[],edges:{},x0:p,x1:d,x2:f,x3:h},c){case 0:i.polygons&&l.polygons.push([[0,0],[0,1],[1,1],[1,0]]);break;case 15:break;case 14:r=i.interpolate(p,h,g),a=i.interpolate(p,d,g),i.polygons_full&&(l.edges.left={path:[[0,r],[a,0]],move:{x:0,y:-1,enter:"top"}}),i.polygons&&l.polygons.push([[0,0],[0,r],[a,0]]);break;case 13:a=i.interpolate(p,d,g),o=i.interpolate(d,f,g),i.polygons_full&&(l.edges.bottom={path:[[a,0],[1,o]],move:{x:1,y:0,enter:"left"}}),i.polygons&&l.polygons.push([[a,0],[1,o],[1,0]]);break;case 11:o=i.interpolate(d,f,g),s=i.interpolate(h,f,g),i.polygons_full&&(l.edges.right={path:[[1,o],[s,1]],move:{x:0,y:1,enter:"bottom"}}),i.polygons&&l.polygons.push([[1,o],[s,1],[1,1]]);break;case 7:r=i.interpolate(p,h,g),s=i.interpolate(h,f,g),i.polygons_full&&(l.edges.top={path:[[s,1],[0,r]],move:{x:-1,y:0,enter:"right"}}),i.polygons&&l.polygons.push([[s,1],[0,r],[0,1]]);break;case 1:r=i.interpolate(p,h,g),a=i.interpolate(p,d,g),i.polygons_full&&(l.edges.bottom={path:[[a,0],[0,r]],move:{x:-1,y:0,enter:"right"}}),i.polygons&&l.polygons.push([[a,0],[0,r],[0,1],[1,1],[1,0]]);break;case 2:a=i.interpolate(p,d,g),o=i.interpolate(d,f,g),i.polygons_full&&(l.edges.right={path:[[1,o],[a,0]],move:{x:0,y:-1,enter:"top"}}),i.polygons&&l.polygons.push([[0,0],[0,1],[1,1],[1,o],[a,0]]);break;case 4:o=i.interpolate(d,f,g),s=i.interpolate(h,f,g),i.polygons_full&&(l.edges.top={path:[[s,1],[1,o]],move:{x:1,y:0,enter:"left"}}),i.polygons&&l.polygons.push([[0,0],[0,1],[s,1],[1,o],[1,0]]);break;case 8:r=i.interpolate(p,h,g),s=i.interpolate(h,f,g),i.polygons_full&&(l.edges.left={path:[[0,r],[s,1]],move:{x:0,y:1,enter:"bottom"}}),i.polygons&&l.polygons.push([[0,0],[0,r],[s,1],[1,1],[1,0]]);break;case 12:r=i.interpolate(p,h,g),o=i.interpolate(d,f,g),i.polygons_full&&(l.edges.left={path:[[0,r],[1,o]],move:{x:1,y:0,enter:"left"}}),i.polygons&&l.polygons.push([[0,0],[0,r],[1,o],[1,0]]);break;case 9:a=i.interpolate(p,d,g),s=i.interpolate(h,f,g),i.polygons_full&&(l.edges.bottom={path:[[a,0],[s,1]],move:{x:0,y:1,enter:"bottom"}}),i.polygons&&l.polygons.push([[a,0],[s,1],[1,1],[1,0]]);break;case 3:r=i.interpolate(p,h,g),o=i.interpolate(d,f,g),i.polygons_full&&(l.edges.right={path:[[1,o],[0,r]],move:{x:-1,y:0,enter:"right"}}),i.polygons&&l.polygons.push([[0,r],[0,1],[1,1],[1,o]]);break;case 6:a=i.interpolate(p,d,g),s=i.interpolate(h,f,g),i.polygons_full&&(l.edges.top={path:[[s,1],[a,0]],move:{x:0,y:-1,enter:"top"}}),i.polygons&&l.polygons.push([[0,0],[0,1],[s,1],[a,0]]);break;case 10:r=i.interpolate(p,h,g),o=i.interpolate(d,f,g),a=i.interpolate(p,d,g),s=i.interpolate(h,f,g),u=(p+d+f+h)/4,i.polygons_full&&(u<g?(l.edges.left={path:[[0,r],[s,1]],move:{x:0,y:1,enter:"bottom"}},l.edges.right={path:[[1,o],[a,0]],move:{x:0,y:-1,enter:"top"}}):(l.edges.right={path:[[1,o],[s,1]],move:{x:0,y:1,enter:"bottom"}},l.edges.left={path:[[0,r],[a,0]],move:{x:0,y:-1,enter:"top"}})),i.polygons&&(u<g?l.polygons.push([[0,0],[0,r],[s,1],[1,1],[1,o],[a,0]]):(l.polygons.push([[0,0],[0,r],[a,0]]),l.polygons.push([[s,1],[1,1],[1,o]])));break;case 5:r=i.interpolate(p,h,g),o=i.interpolate(d,f,g),a=i.interpolate(p,d,g),s=i.interpolate(h,f,g),u=(p+d+f+h)/4,i.polygons_full&&(u<g?(l.edges.bottom={path:[[a,0],[0,r]],move:{x:-1,y:0,enter:"right"}},l.edges.top={path:[[s,1],[1,o]],move:{x:1,y:0,enter:"left"}}):(l.edges.top={path:[[s,1],[0,r]],move:{x:-1,y:0,enter:"right"}},l.edges.bottom={path:[[a,0],[1,o]],move:{x:1,y:0,enter:"left"}})),i.polygons&&(u<g?l.polygons.push([[0,r],[0,1],[s,1],[1,o],[1,0],[a,0]]):(l.polygons.push([[0,r],[0,1],[s,1]]),l.polygons.push([[a,0],[1,o],[1,0]])))}return l}}n.r(e),n.d(e,"isoLines",(function(){return d})),n.d(e,"isoContours",(function(){return d})),n.d(e,"isoBands",(function(){return Q})),n.d(e,"QuadTree",(function(){return f})),n.d(e,"quadTree",(function(){return f})),h.prototype.cellsInBand=function(t,e,n){var i=[];return n=void 0===n||n,this.lowerBound>e||this.upperBound<t||(this.childA||this.childB||this.childC||this.childD?(this.childA&&(i=i.concat(this.childA.cellsInBand(t,e,n))),this.childB&&(i=i.concat(this.childB.cellsInBand(t,e,n))),this.childD&&(i=i.concat(this.childD.cellsInBand(t,e,n))),this.childC&&(i=i.concat(this.childC.cellsInBand(t,e,n)))):(n||this.lowerBound<=t||this.upperBound>=e)&&i.push({x:this.x,y:this.y})),i},h.prototype.cellsBelowThreshold=function(t,e){var n=[];return e=void 0===e||e,this.lowerBound>t||(this.childA||this.childB||this.childC||this.childD?(this.childA&&(n=n.concat(this.childA.cellsBelowThreshold(t,e))),this.childB&&(n=n.concat(this.childB.cellsBelowThreshold(t,e))),this.childD&&(n=n.concat(this.childD.cellsBelowThreshold(t,e))),this.childC&&(n=n.concat(this.childC.cellsBelowThreshold(t,e)))):(e||this.upperBound>=t)&&n.push({x:this.x,y:this.y})),n};var g=function(t,e,n,i,r,o){o.polygons&&t.polygons.push([[0,0],[0,1],[1,1],[1,0]])},v=function(t,e,n,i,r,o){var s=o.interpolate(e,n,o.minV,o.maxV),a=o.interpolate(e,r,o.minV,o.maxV);o.polygons_full&&(t.edges.lb={path:[[0,a],[s,0]],move:{x:0,y:-1,enter:"tl"}}),o.polygons&&t.polygons.push([[0,a],[s,0],[0,0]])},m=function(t,e,n,i,r,o){var s=o.interpolate(e,n,o.minV,o.maxV),a=o.interpolate(n,i,o.minV,o.maxV);o.polygons_full&&(t.edges.br={path:[[s,0],[1,a]],move:{x:1,y:0,enter:"lb"}}),o.polygons&&t.polygons.push([[s,0],[1,a],[1,0]])},y=function(t,e,n,i,r,o){var s=o.interpolate(n,i,o.minV,o.maxV),a=o.interpolate(r,i,o.minV,o.maxV);o.polygons_full&&(t.edges.rt={path:[[1,s],[a,1]],move:{x:0,y:1,enter:"br"}}),o.polygons&&t.polygons.push([[1,s],[a,1],[1,1]])},x=function(t,e,n,i,r,o){var s=o.interpolate(r,i,o.minV,o.maxV),a=o.interpolate(e,r,o.minV,o.maxV);o.polygons_full&&(t.edges.tl={path:[[s,1],[0,a]],move:{x:-1,y:0,enter:"rt"}}),o.polygons&&t.polygons.push([[0,a],[0,1],[s,1]])},E=function(t,e,n,i,r,o){var s=o.interpolate(n,i,o.minV,o.maxV),a=o.interpolate(e,r,o.minV,o.maxV);o.polygons_full&&(t.edges.rt={path:[[1,s],[0,a]],move:{x:-1,y:0,enter:"rt"}}),o.polygons&&t.polygons.push([[0,a],[0,1],[1,1],[1,s]])},b=function(t,e,n,i,r,o){var s=o.interpolate(e,n,o.minV,o.maxV),a=o.interpolate(r,i,o.minV,o.maxV);o.polygons_full&&(t.edges.br={path:[[s,0],[a,1]],move:{x:0,y:1,enter:"br"}}),o.polygons&&t.polygons.push([[s,0],[a,1],[1,1],[1,0]])},C=function(t,e,n,i,r,o){var s=o.interpolate(e,r,o.minV,o.maxV),a=o.interpolate(n,i,o.minV,o.maxV);o.polygons_full&&(t.edges.lb={path:[[0,s],[1,a]],move:{x:1,y:0,enter:"lb"}}),o.polygons&&t.polygons.push([[0,0],[0,s],[1,a],[1,0]])},w=function(t,e,n,i,r,o){var s=o.interpolate(r,i,o.minV,o.maxV),a=o.interpolate(e,n,o.minV,o.maxV);o.polygons_full&&(t.edges.tl={path:[[s,1],[a,0]],move:{x:0,y:-1,enter:"tl"}}),o.polygons&&t.polygons.push([[0,0],[0,1],[s,1],[a,0]])},_=function(t,e,n,i,r,o){var s=o.interpolate_a(e,n,o.minV,o.maxV),a=o.interpolate_b(e,n,o.minV,o.maxV),u=o.interpolate_a(e,r,o.minV,o.maxV),l=o.interpolate_b(e,r,o.minV,o.maxV);o.polygons_full&&(t.edges.bl={path:[[s,0],[0,u]],move:{x:-1,y:0,enter:"rb"}},t.edges.lt={path:[[0,l],[a,0]],move:{x:0,y:-1,enter:"tr"}}),o.polygons&&t.polygons.push([[s,0],[0,u],[0,l],[a,0]])},A=function(t,e,n,i,r,o){var s=o.interpolate_a(e,n,o.minV,o.maxV),a=o.interpolate_b(e,n,o.minV,o.maxV),u=o.interpolate_a(n,i,o.minV,o.maxV),l=o.interpolate_b(n,i,o.minV,o.maxV);o.polygons_full&&(t.edges.bl={path:[[s,0],[1,l]],move:{x:1,y:0,enter:"lt"}},t.edges.rb={path:[[1,u],[a,0]],move:{x:0,y:-1,enter:"tr"}}),o.polygons&&t.polygons.push([[s,0],[1,l],[1,u],[a,0]])},S=function(t,e,n,i,r,o){var s=o.interpolate_a(r,i,o.minV,o.maxV),a=o.interpolate_b(r,i,o.minV,o.maxV),u=o.interpolate_b(n,i,o.minV,o.maxV),l=o.interpolate_a(n,i,o.minV,o.maxV);o.polygons_full&&(t.edges.rb={path:[[1,l],[s,1]],move:{x:0,y:1,enter:"bl"}},t.edges.tr={path:[[a,1],[1,u]],move:{x:1,y:0,enter:"lt"}}),o.polygons&&t.polygons.push([[1,l],[s,1],[a,1],[1,u]])},D=function(t,e,n,i,r,o){var s=o.interpolate_a(r,i,o.minV,o.maxV),a=o.interpolate_b(r,i,o.minV,o.maxV),u=o.interpolate_b(e,r,o.minV,o.maxV),l=o.interpolate_a(e,r,o.minV,o.maxV);o.polygons_full&&(t.edges.tr={path:[[a,1],[0,l]],move:{x:-1,y:0,enter:"rb"}},t.edges.lt={path:[[0,u],[s,1]],move:{x:0,y:1,enter:"bl"}}),o.polygons&&t.polygons.push([[a,1],[0,l],[0,u],[s,1]])},L=function(t,e,n,i,r,o){var s=o.interpolate_a(e,r,o.minV,o.maxV),a=o.interpolate_b(e,r,o.minV,o.maxV),u=o.interpolate_b(n,i,o.minV,o.maxV),l=o.interpolate_a(n,i,o.minV,o.maxV);o.polygons_full&&(t.edges.lt={path:[[0,a],[1,u]],move:{x:1,y:0,enter:"lt"}},t.edges.rb={path:[[1,l],[0,s]],move:{x:-1,y:0,enter:"rb"}}),o.polygons&&t.polygons.push([[0,s],[0,a],[1,u],[1,l]])},F=function(t,e,n,i,r,o){var s=o.interpolate_a(r,i,o.minV,o.maxV),a=o.interpolate_b(r,i,o.minV,o.maxV),u=o.interpolate_b(e,n,o.minV,o.maxV),l=o.interpolate_a(e,n,o.minV,o.maxV);o.polygons_full&&(t.edges.tr={path:[[a,1],[u,0]],move:{x:0,y:-1,enter:"tr"}},t.edges.bl={path:[[l,0],[s,1]],move:{x:0,y:1,enter:"bl"}}),o.polygons&&t.polygons.push([[l,0],[s,1],[a,1],[u,0]])},T=function(t,e,n,i,r,o){var s=o.interpolate(r,i,o.minV,o.maxV),a=o.interpolate(n,i,o.minV,o.maxV);o.polygons_full&&(t.edges.tl={path:[[s,1],[1,a]],move:{x:1,y:0,enter:"lb"}}),o.polygons&&t.polygons.push([[0,0],[0,1],[s,1],[1,a],[1,0]])},M=function(t,e,n,i,r,o){var s=o.interpolate(e,r,o.minV,o.maxV),a=o.interpolate(r,i,o.minV,o.maxV);o.polygons_full&&(t.edges.lb={path:[[0,s],[a,1]],move:{x:0,y:1,enter:"br"}}),o.polygons&&t.polygons.push([[0,0],[0,s],[a,1],[1,1],[1,0]])},I=function(t,e,n,i,r,o){var s=o.interpolate(e,n,o.minV,o.maxV),a=o.interpolate(n,i,o.minV,o.maxV);o.polygons_full&&(t.edges.rt={path:[[1,a],[s,0]],move:{x:0,y:-1,enter:"tl"}}),o.polygons&&t.polygons.push([[0,0],[0,1],[1,1],[1,a],[s,0]])},P=function(t,e,n,i,r,o){var s=o.interpolate(e,r,o.minV,o.maxV),a=o.interpolate(e,n,o.minV,o.maxV);o.polygons_full&&(t.edges.br={path:[[a,0],[0,s]],move:{x:-1,y:0,enter:"rt"}}),o.polygons&&t.polygons.push([[0,s],[0,1],[1,1],[1,0],[a,0]])},O=function(t,e,n,i,r,o){var s=o.interpolate(e,r,o.minV,o.maxV),a=o.interpolate(r,i,o.minV,o.maxV),u=o.interpolate_b(n,i,o.minV,o.maxV),l=o.interpolate_a(n,i,o.minV,o.maxV);o.polygons_full&&(t.edges.tl={path:[[a,1],[1,u]],move:{x:1,y:0,enter:"lt"}},t.edges.rb={path:[[1,l],[0,s]],move:{x:-1,y:0,enter:"rt"}}),o.polygons&&t.polygons.push([[0,s],[0,1],[a,1],[1,u],[1,l]])},B=function(t,e,n,i,r,o){var s=o.interpolate(n,i,o.minV,o.maxV),a=o.interpolate_b(e,n,o.minV,o.maxV),u=o.interpolate_a(e,n,o.minV,o.maxV),l=o.interpolate(r,i,o.minV,o.maxV);o.polygons_full&&(t.edges.rt={path:[[1,s],[a,0]],move:{x:0,y:-1,enter:"tr"}},t.edges.bl={path:[[u,0],[l,1]],move:{x:0,y:1,enter:"br"}}),o.polygons&&t.polygons.push([[l,1],[1,1],[1,s],[a,0],[u,0]])},N=function(t,e,n,i,r,o){var s=o.interpolate(e,n,o.minV,o.maxV),a=o.interpolate_a(e,r,o.minV,o.maxV),u=o.interpolate_b(e,r,o.minV,o.maxV),l=o.interpolate(n,i,o.minV,o.maxV);o.polygons_full&&(t.edges.br={path:[[s,0],[0,a]],move:{x:-1,y:0,enter:"rb"}},t.edges.lt={path:[[0,u],[1,l]],move:{x:1,y:0,enter:"lb"}}),o.polygons&&t.polygons.push([[s,0],[0,a],[0,u],[1,l],[1,0]])},k=function(t,e,n,i,r,o){var s=o.interpolate(e,r,o.minV,o.maxV),a=o.interpolate_a(r,i,o.minV,o.maxV),u=o.interpolate_b(r,i,o.minV,o.maxV),l=o.interpolate(e,n,o.minV,o.maxV);o.polygons_full&&(t.edges.lb={path:[[0,s],[a,1]],move:{x:0,y:1,enter:"bl"}},t.edges.tr={path:[[u,1],[l,0]],move:{x:0,y:-1,enter:"tl"}}),o.polygons&&t.polygons.push([[0,0],[0,s],[a,1],[u,1],[l,0]])},R=function(t,e,n,i,r,o){var s=o.interpolate(e,r,o.minV,o.maxV),a=o.interpolate(r,i,o.minV,o.maxV),u=o.interpolate_b(e,n,o.minV,o.maxV),l=o.interpolate_a(e,n,o.minV,o.maxV);o.polygons_full&&(t.edges.bl={path:[[l,0],[0,s]],move:{x:-1,y:0,enter:"rt"}},t.edges.tl={path:[[a,1],[u,0]],move:{x:0,y:-1,enter:"tr"}}),o.polygons&&t.polygons.push([[0,s],[0,1],[a,1],[u,0],[l,0]])},j=function(t,e,n,i,r,o){var s=o.interpolate_a(e,r,o.minV,o.maxV),a=o.interpolate_b(e,r,o.minV,o.maxV),u=o.interpolate(r,i,o.minV,o.maxV),l=o.interpolate(n,r,o.minV,o.maxV);o.polygons_full&&(t.edges.lt={path:[[0,a],[u,1]],move:{x:0,y:1,enter:"br"}},t.edges.rt={path:[[1,l],[0,s]],move:{x:-1,y:0,enter:"rb"}}),o.polygons&&t.polygons.push([[0,s],[0,a],[u,1],[1,1],[1,l]])},V=function(t,e,n,i,r,o){var s=o.interpolate_a(r,i,o.minV,o.maxV),a=o.interpolate_b(r,i,o.minV,o.maxV),u=o.interpolate(n,i,o.minV,o.maxV),l=o.interpolate(e,n,o.minV,o.maxV);o.polygons_full&&(t.edges.br={path:[[l,0],[s,1]],move:{x:0,y:1,enter:"bl"}},t.edges.tr={path:[[a,1],[1,u]],move:{x:1,y:0,enter:"lb"}}),o.polygons&&t.polygons.push([[s,1],[a,1],[1,u],[1,0],[l,0]])},G=function(t,e,n,i,r,o){var s=o.interpolate(e,r,o.minV,o.maxV),a=o.interpolate_b(n,i,o.minV,o.maxV),u=o.interpolate_a(n,i,o.minV,o.maxV),l=o.interpolate(e,n,o.minV,o.maxV);o.polygons_full&&(t.edges.lb={path:[[0,s],[1,a]],move:{x:1,y:0,enter:"lt"}},t.edges.rb={path:[[1,u],[l,0]],move:{x:0,y:-1,enter:"tl"}}),o.polygons&&t.polygons.push([[0,0],[0,s],[1,a],[1,u],[l,0]])},z=function(t,e,n,i,r,o){var s=o.interpolate(e,r,o.minV,o.maxV),a=o.interpolate_a(r,i,o.minV,o.maxV),u=o.interpolate_b(r,i,o.minV,o.maxV),l=o.interpolate(n,i,o.minV,o.maxV);o.polygons_full&&(t.edges.lb={path:[[0,s],[a,1]],move:{x:0,y:1,enter:"bl"}},t.edges.tr={path:[[u,1],[1,l]],move:{x:1,y:0,enter:"lb"}}),o.polygons&&t.polygons.push([[0,0],[0,s],[a,1],[u,1],[1,l],[1,0]])},q=function(t,e,n,i,r,o){var s=o.interpolate(e,n,o.minV,o.maxV),a=o.interpolate_a(e,r,o.minV,o.maxV),u=o.interpolate_b(e,r,o.minV,o.maxV),l=o.interpolate(r,i,o.minV,o.maxV);o.polygons_full&&(t.edges.br={path:[[s,0],[0,a]],move:{x:-1,y:0,enter:"rb"}},t.edges.lt={path:[[0,u],[l,1]],move:{x:0,y:1,enter:"br"}}),o.polygons&&t.polygons.push([[s,0],[0,a],[0,u],[l,1],[1,1],[1,0]])},U=function(t,e,n,i,r,o){var s=o.interpolate_a(e,n,o.minV,o.maxV),a=o.interpolate_b(e,n,o.minV,o.maxV),u=o.interpolate(e,r,o.minV,o.maxV),l=o.interpolate(n,i,o.minV,o.maxV);o.polygons_full&&(t.edges.bl={path:[[s,0],[0,u]],move:{x:-1,y:0,enter:"rt"}},t.edges.rt={path:[[1,l],[a,0]],move:{x:0,y:-1,enter:"tr"}}),o.polygons&&t.polygons.push([[s,0],[0,u],[0,1],[1,1],[1,l],[a,0]])},X=function(t,e,n,i,r,o){var s=o.interpolate(e,n,o.minV,o.maxV),a=o.interpolate(r,i,o.minV,o.maxV),u=o.interpolate_b(n,i,o.minV,o.maxV),l=o.interpolate_a(n,i,o.minV,o.maxV);o.polygons_full&&(t.edges.tl={path:[[a,1],[1,u]],move:{x:1,y:0,enter:"lt"}},t.edges.rb={path:[[1,l],[s,0]],move:{x:0,y:-1,enter:"tl"}}),o.polygons&&t.polygons.push([[0,0],[0,1],[a,1],[1,u],[1,l],[s,0]])},H=function(t,e,n,i,r,o){var s=o.interpolate(e,r,o.minV,o.maxV),a=o.interpolate(r,i,o.minV,o.maxV),u=o.interpolate(n,i,o.minV,o.maxV),l=o.interpolate(e,n,o.minV,o.maxV);o.polygons_full&&(t.edges.lb={path:[[0,s],[a,1]],move:{x:0,y:1,enter:"br"}},t.edges.rt={path:[[1,u],[l,0]],move:{x:0,y:-1,enter:"tl"}}),o.polygons&&t.polygons.push([[0,0],[0,s],[a,1],[1,1],[1,u],[l,0]])},Y=function(t,e,n,i,r,o){var s=o.interpolate(e,n,o.minV,o.maxV),a=o.interpolate(e,r,o.minV,o.maxV),u=o.interpolate(r,i,o.minV,o.maxV),l=o.interpolate(n,i,o.minV,o.maxV);o.polygons_full&&(t.edges.br={path:[[s,0],[0,a]],move:{x:-1,y:0,enter:"rt"}},t.edges.tl={path:[[u,1],[1,l]],move:{x:1,y:0,enter:"lb"}}),o.polygons&&t.polygons.push([[s,0],[0,a],[0,1],[u,1],[1,l],[1,0]])},W=function(t,e,n,i,r,o){var s=o.interpolate_a(e,n,o.minV,o.maxV),a=o.interpolate_b(e,n,o.minV,o.maxV),u=o.interpolate_a(e,r,o.minV,o.maxV),l=o.interpolate_b(e,r,o.minV,o.maxV),c=o.interpolate(r,i,o.minV,o.maxV),h=o.interpolate(n,i,o.minV,o.maxV);o.polygons_full&&(t.edges.bl={path:[[s,0],[0,u]],move:{x:-1,y:0,enter:"rb"}},t.edges.lt={path:[[0,l],[c,1]],move:{x:0,y:1,enter:"br"}},t.edges.rt={path:[[1,h],[a,0]],move:{x:0,y:-1,enter:"tr"}}),o.polygons&&t.polygons.push([[s,0],[0,u],[0,l],[c,1],[1,1],[1,h],[a,0]])},J=function(t,e,n,i,r,o){var s=o.interpolate(e,n,o.minV,o.maxV),a=o.interpolate(e,r,o.minV,o.maxV),u=o.interpolate_a(r,i,o.minV,o.maxV),l=o.interpolate_b(r,i,o.minV,o.maxV),c=o.interpolate_b(n,i,o.minV,o.maxV),h=o.interpolate_a(n,i,o.minV,o.maxV);o.polygons_full&&(t.edges.lb={path:[[0,a],[u,1]],move:{x:0,y:1,enter:"bl"}},t.edges.tr={path:[[l,1],[1,c]],move:{x:1,y:0,enter:"lt"}},t.edges.rb={path:[[1,h],[s,0]],move:{x:0,y:-1,enter:"tl"}}),o.polygons&&t.polygons.push([[0,0],[0,a],[u,1],[l,1],[1,c],[1,h],[s,0]])},K=function(t,e,n,i,r,o){var s=o.interpolate_a(e,n,o.minV,o.maxV),a=o.interpolate_b(e,n,o.minV,o.maxV),u=o.interpolate(e,r,o.minV,o.maxV),l=o.interpolate(r,i,o.minV,o.maxV),c=o.interpolate_b(n,i,o.minV,o.maxV),h=o.interpolate_a(n,i,o.minV,o.maxV);o.polygons_full&&(t.edges.bl={path:[[s,0],[0,u]],move:{x:-1,y:0,enter:"rt"}},t.edges.tl={path:[[l,1],[1,c]],move:{x:1,y:0,enter:"lt"}},t.edges.rb={path:[[1,h],[a,0]],move:{x:0,y:-1,enter:"tr"}}),o.polygons&&t.polygons.push([[s,0],[0,u],[0,1],[l,1],[1,c],[1,h],[a,0]])},Z=function(t,e,n,i,r,o){var s=o.interpolate(e,n,o.minV,o.maxV),a=o.interpolate_a(e,r,o.minV,o.maxV),u=o.interpolate_b(e,r,o.minV,o.maxV),l=o.interpolate_a(r,i,o.minV,o.maxV),c=o.interpolate_b(r,i,o.minV,o.maxV),h=o.interpolate(n,i,o.minV,o.maxV);o.polygons_full&&(t.edges.br={path:[[s,0],[0,a]],move:{x:-1,y:0,enter:"rb"}},t.edges.lt={path:[[0,u],[l,1]],move:{x:0,y:1,enter:"bl"}},t.edges.tr={path:[[c,1],[1,h]],move:{x:1,y:0,enter:"lb"}}),o.polygons&&t.polygons.push([[s,0],[0,a],[0,u],[l,1],[c,1],[1,h],[1,0]])},$=function(t,e,n,i,r,o){var s=o.interpolate_a(e,n,o.minV,o.maxV),a=o.interpolate_b(e,n,o.minV,o.maxV),u=o.interpolate_a(e,r,o.minV,o.maxV),l=o.interpolate_b(e,r,o.minV,o.maxV),c=o.interpolate_a(r,i,o.minV,o.maxV),h=o.interpolate_b(r,i,o.minV,o.maxV),f=o.interpolate_b(n,i,o.minV,o.maxV),d=o.interpolate_a(n,i,o.minV,o.maxV);o.polygons_full&&(t.edges.bl={path:[[s,0],[0,u]],move:{x:-1,y:0,enter:"rb"}},t.edges.lt={path:[[0,l],[c,1]],move:{x:0,y:1,enter:"bl"}},t.edges.tr={path:[[h,1],[1,f]],move:{x:1,y:0,enter:"lt"}},t.edges.rb={path:[[1,d],[a,0]],move:{x:0,y:-1,enter:"tr"}}),o.polygons&&t.polygons.push([[s,0],[0,u],[0,l],[c,1],[h,1],[1,f],[1,d],[a,0]])};function Q(t,e,n,i){var h,d,p,g=!1,v=null,m=null,y=null,x=null,E=!1,b=[],C=[],w=[];if(!t)throw new Error("data is required");if(null==e)throw new Error("lowerBound is required");if(null==n)throw new Error("bandWidth is required");if(i&&"object"!=typeof i)throw new Error("options must be an object");if(p=function(t){var e,n,i,u,l;for(u=new a,t=t||{},l=Object.keys(u),e=0;e<l.length;e++)null!=(i=t[n=l[e]])&&(u[n]=i);return u.polygons_full=!u.polygons,u.interpolate=r,u.interpolate_a=o,u.interpolate_b=s,u}(i),t instanceof f)v=t,m=t.root,y=t.data,p.noQuadTree||(g=!0);else{if(!Array.isArray(t)||!Array.isArray(t[0]))throw new Error("input is neither array of arrays nor object retrieved from 'QuadTree()'");y=t}if(Array.isArray(e)){for(E=!0,p.noQuadTree||(g=!0),h=0;h<e.length;h++)if(isNaN(+e[h]))throw new Error("lowerBound["+h+"] is not a number");if(Array.isArray(n)){if(e.length!==n.length)throw new Error("lowerBound and bandWidth have unequal lengths");for(h=0;h<n.length;h++)if(isNaN(+n[h]))throw new Error("bandWidth["+h+"] is not a number")}else{if(isNaN(+n))throw new Error("bandWidth must be a number");for(b=[],h=0;h<e.length;h++)b.push(n);n=b}}else{if(isNaN(+e))throw new Error("lowerBound must be a number");if(e=[e],isNaN(+n))throw new Error("bandWidth must be a number");n=[n]}return g&&!m&&(v=new f(y),m=v.root,y=v.data),p.verbose&&(p.polygons?console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"):console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),E&&console.log("MarchingSquaresJS-isoBands: multiple bands requested, returning array of band polygons instead of polygons for a single band")),e.forEach((function(t,e){if(C=[],p.minV=t,p.maxV=t+n[e],p.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+t+":"+(t+n[e])+"]"),p.polygons)if(g)m.cellsInBand(p.minV,p.maxV,!0).forEach((function(t){C=C.concat(u(et(y,t.x,t.y,p),t.x,t.y,p))}));else for(d=0;d<y.length-1;++d)for(h=0;h<y[0].length-1;++h)C=C.concat(u(et(y,h,d,p),h,d,p));else{for(x=[],h=0;h<y[0].length-1;++h)x[h]=[];if(g)m.cellsInBand(p.minV,p.maxV,!1).forEach((function(t){x[t.x][t.y]=et(y,t.x,t.y,p)}));else for(h=0;h<y[0].length-1;++h)for(d=0;d<y.length-1;++d)x[h][d]=et(y,h,d,p);C=function(t,e,n){var i,r,o,s,a,u,h,f,d,p,g,v,m,y,x,E,b=[],C=t.length-1,w=t[0].length-1,_=[["rt","rb"],["br","bl"],["lb","lt"],["tl","tr"]],A=[0,-1,0,1],S=[-1,0,1,0],D=["bl","lb","lt","tl","tr","rt","rb","br"],L={bl:1,br:1,lb:2,lt:2,tl:3,tr:3,rt:0,rb:0};return function(t,e,n){var i,r,o,s,a;for(i=!0,r=t[0].length,o=t.length,a=0;a<o;a++)if(t[a][0]<e||t[a][0]>n||t[a][r-1]<e||t[a][r-1]>n){i=!1;break}if(i&&(t[o-1][0]<e||t[o-1][0]>n||t[o-1][r-1]<e||t[o-1][r-1]>n)&&(i=!1),i)for(s=0;s<r-1;s++)if(t[0][s]<e||t[0][s]>n||t[o-1][s]<e||t[o-1][s]>n){i=!1;break}return i}(t,n.minV,n.maxV)&&(n.linearRing?b.push([[0,0],[0,C],[w,C],[w,0],[0,0]]):b.push([[0,0],[0,C],[w,C],[w,0]])),e.forEach((function(t,F){t.forEach((function(t,T){for(i=null,o=0;o<8;o++)if(i=D[o],"object"==typeof t.edges[i]){for(r=[],s=t.edges[i],h=i,f=F,d=T,p=!1,g=[F+s.path[0][0],T+s.path[0][1]],r.push(g);!p&&"object"==typeof(v=e[f][d]).edges[h];)if(s=v.edges[h],delete v.edges[h],(x=s.path[1])[0]+=f,x[1]+=d,r.push(x),h=s.move.enter,f+=s.move.x,d+=s.move.y,void 0===e[f]||void 0===e[f][d]){if(m=0,y=0,f===w)f--,m=0;else if(f<0)f++,m=2;else if(d===C)d--,m=3;else{if(!(d<0))throw new Error("Left the grid somewhere in the interior!");d++,m=1}if(f===F&&d===T&&m===L[i]){p=!0,h=i;break}for(;;){if(E=!1,y>4)throw new Error("Direction change counter overflow! This should never happen!");if(void 0!==e[f]&&void 0!==e[f][d])for(v=e[f][d],a=0;a<_[m].length;a++)if(u=_[m][a],"object"==typeof v.edges[u]){s=v.edges[u],r.push(l(f,d,m,s.path)),h=u,E=!0;break}if(E)break;if(r.push(c(f,d,m)),d+=S[m],void 0!==e[f+=A[m]]&&void 0!==e[f][d]||(0===m&&d<0||1===m&&f<0||2===m&&d===C||3===m&&f===w)&&(f-=A[m],d-=S[m],m=(m+1)%4,y++),f===F&&d===T&&m===L[i]){p=!0,h=i;break}}}!n.linearRing||r[r.length-1][0]===g[0]&&r[r.length-1][1]===g[1]||r.push(g),b.push(r)}}))})),b}(y,x,p)}E?w.push(C):w=C,"function"==typeof p.successCallback&&p.successCallback(w,t,n[e])})),w}function tt(t,e,n,i,r,o){var s=(i+n+e+t)/4;return s>o?2:s<r?0:1}function et(t,e,n,i){var r,o,s=0,a=t[n+1][e],u=t[n+1][e+1],l=t[n][e+1],c=t[n][e],h=i.minV,f=i.maxV;if(!(isNaN(c)||isNaN(l)||isNaN(u)||isNaN(a))){switch(s|=a<h?0:a>f?128:64,s|=u<h?0:u>f?32:16,s|=l<h?0:l>f?8:4,o=0,r={cval:s=+(s|=c<h?0:c>f?2:1),polygons:[],edges:{},x0:c,x1:l,x2:u,x3:a,x:e,y:n},s){case 85:g(r,c,l,u,a,i);case 0:case 170:break;case 169:v(r,c,l,u,a,i);break;case 166:m(r,c,l,u,a,i);break;case 154:y(r,c,l,u,a,i);break;case 106:x(r,c,l,u,a,i);break;case 1:v(r,c,l,u,a,i);break;case 4:m(r,c,l,u,a,i);break;case 16:y(r,c,l,u,a,i);break;case 64:x(r,c,l,u,a,i);break;case 168:_(r,c,l,u,a,i);break;case 162:A(r,c,l,u,a,i);break;case 138:S(r,c,l,u,a,i);break;case 42:D(r,c,l,u,a,i);break;case 2:_(r,c,l,u,a,i);break;case 8:A(r,c,l,u,a,i);break;case 32:S(r,c,l,u,a,i);break;case 128:D(r,c,l,u,a,i);break;case 5:C(r,c,l,u,a,i);break;case 20:b(r,c,l,u,a,i);break;case 80:E(r,c,l,u,a,i);break;case 65:w(r,c,l,u,a,i);break;case 165:C(r,c,l,u,a,i);break;case 150:b(r,c,l,u,a,i);break;case 90:E(r,c,l,u,a,i);break;case 105:w(r,c,l,u,a,i);break;case 160:L(r,c,l,u,a,i);break;case 130:F(r,c,l,u,a,i);break;case 10:L(r,c,l,u,a,i);break;case 40:F(r,c,l,u,a,i);break;case 101:T(r,c,l,u,a,i);break;case 149:M(r,c,l,u,a,i);break;case 86:P(r,c,l,u,a,i);break;case 89:I(r,c,l,u,a,i);break;case 69:T(r,c,l,u,a,i);break;case 21:M(r,c,l,u,a,i);break;case 84:P(r,c,l,u,a,i);break;case 81:I(r,c,l,u,a,i);break;case 96:O(r,c,l,u,a,i);break;case 24:B(r,c,l,u,a,i);break;case 6:N(r,c,l,u,a,i);break;case 129:k(r,c,l,u,a,i);break;case 74:O(r,c,l,u,a,i);break;case 146:B(r,c,l,u,a,i);break;case 164:N(r,c,l,u,a,i);break;case 41:k(r,c,l,u,a,i);break;case 66:R(r,c,l,u,a,i);break;case 144:j(r,c,l,u,a,i);break;case 36:V(r,c,l,u,a,i);break;case 9:G(r,c,l,u,a,i);break;case 104:R(r,c,l,u,a,i);break;case 26:j(r,c,l,u,a,i);break;case 134:V(r,c,l,u,a,i);break;case 161:G(r,c,l,u,a,i);break;case 37:z(r,c,l,u,a,i);break;case 148:q(r,c,l,u,a,i);break;case 82:U(r,c,l,u,a,i);break;case 73:X(r,c,l,u,a,i);break;case 133:z(r,c,l,u,a,i);break;case 22:q(r,c,l,u,a,i);break;case 88:U(r,c,l,u,a,i);break;case 97:X(r,c,l,u,a,i);break;case 145:case 25:H(r,c,l,u,a,i);break;case 70:case 100:Y(r,c,l,u,a,i);break;case 17:0===(o=tt(c,l,u,a,h,f))?(v(r,c,l,u,a,i),y(r,c,l,u,a,i)):H(r,c,l,u,a,i);break;case 68:0===(o=tt(c,l,u,a,h,f))?(x(r,c,l,u,a,i),m(r,c,l,u,a,i)):Y(r,c,l,u,a,i);break;case 153:2===(o=tt(c,l,u,a,h,f))?(v(r,c,l,u,a,i),y(r,c,l,u,a,i)):H(r,c,l,u,a,i);break;case 102:2===(o=tt(c,l,u,a,h,f))?(x(r,c,l,u,a,i),m(r,c,l,u,a,i)):Y(r,c,l,u,a,i);break;case 152:2===(o=tt(c,l,u,a,h,f))?(y(r,c,l,u,a,i),_(r,c,l,u,a,i)):W(r,c,l,u,a,i);break;case 137:2===(o=tt(c,l,u,a,h,f))?(v(r,c,l,u,a,i),S(r,c,l,u,a,i)):J(r,c,l,u,a,i);break;case 98:2===(o=tt(c,l,u,a,h,f))?(x(r,c,l,u,a,i),A(r,c,l,u,a,i)):K(r,c,l,u,a,i);break;case 38:2===(o=tt(c,l,u,a,h,f))?(m(r,c,l,u,a,i),D(r,c,l,u,a,i)):Z(r,c,l,u,a,i);break;case 18:0===(o=tt(c,l,u,a,h,f))?(y(r,c,l,u,a,i),_(r,c,l,u,a,i)):W(r,c,l,u,a,i);break;case 33:0===(o=tt(c,l,u,a,h,f))?(v(r,c,l,u,a,i),S(r,c,l,u,a,i)):J(r,c,l,u,a,i);break;case 72:0===(o=tt(c,l,u,a,h,f))?(x(r,c,l,u,a,i),A(r,c,l,u,a,i)):K(r,c,l,u,a,i);break;case 132:0===(o=tt(c,l,u,a,h,f))?(m(r,c,l,u,a,i),D(r,c,l,u,a,i)):Z(r,c,l,u,a,i);break;case 136:0===(o=tt(c,l,u,a,h,f))?(D(r,c,l,u,a,i),A(r,c,l,u,a,i)):1===o?$(r,c,l,u,a,i):(_(r,c,l,u,a,i),S(r,c,l,u,a,i));break;case 34:0===(o=tt(c,l,u,a,h,f))?(_(r,c,l,u,a,i),S(r,c,l,u,a,i)):1===o?$(r,c,l,u,a,i):(D(r,c,l,u,a,i),A(r,c,l,u,a,i))}return r}}},function(t,e){function n(t){var e=t[0],n=t[1];return[n[0]-e[0],n[1]-e[1]]}function i(t,e){return t[0]*e[1]-e[0]*t[1]}t.exports=function(t,e){return!function(t,e){return 0===i(n(t),n(e))}(t,e)&&function(t,e){var r,o,s=t[0],a=n(t),u=e[0],l=n(e),c=i(a,l);return function(t,e){return[t[0]+e[0],t[1]+e[1]]}(s,function(t,e){return[t*e[0],t*e[1]]}(i((o=s,[(r=u)[0]-o[0],r[1]-o[1]]),l)/c,a))}(t,e)}},function(t,e,n){"use strict";var i=n(376),r=n(202),o=n(0).featureCollection;t.exports=function(t){var e=i.fromGeoJson(t);e.deleteDangles(),e.deleteCutEdges();var n=[],s=[];return e.getEdgeRings().filter((function(t){return t.isValid()})).forEach((function(t){t.isHole()?n.push(t):s.push(t)})),n.forEach((function(t){r.findEdgeRingContaining(t,s)&&s.push(t)})),o(s.map((function(t){return t.toPolygon()})))}},function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n(377),o=n(378),s=n(202),a=n(1),u=a.flattenEach,l=a.coordReduce,c=n(2).featureOf;var h=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.edges=[],this.nodes={}}return i(t,[{key:"getNode",value:function(t){var e=r.buildId(t),n=this.nodes[e];return n||(n=this.nodes[e]=new r(t)),n}},{key:"addEdge",value:function(t,e){var n=new o(t,e),i=n.getSymetric();this.edges.push(n),this.edges.push(i)}}],[{key:"fromGeoJson",value:function(e){!function(t){if(!t)throw new Error("No geojson passed");if("FeatureCollection"!==t.type&&"GeometryCollection"!==t.type&&"MultiLineString"!==t.type&&"LineString"!==t.type&&"Feature"!==t.type)throw new Error("Invalid input type '"+t.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(e);var n=new t;return u(e,(function(t){c(t,"LineString","Graph::fromGeoJson"),l(t,(function(t,e){if(t){var i=n.getNode(t),r=n.getNode(e);n.addEdge(i,r)}return e}))})),n}}]),i(t,[{key:"deleteDangles",value:function(){var t=this;Object.keys(this.nodes).map((function(e){return t.nodes[e]})).forEach((function(e){return t._removeIfDangle(e)}))}},{key:"_removeIfDangle",value:function(t){var e=this;if(t.innerEdges.length<=1){var n=t.getOuterEdges().map((function(t){return t.to}));this.removeNode(t),n.forEach((function(t){return e._removeIfDangle(t)}))}}},{key:"deleteCutEdges",value:function(){var t=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach((function(e){e.label===e.symetric.label&&(t.removeEdge(e.symetric),t.removeEdge(e))}))}},{key:"_computeNextCWEdges",value:function(t){var e=this;void 0===t?Object.keys(this.nodes).forEach((function(t){return e._computeNextCWEdges(e.nodes[t])})):t.getOuterEdges().forEach((function(e,n){t.getOuterEdge((0===n?t.getOuterEdges().length:n)-1).symetric.next=e}))}},{key:"_computeNextCCWEdges",value:function(t,e){for(var n=t.getOuterEdges(),i=void 0,r=void 0,o=n.length-1;o>=0;--o){var s=n[o],a=s.symetric,u=void 0,l=void 0;s.label===e&&(u=s),a.label===e&&(l=a),u&&l&&(l&&(r=l),u&&(r&&(r.next=u,r=void 0),i||(i=u)))}r&&(r.next=i)}},{key:"_findLabeledEdgeRings",value:function(){var t=[],e=0;return this.edges.forEach((function(n){if(!(n.label>=0)){t.push(n);var i=n;do{i.label=e,i=i.next}while(!n.isEqual(i));e++}})),t}},{key:"getEdgeRings",value:function(){var t=this;this._computeNextCWEdges(),this.edges.forEach((function(t){t.label=void 0})),this._findLabeledEdgeRings().forEach((function(e){t._findIntersectionNodes(e).forEach((function(n){t._computeNextCCWEdges(n,e.label)}))}));var e=[];return this.edges.forEach((function(n){n.ring||e.push(t._findEdgeRing(n))})),e}},{key:"_findIntersectionNodes",value:function(t){var e=[],n=t,i=function(){var i=0;n.from.getOuterEdges().forEach((function(e){e.label===t.label&&++i})),i>1&&e.push(n.from),n=n.next};do{i()}while(!t.isEqual(n));return e}},{key:"_findEdgeRing",value:function(t){var e=t,n=new s;do{n.push(e),e.ring=n,e=e.next}while(!t.isEqual(e));return n}},{key:"removeNode",value:function(t){var e=this;t.getOuterEdges().forEach((function(t){return e.removeEdge(t)})),t.innerEdges.forEach((function(t){return e.removeEdge(t)})),delete this.nodes[t.id]}},{key:"removeEdge",value:function(t){this.edges=this.edges.filter((function(e){return!e.isEqual(t)})),t.deleteEdge()}}]),t}();t.exports=h},function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n(111).orientationIndex,o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=t.buildId(e),this.coordinates=e,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return i(t,null,[{key:"buildId",value:function(t){return t.join(",")}}]),i(t,[{key:"removeInnerEdge",value:function(t){this.innerEdges=this.innerEdges.filter((function(e){return e.from.id!==t.from.id}))}},{key:"removeOuterEdge",value:function(t){this.outerEdges=this.outerEdges.filter((function(e){return e.to.id!==t.to.id}))}},{key:"addOuterEdge",value:function(t){this.outerEdges.push(t),this.outerEdgesSorted=!1}},{key:"sortOuterEdges",value:function(){var t=this;this.outerEdgesSorted||(this.outerEdges.sort((function(e,n){var i=e.to,o=n.to;if(i.coordinates[0]-t.coordinates[0]>=0&&o.coordinates[0]-t.coordinates[0]<0)return 1;if(i.coordinates[0]-t.coordinates[0]<0&&o.coordinates[0]-t.coordinates[0]>=0)return-1;if(i.coordinates[0]-t.coordinates[0]==0&&o.coordinates[0]-t.coordinates[0]==0)return i.coordinates[1]-t.coordinates[1]>=0||o.coordinates[1]-t.coordinates[1]>=0?i.coordinates[1]-o.coordinates[1]:o.coordinates[1]-i.coordinates[1];var s=r(t.coordinates,i.coordinates,o.coordinates);return s<0?1:s>0?-1:Math.pow(i.coordinates[0]-t.coordinates[0],2)+Math.pow(i.coordinates[1]-t.coordinates[1],2)-(Math.pow(o.coordinates[0]-t.coordinates[0],2)+Math.pow(o.coordinates[1]-t.coordinates[1],2))})),this.outerEdgesSorted=!0)}},{key:"getOuterEdges",value:function(){return this.sortOuterEdges(),this.outerEdges}},{key:"getOuterEdge",value:function(t){return this.sortOuterEdges(),this.outerEdges[t]}},{key:"addInnerEdge",value:function(t){this.innerEdges.push(t)}}]),t}();t.exports=o},function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=n(0).lineString,o=n(111).orientationIndex,s=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.from=e,this.to=n,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return i(t,[{key:"getSymetric",value:function(){return this.symetric||(this.symetric=new t(this.to,this.from),this.symetric.symetric=this),this.symetric}}]),i(t,[{key:"deleteEdge",value:function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)}},{key:"isEqual",value:function(t){return this.from.id===t.from.id&&this.to.id===t.to.id}},{key:"toString",value:function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"}},{key:"toLineString",value:function(){return r([this.from.coordinates,this.to.coordinates])}},{key:"compareTo",value:function(t){return o(t.from.coordinates,t.to.coordinates,this.to.coordinates)}}]),t}();t.exports=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveLineLayer=void 0;var i=o(n(3)),r=o(n(16));function o(t){return t&&t.__esModule?t:{default:t}}var s=n(139),a={step:10,shadowColor:"blue",shadowBlur:30,lineWidth:10,speed:2,grd:[[0,"rgba(0, 0, 0, 0.1)"],[.5,"rgba(255, 255, 255, 0.5)"],[1,"rgba(255, 255, 255, 0.8)"]],chunkKilometers:.001},u=e.MoveLineLayer=r.default.extend({_forceRenderKeys:["radius","fill","gap","valueName","getValue"],initialize:function(t){t=(0,i.default)({},a,t),r.default.prototype.initialize.call(this,t)},lineToPixels:function(t,e,n){for(var i=[],r=t.geometry.coordinates,o=0;o<r.length-1;o++){var s=r[o],a=r[o+1],u=e.latLngToContainerPoint([s[1],s[0]]),l=e.latLngToContainerPoint([a[1],a[0]]);n&&(u=L.point(u.x,u.y).add(n),l=L.point(l.x,l.y).add(n));var c=Math.sqrt(Math.pow(u.x-l.x,2)+Math.pow(u.y-l.y,2)),h=(l.x-u.x)/c,f=(l.y-u.y)/c;i.push(u);for(var d=1;d<c;d++){var p=u.x+h*d,g=u.y+f*d;i.push({x:p,y:g})}o===r.length-2&&i.push(l)}return i},createLine:function(t,e,n){this.animationFrame&&window.cancelAnimationFrame(this.animationFrame);s.lineDistance({type:"FeatureCollection",features:[t]},"meters");var i=this.lineToPixels(t,this._map,n);this.options.step=Math.round(i.length/5),this.options.speed=Math.round(i.length/50),this.canvas=this.getFabric(),this.curStartIndex=0,this.pixels=i,this.renderMoveLine()},renderMoveLine:function(){var t=this.canvas.getContext("2d");t.clearRect(0,0,this.canvas.width,this.canvas.height),t.beginPath();var e=this.pixels.slice(this.curStartIndex,this.curStartIndex+this.options.step),n=t.createLinearGradient(e[0].x,e[0].y,e[e.length-1].x,e[e.length-1].y);this.options.grd.map((function(t){n.addColorStop(t[0],t[1])})),t.strokeStyle=n,t.lineWidth=this.options.lineWidth,t.lineCap="round",t.shadowColor=this.options.shadowColor,t.shadowBlur=this.options.shadowBlur,t.moveTo(e[0].x,e[0].y),e.forEach((function(e){t.lineTo(e.x,e.y)})),t.stroke(),t.closePath(),this.curStartIndex=this.curStartIndex+this.options.speed,this.curStartIndex>=this.pixels.length-this.options.speed&&(this.curStartIndex=0),this.animationFrame=window.requestAnimationFrame(this.renderMoveLine.bind(this))},computePixelsBetweenPoints:function(t,e){for(var n=0,i=[],r=[(t.x+e.x)/2,(t.y+e.y)/2];n<1;){n+=.01;var o=Math.pow(1-n,2)*t.x+2*n*(1-n)*r[0]+Math.pow(n,2)*e.x,s=Math.pow(1-n,2)*t.y+2*n*(1-n)*r[1]+Math.pow(n,2)*e.y;i.push({x:o,y:s})}return i},animateLine:function(){var t=this.pixels.slice(this.curStartIndex,this.curStartIndex+this.options.step);this.moveline.points.map((function(e,n){e.x=t[n]?t[n].x:t[t.length-1].x,e.y=t[n]?t[n].y:t[t.length-1].y})),this.canvas.renderAll(),this.curStartIndex++,this.curStartIndex===this.pixels.length-1&&(this.curStartIndex=0),this.animationFrame=window.requestAnimationFrame(this.animateLine.bind(this))},render:function(t){var e=this;null!=t&&this.renderInMultiFrames(t,(function(t,n,i){return e.createLine(t,n,i)}),500)},findObjectByXy:function(t,e){return null}});e.default=function(t){return new u(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AdminDistrictLayer=void 0;var i=u(n(3));n(11);var r=u(n(209)),o=u(n(61)),s=u(n(74)),a=n(10);function u(t){return t&&t.__esModule?t:{default:t}}var l={};var c={},h=e.AdminDistrictLayer=s.default.extend({_forceRenderKeys:["fill","valueName","getValue","url"],initialize:function(t){t=(0,i.default)({},c,t),s.default.prototype.initialize.call(this,t)},_initEvents:function(){var t=this;this.on("loadstart",(function(e){t.data={type:"FeatureCollection",features:[]}})),this.on("loaddata",(function(e){t.renderRid!==e.rid&&(t.clearFrames(),t.clearSvg(),t.renderRid=e.rid),t.data.features=t.data.features.concat(e.data.features),t.render(e.data)}))},_initMapEvent:function(){var t=this._map;t.on("click",this.clearClickFeature,this),t.on("resize",this._reset,this),t.on("moveend",this._reset,this),t.on("zoomstart",this._onZoomstart,this),t.on("zoomend",this._reset,this)},_removeMapEvent:function(){var t=this._map;t.off("click",this.clearClickFeature,this),t.off("resize",this._reset,this),t.off("moveend",this._reset,this),t.off("zoomstart",this._onZoomstart,this),t.off("zoomend",this._reset,this)},_destroy:function(){for(var t=this.getContainer(),e=t.childNodes,n=0,i=e.length;n<i;n++)e[n]&&t.removeChild(e[n]);this.$svg&&this.$svg.off(),this._removeMapEvent(),this.clearFrames(),this._destroyDs(),this.off()},_onZoomstart:function(){this.getSvg().hide()},_reset:function(){if(this.bounds){var t=this.bounds,e=new L.Bounds(this._map.latLngToLayerPoint([t[0],t[1]]),this._map.latLngToLayerPoint([t[2],t[3]]));if(void 0===this.layerBounds||!this.layerBounds.min.equals(e.min)||!this.layerBounds.max.equals(e.max)){this.layerBounds=e;var n=e.getSize(),i=this.getSvg();L.DomUtil.setPosition(i.get(0),e.min),i.attr("width",n.x+"px").attr("height",n.y+"px").show()}}},_forceRender:function(){this.clearFrames(),this.raf(this.render.bind(this,this.data))},onAdd:function(t){this._map=t,this._initEvents(),this._initMapEvent(),this._initDs()},onRemove:function(){this._destroy()},setOptions:function(t){var e=(0,a.isAnyRenderOptionsChange)(t,this.options,this._forceRenderKeys);if(L.setOptions(this,t),t.ds&&this._ds!==t.ds)return this._ds.destroy(),void this._initDs();e&&this._forceRender()},initSvg:function(t){var e=this;if(null==this.svgContainer&&(this.svgContainer=document.createElement("div")),this.level!==t&&(this.initSvgPromise=null,this.level=t),this.initSvgPromise)return this.initSvgPromise;var n=this.svgContainer,i=L.DomUtil.testProp(["transformOrigin","WebkitTransformOrigin","msTransformOrigin"]);n.style[i]="50% 50%",n.style.position="absolute";var s=this.options.url[t];return this.initSvgPromise=function(t){return l[t]?l[t]:l[t]=(0,o.default)(t).then((function(t){return t.text()}))}(s).then((function(i){n.innerHTML=i;var o=(0,r.default)(n).find("svg").hide().attr("data-level",t);e.$svg=o;var s=o.attr("bounds").split(" ").map((function(t){return parseFloat(t)}));e.bounds=s;var a=e.getContainer();(0,r.default)(a).empty().append(n),e._reset(),e.initSvgClickEvent()}))},initSvgClickEvent:function(){var t=this;this.$svg.on("click",(function(e){t.isSvgClicked=!0,t.clickFeature=(0,r.default)(e.target).data("feature")}))},clearClickFeature:function(){this.isSvgClicked||(this.clickFeature=null),this.isSvgClicked=!1},getSvg:function(){return this.$svg?this.$svg:(0,r.default)(this.svgContainer).find("svg")},clearSvg:function(){this.getSvg().find("polygon").attr("fill","none").attr("stroke","none")},renderInSingleFrame:function(t,e){this.raf((function(){t.forEach((function(t){return e(t)}))}))},renderInMultiFrames:function(t,e,n){for(var i=[],r=0,o=t.features.length;r<o;r++){var s=t.features[r];i.push(s),i.length===n&&(this.renderInSingleFrame(i,e),i=[])}i.length>0&&this.renderInSingleFrame(i,e)},renderPolygon:function(t,e){var n=this.getSvg(),i=this.getValue(t),r=(0,a.getScale)(i,this.options.fill),o=t.properties[e],s=n.find("[adcode="+o+"]");s.data("feature",t),s.attr("fill")!==r&&s.attr("fill",r)},render:function(t){var e=this;if(null!=t){var n=t&&t.features&&t.features[0];if(null!=n){var i="province";n.properties&&n.properties.city&&(i="city"),this.initSvg(i).then((function(){e.$svg.find("[adcode]").data("feature",null),e.renderInMultiFrames(t,(function(t){e.renderPolygon(t,i)}),20)})).catch((function(t){console.error(t)}))}}},getContainer:function(){return this.getPane()},findObjectByXy:function(t,e){return this.clickFeature}});e.default=function(t){return new h(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SymbolLayer=void 0;var i=h(n(60)),r=h(n(19)),o=h(n(3)),s=n(13),a=h(n(16)),u=n(10),l=h(n(15)),c=h(n(382));function h(t){return t&&t.__esModule?t:{default:t}}var f={},d={src:"http://img4.imgtn.bdimg.com/it/u=4019847970,3718827910&fm=21&gp=0.jpg",originX:"center",originY:"center",width:10,height:10,angle:0},p=e.SymbolLayer=a.default.extend({_forceRenderKeys:["symbol","valueName","getValue"],initialize:function(t){t=(0,o.default)({},f,t),a.default.prototype.initialize.call(this,t),this.imageCache={}},getCache:function(t,e){for(var n=(0,u.getScale)(t,this.options.symbol),i=(0,r.default)(e),o=(0,u.getKey)(n),s=0,a=i.length;s<a;++s){var l=i[s];if(l===o)return e[l]}console.error(new Error("symbol "+o+" not found"));var h=new Image(n.width,n.height);return h.src=c.default,{symbol:n,imgElement:h}},generateImageCache:function(t){var e=this;return new i.default((function(n,i){var r=(0,u.getKey)(t);t=(0,o.default)({},d,t);var s=new Image(t.width,t.height);s.src=t.src,s.onload=function(){e.imageCache[r]={symbol:t,imgElement:s},n()},s.onerror=function(){console.error(new Error("symbol "+t.src+" load failed")),n()}}))},initImageCache:function(){var t=this;return this.initImageCachePromise?this.initImageCachePromise:l.default.isArray(this.options.symbol.range)?this.initImageCachePromise=i.default.all(this.options.symbol.range.map((function(e){return t.generateImageCache(e)}))):this.initImageCachePromise=this.generateImageCache(this.options.symbol)},clearImageCache:function(){this.initImageCachePromise=null,this.imageCache={}},createSymbol:function(t,e,n,i){var r=this.getValue(t),o=this.getCache(r,e),a=o.symbol,l=o.imgElement,c=(0,u.pointToPixel)(t,n,this._map,i);return null==c?null:new s.fabric.Image(l,{left:c.x,top:c.y,originX:a.originX,originY:a.originY,angle:a.angle})},render:function(t){var e=this;if(null!=t){var n=this.renderRid;this.initImageCache().then((function(){if(n===e.renderRid){var i=e.imageCache;e.renderInMultiFrames(t,(function(t,n,r){return e.createSymbol(t,i,n,r)}),2e3)}})).catch((function(t){console.error(t)}))}},findObjectByXy:function(t,e){for(var n=this.data.features,i=this._map.getSize(),r=this.imageCache,o=n.length-1;o>-1;o--){var s=n[o],a=this.getValue(s),l=this.getCache(a,r).symbol,c=new L.Bounds(L.point([-l.width,-l.height]),i.add([l.width,l.height])),h=(0,u.pointToPixel)(s,c,this._map);if(null!=h&&!("center"===l.originX&&Math.abs(h.x-t)>l.width/2||"center"===l.originY&&Math.abs(h.y-e)>l.height/2||"left"===l.originX&&h.x-t>l.width||"top"===l.originY&&h.y-e>l.height||"right"===l.originX&&-(h.x-t)>l.width||"bottom"===l.originY&&-(h.y-e)>l.height))return s}return null},setOptions:function(t){l.default.isEqual(t.symbol,this.options.symbol)||this.clearImageCache(),a.default.prototype.setOptions.call(this,t)}});e.default=function(t){return new p(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEABAMAAACuXLVVAAAAA1BMVEUzNDVszlHHAAAAAXRSTlMAQObYZgAAAAlwSFlzAAAAAAAAAAAB6mUWpAAAADZJREFUeJztwQEBAAAAgiD/r25IQAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA7waBAAABw08RwAAAAABJRU5ErkJggg=="},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CircleRangeLayer=void 0;var i=o(n(3));n(11);var r=o(n(15));function o(t){return t&&t.__esModule?t:{default:t}}n(210);var s={strokeColor:"rgba(255,0,0,1)",strokeWeight:3,fillColor:"rgba(255,0,0,0.5)",toolTipContent:function(t,e,n){var i=t.lat;return": "+t.lng.toFixed(9)+"\n<br/>\n: "+i.toFixed(9)+"\n<br/>\n: "+e+" \n<br/>\n"+(n?"":"")+"\n<br/>\n\n  "},toolTipClass:"circle-range-tooltip",disableEditWhenMouseUp:!1},a=e.CircleRangeLayer=L.Layer.extend({initialize:function(t){this.setOptions((0,i.default)({},s,t)),this.circle={editing:!1},this.isCirclEditEnabled=!0,this.prevent=!1,this.timer=0},setOptions:function(t){L.setOptions(this,t)},onAdd:function(t){this._map=t,this._initMapEvents(),this.enableEdit()},onRemove:function(){this._destroy()},_destroy:function(){for(var t in clearTimeout(this.openCircleEditTimer),this.mapEvents)this._map.off(t,this.mapEvents[t]);this.unlockMap(),this.removeCircleInstance(),this.removeToolTip()},_initMapEvents:function(){this.mapEvents={mousedown:this.onMouseDown.bind(this),mousemove:r.default.throttle(this.onMouseMove.bind(this),50),mouseup:this.onMouseUp.bind(this),zoomend:this.onZoomEnd.bind(this)};for(var t=["zoomend"],e=0;e<t.length;e++){var n=t[e];this._map.on(n,this.mapEvents[n])}},onMouseDown:function(t){var e=this;this.openCircleEditTimer=setTimeout((function(){e.removeCircleInstance(),e.removeToolTip(),e.circle={startLatlng:t.latlng,endLatlng:t.latlng,radius:0,editing:!0},e.initCircle(),e.renderToolTip(),e._map.on("mousemove",e.mapEvents.mousemove)}),200)},onMouseMove:function(t){if(null!=this._map&&this.circle.editing){this.circle.endLatlng=t.latlng;var e=this.circle,n=e.startLatlng,i=e.endLatlng;this.circle.radius=this._map.distance(n,i),this.drawCircle(),this.renderToolTip(),this.fire("circlechange",this.circle)}},onMouseUp:function(){null!=this._map&&(clearTimeout(this.openCircleEditTimer),this.options.disableEditWhenMouseUp&&this.disableEdit(),this.circle.editing&&(this.circle.editing=!1,this.fire("circleconfirm",this.circle),this._map.off("mousemove",this.mapEvents.mousemove)))},onZoomEnd:function(){this.updateToolTipPosition()},lockMap:function(){this._map.dragging.disable(),this._map.doubleClickZoom.disable()},unlockMap:function(){this._map.dragging.enable(),this._map.doubleClickZoom.enable()},disableEdit:function(){this.isCirclEditEnabled=!1;for(var t=["mouseup","mousedown"],e=0;e<t.length;e++){var n=t[e];this._map.off(n,this.mapEvents[n])}this.unlockMap(),this.renderToolTip(),this.fire("disableedit")},enableEdit:function(){this.isCirclEditEnabled=!0;for(var t=["mouseup","mousedown"],e=0;e<t.length;e++){var n=t[e];this._map.on(n,this.mapEvents[n])}this.lockMap(),this.renderToolTip(),this.fire("enableedit")},initCircle:function(){var t=this;this.circleInstance=L.circle(this.circle.startLatlng),this.circleInstance.options.pane=this.options.pane,this.circleInstance.setStyle({weight:this.options.strokeWeight,color:this.options.strokeColor,fill:!0,fillColor:this.options.fillColor}),this.circleInstance.on("click",(function(){t.timer=setTimeout((function(){t.prevent||(t.isCirclEditEnabled?t.disableEdit():t.enableEdit()),t.prevent=!1}),200)})),this.circleInstance.on("dblclick",(function(){clearTimeout(t.timer),t.prevent=!0,t.fire("circleaffirm",t.circle),t.removeCircleInstance(),t.removeToolTip()})),this.circleInstance.addTo(this._map)},drawCircle:function(){this.circleInstance.setRadius(this.circle.radius)},renderToolTip:function(){var t=this.circle,e=t.startLatlng,n=(t.endLatlng,t.radius);null!=e&&(null==this.toolTip&&(this.toolTip=L.DomUtil.create("span",this.options.toolTipClass,this._map.getPane(this.options.pane))),this.updateToolTipPosition(),this.toolTip.innerHTML=this.options.toolTipContent(e,n,this.isCirclEditEnabled))},updateToolTipPosition:function(){if(null!=this.toolTip){var t=this._map.latLngToLayerPoint(this.circle.endLatlng);L.DomUtil.setPosition(this.toolTip,t)}},removeCircleInstance:function(){this.circleInstance&&(this.circleInstance.off(),this.circleInstance.remove(),this.circleInstance=void 0)},removeToolTip:function(){this.toolTip&&(L.DomUtil.remove(this.toolTip),this.toolTip=void 0)}});a.fireEvents=["circlechange","circleconfirm","enableedit","disableedit","circleaffirm"];e.default=function(t){return new a(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CircleRangeLayer=void 0;var i=r(n(3));n(11);r(n(15));function r(t){return t&&t.__esModule?t:{default:t}}n(210);var o={strokeColor:"rgba(255,0,0,1)",strokeWeight:3,dashArray:"5, 5",radiusStrokeColor:"rgba(255,0,0,1)",radiusStrokeWeight:3,radiusDashArray:"5, 5",fillColor:"rgba(255,0,0,0.5)",toolTipContent:function(t,e,n){var i=t.lat;return": "+t.lng.toFixed(9)+"\n<br/>\n: "+i.toFixed(9)+"\n<br/>\n: "+e+" \n  "},toolTipClass:"circle-range-tooltip",disableEditWhenMouseUp:!1,renderBorderHandler:function(){return L.divIcon({html:""})},renderCenterHandler:function(){return L.divIcon({html:""})},isCirclEditEnabled:!0,pane:"circle-range-pane",centerHandlerTooltip:""},s=e.CircleRangeLayer=L.Layer.extend({initialize:function(t){if(null==t.initCircle)throw new Error("options.initCircle cannot be empty");this.setOptions((0,i.default)({},o,t)),this.isCirclEditEnabled=this.options.isCirclEditEnabled,this.prevent=!1,this.timer=0},initCircle:function(t){var e=t.startLatlng,n=t.endLatlng,i=t.radius;if(n)this.circle={startLatlng:L.latLng(e),endLatlng:L.latLng(n),radius:this._map.distance(e,n)};else{var r=this._map.getSize().y,o=this._map.getSize().x,s=i/(this._map.containerPointToLatLng([0,r]).distanceTo(this._map.containerPointToLatLng([o,r]))/o),a=this._map.latLngToContainerPoint(L.latLng(e)),u=a.x,l=a.y,c=this._map.containerPointToLatLng(L.point(u+s,l));this.circle={startLatlng:L.latLng(e),endLatlng:c,radius:i}}},setOptions:function(t){L.setOptions(this,t),this._map&&this.options.circle&&this.options.circle!==this.circle&&(this.initCircle(this.options.circle),this.renderCircle())},onAdd:function(t){this._map=t,null==this.getPane()&&this._map.createPane(this.options.pane),this._initMapEvents(),this.initCircle(this.options.initCircle),this.initCircleInstance(),this.initCircleRadius(),this.initCenterHandler(),this.initBorderHandler(),this.renderCircle(),this.enableEdit()},onRemove:function(){this._destroy()},_destroy:function(){this._destroyMapEvents(),this.removeLeafletInstance(this.polyline),this.removeLeafletInstance(this.circleInstance),this.removeLeafletInstance(this.centerHandler),this.removeLeafletInstance(this.borderHandler),this.removeToolTip()},_initMapEvents:function(){this.mapEvents={zoomend:this.onZoomEnd.bind(this)};for(var t=["zoomend"],e=0;e<t.length;e++){var n=t[e];this._map.on(n,this.mapEvents[n])}},_destroyMapEvents:function(){for(var t in this.mapEvents)this._map.off(t,this.mapEvents[t])},onZoomEnd:function(){this.updateToolTipPosition()},enableEdit:function(){L.setOptions(this.centerHandler.options,{draggable:!0}),L.setOptions(this.borderHandler.options,{draggable:!0}),this.isCirclEditEnabled=!0,this.fire("enableedit")},disableEdit:function(){L.setOptions(this.centerHandler.options,{draggable:!1}),L.setOptions(this.borderHandler.options,{draggable:!1}),this.isCirclEditEnabled=!1,this.fire("disableedit")},getPaneName:function(){var t=this._map.getPanes(),e=this.getPane();for(var n in t)if(t[n]===e)return n},initCircleInstance:function(){this.circleInstance=L.circle(this.circle.startLatlng,{pane:this.getPaneName()}),this.circleInstance.setStyle({weight:this.options.strokeWeight,color:this.options.strokeColor,dashArray:this.options.dashArray,fill:!0,fillColor:this.options.fillColor}),this.circleInstance.addTo(this._map)},initCircleRadius:function(){this.polyline=L.polyline([this.circle.startLatlng,this.circle.endLatlng],{pane:this.getPaneName(),weight:this.options.radiusStrokeWeight,color:this.options.radiusStrokeColor,dashArray:this.options.radiusDashArray}),this.polyline.addTo(this._map)},initCenterHandler:function(){var t=this,e=this.options.renderCenterHandler();if(!(e instanceof L.Icon))throw new Error("renderCenterHandler must return an object instanceof L.Icon");this.centerHandler=L.marker(this.circle.startLatlng,{icon:e,draggable:this.isCirclEditEnabled,pane:this.getPaneName(),zIndexOffset:1e3});var n=this.options.centerHandlerTooltip;"function"==typeof n&&(n=function(e){return t.options.centerHandlerTooltip(t.circle.startLatlng,t.circle.radius,t.isCirclEditEnabled,e)}),n&&this.centerHandler.bindTooltip(n),this.centerHandler.on("drag",(function(){var e=t.centerHandler.getLatLng(),n=t.circle.startLatlng,r=t.circle.endLatlng,o={lat:r.lat+e.lat-n.lat,lng:r.lng+e.lng-n.lng};t.circle=(0,i.default)({},t.circle,{startLatlng:e,endLatlng:o}),t.borderHandler.setLatLng(o),t.renderCircle(),t.fire("circlechange",t.circle)})),this.centerHandler.addTo(this._map)},initBorderHandler:function(){var t=this,e=this.options.renderBorderHandler();if(!(e instanceof L.Icon))throw new Error("renderCenterHandler must return an object instanceof L.Icon");this.borderHandler=L.marker(this.circle.endLatlng,{icon:e,draggable:this.isCirclEditEnabled,pane:this.getPaneName(),zIndexOffset:1e3}),this.borderHandler.on("drag",(function(){var e=t.borderHandler.getLatLng();t.circle=(0,i.default)({},t.circle,{endLatlng:e,radius:t._map.distance(t.circle.startLatlng,e)}),t.renderCircle(),t.fire("circlechange",t.circle)})),this.borderHandler.addTo(this._map)},renderCircle:function(){this.renderToolTip(),this.renderCircleRadius(),this.renderCenterHandler(),this.renderBorderHandler(),this.circleInstance.setLatLng(this.circle.startLatlng),this.circleInstance.setRadius(this.circle.radius)},renderCenterHandler:function(){this.centerHandler.setLatLng(this.circle.startLatlng)},renderBorderHandler:function(){this.borderHandler.setLatLng(this.circle.endLatlng)},renderCircleRadius:function(){this.polyline.setLatLngs([this.circle.startLatlng,this.circle.endLatlng])},renderToolTip:function(){var t=this.circle,e=t.startLatlng,n=(t.endLatlng,t.radius);null!=e&&(null==this.toolTip&&(this.toolTip=L.DomUtil.create("span",this.options.toolTipClass,this.getPane())),this.updateToolTipPosition(),this.toolTip.innerHTML=this.options.toolTipContent(e,n,this.isCirclEditEnabled))},updateToolTipPosition:function(){if(null!=this.toolTip){var t=this._map.latLngToLayerPoint(this.circle.endLatlng);L.DomUtil.setPosition(this.toolTip,t)}},removeLeafletInstance:function(t){t&&(t.off(),t.remove())},removeToolTip:function(){this.toolTip&&(L.DomUtil.remove(this.toolTip),this.toolTip=void 0)}});s.fireEvents=["circlechange","circleconfirm","enableedit","disableedit","circleaffirm"];e.default=function(t){return new s(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerLayer=void 0;var i=a(n(3)),r=a(n(90));n(11);a(n(209)),a(n(61));var o=a(n(74)),s=n(10);function a(t){return t&&t.__esModule?t:{default:t}}var u={renderFeature:function(t){return L.divIcon({html:'<pre style="width: 100px; border: 1px solid black; background: rgba(0,0,0,0.7); color: white; word-break: break-all; white-space: normal">'+(0,r.default)(t)+"</pre>",className:"geoengin-marker"})},opacity:1,renderPopup:function(t){return null},renderTooltip:function(t){return null}},l=e.MarkerLayer=o.default.extend({_forceRenderKeys:["renderFeature","opacity","pane"],initialize:function(t){t=(0,i.default)({},u,t),o.default.prototype.initialize.call(this,t),this.group=null,this.clickObject=null},_initEvents:function(){var t=this;this.on("loadstart",(function(e){t.data={type:"FeatureCollection",features:[]}})),this.on("loaddata",(function(e){t.renderRid!==e.rid&&(t.clear(),t.renderRid=e.rid),t.data.features=t.data.features.concat(e.data.features),t.render(e.data)}))},_initMapEvents:function(){this._map.on("click",this.onMapClick,this)},_removeMapEvents:function(){this._map.off("click",this.onMapClick,this)},_destroy:function(){this._destroyDs(),this.off()},onAdd:function(t){this._map=t,this._initEvents(),this._initMapEvents(),this._initDs()},onRemove:function(){this.clear(),this._destroy()},onMapClick:function(t){if(t.group===this.group)return this.clickObject=t.feature;this.clickObject=null},setOptions:function(t){var e=(0,s.isAnyRenderOptionsChange)(t,this.options,this._forceRenderKeys);if(L.setOptions(this,t),t.ds&&this._ds!==t.ds)return this._ds.destroy(),void this._initDs();e&&(this.clear(),this.render())},clear:function(){this.group&&(this.group.remove(),this.clickObject=null,this.group=null)},getPaneName:function(){var t=this._map.getPanes(),e=this.getPane();for(var n in t)if(t[n]===e)return n},renderFeature:function(t){var e=t.geometry.coordinates,n=[e[1],e[0]],i=this.options.renderFeature(t),r=this.options.renderPopup(t),o=this.options.renderTooltip(t);if(!(i instanceof L.Icon))throw new Error("renderFeature must return an object instanceof L.Icon");if(r&&!(r instanceof L.Popup))throw new Error("renderPopup must return an object instanceof L.popup");if(o&&!(o instanceof L.Tooltip))throw new Error("renderTooltip must return an object instanceof L.tooltip");var s=new L.Marker(n,{pane:this.getPaneName(),opacity:this.options.opacity,icon:i});return r&&s.bindPopup(r),o&&s.bindTooltip(o),s._feature_=t,s},initMarkerGroupEvent:function(){var t=this;this.group.on("click",(function(e){t._map.fire("click",(0,i.default)({},e,{feature:e.layer._feature_,group:t.group}))}))},render:function(t){if(null!=t&&null!=(t&&t.features&&t.features[0])){0;var e=t.features.map(this.renderFeature.bind(this));this.group=L.featureGroup(e),this.group.addTo(this._map),this.initMarkerGroupEvent()}},findObjectByXy:function(){return this.clickObject?this.clickObject:null}});e.default=function(t){return new l(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=l(n(3)),r=l(n(21)),o=l(n(26)),s=l(n(27)),a=l(n(30)),u=l(n(31));function l(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(){(0,o.default)(this,e);var t=(0,a.default)(this,(e.__proto__||(0,r.default)(e)).call(this));return window.registerList=[],t}return(0,u.default)(e,t),(0,s.default)(e,[{key:"register",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"glLayer";if(null==e._map)throw new Error("layer must be register after add to map");e._map===this._map&&this.isInited||this.initEventsOnMap(e._map),window.registerList.push({name:t,layer:e,layerType:n})}},{key:"unregister",value:function(t){for(var e=0,n=window.registerList.length;e<n;e++)if(window.registerList[e].name===t)return window.registerList.splice(e,1)}},{key:"initEventsOnMap",value:function(t){var e=this;this._map=t,t.on("click",this.onMapClick,this),t.on("mousemove",this.onMapMouseMove,this),t.on("resize",(function(t){e.emit("mapresize",t)}),this),t.on("movestart",(function(t){e.emit("mapmovestart",t)}),this),t.on("move",(function(t){e.emit("mapmove",t)}),this),t.on("moveend",(function(t){e.emit("mapmoveend",t)}),this),t.on("zoomstart",(function(t){e.emit("mapzoomstart",t)}),this),t.on("zoomend",(function(t){e.emit("mapzoomend",t)}),this),t.on("zoomanim",(function(t){e.emit("mapzoomanim",t)}),this),this.isInited=!0}},{key:"onMapClick",value:function(t){var e=this,n=t.containerPoint;clearTimeout(this.clickTimer),this.clickTimer=setTimeout((function(){var i=e.getByXy(n);e.emit("clickobject",i&&i.object,t.latlng)}),100)}},{key:"onMapMouseMove",value:function(t){var e=this,n=t.containerPoint;this.hoverTimer&&clearTimeout(this.hoverTimer),this.hoverTimer=setTimeout((function(){var i=e.getByXy(n);e.emit("hoverobject",i&&i.object,t.latlng),e.hoverTimer=null}),100)}},{key:"getByXy",value:function(t){var e=t.x,n=t.y,r=[];window.registerList.map((function(t){document.getElementById(t.name)&&r.push(t)}));for(var o=(r=r.sort((function(t,e){return window.getComputedStyle(document.getElementById(t.name),null)["z-index"]-window.getComputedStyle(document.getElementById(e.name),null)["z-index"]}))).length-1;o>-1;o--){var s=r[o],a=s.layer;if(("glLayer"!==s.layerType||a.props.visible)&&0!==window.getComputedStyle(document.getElementById(s.name),null).opacity&&null!=a.findObjectByXy){var u=void 0;try{u=a.findObjectByXy(e,n)}catch(t){}if(u)return{layer:a,object:(0,i.default)({},u,{layerName:s.name})}}}}},{key:"destroy",value:function(){this._map.off("click",this.onMapClick,this),this.removeAllListeners()}}]),e}(l(n(128)).default);e.default=new c},function(t,e,n){"use strict";n.r(e),n.d(e,"geoArea",(function(){return W})),n.d(e,"geoBounds",(function(){return Vt})),n.d(e,"geoCentroid",(function(){return $t})),n.d(e,"geoCircle",(function(){return le})),n.d(e,"geoClipAntimeridian",(function(){return De})),n.d(e,"geoClipCircle",(function(){return Le})),n.d(e,"geoClipExtent",(function(){return Pe})),n.d(e,"geoClipRectangle",(function(){return Fe})),n.d(e,"geoContains",(function(){return Ze})),n.d(e,"geoDistance",(function(){return ze})),n.d(e,"geoGraticule",(function(){return tn})),n.d(e,"geoGraticule10",(function(){return en})),n.d(e,"geoInterpolate",(function(){return an})),n.d(e,"geoLength",(function(){return je})),n.d(e,"geoPath",(function(){return oi})),n.d(e,"geoAlbers",(function(){return _i})),n.d(e,"geoAlbersUsa",(function(){return Ai})),n.d(e,"geoAzimuthalEqualArea",(function(){return Fi})),n.d(e,"geoAzimuthalEqualAreaRaw",(function(){return Li})),n.d(e,"geoAzimuthalEquidistant",(function(){return Mi})),n.d(e,"geoAzimuthalEquidistantRaw",(function(){return Ti})),n.d(e,"geoConicConformal",(function(){return ki})),n.d(e,"geoConicConformalRaw",(function(){return Ni})),n.d(e,"geoConicEqualArea",(function(){return wi})),n.d(e,"geoConicEqualAreaRaw",(function(){return Ci})),n.d(e,"geoConicEquidistant",(function(){return Gi})),n.d(e,"geoConicEquidistantRaw",(function(){return Vi})),n.d(e,"geoEqualEarth",(function(){return Wi})),n.d(e,"geoEqualEarthRaw",(function(){return Yi})),n.d(e,"geoEquirectangular",(function(){return ji})),n.d(e,"geoEquirectangularRaw",(function(){return Ri})),n.d(e,"geoGnomonic",(function(){return Ki})),n.d(e,"geoGnomonicRaw",(function(){return Ji})),n.d(e,"geoIdentity",(function(){return Zi})),n.d(e,"geoProjection",(function(){return xi})),n.d(e,"geoProjectionMutator",(function(){return Ei})),n.d(e,"geoMercator",(function(){return Pi})),n.d(e,"geoMercatorRaw",(function(){return Ii})),n.d(e,"geoNaturalEarth1",(function(){return Qi})),n.d(e,"geoNaturalEarth1Raw",(function(){return $i})),n.d(e,"geoOrthographic",(function(){return er})),n.d(e,"geoOrthographicRaw",(function(){return tr})),n.d(e,"geoStereographic",(function(){return ir})),n.d(e,"geoStereographicRaw",(function(){return nr})),n.d(e,"geoTransverseMercator",(function(){return or})),n.d(e,"geoTransverseMercatorRaw",(function(){return rr})),n.d(e,"geoRotation",(function(){return se})),n.d(e,"geoStream",(function(){return V})),n.d(e,"geoTransform",(function(){return si}));var i=function(){return new r};function r(){this.reset()}r.prototype={constructor:r,reset:function(){this.s=this.t=0},add:function(t){s(o,t,this.t),s(this,o.s,this.s),this.s?this.t+=o.t:this.s=o.t},valueOf:function(){return this.s}};var o=new r;function s(t,e,n){var i=t.s=e+n,r=i-e,o=i-r;t.t=e-o+(n-r)}var a=1e-6,u=Math.PI,l=u/2,c=u/4,h=2*u,f=180/u,d=u/180,p=Math.abs,g=Math.atan,v=Math.atan2,m=Math.cos,y=Math.ceil,x=Math.exp,E=(Math.floor,Math.log),b=Math.pow,C=Math.sin,w=Math.sign||function(t){return t>0?1:t<0?-1:0},_=Math.sqrt,A=Math.tan;function S(t){return t>1?0:t<-1?u:Math.acos(t)}function D(t){return t>1?l:t<-1?-l:Math.asin(t)}function L(t){return(t=C(t/2))*t}function F(){}function T(t,e){t&&I.hasOwnProperty(t.type)&&I[t.type](t,e)}var M={Feature:function(t,e){T(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)T(n[i].geometry,e)}},I={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){P(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)P(n[i],e,0)},Polygon:function(t,e){O(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)O(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)T(n[i],e)}};function P(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function O(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)P(t[n],e,1);e.polygonEnd()}var B,N,k,R,j,V=function(t,e){t&&M.hasOwnProperty(t.type)?M[t.type](t,e):T(t,e)},G=i(),z=i(),q={point:F,lineStart:F,lineEnd:F,polygonStart:function(){G.reset(),q.lineStart=U,q.lineEnd=X},polygonEnd:function(){var t=+G;z.add(t<0?h+t:t),this.lineStart=this.lineEnd=this.point=F},sphere:function(){z.add(h)}};function U(){q.point=H}function X(){Y(B,N)}function H(t,e){q.point=Y,B=t,N=e,k=t*=d,R=m(e=(e*=d)/2+c),j=C(e)}function Y(t,e){var n=(t*=d)-k,i=n>=0?1:-1,r=i*n,o=m(e=(e*=d)/2+c),s=C(e),a=j*s,u=R*o+a*m(r),l=a*i*C(r);G.add(v(l,u)),k=t,R=o,j=s}var W=function(t){return z.reset(),V(t,q),2*z};function J(t){return[v(t[1],t[0]),D(t[2])]}function K(t){var e=t[0],n=t[1],i=m(n);return[i*m(e),i*C(e),C(n)]}function Z(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function $(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Q(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function tt(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function et(t){var e=_(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var nt,it,rt,ot,st,at,ut,lt,ct,ht,ft=i(),dt={point:pt,lineStart:vt,lineEnd:mt,polygonStart:function(){dt.point=yt,dt.lineStart=xt,dt.lineEnd=Et,ft.reset(),q.polygonStart()},polygonEnd:function(){q.polygonEnd(),dt.point=pt,dt.lineStart=vt,dt.lineEnd=mt,G<0?(nt=-(rt=180),it=-(ot=90)):ft>a?ot=90:ft<-a&&(it=-90),ht[0]=nt,ht[1]=rt},sphere:function(){nt=-(rt=180),it=-(ot=90)}};function pt(t,e){ct.push(ht=[nt=t,rt=t]),e<it&&(it=e),e>ot&&(ot=e)}function gt(t,e){var n=K([t*d,e*d]);if(lt){var i=$(lt,n),r=$([i[1],-i[0],0],i);et(r),r=J(r);var o,s=t-st,a=s>0?1:-1,u=r[0]*f*a,l=p(s)>180;l^(a*st<u&&u<a*t)?(o=r[1]*f)>ot&&(ot=o):l^(a*st<(u=(u+360)%360-180)&&u<a*t)?(o=-r[1]*f)<it&&(it=o):(e<it&&(it=e),e>ot&&(ot=e)),l?t<st?bt(nt,t)>bt(nt,rt)&&(rt=t):bt(t,rt)>bt(nt,rt)&&(nt=t):rt>=nt?(t<nt&&(nt=t),t>rt&&(rt=t)):t>st?bt(nt,t)>bt(nt,rt)&&(rt=t):bt(t,rt)>bt(nt,rt)&&(nt=t)}else ct.push(ht=[nt=t,rt=t]);e<it&&(it=e),e>ot&&(ot=e),lt=n,st=t}function vt(){dt.point=gt}function mt(){ht[0]=nt,ht[1]=rt,dt.point=pt,lt=null}function yt(t,e){if(lt){var n=t-st;ft.add(p(n)>180?n+(n>0?360:-360):n)}else at=t,ut=e;q.point(t,e),gt(t,e)}function xt(){q.lineStart()}function Et(){yt(at,ut),q.lineEnd(),p(ft)>a&&(nt=-(rt=180)),ht[0]=nt,ht[1]=rt,lt=null}function bt(t,e){return(e-=t)<0?e+360:e}function Ct(t,e){return t[0]-e[0]}function wt(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var _t,At,St,Dt,Lt,Ft,Tt,Mt,It,Pt,Ot,Bt,Nt,kt,Rt,jt,Vt=function(t){var e,n,i,r,o,s,a;if(ot=rt=-(nt=it=1/0),ct=[],V(t,dt),n=ct.length){for(ct.sort(Ct),e=1,o=[i=ct[0]];e<n;++e)wt(i,(r=ct[e])[0])||wt(i,r[1])?(bt(i[0],r[1])>bt(i[0],i[1])&&(i[1]=r[1]),bt(r[0],i[1])>bt(i[0],i[1])&&(i[0]=r[0])):o.push(i=r);for(s=-1/0,e=0,i=o[n=o.length-1];e<=n;i=r,++e)r=o[e],(a=bt(i[1],r[0]))>s&&(s=a,nt=r[0],rt=i[1])}return ct=ht=null,nt===1/0||it===1/0?[[NaN,NaN],[NaN,NaN]]:[[nt,it],[rt,ot]]},Gt={sphere:F,point:zt,lineStart:Ut,lineEnd:Yt,polygonStart:function(){Gt.lineStart=Wt,Gt.lineEnd=Jt},polygonEnd:function(){Gt.lineStart=Ut,Gt.lineEnd=Yt}};function zt(t,e){t*=d;var n=m(e*=d);qt(n*m(t),n*C(t),C(e))}function qt(t,e,n){++_t,St+=(t-St)/_t,Dt+=(e-Dt)/_t,Lt+=(n-Lt)/_t}function Ut(){Gt.point=Xt}function Xt(t,e){t*=d;var n=m(e*=d);kt=n*m(t),Rt=n*C(t),jt=C(e),Gt.point=Ht,qt(kt,Rt,jt)}function Ht(t,e){t*=d;var n=m(e*=d),i=n*m(t),r=n*C(t),o=C(e),s=v(_((s=Rt*o-jt*r)*s+(s=jt*i-kt*o)*s+(s=kt*r-Rt*i)*s),kt*i+Rt*r+jt*o);At+=s,Ft+=s*(kt+(kt=i)),Tt+=s*(Rt+(Rt=r)),Mt+=s*(jt+(jt=o)),qt(kt,Rt,jt)}function Yt(){Gt.point=zt}function Wt(){Gt.point=Kt}function Jt(){Zt(Bt,Nt),Gt.point=zt}function Kt(t,e){Bt=t,Nt=e,t*=d,e*=d,Gt.point=Zt;var n=m(e);kt=n*m(t),Rt=n*C(t),jt=C(e),qt(kt,Rt,jt)}function Zt(t,e){t*=d;var n=m(e*=d),i=n*m(t),r=n*C(t),o=C(e),s=Rt*o-jt*r,a=jt*i-kt*o,u=kt*r-Rt*i,l=_(s*s+a*a+u*u),c=D(l),h=l&&-c/l;It+=h*s,Pt+=h*a,Ot+=h*u,At+=c,Ft+=c*(kt+(kt=i)),Tt+=c*(Rt+(Rt=r)),Mt+=c*(jt+(jt=o)),qt(kt,Rt,jt)}var $t=function(t){_t=At=St=Dt=Lt=Ft=Tt=Mt=It=Pt=Ot=0,V(t,Gt);var e=It,n=Pt,i=Ot,r=e*e+n*n+i*i;return r<1e-12&&(e=Ft,n=Tt,i=Mt,At<a&&(e=St,n=Dt,i=Lt),(r=e*e+n*n+i*i)<1e-12)?[NaN,NaN]:[v(n,e)*f,D(i/_(r))*f]},Qt=function(t){return function(){return t}},te=function(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return(n=e.invert(n,i))&&t.invert(n[0],n[1])}),n};function ee(t,e){return[p(t)>u?t+Math.round(-t/h)*h:t,e]}function ne(t,e,n){return(t%=h)?e||n?te(re(t),oe(e,n)):re(t):e||n?oe(e,n):ee}function ie(t){return function(e,n){return[(e+=t)>u?e-h:e<-u?e+h:e,n]}}function re(t){var e=ie(t);return e.invert=ie(-t),e}function oe(t,e){var n=m(t),i=C(t),r=m(e),o=C(e);function s(t,e){var s=m(e),a=m(t)*s,u=C(t)*s,l=C(e),c=l*n+a*i;return[v(u*r-c*o,a*n-l*i),D(c*r+u*o)]}return s.invert=function(t,e){var s=m(e),a=m(t)*s,u=C(t)*s,l=C(e),c=l*r-u*o;return[v(u*r+l*o,a*n+c*i),D(c*n-a*i)]},s}ee.invert=ee;var se=function(t){function e(e){return(e=t(e[0]*d,e[1]*d))[0]*=f,e[1]*=f,e}return t=ne(t[0]*d,t[1]*d,t.length>2?t[2]*d:0),e.invert=function(e){return(e=t.invert(e[0]*d,e[1]*d))[0]*=f,e[1]*=f,e},e};function ae(t,e,n,i,r,o){if(n){var s=m(e),a=C(e),u=i*n;null==r?(r=e+i*h,o=e-u/2):(r=ue(s,r),o=ue(s,o),(i>0?r<o:r>o)&&(r+=i*h));for(var l,c=r;i>0?c>o:c<o;c-=u)l=J([s,-a*m(c),-a*C(c)]),t.point(l[0],l[1])}}function ue(t,e){(e=K(e))[0]-=t,et(e);var n=S(-e[1]);return((-e[2]<0?-n:n)+h-a)%h}var le=function(){var t,e,n=Qt([0,0]),i=Qt(90),r=Qt(6),o={point:function(n,i){t.push(n=e(n,i)),n[0]*=f,n[1]*=f}};function s(){var s=n.apply(this,arguments),a=i.apply(this,arguments)*d,u=r.apply(this,arguments)*d;return t=[],e=ne(-s[0]*d,-s[1]*d,0).invert,ae(o,a,u,1),s={type:"Polygon",coordinates:[t]},t=e=null,s}return s.center=function(t){return arguments.length?(n="function"==typeof t?t:Qt([+t[0],+t[1]]),s):n},s.radius=function(t){return arguments.length?(i="function"==typeof t?t:Qt(+t),s):i},s.precision=function(t){return arguments.length?(r="function"==typeof t?t:Qt(+t),s):r},s},ce=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:F,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},he=function(t,e){return p(t[0]-e[0])<a&&p(t[1]-e[1])<a};function fe(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}var de=function(t,e,n,i,r){var o,s,a=[],u=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],s=t[e];if(he(i,s)){for(r.lineStart(),o=0;o<e;++o)r.point((i=t[o])[0],i[1]);r.lineEnd()}else a.push(n=new fe(i,t,null,!0)),u.push(n.o=new fe(i,null,n,!1)),a.push(n=new fe(s,t,null,!1)),u.push(n.o=new fe(s,null,n,!0))}})),a.length){for(u.sort(e),pe(a),pe(u),o=0,s=u.length;o<s;++o)u[o].e=n=!n;for(var l,c,h=a[0];;){for(var f=h,d=!0;f.v;)if((f=f.n)===h)return;l=f.z,r.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(o=0,s=l.length;o<s;++o)r.point((c=l[o])[0],c[1]);else i(f.x,f.n.x,1,r);f=f.n}else{if(d)for(l=f.p.z,o=l.length-1;o>=0;--o)r.point((c=l[o])[0],c[1]);else i(f.x,f.p.x,-1,r);f=f.p}l=(f=f.o).z,d=!d}while(!f.v);r.lineEnd()}}};function pe(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}var ge=i();function ve(t){return p(t[0])<=u?t[0]:w(t[0])*((p(t[0])+u)%h-u)}var me=function(t,e){var n=ve(e),i=e[1],r=C(i),o=[C(n),-m(n),0],s=0,f=0;ge.reset(),1===r?i=l+a:-1===r&&(i=-l-a);for(var d=0,p=t.length;d<p;++d)if(y=(g=t[d]).length)for(var g,y,x=g[y-1],E=ve(x),b=x[1]/2+c,w=C(b),_=m(b),A=0;A<y;++A,E=L,w=T,_=M,x=S){var S=g[A],L=ve(S),F=S[1]/2+c,T=C(F),M=m(F),I=L-E,P=I>=0?1:-1,O=P*I,B=O>u,N=w*T;if(ge.add(v(N*P*C(O),_*M+N*m(O))),s+=B?I+P*h:I,B^E>=n^L>=n){var k=$(K(x),K(S));et(k);var R=$(o,k);et(R);var j=(B^I>=0?-1:1)*D(R[2]);(i>j||i===j&&(k[0]||k[1]))&&(f+=B^I>=0?1:-1)}}return(s<-a||s<a&&ge<-a)^1&f},ye=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN};var xe,Ee;1===(xe=ye).length&&(Ee=xe,xe=function(t,e){return ye(Ee(t),e)});var be=Array.prototype,Ce=(be.slice,be.map,function(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(r);++i<r;)o[i]=t+i*n;return o});Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var we=function(t){for(var e,n,i,r=t.length,o=-1,s=0;++o<r;)s+=t[o].length;for(n=new Array(s);--r>=0;)for(e=(i=t[r]).length;--e>=0;)n[--s]=i[e];return n};var _e=function(t,e,n,i){return function(r){var o,s,a,u=e(r),l=ce(),c=e(l),h=!1,f={point:d,lineStart:g,lineEnd:v,polygonStart:function(){f.point=m,f.lineStart=y,f.lineEnd=x,s=[],o=[]},polygonEnd:function(){f.point=d,f.lineStart=g,f.lineEnd=v,s=we(s);var t=me(o,i);s.length?(h||(r.polygonStart(),h=!0),de(s,Se,t,n,r)):t&&(h||(r.polygonStart(),h=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),h&&(r.polygonEnd(),h=!1),s=o=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function d(e,n){t(e,n)&&r.point(e,n)}function p(t,e){u.point(t,e)}function g(){f.point=p,u.lineStart()}function v(){f.point=d,u.lineEnd()}function m(t,e){a.push([t,e]),c.point(t,e)}function y(){c.lineStart(),a=[]}function x(){m(a[0][0],a[0][1]),c.lineEnd();var t,e,n,i,u=c.clean(),f=l.result(),d=f.length;if(a.pop(),o.push(a),a=null,d)if(1&u){if((e=(n=f[0]).length-1)>0){for(h||(r.polygonStart(),h=!0),r.lineStart(),t=0;t<e;++t)r.point((i=n[t])[0],i[1]);r.lineEnd()}}else d>1&&2&u&&f.push(f.pop().concat(f.shift())),s.push(f.filter(Ae))}return f}};function Ae(t){return t.length>1}function Se(t,e){return((t=t.x)[0]<0?t[1]-l-a:l-t[1])-((e=e.x)[0]<0?e[1]-l-a:l-e[1])}var De=_e((function(){return!0}),(function(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var c=o>0?u:-u,h=p(o-n);p(h-u)<a?(t.point(n,i=(i+s)/2>0?l:-l),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(c,i),t.point(o,i),e=0):r!==c&&h>=u&&(p(n-r)<a&&(n-=r*a),p(o-c)<a&&(o-=c*a),i=function(t,e,n,i){var r,o,s=C(t-n);return p(s)>a?g((C(e)*(o=m(i))*C(n)-C(i)*(r=m(e))*C(t))/(r*o*s)):(e+i)/2}(n,i,o,s),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(c,i),e=0),t.point(n=o,i=s),r=c},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}}),(function(t,e,n,i){var r;if(null==t)r=n*l,i.point(-u,r),i.point(0,r),i.point(u,r),i.point(u,0),i.point(u,-r),i.point(0,-r),i.point(-u,-r),i.point(-u,0),i.point(-u,r);else if(p(t[0]-e[0])>a){var o=t[0]<e[0]?u:-u;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])}),[-u,-l]);var Le=function(t){var e=m(t),n=6*d,i=e>0,r=p(e)>a;function o(t,n){return m(t)*m(n)>e}function s(t,n,i){var r=[1,0,0],o=$(K(t),K(n)),s=Z(o,o),l=o[0],c=s-l*l;if(!c)return!i&&t;var h=e*s/c,f=-e*l/c,d=$(r,o),g=tt(r,h);Q(g,tt(o,f));var v=d,m=Z(g,v),y=Z(v,v),x=m*m-y*(Z(g,g)-1);if(!(x<0)){var E=_(x),b=tt(v,(-m-E)/y);if(Q(b,g),b=J(b),!i)return b;var C,w=t[0],A=n[0],S=t[1],D=n[1];A<w&&(C=w,w=A,A=C);var L=A-w,F=p(L-u)<a;if(!F&&D<S&&(C=S,S=D,D=C),F||L<a?F?S+D>0^b[1]<(p(b[0]-w)<a?S:D):S<=b[1]&&b[1]<=D:L>u^(w<=b[0]&&b[0]<=A)){var T=tt(v,(-m+E)/y);return Q(T,g),[b,J(T)]}}}function l(e,n){var r=i?t:u-t,o=0;return e<-r?o|=1:e>r&&(o|=2),n<-r?o|=4:n>r&&(o|=8),o}return _e(o,(function(t){var e,n,c,h,f;return{lineStart:function(){h=c=!1,f=1},point:function(d,p){var g,v=[d,p],m=o(d,p),y=i?m?0:l(d,p):m?l(d+(d<0?u:-u),p):0;if(!e&&(h=c=m)&&t.lineStart(),m!==c&&(!(g=s(e,v))||he(e,g)||he(v,g))&&(v[0]+=a,v[1]+=a,m=o(v[0],v[1])),m!==c)f=0,m?(t.lineStart(),g=s(v,e),t.point(g[0],g[1])):(g=s(e,v),t.point(g[0],g[1]),t.lineEnd()),e=g;else if(r&&e&&i^m){var x;y&n||!(x=s(v,e,!0))||(f=0,i?(t.lineStart(),t.point(x[0][0],x[0][1]),t.point(x[1][0],x[1][1]),t.lineEnd()):(t.point(x[1][0],x[1][1]),t.lineEnd(),t.lineStart(),t.point(x[0][0],x[0][1])))}!m||e&&he(e,v)||t.point(v[0],v[1]),e=v,c=m,n=y},lineEnd:function(){c&&t.lineEnd(),e=null},clean:function(){return f|(h&&c)<<1}}}),(function(e,i,r,o){ae(o,t,n,r,e,i)}),i?[0,-t]:[-u,t-u])};function Fe(t,e,n,i){function r(r,o){return t<=r&&r<=n&&e<=o&&o<=i}function o(r,o,a,u){var c=0,h=0;if(null==r||(c=s(r,a))!==(h=s(o,a))||l(r,o)<0^a>0)do{u.point(0===c||3===c?t:n,c>1?i:e)}while((c=(c+a+4)%4)!==h);else u.point(o[0],o[1])}function s(i,r){return p(i[0]-t)<a?r>0?0:3:p(i[0]-n)<a?r>0?2:1:p(i[1]-e)<a?r>0?1:0:r>0?3:2}function u(t,e){return l(t.x,e.x)}function l(t,e){var n=s(t,1),i=s(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){var a,l,c,h,f,d,p,g,v,m,y,x=s,E=ce(),b={point:C,lineStart:function(){b.point=w,l&&l.push(c=[]);m=!0,v=!1,p=g=NaN},lineEnd:function(){a&&(w(h,f),d&&v&&E.rejoin(),a.push(E.result()));b.point=C,v&&x.lineEnd()},polygonStart:function(){x=E,a=[],l=[],y=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,r=l.length;n<r;++n)for(var o,s,a=l[n],u=1,c=a.length,h=a[0],f=h[0],d=h[1];u<c;++u)o=f,s=d,h=a[u],f=h[0],d=h[1],s<=i?d>i&&(f-o)*(i-s)>(d-s)*(t-o)&&++e:d<=i&&(f-o)*(i-s)<(d-s)*(t-o)&&--e;return e}(),n=y&&e,r=(a=we(a)).length;(n||r)&&(s.polygonStart(),n&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),r&&de(a,u,e,o,s),s.polygonEnd());x=s,a=l=c=null}};function C(t,e){r(t,e)&&x.point(t,e)}function w(o,s){var a=r(o,s);if(l&&c.push([o,s]),m)h=o,f=s,d=a,m=!1,a&&(x.lineStart(),x.point(o,s));else if(a&&v)x.point(o,s);else{var u=[p=Math.max(-1e9,Math.min(1e9,p)),g=Math.max(-1e9,Math.min(1e9,g))],E=[o=Math.max(-1e9,Math.min(1e9,o)),s=Math.max(-1e9,Math.min(1e9,s))];!function(t,e,n,i,r,o){var s,a=t[0],u=t[1],l=0,c=1,h=e[0]-a,f=e[1]-u;if(s=n-a,h||!(s>0)){if(s/=h,h<0){if(s<l)return;s<c&&(c=s)}else if(h>0){if(s>c)return;s>l&&(l=s)}if(s=r-a,h||!(s<0)){if(s/=h,h<0){if(s>c)return;s>l&&(l=s)}else if(h>0){if(s<l)return;s<c&&(c=s)}if(s=i-u,f||!(s>0)){if(s/=f,f<0){if(s<l)return;s<c&&(c=s)}else if(f>0){if(s>c)return;s>l&&(l=s)}if(s=o-u,f||!(s<0)){if(s/=f,f<0){if(s>c)return;s>l&&(l=s)}else if(f>0){if(s<l)return;s<c&&(c=s)}return l>0&&(t[0]=a+l*h,t[1]=u+l*f),c<1&&(e[0]=a+c*h,e[1]=u+c*f),!0}}}}}(u,E,t,e,n,i)?a&&(x.lineStart(),x.point(o,s),y=!1):(v||(x.lineStart(),x.point(u[0],u[1])),x.point(E[0],E[1]),a||x.lineEnd(),y=!1)}p=o,g=s,v=a}return b}}var Te,Me,Ie,Pe=function(){var t,e,n,i=0,r=0,o=960,s=500;return n={stream:function(n){return t&&e===n?t:t=Fe(i,r,o,s)(e=n)},extent:function(a){return arguments.length?(i=+a[0][0],r=+a[0][1],o=+a[1][0],s=+a[1][1],t=e=null,n):[[i,r],[o,s]]}}},Oe=i(),Be={sphere:F,point:F,lineStart:function(){Be.point=ke,Be.lineEnd=Ne},lineEnd:F,polygonStart:F,polygonEnd:F};function Ne(){Be.point=Be.lineEnd=F}function ke(t,e){Te=t*=d,Me=C(e*=d),Ie=m(e),Be.point=Re}function Re(t,e){t*=d;var n=C(e*=d),i=m(e),r=p(t-Te),o=m(r),s=i*C(r),a=Ie*n-Me*i*o,u=Me*n+Ie*i*o;Oe.add(v(_(s*s+a*a),u)),Te=t,Me=n,Ie=i}var je=function(t){return Oe.reset(),V(t,Be),+Oe},Ve=[null,null],Ge={type:"LineString",coordinates:Ve},ze=function(t,e){return Ve[0]=t,Ve[1]=e,je(Ge)},qe={Feature:function(t,e){return Xe(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)if(Xe(n[i].geometry,e))return!0;return!1}},Ue={Sphere:function(){return!0},Point:function(t,e){return He(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(He(n[i],e))return!0;return!1},LineString:function(t,e){return Ye(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(Ye(n[i],e))return!0;return!1},Polygon:function(t,e){return We(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(We(n[i],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)if(Xe(n[i],e))return!0;return!1}};function Xe(t,e){return!(!t||!Ue.hasOwnProperty(t.type))&&Ue[t.type](t,e)}function He(t,e){return 0===ze(t,e)}function Ye(t,e){for(var n,i,r,o=0,s=t.length;o<s;o++){if(0===(i=ze(t[o],e)))return!0;if(o>0&&(r=ze(t[o],t[o-1]))>0&&n<=r&&i<=r&&(n+i-r)*(1-Math.pow((n-i)/r,2))<1e-12*r)return!0;n=i}return!1}function We(t,e){return!!me(t.map(Je),Ke(e))}function Je(t){return(t=t.map(Ke)).pop(),t}function Ke(t){return[t[0]*d,t[1]*d]}var Ze=function(t,e){return(t&&qe.hasOwnProperty(t.type)?qe[t.type]:Xe)(t,e)};function $e(t,e,n){var i=Ce(t,e-a,n).concat(e);return function(t){return i.map((function(e){return[t,e]}))}}function Qe(t,e,n){var i=Ce(t,e-a,n).concat(e);return function(t){return i.map((function(e){return[e,t]}))}}function tn(){var t,e,n,i,r,o,s,u,l,c,h,f,d=10,g=d,v=90,m=360,x=2.5;function E(){return{type:"MultiLineString",coordinates:b()}}function b(){return Ce(y(i/v)*v,n,v).map(h).concat(Ce(y(u/m)*m,s,m).map(f)).concat(Ce(y(e/d)*d,t,d).filter((function(t){return p(t%v)>a})).map(l)).concat(Ce(y(o/g)*g,r,g).filter((function(t){return p(t%m)>a})).map(c))}return E.lines=function(){return b().map((function(t){return{type:"LineString",coordinates:t}}))},E.outline=function(){return{type:"Polygon",coordinates:[h(i).concat(f(s).slice(1),h(n).reverse().slice(1),f(u).reverse().slice(1))]}},E.extent=function(t){return arguments.length?E.extentMajor(t).extentMinor(t):E.extentMinor()},E.extentMajor=function(t){return arguments.length?(i=+t[0][0],n=+t[1][0],u=+t[0][1],s=+t[1][1],i>n&&(t=i,i=n,n=t),u>s&&(t=u,u=s,s=t),E.precision(x)):[[i,u],[n,s]]},E.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],o=+n[0][1],r=+n[1][1],e>t&&(n=e,e=t,t=n),o>r&&(n=o,o=r,r=n),E.precision(x)):[[e,o],[t,r]]},E.step=function(t){return arguments.length?E.stepMajor(t).stepMinor(t):E.stepMinor()},E.stepMajor=function(t){return arguments.length?(v=+t[0],m=+t[1],E):[v,m]},E.stepMinor=function(t){return arguments.length?(d=+t[0],g=+t[1],E):[d,g]},E.precision=function(a){return arguments.length?(x=+a,l=$e(o,r,90),c=Qe(e,t,x),h=$e(u,s,90),f=Qe(i,n,x),E):x},E.extentMajor([[-180,-90+a],[180,90-a]]).extentMinor([[-180,-80-a],[180,80+a]])}function en(){return tn()()}var nn,rn,on,sn,an=function(t,e){var n=t[0]*d,i=t[1]*d,r=e[0]*d,o=e[1]*d,s=m(i),a=C(i),u=m(o),l=C(o),c=s*m(n),h=s*C(n),p=u*m(r),g=u*C(r),y=2*D(_(L(o-i)+s*u*L(r-n))),x=C(y),E=y?function(t){var e=C(t*=y)/x,n=C(y-t)/x,i=n*c+e*p,r=n*h+e*g,o=n*a+e*l;return[v(r,i)*f,v(o,_(i*i+r*r))*f]}:function(){return[n*f,i*f]};return E.distance=y,E},un=function(t){return t},ln=i(),cn=i(),hn={point:F,lineStart:F,lineEnd:F,polygonStart:function(){hn.lineStart=fn,hn.lineEnd=gn},polygonEnd:function(){hn.lineStart=hn.lineEnd=hn.point=F,ln.add(p(cn)),cn.reset()},result:function(){var t=ln/2;return ln.reset(),t}};function fn(){hn.point=dn}function dn(t,e){hn.point=pn,nn=on=t,rn=sn=e}function pn(t,e){cn.add(sn*t-on*e),on=t,sn=e}function gn(){pn(nn,rn)}var vn=hn,mn=1/0,yn=mn,xn=-mn,En=xn;var bn,Cn,wn,_n,An={point:function(t,e){t<mn&&(mn=t);t>xn&&(xn=t);e<yn&&(yn=e);e>En&&(En=e)},lineStart:F,lineEnd:F,polygonStart:F,polygonEnd:F,result:function(){var t=[[mn,yn],[xn,En]];return xn=En=-(yn=mn=1/0),t}},Sn=0,Dn=0,Ln=0,Fn=0,Tn=0,Mn=0,In=0,Pn=0,On=0,Bn={point:Nn,lineStart:kn,lineEnd:Vn,polygonStart:function(){Bn.lineStart=Gn,Bn.lineEnd=zn},polygonEnd:function(){Bn.point=Nn,Bn.lineStart=kn,Bn.lineEnd=Vn},result:function(){var t=On?[In/On,Pn/On]:Mn?[Fn/Mn,Tn/Mn]:Ln?[Sn/Ln,Dn/Ln]:[NaN,NaN];return Sn=Dn=Ln=Fn=Tn=Mn=In=Pn=On=0,t}};function Nn(t,e){Sn+=t,Dn+=e,++Ln}function kn(){Bn.point=Rn}function Rn(t,e){Bn.point=jn,Nn(wn=t,_n=e)}function jn(t,e){var n=t-wn,i=e-_n,r=_(n*n+i*i);Fn+=r*(wn+t)/2,Tn+=r*(_n+e)/2,Mn+=r,Nn(wn=t,_n=e)}function Vn(){Bn.point=Nn}function Gn(){Bn.point=qn}function zn(){Un(bn,Cn)}function qn(t,e){Bn.point=Un,Nn(bn=wn=t,Cn=_n=e)}function Un(t,e){var n=t-wn,i=e-_n,r=_(n*n+i*i);Fn+=r*(wn+t)/2,Tn+=r*(_n+e)/2,Mn+=r,In+=(r=_n*t-wn*e)*(wn+t),Pn+=r*(_n+e),On+=3*r,Nn(wn=t,_n=e)}var Xn=Bn;function Hn(t){this._context=t}Hn.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,h)}},result:F};var Yn,Wn,Jn,Kn,Zn,$n=i(),Qn={point:F,lineStart:function(){Qn.point=ti},lineEnd:function(){Yn&&ei(Wn,Jn),Qn.point=F},polygonStart:function(){Yn=!0},polygonEnd:function(){Yn=null},result:function(){var t=+$n;return $n.reset(),t}};function ti(t,e){Qn.point=ei,Wn=Kn=t,Jn=Zn=e}function ei(t,e){Kn-=t,Zn-=e,$n.add(_(Kn*Kn+Zn*Zn)),Kn=t,Zn=e}var ni=Qn;function ii(){this._string=[]}function ri(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}ii.prototype={_radius:4.5,_circle:ri(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=ri(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var oi=function(t,e){var n,i,r=4.5;function o(t){return t&&("function"==typeof r&&i.pointRadius(+r.apply(this,arguments)),V(t,n(i))),i.result()}return o.area=function(t){return V(t,n(vn)),vn.result()},o.measure=function(t){return V(t,n(ni)),ni.result()},o.bounds=function(t){return V(t,n(An)),An.result()},o.centroid=function(t){return V(t,n(Xn)),Xn.result()},o.projection=function(e){return arguments.length?(n=null==e?(t=null,un):(t=e).stream,o):t},o.context=function(t){return arguments.length?(i=null==t?(e=null,new ii):new Hn(e=t),"function"!=typeof r&&i.pointRadius(r),o):e},o.pointRadius=function(t){return arguments.length?(r="function"==typeof t?t:(i.pointRadius(+t),+t),o):r},o.projection(t).context(e)},si=function(t){return{stream:ai(t)}};function ai(t){return function(e){var n=new ui;for(var i in t)n[i]=t[i];return n.stream=e,n}}function ui(){}function li(t,e,n){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=i&&t.clipExtent(null),V(n,t.stream(An)),e(An.result()),null!=i&&t.clipExtent(i),t}function ci(t,e,n){return li(t,(function(n){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],o=Math.min(i/(n[1][0]-n[0][0]),r/(n[1][1]-n[0][1])),s=+e[0][0]+(i-o*(n[1][0]+n[0][0]))/2,a=+e[0][1]+(r-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([s,a])}),n)}function hi(t,e,n){return ci(t,[[0,0],e],n)}function fi(t,e,n){return li(t,(function(n){var i=+e,r=i/(n[1][0]-n[0][0]),o=(i-r*(n[1][0]+n[0][0]))/2,s=-r*n[0][1];t.scale(150*r).translate([o,s])}),n)}function di(t,e,n){return li(t,(function(n){var i=+e,r=i/(n[1][1]-n[0][1]),o=-r*n[0][0],s=(i-r*(n[1][1]+n[0][1]))/2;t.scale(150*r).translate([o,s])}),n)}ui.prototype={constructor:ui,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var pi=m(30*d),gi=function(t,e){return+e?function(t,e){function n(i,r,o,s,u,l,c,h,f,d,g,m,y,x){var E=c-i,b=h-r,C=E*E+b*b;if(C>4*e&&y--){var w=s+d,A=u+g,S=l+m,L=_(w*w+A*A+S*S),F=D(S/=L),T=p(p(S)-1)<a||p(o-f)<a?(o+f)/2:v(A,w),M=t(T,F),I=M[0],P=M[1],O=I-i,B=P-r,N=b*O-E*B;(N*N/C>e||p((E*O+b*B)/C-.5)>.3||s*d+u*g+l*m<pi)&&(n(i,r,o,s,u,l,I,P,T,w/=L,A/=L,S,y,x),x.point(I,P),n(I,P,T,w,A,S,c,h,f,d,g,m,y,x))}}return function(e){var i,r,o,s,a,u,l,c,h,f,d,p,g={point:v,lineStart:m,lineEnd:x,polygonStart:function(){e.polygonStart(),g.lineStart=E},polygonEnd:function(){e.polygonEnd(),g.lineStart=m}};function v(n,i){n=t(n,i),e.point(n[0],n[1])}function m(){c=NaN,g.point=y,e.lineStart()}function y(i,r){var o=K([i,r]),s=t(i,r);n(c,h,l,f,d,p,c=s[0],h=s[1],l=i,f=o[0],d=o[1],p=o[2],16,e),e.point(c,h)}function x(){g.point=v,e.lineEnd()}function E(){m(),g.point=b,g.lineEnd=C}function b(t,e){y(i=t,e),r=c,o=h,s=f,a=d,u=p,g.point=y}function C(){n(c,h,l,f,d,p,r,o,i,s,a,u,16,e),g.lineEnd=x,x()}return g}}(t,e):function(t){return ai({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)};var vi=ai({point:function(t,e){this.stream.point(t*d,e*d)}});function mi(t,e,n,i,r){function o(o,s){return[e+t*(o*=i),n-t*(s*=r)]}return o.invert=function(o,s){return[(o-e)/t*i,(n-s)/t*r]},o}function yi(t,e,n,i,r,o){var s=m(o),a=C(o),u=s*t,l=a*t,c=s/t,h=a/t,f=(a*n-s*e)/t,d=(a*e+s*n)/t;function p(t,o){return[u*(t*=i)-l*(o*=r)+e,n-l*t-u*o]}return p.invert=function(t,e){return[i*(c*t-h*e+f),r*(d-h*t-c*e)]},p}function xi(t){return Ei((function(){return t}))()}function Ei(t){var e,n,i,r,o,s,a,u,l,c,h=150,p=480,g=250,v=0,m=0,y=0,x=0,E=0,b=0,C=1,w=1,A=null,S=De,D=null,L=un,F=.5;function T(t){return u(t[0]*d,t[1]*d)}function M(t){return(t=u.invert(t[0],t[1]))&&[t[0]*f,t[1]*f]}function I(){var t=yi(h,0,0,C,w,b).apply(null,e(v,m)),i=(b?yi:mi)(h,p-t[0],g-t[1],C,w,b);return n=ne(y,x,E),a=te(e,i),u=te(n,a),s=gi(a,F),P()}function P(){return l=c=null,T}return T.stream=function(t){return l&&c===t?l:l=vi(function(t){return ai({point:function(e,n){var i=t(e,n);return this.stream.point(i[0],i[1])}})}(n)(S(s(L(c=t)))))},T.preclip=function(t){return arguments.length?(S=t,A=void 0,P()):S},T.postclip=function(t){return arguments.length?(L=t,D=i=r=o=null,P()):L},T.clipAngle=function(t){return arguments.length?(S=+t?Le(A=t*d):(A=null,De),P()):A*f},T.clipExtent=function(t){return arguments.length?(L=null==t?(D=i=r=o=null,un):Fe(D=+t[0][0],i=+t[0][1],r=+t[1][0],o=+t[1][1]),P()):null==D?null:[[D,i],[r,o]]},T.scale=function(t){return arguments.length?(h=+t,I()):h},T.translate=function(t){return arguments.length?(p=+t[0],g=+t[1],I()):[p,g]},T.center=function(t){return arguments.length?(v=t[0]%360*d,m=t[1]%360*d,I()):[v*f,m*f]},T.rotate=function(t){return arguments.length?(y=t[0]%360*d,x=t[1]%360*d,E=t.length>2?t[2]%360*d:0,I()):[y*f,x*f,E*f]},T.angle=function(t){return arguments.length?(b=t%360*d,I()):b*f},T.reflectX=function(t){return arguments.length?(C=t?-1:1,I()):C<0},T.reflectY=function(t){return arguments.length?(w=t?-1:1,I()):w<0},T.precision=function(t){return arguments.length?(s=gi(a,F=t*t),P()):_(F)},T.fitExtent=function(t,e){return ci(T,t,e)},T.fitSize=function(t,e){return hi(T,t,e)},T.fitWidth=function(t,e){return fi(T,t,e)},T.fitHeight=function(t,e){return di(T,t,e)},function(){return e=t.apply(this,arguments),T.invert=e.invert&&M,I()}}function bi(t){var e=0,n=u/3,i=Ei(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*d,n=t[1]*d):[e*f,n*f]},r}function Ci(t,e){var n=C(t),i=(n+C(e))/2;if(p(i)<a)return function(t){var e=m(t);function n(t,n){return[t*e,C(n)/e]}return n.invert=function(t,n){return[t/e,D(n*e)]},n}(t);var r=1+n*(2*i-n),o=_(r)/i;function s(t,e){var n=_(r-2*i*C(e))/i;return[n*C(t*=i),o-n*m(t)]}return s.invert=function(t,e){var n=o-e,s=v(t,p(n))*w(n);return n*i<0&&(s-=u*w(t)*w(n)),[s/i,D((r-(t*t+n*n)*i*i)/(2*i))]},s}var wi=function(){return bi(Ci).scale(155.424).center([0,33.6442])},_i=function(){return wi().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};var Ai=function(){var t,e,n,i,r,o,s=_i(),u=wi().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=wi().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){o=[t,e]}};function h(t){var e=t[0],s=t[1];return o=null,n.point(e,s),o||(i.point(e,s),o)||(r.point(e,s),o)}function f(){return t=e=null,h}return h.invert=function(t){var e=s.scale(),n=s.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&r<.234&&i>=-.425&&i<-.214?u:r>=.166&&r<.234&&i>=-.214&&i<-.115?l:s).invert(t)},h.stream=function(n){return t&&e===n?t:(i=[s.stream(e=n),u.stream(n),l.stream(n)],r=i.length,t={point:function(t,e){for(var n=-1;++n<r;)i[n].point(t,e)},sphere:function(){for(var t=-1;++t<r;)i[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)i[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)i[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)i[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)i[t].polygonEnd()}});var i,r},h.precision=function(t){return arguments.length?(s.precision(t),u.precision(t),l.precision(t),f()):s.precision()},h.scale=function(t){return arguments.length?(s.scale(t),u.scale(.35*t),l.scale(t),h.translate(s.translate())):s.scale()},h.translate=function(t){if(!arguments.length)return s.translate();var e=s.scale(),o=+t[0],h=+t[1];return n=s.translate(t).clipExtent([[o-.455*e,h-.238*e],[o+.455*e,h+.238*e]]).stream(c),i=u.translate([o-.307*e,h+.201*e]).clipExtent([[o-.425*e+a,h+.12*e+a],[o-.214*e-a,h+.234*e-a]]).stream(c),r=l.translate([o-.205*e,h+.212*e]).clipExtent([[o-.214*e+a,h+.166*e+a],[o-.115*e-a,h+.234*e-a]]).stream(c),f()},h.fitExtent=function(t,e){return ci(h,t,e)},h.fitSize=function(t,e){return hi(h,t,e)},h.fitWidth=function(t,e){return fi(h,t,e)},h.fitHeight=function(t,e){return di(h,t,e)},h.scale(1070)};function Si(t){return function(e,n){var i=m(e),r=m(n),o=t(i*r);return[o*r*C(e),o*C(n)]}}function Di(t){return function(e,n){var i=_(e*e+n*n),r=t(i),o=C(r),s=m(r);return[v(e*o,i*s),D(i&&n*o/i)]}}var Li=Si((function(t){return _(2/(1+t))}));Li.invert=Di((function(t){return 2*D(t/2)}));var Fi=function(){return xi(Li).scale(124.75).clipAngle(179.999)},Ti=Si((function(t){return(t=S(t))&&t/C(t)}));Ti.invert=Di((function(t){return t}));var Mi=function(){return xi(Ti).scale(79.4188).clipAngle(179.999)};function Ii(t,e){return[t,E(A((l+e)/2))]}Ii.invert=function(t,e){return[t,2*g(x(e))-l]};var Pi=function(){return Oi(Ii).scale(961/h)};function Oi(t){var e,n,i,r=xi(t),o=r.center,s=r.scale,a=r.translate,l=r.clipExtent,c=null;function h(){var o=u*s(),a=r(se(r.rotate()).invert([0,0]));return l(null==c?[[a[0]-o,a[1]-o],[a[0]+o,a[1]+o]]:t===Ii?[[Math.max(a[0]-o,c),e],[Math.min(a[0]+o,n),i]]:[[c,Math.max(a[1]-o,e)],[n,Math.min(a[1]+o,i)]])}return r.scale=function(t){return arguments.length?(s(t),h()):s()},r.translate=function(t){return arguments.length?(a(t),h()):a()},r.center=function(t){return arguments.length?(o(t),h()):o()},r.clipExtent=function(t){return arguments.length?(null==t?c=e=n=i=null:(c=+t[0][0],e=+t[0][1],n=+t[1][0],i=+t[1][1]),h()):null==c?null:[[c,e],[n,i]]},h()}function Bi(t){return A((l+t)/2)}function Ni(t,e){var n=m(t),i=t===e?C(t):E(n/m(e))/E(Bi(e)/Bi(t)),r=n*b(Bi(t),i)/i;if(!i)return Ii;function o(t,e){r>0?e<-l+a&&(e=-l+a):e>l-a&&(e=l-a);var n=r/b(Bi(e),i);return[n*C(i*t),r-n*m(i*t)]}return o.invert=function(t,e){var n=r-e,o=w(i)*_(t*t+n*n),s=v(t,p(n))*w(n);return n*i<0&&(s-=u*w(t)*w(n)),[s/i,2*g(b(r/o,1/i))-l]},o}var ki=function(){return bi(Ni).scale(109.5).parallels([30,30])};function Ri(t,e){return[t,e]}Ri.invert=Ri;var ji=function(){return xi(Ri).scale(152.63)};function Vi(t,e){var n=m(t),i=t===e?C(t):(n-m(e))/(e-t),r=n/i+t;if(p(i)<a)return Ri;function o(t,e){var n=r-e,o=i*t;return[n*C(o),r-n*m(o)]}return o.invert=function(t,e){var n=r-e,o=v(t,p(n))*w(n);return n*i<0&&(o-=u*w(t)*w(n)),[o/i,r-w(i)*_(t*t+n*n)]},o}var Gi=function(){return bi(Vi).scale(131.154).center([0,13.9389])},zi=1.340264,qi=-.081106,Ui=893e-6,Xi=.003796,Hi=_(3)/2;function Yi(t,e){var n=D(Hi*C(e)),i=n*n,r=i*i*i;return[t*m(n)/(Hi*(zi+3*qi*i+r*(7*Ui+9*Xi*i))),n*(zi+qi*i+r*(Ui+Xi*i))]}Yi.invert=function(t,e){for(var n,i=e,r=i*i,o=r*r*r,s=0;s<12&&(o=(r=(i-=n=(i*(zi+qi*r+o*(Ui+Xi*r))-e)/(zi+3*qi*r+o*(7*Ui+9*Xi*r)))*i)*r*r,!(p(n)<1e-12));++s);return[Hi*t*(zi+3*qi*r+o*(7*Ui+9*Xi*r))/m(i),D(C(i)/Hi)]};var Wi=function(){return xi(Yi).scale(177.158)};function Ji(t,e){var n=m(e),i=m(t)*n;return[n*C(t)/i,C(e)/i]}Ji.invert=Di(g);var Ki=function(){return xi(Ji).scale(144.049).clipAngle(60)},Zi=function(){var t,e,n,i,r,o,s,a=1,u=0,l=0,c=1,h=1,p=0,g=null,v=1,y=1,x=ai({point:function(t,e){var n=w([t,e]);this.stream.point(n[0],n[1])}}),E=un;function b(){return v=a*c,y=a*h,o=s=null,w}function w(n){var i=n[0]*v,r=n[1]*y;if(p){var o=r*t-i*e;i=i*t+r*e,r=o}return[i+u,r+l]}return w.invert=function(n){var i=n[0]-u,r=n[1]-l;if(p){var o=r*t+i*e;i=i*t-r*e,r=o}return[i/v,r/y]},w.stream=function(t){return o&&s===t?o:o=x(E(s=t))},w.postclip=function(t){return arguments.length?(E=t,g=n=i=r=null,b()):E},w.clipExtent=function(t){return arguments.length?(E=null==t?(g=n=i=r=null,un):Fe(g=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),b()):null==g?null:[[g,n],[i,r]]},w.scale=function(t){return arguments.length?(a=+t,b()):a},w.translate=function(t){return arguments.length?(u=+t[0],l=+t[1],b()):[u,l]},w.angle=function(n){return arguments.length?(e=C(p=n%360*d),t=m(p),b()):p*f},w.reflectX=function(t){return arguments.length?(c=t?-1:1,b()):c<0},w.reflectY=function(t){return arguments.length?(h=t?-1:1,b()):h<0},w.fitExtent=function(t,e){return ci(w,t,e)},w.fitSize=function(t,e){return hi(w,t,e)},w.fitWidth=function(t,e){return fi(w,t,e)},w.fitHeight=function(t,e){return di(w,t,e)},w};function $i(t,e){var n=e*e,i=n*n;return[t*(.8707-.131979*n+i*(i*(.003971*n-.001529*i)-.013791)),e*(1.007226+n*(.015085+i*(.028874*n-.044475-.005916*i)))]}$i.invert=function(t,e){var n,i=e,r=25;do{var o=i*i,s=o*o;i-=n=(i*(1.007226+o*(.015085+s*(.028874*o-.044475-.005916*s)))-e)/(1.007226+o*(.045255+s*(.259866*o-.311325-.005916*11*s)))}while(p(n)>a&&--r>0);return[t/(.8707+(o=i*i)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),i]};var Qi=function(){return xi($i).scale(175.295)};function tr(t,e){return[m(e)*C(t),C(e)]}tr.invert=Di(D);var er=function(){return xi(tr).scale(249.5).clipAngle(90+a)};function nr(t,e){var n=m(e),i=1+m(t)*n;return[n*C(t)/i,C(e)/i]}nr.invert=Di((function(t){return 2*g(t)}));var ir=function(){return xi(nr).scale(250).clipAngle(142)};function rr(t,e){return[E(A((l+e)/2)),-t]}rr.invert=function(t,e){return[-e,2*g(x(t))-l]};var or=function(){var t=Oi(rr),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)}},function(t,e,n){"use strict";n.r(e),n.d(e,"topology",(function(){return m}));var i=Object.prototype.hasOwnProperty,r=function(t,e,n,i,r,o){3===arguments.length&&(i=o=Array,r=null);for(var s=new i(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),a=new o(t),u=t-1,l=0;l<t;++l)s[l]=r;function c(i,o){for(var l=e(i)&u,c=s[l],h=0;c!=r;){if(n(c,i))return a[l]=o;if(++h>=t)throw new Error("full hashmap");c=s[l=l+1&u]}return s[l]=i,a[l]=o,o}function h(i,o){for(var l=e(i)&u,c=s[l],h=0;c!=r;){if(n(c,i))return a[l];if(++h>=t)throw new Error("full hashmap");c=s[l=l+1&u]}return s[l]=i,a[l]=o,o}function f(i,o){for(var l=e(i)&u,c=s[l],h=0;c!=r;){if(n(c,i))return a[l];if(++h>=t)break;c=s[l=l+1&u]}return o}function d(){for(var t=[],e=0,n=s.length;e<n;++e){var i=s[e];i!=r&&t.push(i)}return t}return{set:c,maybeSet:h,get:f,keys:d}},o=function(t,e){return t[0]===e[0]&&t[1]===e[1]},s=new ArrayBuffer(16),a=new Float64Array(s),u=new Uint32Array(s),l=function(t){a[0]=t[0],a[1]=t[1];var e=u[0]^u[1];return 2147483647&(e=e<<5^e>>7^u[2]^u[3])},c=function(t){var e,n,i,s,a=t.coordinates,u=t.lines,c=t.rings,h=function(){for(var t=r(1.4*a.length,_,A,Int32Array,-1,Int32Array),e=new Int32Array(a.length),n=0,i=a.length;n<i;++n)e[n]=t.maybeSet(n,n);return e}(),f=new Int32Array(a.length),d=new Int32Array(a.length),p=new Int32Array(a.length),g=new Int8Array(a.length),v=0;for(e=0,n=a.length;e<n;++e)f[e]=d[e]=p[e]=-1;for(e=0,n=u.length;e<n;++e){var m=u[e],y=m[0],x=m[1];for(i=h[y],s=h[++y],++v,g[i]=1;++y<=x;)w(e,i,i=s,s=h[y]);++v,g[s]=1}for(e=0,n=a.length;e<n;++e)f[e]=-1;for(e=0,n=c.length;e<n;++e){var E=c[e],b=E[0]+1,C=E[1];for(w(e,h[C-1],i=h[b-1],s=h[b]);++b<=C;)w(e,i,i=s,s=h[b])}function w(t,e,n,i){if(f[n]!==t){f[n]=t;var r=d[n];if(r>=0){var o=p[n];r===e&&o===i||r===i&&o===e||(++v,g[n]=1)}else d[n]=e,p[n]=i}}function _(t){return l(a[t])}function A(t,e){return o(a[t],a[e])}f=d=p=null;var S,D=function(t,e,n,i,r){3===arguments.length&&(i=Array,r=null);for(var o=new i(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),s=t-1,a=0;a<t;++a)o[a]=r;function u(i){for(var a=e(i)&s,u=o[a],l=0;u!=r;){if(n(u,i))return!0;if(++l>=t)throw new Error("full hashset");u=o[a=a+1&s]}return o[a]=i,!0}function l(i){for(var a=e(i)&s,u=o[a],l=0;u!=r;){if(n(u,i))return!0;if(++l>=t)break;u=o[a=a+1&s]}return!1}function c(){for(var t=[],e=0,n=o.length;e<n;++e){var i=o[e];i!=r&&t.push(i)}return t}return{add:u,has:l,values:c}}(1.4*v,l,o);for(e=0,n=a.length;e<n;++e)g[S=h[e]]&&D.add(a[S]);return D};function h(t,e,n,i){f(t,e,n),f(t,e,e+i),f(t,e+i,n)}function f(t,e,n){for(var i,r=e+(n---e>>1);e<r;++e,--n)i=t[e],t[e]=t[n],t[n]=i}var d=function(t){var e,n,i={};for(e in t)i[e]=null==(n=t[e])?{type:null}:("FeatureCollection"===n.type?p:"Feature"===n.type?g:v)(n);return i};function p(t){var e={type:"GeometryCollection",geometries:t.features.map(g)};return null!=t.bbox&&(e.bbox=t.bbox),e}function g(t){var e,n=v(t.geometry);for(e in null!=t.id&&(n.id=t.id),null!=t.bbox&&(n.bbox=t.bbox),t.properties){n.properties=t.properties;break}return n}function v(t){if(null==t)return{type:null};var e="GeometryCollection"===t.type?{type:"GeometryCollection",geometries:t.geometries.map(v)}:"Point"===t.type||"MultiPoint"===t.type?{type:t.type,coordinates:t.coordinates}:{type:t.type,arcs:t.coordinates};return null!=t.bbox&&(e.bbox=t.bbox),e}var m=function(t,e){var n=function(t){var e=1/0,n=1/0,r=-1/0,o=-1/0;function s(t){null!=t&&i.call(a,t.type)&&a[t.type](t)}var a={GeometryCollection:function(t){t.geometries.forEach(s)},Point:function(t){u(t.coordinates)},MultiPoint:function(t){t.coordinates.forEach(u)},LineString:function(t){l(t.arcs)},MultiLineString:function(t){t.arcs.forEach(l)},Polygon:function(t){t.arcs.forEach(l)},MultiPolygon:function(t){t.arcs.forEach(c)}};function u(t){var i=t[0],s=t[1];i<e&&(e=i),i>r&&(r=i),s<n&&(n=s),s>o&&(o=s)}function l(t){t.forEach(u)}function c(t){t.forEach(l)}for(var h in t)s(t[h]);return r>=e&&o>=n?[e,n,r,o]:void 0}(t=d(t)),s=e>0&&n&&function(t,e,n){var r=e[0],o=e[1],s=e[2],a=e[3],u=s-r?(n-1)/(s-r):1,l=a-o?(n-1)/(a-o):1;function c(t){return[Math.round((t[0]-r)*u),Math.round((t[1]-o)*l)]}function h(t,e){for(var n,i,s,a,c,h=-1,f=0,d=t.length,p=new Array(d);++h<d;)n=t[h],a=Math.round((n[0]-r)*u),c=Math.round((n[1]-o)*l),a===i&&c===s||(p[f++]=[i=a,s=c]);for(p.length=f;f<e;)f=p.push([p[0][0],p[0][1]]);return p}function f(t){return h(t,2)}function d(t){return h(t,4)}function p(t){return t.map(d)}function g(t){null!=t&&i.call(v,t.type)&&v[t.type](t)}var v={GeometryCollection:function(t){t.geometries.forEach(g)},Point:function(t){t.coordinates=c(t.coordinates)},MultiPoint:function(t){t.coordinates=t.coordinates.map(c)},LineString:function(t){t.arcs=f(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(f)},Polygon:function(t){t.arcs=p(t.arcs)},MultiPolygon:function(t){t.arcs=t.arcs.map(p)}};for(var m in t)g(t[m]);return{scale:[1/u,1/l],translate:[r,o]}}(t,n,e),a=function(t){var e,n,i,s,a=t.coordinates,u=t.lines,c=t.rings,h=u.length+c.length;for(delete t.lines,delete t.rings,i=0,s=u.length;i<s;++i)for(e=u[i];e=e.next;)++h;for(i=0,s=c.length;i<s;++i)for(n=c[i];n=n.next;)++h;var f=r(2*h*1.4,l,o),d=t.arcs=[];for(i=0,s=u.length;i<s;++i){e=u[i];do{p(e)}while(e=e.next)}for(i=0,s=c.length;i<s;++i)if((n=c[i]).next)do{p(n)}while(n=n.next);else g(n);function p(t){var e,n,i,r,o,s,u,l;if(i=f.get(e=a[t[0]]))for(u=0,l=i.length;u<l;++u)if(v(r=i[u],t))return t[0]=r[0],void(t[1]=r[1]);if(o=f.get(n=a[t[1]]))for(u=0,l=o.length;u<l;++u)if(m(s=o[u],t))return t[1]=s[0],void(t[0]=s[1]);i?i.push(t):f.set(e,[t]),o?o.push(t):f.set(n,[t]),d.push(t)}function g(t){var e,n,i,r,o;if(n=f.get(a[t[0]]))for(r=0,o=n.length;r<o;++r){if(y(i=n[r],t))return t[0]=i[0],void(t[1]=i[1]);if(x(i,t))return t[0]=i[1],void(t[1]=i[0])}if(n=f.get(e=a[t[0]+E(t)]))for(r=0,o=n.length;r<o;++r){if(y(i=n[r],t))return t[0]=i[0],void(t[1]=i[1]);if(x(i,t))return t[0]=i[1],void(t[1]=i[0])}n?n.push(t):f.set(e,[t]),d.push(t)}function v(t,e){var n=t[0],i=e[0],r=t[1];if(n-r!=i-e[1])return!1;for(;n<=r;++n,++i)if(!o(a[n],a[i]))return!1;return!0}function m(t,e){var n=t[0],i=e[0],r=t[1],s=e[1];if(n-r!=i-s)return!1;for(;n<=r;++n,--s)if(!o(a[n],a[s]))return!1;return!0}function y(t,e){var n=t[0],i=e[0],r=t[1]-n;if(r!==e[1]-i)return!1;for(var s=E(t),u=E(e),l=0;l<r;++l)if(!o(a[n+(l+s)%r],a[i+(l+u)%r]))return!1;return!0}function x(t,e){var n=t[0],i=e[0],r=t[1],s=e[1],u=r-n;if(u!==s-i)return!1;for(var l=E(t),c=u-E(e),h=0;h<u;++h)if(!o(a[n+(h+l)%u],a[s-(h+c)%u]))return!1;return!0}function E(t){for(var e=t[0],n=t[1],i=e,r=i,o=a[i];++i<n;){var s=a[i];(s[0]<o[0]||s[0]===o[0]&&s[1]<o[1])&&(r=i,o=s)}return r-e}return t}(function(t){var e,n,i,r=c(t),o=t.coordinates,s=t.lines,a=t.rings;for(n=0,i=s.length;n<i;++n)for(var u=s[n],l=u[0],f=u[1];++l<f;)r.has(o[l])&&(e={0:l,1:u[1]},u[1]=l,u=u.next=e);for(n=0,i=a.length;n<i;++n)for(var d=a[n],p=d[0],g=p,v=d[1],m=r.has(o[p]);++g<v;)r.has(o[g])&&(m?(e={0:g,1:d[1]},d[1]=g,d=d.next=e):(h(o,p,v,v-g),o[v]=o[p],m=!0,g=p));return t}(function(t){var e=-1,n=[],r=[],o=[];function s(t){t&&i.call(a,t.type)&&a[t.type](t)}var a={GeometryCollection:function(t){t.geometries.forEach(s)},LineString:function(t){t.arcs=u(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(u)},Polygon:function(t){t.arcs=t.arcs.map(l)},MultiPolygon:function(t){t.arcs=t.arcs.map(c)}};function u(t){for(var i=0,r=t.length;i<r;++i)o[++e]=t[i];var s={0:e-r+1,1:e};return n.push(s),s}function l(t){for(var n=0,i=t.length;n<i;++n)o[++e]=t[n];var s={0:e-i+1,1:e};return r.push(s),s}function c(t){return t.map(l)}for(var h in t)s(t[h]);return{type:"Topology",coordinates:o,lines:n,rings:r,objects:t}}(t))),u=a.coordinates,f=r(1.4*a.arcs.length,y,x);function p(t){t&&i.call(g,t.type)&&g[t.type](t)}t=a.objects,a.bbox=n,a.arcs=a.arcs.map((function(t,e){return f.set(t,e),u.slice(t[0],t[1]+1)})),delete a.coordinates,u=null;var g={GeometryCollection:function(t){t.geometries.forEach(p)},LineString:function(t){t.arcs=v(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(v)},Polygon:function(t){t.arcs=t.arcs.map(v)},MultiPolygon:function(t){t.arcs=t.arcs.map(m)}};function v(t){var e=[];do{var n=f.get(t);e.push(t[0]<t[1]?n:~n)}while(t=t.next);return e}function m(t){return t.map(v)}for(var E in t)p(t[E]);return s&&(a.transform=s,a.arcs=function(t){for(var e=-1,n=t.length;++e<n;){for(var i,r,o=t[e],s=0,a=1,u=o.length,l=o[0],c=l[0],h=l[1];++s<u;)i=(l=o[s])[0],r=l[1],i===c&&r===h||(o[a++]=[i-c,r-h],c=i,h=r);1===a&&(o[a++]=[0,0]),o.length=a}return t}(a.arcs)),a};function y(t){var e,n=t[0],i=t[1];return i<n&&(e=n,n=i,i=e),n+31*i}function x(t,e){var n,i=t[0],r=t[1],o=e[0],s=e[1];return r<i&&(n=i,i=r,r=n),s<o&&(n=o,o=s,s=n),i===o&&r===s}},function(t,e,n){"use strict";n.r(e),n.d(e,"bbox",(function(){return o})),n.d(e,"feature",(function(){return s})),n.d(e,"mesh",(function(){return c})),n.d(e,"meshArcs",(function(){return h})),n.d(e,"merge",(function(){return d})),n.d(e,"mergeArcs",(function(){return p})),n.d(e,"neighbors",(function(){return v})),n.d(e,"quantize",(function(){return y})),n.d(e,"transform",(function(){return r})),n.d(e,"untransform",(function(){return m}));var i=function(t){return t},r=function(t){if(null==t)return i;var e,n,r=t.scale[0],o=t.scale[1],s=t.translate[0],a=t.translate[1];return function(t,i){i||(e=n=0);var u=2,l=t.length,c=new Array(l);for(c[0]=(e+=t[0])*r+s,c[1]=(n+=t[1])*o+a;u<l;)c[u]=t[u],++u;return c}},o=function(t){var e,n=r(t.transform),i=1/0,o=i,s=-i,a=-i;function u(t){(t=n(t))[0]<i&&(i=t[0]),t[0]>s&&(s=t[0]),t[1]<o&&(o=t[1]),t[1]>a&&(a=t[1])}function l(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(l);break;case"Point":u(t.coordinates);break;case"MultiPoint":t.coordinates.forEach(u)}}for(e in t.arcs.forEach((function(t){for(var e,r=-1,u=t.length;++r<u;)(e=n(t[r],r))[0]<i&&(i=e[0]),e[0]>s&&(s=e[0]),e[1]<o&&(o=e[1]),e[1]>a&&(a=e[1])})),t.objects)l(t.objects[e]);return[i,o,s,a]},s=function(t,e){return"string"==typeof e&&(e=t.objects[e]),"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map((function(e){return a(t,e)}))}:a(t,e)};function a(t,e){var n=e.id,i=e.bbox,r=null==e.properties?{}:e.properties,o=u(t,e);return null==n&&null==i?{type:"Feature",properties:r,geometry:o}:null==i?{type:"Feature",id:n,properties:r,geometry:o}:{type:"Feature",id:n,bbox:i,properties:r,geometry:o}}function u(t,e){var n=r(t.transform),i=t.arcs;function o(t,e){e.length&&e.pop();for(var r=i[t<0?~t:t],o=0,s=r.length;o<s;++o)e.push(n(r[o],o));t<0&&function(t,e){for(var n,i=t.length,r=i-e;r<--i;)n=t[r],t[r++]=t[i],t[i]=n}(e,s)}function s(t){return n(t)}function a(t){for(var e=[],n=0,i=t.length;n<i;++n)o(t[n],e);return e.length<2&&e.push(e[0]),e}function u(t){for(var e=a(t);e.length<4;)e.push(e[0]);return e}function l(t){return t.map(u)}return function t(e){var n,i=e.type;switch(i){case"GeometryCollection":return{type:i,geometries:e.geometries.map(t)};case"Point":n=s(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(s);break;case"LineString":n=a(e.arcs);break;case"MultiLineString":n=e.arcs.map(a);break;case"Polygon":n=l(e.arcs);break;case"MultiPolygon":n=e.arcs.map(l);break;default:return null}return{type:i,coordinates:n}}(e)}var l=function(t,e){var n={},i={},r={},o=[],s=-1;function a(t,e){for(var i in t){var r=t[i];delete e[r.start],delete r.start,delete r.end,r.forEach((function(t){n[t<0?~t:t]=1})),o.push(r)}}return e.forEach((function(n,i){var r,o=t.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(r=e[++s],e[s]=n,e[i]=r)})),e.forEach((function(e){var n,o,s=function(e){var n,i=t.arcs[e<0?~e:e],r=i[0];t.transform?(n=[0,0],i.forEach((function(t){n[0]+=t[0],n[1]+=t[1]}))):n=i[i.length-1];return e<0?[n,r]:[r,n]}(e),a=s[0],u=s[1];if(n=r[a])if(delete r[n.end],n.push(e),n.end=u,o=i[u]){delete i[o.start];var l=o===n?n:n.concat(o);i[l.start=n.start]=r[l.end=o.end]=l}else i[n.start]=r[n.end]=n;else if(n=i[u])if(delete i[n.start],n.unshift(e),n.start=a,o=r[a]){delete r[o.end];var c=o===n?n:o.concat(n);i[c.start=o.start]=r[c.end=n.end]=c}else i[n.start]=r[n.end]=n;else i[(n=[e]).start=a]=r[n.end=u]=n})),a(r,i),a(i,r),e.forEach((function(t){n[t<0?~t:t]||o.push([t])})),o},c=function(t){return u(t,h.apply(this,arguments))};function h(t,e,n){var i,r,o;if(arguments.length>1)i=f(t,e,n);else for(r=0,i=new Array(o=t.arcs.length);r<o;++r)i[r]=r;return{type:"MultiLineString",arcs:l(t,i)}}function f(t,e,n){var i,r=[],o=[];function s(t){var e=t<0?~t:t;(o[e]||(o[e]=[])).push({i:t,g:i})}function a(t){t.forEach(s)}function u(t){t.forEach(a)}return function t(e){switch(i=e,e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"LineString":a(e.arcs);break;case"MultiLineString":case"Polygon":u(e.arcs);break;case"MultiPolygon":!function(t){t.forEach(u)}(e.arcs)}}(e),o.forEach(null==n?function(t){r.push(t[0].i)}:function(t){n(t[0].g,t[t.length-1].g)&&r.push(t[0].i)}),r}var d=function(t){return u(t,p.apply(this,arguments))};function p(t,e){var n={},i=[],r=[];function o(t){t.forEach((function(e){e.forEach((function(e){(n[e=e<0?~e:e]||(n[e]=[])).push(t)}))})),i.push(t)}function s(e){return function(t){for(var e,n=-1,i=t.length,r=t[i-1],o=0;++n<i;)e=r,r=t[n],o+=e[0]*r[1]-e[1]*r[0];return Math.abs(o)}(u(t,{type:"Polygon",arcs:[e]}).coordinates[0])}return e.forEach((function t(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"Polygon":o(e.arcs);break;case"MultiPolygon":e.arcs.forEach(o)}})),i.forEach((function(t){if(!t._){var e=[],i=[t];for(t._=1,r.push(e);t=i.pop();)e.push(t),t.forEach((function(t){t.forEach((function(t){n[t<0?~t:t].forEach((function(t){t._||(t._=1,i.push(t))}))}))}))}})),i.forEach((function(t){delete t._})),{type:"MultiPolygon",arcs:r.map((function(e){var i,r=[];if(e.forEach((function(t){t.forEach((function(t){t.forEach((function(t){n[t<0?~t:t].length<2&&r.push(t)}))}))})),(i=(r=l(t,r)).length)>1)for(var o,a,u=1,c=s(r[0]);u<i;++u)(o=s(r[u]))>c&&(a=r[0],r[0]=r[u],r[u]=a,c=o);return r})).filter((function(t){return t.length>0}))}}var g=function(t,e){for(var n=0,i=t.length;n<i;){var r=n+i>>>1;t[r]<e?n=r+1:i=r}return n},v=function(t){var e={},n=t.map((function(){return[]}));function i(t,n){t.forEach((function(t){t<0&&(t=~t);var i=e[t];i?i.push(n):e[t]=[n]}))}function r(t,e){t.forEach((function(t){i(t,e)}))}var o={LineString:i,MultiLineString:r,Polygon:r,MultiPolygon:function(t,e){t.forEach((function(t){r(t,e)}))}};for(var s in t.forEach((function t(e,n){"GeometryCollection"===e.type?e.geometries.forEach((function(e){t(e,n)})):e.type in o&&o[e.type](e.arcs,n)})),e)for(var a=e[s],u=a.length,l=0;l<u;++l)for(var c=l+1;c<u;++c){var h,f=a[l],d=a[c];(h=n[f])[s=g(h,d)]!==d&&h.splice(s,0,d),(h=n[d])[s=g(h,f)]!==f&&h.splice(s,0,f)}return n},m=function(t){if(null==t)return i;var e,n,r=t.scale[0],o=t.scale[1],s=t.translate[0],a=t.translate[1];return function(t,i){i||(e=n=0);var u=2,l=t.length,c=new Array(l),h=Math.round((t[0]-s)/r),f=Math.round((t[1]-a)/o);for(c[0]=h-e,e=h,c[1]=f-n,n=f;u<l;)c[u]=t[u],++u;return c}},y=function(t,e){if(t.transform)throw new Error("already quantized");if(e&&e.scale)u=t.bbox;else{if(!((n=Math.floor(e))>=2))throw new Error("n must be 2");var n,i=(u=t.bbox||o(t))[0],r=u[1],s=u[2],a=u[3];e={scale:[s-i?(s-i)/(n-1):1,a-r?(a-r)/(n-1):1],translate:[i,r]}}var u,l,c=m(e),h=t.objects,f={};function d(t){return c(t)}function p(t){var e;switch(t.type){case"GeometryCollection":e={type:"GeometryCollection",geometries:t.geometries.map(p)};break;case"Point":e={type:"Point",coordinates:d(t.coordinates)};break;case"MultiPoint":e={type:"MultiPoint",coordinates:t.coordinates.map(d)};break;default:return t}return null!=t.id&&(e.id=t.id),null!=t.bbox&&(e.bbox=t.bbox),null!=t.properties&&(e.properties=t.properties),e}for(l in h)f[l]=p(h[l]);return{type:"Topology",bbox:u,transform:e,objects:f,arcs:t.arcs.map((function(t){var e,n=0,i=1,r=t.length,o=new Array(r);for(o[0]=c(t[0],0);++n<r;)((e=c(t[n],n))[0]||e[1])&&(o[i++]=e);return 1===i&&(o[i++]=[0,0]),o.length=i,o}))}}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return s}));function i(t){return!!t&&t.constructor===Object}function r(t){if(!t)throw new Error("coords is required");if("Feature"===t.type&&null!==t.geometry)return t.geometry.coordinates;if(t.coordinates)return t.coordinates;if(Array.isArray(t))return t;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function o(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length&&!1!==e(t.features[n],n);n++);}function s(t,e){if(!i(e=e||{}))throw new Error("options is invalid");var n=e.zProperty||"elevation",s=e.flip,a=e.flags;!function(t,e,n){if(!t)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var i=0;i<t.features.length;i++){var r=t.features[i];if(!r||"Feature"!==r.type||!r.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!r.geometry||r.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+r.geometry.type)}}(t,"Point","input must contain Points");for(var u=function(t,e){var n={};return o(t,(function(t){var e=r(t)[1];n[e]||(n[e]=[]),n[e].push(t)})),Object.keys(n).map((function(t){return n[t].sort((function(t,e){return r(t)[0]-r(e)[0]}))})).sort((function(t,n){return e?r(t[0])[1]-r(n[0])[1]:r(n[0])[1]-r(t[0])[1]}))}(t,s),l=[],c=0;c<u.length;c++){for(var h=u[c],f=[],d=0;d<h.length;d++){var p=h[d];p.properties[n]?f.push(p.properties[n]):f.push(0),!0===a&&(p.properties.matrixPosition=[c,d])}l.push(f)}return l}},function(t,e,n){"use strict";function i(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}function r(t){return t.type===i.Bytes?t.readVarint()+t.pos:t.pos+1}function o(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function s(t,e,n){var i=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.ceil(Math.log(e)/(7*Math.LN2));n.realloc(i);for(var r=n.pos-1;r>=t;r--)n.buf[r+i]=n.buf[r]}function a(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function u(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function l(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function c(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function h(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function f(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function d(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function p(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function g(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function v(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function m(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function y(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}function x(t,e){this.x=t,this.y=e}function E(t,e,n,i,r){this.properties={},this.extent=n,this.type=0,this._pbf=t,this._geometry=-1,this._keys=i,this._values=r,t.readFields(b,this,e)}function b(t,e,n){1==t?e.id=n.readVarint():2==t?function(t,e){for(var n=t.readVarint()+t.pos;t.pos<n;){var i=e._keys[t.readVarint()],r=e._values[t.readVarint()];e.properties[i]=r}}(n,e):3==t?e.type=n.readVarint():4==t&&(e._geometry=n.pos)}function C(t){for(var e,n,i=0,r=0,o=t.length,s=o-1;r<o;s=r++)e=t[r],i+=((n=t[s]).x-e.x)*(e.y+n.y);return i}function w(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(_,this,e),this.length=this._features.length}function _(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e._features.push(n.pos):3===t?e._keys.push(n.readString()):4===t&&e._values.push(function(t){for(var e=null,n=t.readVarint()+t.pos;t.pos<n;){var i=t.readVarint()>>3;e=1===i?t.readString():2===i?t.readFloat():3===i?t.readDouble():4===i?t.readVarint64():5===i?t.readVarint():6===i?t.readSVarint():7===i?t.readBoolean():null}return e}(n))}function A(t,e,n){if(3===t){var i=new O(n,n.readVarint()+n.pos);i.length&&(e[i.name]=i)}}!function(t){function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!=typeof t&&(t=String(t)),t}function i(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return p.iterable&&(e[Symbol.iterator]=function(){return e}),e}function r(t){this.map={},t instanceof r?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function o(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function s(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function a(t){var e=new FileReader,n=s(e);return e.readAsArrayBuffer(t),n}function u(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function l(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(p.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(p.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(p.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(p.arrayBuffer&&p.blob&&v(t))this._bodyArrayBuffer=u(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!p.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!m(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=u(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):p.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},p.blob&&(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(a)}),this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=s(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),i=0;i<e.length;i++)n[i]=String.fromCharCode(e[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},p.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function c(t,e){var n=(e=e||{}).body;if(t instanceof c){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new r(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new r(e.headers)),this.method=function(t){var e=t.toUpperCase();return y.indexOf(e)>-1?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function h(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(r))}})),e}function f(t){var e=new r;return t.split(/\r?\n/).forEach((function(t){var n=t.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();e.append(i,r)}})),e}function d(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new r(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var p={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(p.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],v=function(t){return t&&DataView.prototype.isPrototypeOf(t)},m=ArrayBuffer.isView||function(t){return t&&g.indexOf(Object.prototype.toString.call(t))>-1};r.prototype.append=function(t,i){t=e(t),i=n(i);var r=this.map[t];this.map[t]=r?r+","+i:i},r.prototype.delete=function(t){delete this.map[e(t)]},r.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},r.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},r.prototype.set=function(t,i){this.map[e(t)]=n(i)},r.prototype.forEach=function(t,e){var n=this;for(var i in this.map)n.map.hasOwnProperty(i)&&t.call(e,n.map[i],i,n)},r.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),i(t)},r.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),i(t)},r.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),i(t)},p.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];c.prototype.clone=function(){return new c(this,{body:this._bodyInit})},l.call(c.prototype),l.call(d.prototype),d.prototype.clone=function(){return new d(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},d.error=function(){var t=new d(null,{status:0,statusText:""});return t.type="error",t};var x=[301,302,303,307,308];d.redirect=function(t,e){if(-1===x.indexOf(e))throw new RangeError("Invalid status code");return new d(null,{status:e,headers:{location:t}})},t.Headers=r,t.Request=c,t.Response=d,t.fetch=function(t,e){return new Promise((function(n,i){var r=new c(t,e),o=new XMLHttpRequest;o.onload=function(){var t={status:o.status,statusText:o.statusText,headers:f(o.getAllResponseHeaders()||"")};t.url="responseURL"in o?o.responseURL:t.headers.get("X-Request-URL");var e="response"in o?o.response:o.responseText;n(new d(e,t))},o.onerror=function(){i(new TypeError("Network request failed"))},o.ontimeout=function(){i(new TypeError("Network request failed"))},o.open(r.method,r.url,!0),"include"===r.credentials&&(o.withCredentials=!0),"responseType"in o&&p.blob&&(o.responseType="blob"),r.headers.forEach((function(t,e){o.setRequestHeader(e,t)})),o.send(void 0===r._bodyInit?null:r._bodyInit)}))},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:void 0);var S=i,D={read:function(t,e,n,i,r){var o,s,a=8*r-i-1,u=(1<<a)-1,l=u>>1,c=-7,h=n?r-1:0,f=n?-1:1,d=t[e+h];for(h+=f,o=d&(1<<-c)-1,d>>=-c,c+=a;c>0;o=256*o+t[e+h],h+=f,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=i;c>0;s=256*s+t[e+h],h+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,i),o-=l}return(d?-1:1)*s*Math.pow(2,o-i)},write:function(t,e,n,i,r,o){var s,a,u,l=8*o-r-1,c=(1<<l)-1,h=c>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:o-1,p=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(e*u-1)*Math.pow(2,r),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,r),s=0));r>=8;t[n+d]=255&a,d+=p,a/=256,r-=8);for(s=s<<r|a,l+=r;l>0;t[n+d]=255&s,d+=p,s/=256,l-=8);t[n+d-p]|=128*g}};i.Varint=0,i.Fixed64=1,i.Bytes=2,i.Fixed32=5;i.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){var i=this;for(n=n||this.length;this.pos<n;){var r=i.readVarint(),o=r>>3,s=i.pos;i.type=7&r,t(o,e,i),i.pos===s&&i.skip(r)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=v(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=y(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=v(this.buf,this.pos)+4294967296*v(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=v(this.buf,this.pos)+4294967296*y(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=D.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=D.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,n,i=this.buf;return e=127&(n=i[this.pos++]),n<128?e:(e|=(127&(n=i[this.pos++]))<<7,n<128?e:(e|=(127&(n=i[this.pos++]))<<14,n<128?e:(e|=(127&(n=i[this.pos++]))<<21,n<128?e:function(t,e,n){var i,r,s=n.buf;if(i=(112&(r=s[n.pos++]))>>4,r<128)return o(t,i,e);if(i|=(127&(r=s[n.pos++]))<<3,r<128)return o(t,i,e);if(i|=(127&(r=s[n.pos++]))<<10,r<128)return o(t,i,e);if(i|=(127&(r=s[n.pos++]))<<17,r<128)return o(t,i,e);if(i|=(127&(r=s[n.pos++]))<<24,r<128)return o(t,i,e);if(i|=(1&(r=s[n.pos++]))<<31,r<128)return o(t,i,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(n=i[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=function(t,e,n){for(var i="",r=e;r<n;){var o,s,a,u=t[r],l=null,c=u>239?4:u>223?3:u>191?2:1;if(r+c>n)break;1===c?u<128&&(l=u):2===c?128==(192&(o=t[r+1]))&&(l=(31&u)<<6|63&o)<=127&&(l=null):3===c?(o=t[r+1],s=t[r+2],128==(192&o)&&128==(192&s)&&((l=(15&u)<<12|(63&o)<<6|63&s)<=2047||l>=55296&&l<=57343)&&(l=null)):4===c&&(o=t[r+1],s=t[r+2],a=t[r+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&((l=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)<=65535||l>=1114112)&&(l=null)),null===l?(l=65533,c=1):l>65535&&(l-=65536,i+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),i+=String.fromCharCode(l),r+=c}return i}(this.buf,this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){var n=r(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){var e=r(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){var e=r(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){var e=r(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){var e=r(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){var e=r(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){var e=r(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){var e=r(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){var e=r(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===i.Varint)for(;this.buf[this.pos++]>127;);else if(e===i.Bytes)this.pos=this.readVarint()+this.pos;else if(e===i.Fixed32)this.pos+=4;else{if(e!==i.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),m(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),m(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),m(this.buf,-1&t,this.pos),m(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),m(this.buf,-1&t,this.pos),m(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var n,i;if(t>=0?(n=t%4294967296|0,i=t/4294967296|0):(i=~(-t/4294967296),4294967295^(n=~(-t%4294967296))?n=n+1|0:(n=0,i=i+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,n){n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos]=127&t}(n,0,e),function(t,e){var n=(7&t)<<4;e.buf[e.pos++]|=n|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}(i,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,n){for(var i,r,o=0;o<e.length;o++){if((i=e.charCodeAt(o))>55295&&i<57344){if(!r){i>56319||o+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):r=i;continue}if(i<56320){t[n++]=239,t[n++]=191,t[n++]=189,r=i;continue}i=r-55296<<10|i-56320|65536,r=null}else r&&(t[n++]=239,t[n++]=191,t[n++]=189,r=null);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:(i<65536?t[n++]=i>>12|224:(t[n++]=i>>18|240,t[n++]=i>>12&63|128),t[n++]=i>>6&63|128),t[n++]=63&i|128)}return n}(this.buf,t,this.pos);var n=this.pos-e;n>=128&&s(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),D.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),D.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var i=this.pos-n;i>=128&&s(n,i,this),this.pos=n-1,this.writeVarint(i),this.pos+=i},writeMessage:function(t,e,n){this.writeTag(t,i.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){this.writeMessage(t,a,e)},writePackedSVarint:function(t,e){this.writeMessage(t,u,e)},writePackedBoolean:function(t,e){this.writeMessage(t,h,e)},writePackedFloat:function(t,e){this.writeMessage(t,l,e)},writePackedDouble:function(t,e){this.writeMessage(t,c,e)},writePackedFixed32:function(t,e){this.writeMessage(t,f,e)},writePackedSFixed32:function(t,e){this.writeMessage(t,d,e)},writePackedFixed64:function(t,e){this.writeMessage(t,p,e)},writePackedSFixed64:function(t,e){this.writeMessage(t,g,e)},writeBytesField:function(t,e){this.writeTag(t,i.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,i.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,i.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,i.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,i.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,i.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,i.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,i.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,i.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,i.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}};var F=x;x.prototype={clone:function(){return new x(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,n=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=n,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),n=Math.sin(t),i=e*this.x-n*this.y,r=n*this.x+e*this.y;return this.x=i,this.y=r,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},x.convert=function(t){return t instanceof x?t:Array.isArray(t)?new x(t[0],t[1]):t};var T=F,M=E;E.types=["Unknown","Point","LineString","Polygon"],E.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,n=t.readVarint()+t.pos,i=1,r=0,o=0,s=0,a=[];t.pos<n;){if(!r){var u=t.readVarint();i=7&u,r=u>>3}if(r--,1===i||2===i)o+=t.readSVarint(),s+=t.readSVarint(),1===i&&(e&&a.push(e),e=[]),e.push(new T(o,s));else{if(7!==i)throw new Error("unknown command "+i);e&&e.push(e[0].clone())}}return e&&a.push(e),a},E.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,n=1,i=0,r=0,o=0,s=1/0,a=-1/0,u=1/0,l=-1/0;t.pos<e;){if(!i){var c=t.readVarint();n=7&c,i=c>>3}if(i--,1===n||2===n)(r+=t.readSVarint())<s&&(s=r),r>a&&(a=r),(o+=t.readSVarint())<u&&(u=o),o>l&&(l=o);else if(7!==n)throw new Error("unknown command "+n)}return[s,u,a,l]},E.prototype.toGeoJSON=function(t,e,n){function i(t){for(var e=0;e<t.length;e++){var n=t[e],i=180-360*(n.y+u)/s;t[e]=[360*(n.x+a)/s-180,360/Math.PI*Math.atan(Math.exp(i*Math.PI/180))-90]}}var r,o,s=this.extent*Math.pow(2,n),a=this.extent*t,u=this.extent*e,l=this.loadGeometry(),c=E.types[this.type];switch(this.type){case 1:var h=[];for(r=0;r<l.length;r++)h[r]=l[r][0];i(l=h);break;case 2:for(r=0;r<l.length;r++)i(l[r]);break;case 3:for(l=function(t){var e=t.length;if(e<=1)return[t];for(var n,i,r=[],o=0;o<e;o++){var s=C(t[o]);0!==s&&(void 0===i&&(i=s<0),i===s<0?(n&&r.push(n),n=[t[o]]):n.push(t[o]))}return n&&r.push(n),r}(l),r=0;r<l.length;r++)for(o=0;o<l[r].length;o++)i(l[r][o])}1===l.length?l=l[0]:c="Multi"+c;var f={type:"Feature",geometry:{type:c,coordinates:l},properties:this.properties};return"id"in this&&(f.id=this.id),f};var I=M,P=w;w.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new I(this._pbf,e,this.extent,this._keys,this._values)};var O=P,B=function(t,e){this.layers=t.readFields(A,{},e)};L.SVG.Tile=L.SVG.extend({initialize:function(t,e,n){L.SVG.prototype.initialize.call(this,n),this._tileCoord=t,this._size=e,this._initContainer(),this._container.setAttribute("width",this._size.x),this._container.setAttribute("height",this._size.y),this._container.setAttribute("viewBox",[0,0,this._size.x,this._size.y].join(" ")),this._layers={}},getCoord:function(){return this._tileCoord},getContainer:function(){return this._container},onAdd:L.Util.falseFn,addTo:function(t){if(this._map=t,this.options.interactive)for(var e in this._layers){var n=this._layers[e];n._path.style.pointerEvents="auto",this._map._targets[L.stamp(n._path)]=n}},removeFrom:function(t){if(this.options.interactive)for(var e in this._layers){var n=this._layers[e];delete this._map._targets[L.stamp(n._path)]}delete this._map},_initContainer:function(){L.SVG.prototype._initContainer.call(this),L.SVG.create("rect")},_addPath:function(t){this._rootGroup.appendChild(t._path),this._layers[L.stamp(t)]=t},_updateIcon:function(t){var e=t._path=L.SVG.create("image"),n=t.options.icon.options,i=L.point(n.iconSize),r=n.iconAnchor||i&&i.divideBy(2,!0),o=t._point.subtract(r);e.setAttribute("x",o.x),e.setAttribute("y",o.y),e.setAttribute("width",i.x+"px"),e.setAttribute("height",i.y+"px"),e.setAttribute("href",n.iconUrl)}}),L.svg.tile=function(t,e,n){return new L.SVG.Tile(t,e,n)};var N=L.Class.extend({render:function(t,e){this._renderer=t,this.options=e,t._initPath(this),t._updateStyle(this)},updateStyle:function(t,e){this.options=e,t._updateStyle(this)},_getPixelBounds:function(){for(var t=this._parts,e=L.bounds([]),n=0;n<t.length;n++)for(var i=t[n],r=0;r<i.length;r++)e.extend(i[r]);var o=this._clickTolerance(),s=new L.Point(o,o);return e.min._subtract(s),e.max._add(s),e},_clickTolerance:L.Path.prototype._clickTolerance}),k={_makeFeatureParts:function(t,e){var n,i=t.geometry;this._parts=[];for(var r=0;r<i.length;r++){for(var o=i[r],s=[],a=0;a<o.length;a++)n=o[a],s.push(L.point(n).scaleBy(e));this._parts.push(s)}},makeInteractive:function(){this._pxBounds=this._getPixelBounds()}},R=L.CircleMarker.extend({includes:N.prototype,statics:{iconCache:{}},initialize:function(t,e){this.properties=t.properties,this._makeFeatureParts(t,e)},render:function(t,e){N.prototype.render.call(this,t,e),this._radius=e.radius||L.CircleMarker.prototype.options.radius,this._updatePath()},_makeFeatureParts:function(t,e){var n=t.geometry[0];"object"==typeof n[0]&&"x"in n[0]?(this._point=L.point(n[0]).scaleBy(e),this._empty=L.Util.falseFn):(this._point=L.point(n).scaleBy(e),this._empty=L.Util.falseFn)},makeInteractive:function(){this._updateBounds()},updateStyle:function(t,e){return this._radius=e.radius||this._radius,this._updateBounds(),N.prototype.updateStyle.call(this,t,e)},_updateBounds:function(){var t=this.options.icon;if(t){var e=L.point(t.options.iconSize),n=t.options.iconAnchor||e&&e.divideBy(2,!0),i=this._point.subtract(n);this._pxBounds=new L.Bounds(i,i.add(t.options.iconSize))}else L.CircleMarker.prototype._updateBounds.call(this)},_updatePath:function(){this.options.icon?this._renderer._updateIcon(this):L.CircleMarker.prototype._updatePath.call(this)},_getImage:function(){if(this.options.icon){var t=this.options.icon.options.iconUrl,e=R.iconCache[t];if(!e){var n=this.options.icon;e=R.iconCache[t]=n.createIcon()}return e}return null},_containsPoint:function(t){return this.options.icon?this._pxBounds.contains(t):L.CircleMarker.prototype._containsPoint.call(this,t)}}),j=L.Polyline.extend({includes:[N.prototype,k],initialize:function(t,e){this.properties=t.properties,this._makeFeatureParts(t,e)},render:function(t,e){e.fill=!1,N.prototype.render.call(this,t,e),this._updatePath()},updateStyle:function(t,e){e.fill=!1,N.prototype.updateStyle.call(this,t,e)}}),V=L.Polygon.extend({includes:[N.prototype,k],initialize:function(t,e){this.properties=t.properties,this._makeFeatureParts(t,e)},render:function(t,e){N.prototype.render.call(this,t,e),this._updatePath()}});L.VectorGrid=L.GridLayer.extend({options:{rendererFactory:L.svg.tile,vectorTileLayerStyles:{},interactive:!1},initialize:function(t){L.setOptions(this,t),L.GridLayer.prototype.initialize.apply(this,arguments),this.options.getFeatureId&&(this._vectorTiles={},this._overriddenStyles={},this.on("tileunload",(function(t){var e=this._tileCoordsToKey(t.coords),n=this._vectorTiles[e];n&&this._map&&n.removeFrom(this._map),delete this._vectorTiles[e]}),this)),this._dataLayerNames={}},createTile:function(t,e){var n=this.options.getFeatureId,i=this.getTileSize(),r=this.options.rendererFactory(t,i,this.options),o=this._getVectorTilePromise(t);return n&&(this._vectorTiles[this._tileCoordsToKey(t)]=r,r._features={}),o.then(function(i){for(var o in i.layers){this._dataLayerNames[o]=!0;for(var s=i.layers[o],a=this.getTileSize().divideBy(s.extent),u=this.options.vectorTileLayerStyles[o]||L.Path.prototype.options,l=0;l<s.features.length;l++){var c,h=s.features[l],f=u;if(n){c=this.options.getFeatureId(h);var d=this._overriddenStyles[c];d&&(f=d[o]?d[o]:d)}if(f instanceof Function&&(f=f(h.properties,t.z)),f instanceof Array||(f=[f]),f.length){for(var p=this._createLayer(h,a),g=0;g<f.length;g++){var v=L.extend({},L.Path.prototype.options,f[g]);p.render(r,v),r._addPath(p)}this.options.interactive&&p.makeInteractive(),n&&(r._features[c]={layerName:o,feature:p})}}}null!=this._map&&r.addTo(this._map),L.Util.requestAnimFrame(e.bind(t,null,null))}.bind(this)),r.getContainer()},setFeatureStyle:function(t,e){for(var n in this._overriddenStyles[t]=e,this._vectorTiles){var i=this._vectorTiles[n],r=i._features[t];if(r){var o=r.feature,s=e;e[r.layerName]&&(s=e[r.layerName]),this._updateStyles(o,i,s)}}return this},resetFeatureStyle:function(t){for(var e in delete this._overriddenStyles[t],this._vectorTiles){var n=this._vectorTiles[e],i=n._features[t];if(i){var r=i.feature,o=this.options.vectorTileLayerStyles[i.layerName]||L.Path.prototype.options;this._updateStyles(r,n,o)}}return this},getDataLayerNames:function(){return Object.keys(this._dataLayerNames)},_updateStyles:function(t,e,n){(n=n instanceof Function?n(t.properties,e.getCoord().z):n)instanceof Array||(n=[n]);for(var i=0;i<n.length;i++){var r=L.extend({},L.Path.prototype.options,n[i]);t.updateStyle(e,r)}},_createLayer:function(t,e,n){var i;switch(t.type){case 1:i=new R(t,e);break;case 2:i=new j(t,e);break;case 3:i=new V(t,e)}return this.options.interactive&&i.addEventParent(this),i}}),L.vectorGrid=function(t){return new L.VectorGrid(t)},L.VectorGrid.Protobuf=L.VectorGrid.extend({options:{subdomains:"abc",fetchOptions:{}},initialize:function(t,e){this._url=t,L.VectorGrid.prototype.initialize.call(this,e)},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},_getSubdomain:L.TileLayer.prototype._getSubdomain,_getVectorTilePromise:function(t){var e={s:this._getSubdomain(t),x:t.x,y:t.y,z:t.z};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=n),e["-y"]=n}var i=L.Util.template(this._url,L.extend(e,this.options));return fetch(i,this.options.fetchOptions).then((function(t){return t.ok?t.blob().then((function(t){var e=new FileReader;return new Promise((function(n){e.addEventListener("loadend",(function(){var t=new S(e.result);return n(new B(t))})),e.readAsArrayBuffer(t)}))})):{layers:[]}})).then((function(t){for(var e in t.layers){for(var n=[],i=0;i<t.layers[e].length;i++){var r=t.layers[e].feature(i);r.geometry=r.loadGeometry(),n.push(r)}t.layers[e].features=n}return t}))}}),L.vectorGrid.protobuf=function(t,e){return new L.VectorGrid.Protobuf(t,e)};var G=function(t,e,n){try{return window.URL.createObjectURL(new Blob([Uint8Array.from(t.split("").map((function(t){return t.charCodeAt(0)})))],{type:e}))}catch(i){return"data:"+e+(n?";base64,":",")+t}}('"use strict";function simplify$1(e,t){var r,n,o,i,a=t*t,s=e.length,l=0,u=s-1,c=[];for(e[l][2]=1,e[u][2]=1;u;){for(n=0,r=l+1;r<u;r++)(o=getSqSegDist(e[r],e[l],e[u]))>n&&(i=r,n=o);n>a?(e[i][2]=n,c.push(l),c.push(i),l=i):(u=c.pop(),l=c.pop())}}function getSqSegDist(e,t,r){var n=t[0],o=t[1],i=r[0],a=r[1],s=e[0],l=e[1],u=i-n,c=a-o;if(0!==u||0!==c){var f=((s-n)*u+(l-o)*c)/(u*u+c*c);f>1?(n=i,o=a):f>0&&(n+=u*f,o+=c*f)}return u=s-n,c=l-o,u*u+c*c}function convert$1(e,t){var r=[];if("FeatureCollection"===e.type)for(var n=0;n<e.features.length;n++)convertFeature(r,e.features[n],t);else"Feature"===e.type?convertFeature(r,e,t):convertFeature(r,{geometry:e},t);return r}function convertFeature(e,t,r){if(null!==t.geometry){var n,o,i,a,s=t.geometry,l=s.type,u=s.coordinates,c=t.properties;if("Point"===l)e.push(create(c,1,[projectPoint(u)]));else if("MultiPoint"===l)e.push(create(c,1,project(u)));else if("LineString"===l)e.push(create(c,2,[project(u,r)]));else if("MultiLineString"===l||"Polygon"===l){for(i=[],n=0;n<u.length;n++)a=project(u[n],r),"Polygon"===l&&(a.outer=0===n),i.push(a);e.push(create(c,"Polygon"===l?3:2,i))}else if("MultiPolygon"===l){for(i=[],n=0;n<u.length;n++)for(o=0;o<u[n].length;o++)a=project(u[n][o],r),a.outer=0===o,i.push(a);e.push(create(c,3,i))}else{if("GeometryCollection"!==l)throw new Error("Input data is not a valid GeoJSON object.");for(n=0;n<s.geometries.length;n++)convertFeature(e,{geometry:s.geometries[n],properties:c},r)}}}function create(e,t,r){var n={geometry:r,type:t,tags:e||null,min:[2,1],max:[-1,0]};return calcBBox(n),n}function project(e,t){for(var r=[],n=0;n<e.length;n++)r.push(projectPoint(e[n]));return t&&(simplify(r,t),calcSize(r)),r}function projectPoint(e){var t=Math.sin(e[1]*Math.PI/180),r=e[0]/360+.5,n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n=n<0?0:n>1?1:n,[r,n,0]}function calcSize(e){for(var t,r,n=0,o=0,i=0;i<e.length-1;i++)t=r||e[i],r=e[i+1],n+=t[0]*r[1]-r[0]*t[1],o+=Math.abs(r[0]-t[0])+Math.abs(r[1]-t[1]);e.area=Math.abs(n/2),e.dist=o}function calcBBox(e){var t=e.geometry,r=e.min,n=e.max;if(1===e.type)calcRingBBox(r,n,t);else for(var o=0;o<t.length;o++)calcRingBBox(r,n,t[o]);return e}function calcRingBBox(e,t,r){for(var n,o=0;o<r.length;o++)n=r[o],e[0]=Math.min(n[0],e[0]),t[0]=Math.max(n[0],t[0]),e[1]=Math.min(n[1],e[1]),t[1]=Math.max(n[1],t[1])}function transformTile(e,t){if(e.transformed)return e;var r,n,o,i=e.z2,a=e.x,s=e.y;for(r=0;r<e.features.length;r++){var l=e.features[r],u=l.geometry;if(1===l.type)for(n=0;n<u.length;n++)u[n]=transformPoint(u[n],t,i,a,s);else for(n=0;n<u.length;n++){var c=u[n];for(o=0;o<c.length;o++)c[o]=transformPoint(c[o],t,i,a,s)}}return e.transformed=!0,e}function transformPoint(e,t,r,n,o){return[Math.round(t*(e[0]*r-n)),Math.round(t*(e[1]*r-o))]}function clip$1(e,t,r,n,o,i,a,s){if(r/=t,n/=t,a>=r&&s<=n)return e;if(a>n||s<r)return null;for(var l=[],u=0;u<e.length;u++){var c,f,p=e[u],h=p.geometry,m=p.type;if(c=p.min[o],f=p.max[o],c>=r&&f<=n)l.push(p);else if(!(c>n||f<r)){var g=1===m?clipPoints(h,r,n,o):clipGeometry(h,r,n,o,i,3===m);g.length&&l.push({geometry:g,type:m,tags:e[u].tags||null,min:p.min,max:p.max})}}return l.length?l:null}function clipPoints(e,t,r,n){for(var o=[],i=0;i<e.length;i++){var a=e[i],s=a[n];s>=t&&s<=r&&o.push(a)}return o}function clipGeometry(e,t,r,n,o,i){for(var a=[],s=0;s<e.length;s++){var l,u,c,f=0,p=0,h=null,m=e[s],g=m.area,d=m.dist,v=m.outer,y=m.length,x=[];for(u=0;u<y-1;u++)l=h||m[u],h=m[u+1],f=p||l[n],p=h[n],f<t?p>r?(x.push(o(l,h,t),o(l,h,r)),i||(x=newSlice(a,x,g,d,v))):p>=t&&x.push(o(l,h,t)):f>r?p<t?(x.push(o(l,h,r),o(l,h,t)),i||(x=newSlice(a,x,g,d,v))):p<=r&&x.push(o(l,h,r)):(x.push(l),p<t?(x.push(o(l,h,t)),i||(x=newSlice(a,x,g,d,v))):p>r&&(x.push(o(l,h,r)),i||(x=newSlice(a,x,g,d,v))));l=m[y-1],f=l[n],f>=t&&f<=r&&x.push(l),c=x[x.length-1],i&&c&&(x[0][0]!==c[0]||x[0][1]!==c[1])&&x.push(x[0]),newSlice(a,x,g,d,v)}return a}function newSlice(e,t,r,n,o){return t.length&&(t.area=r,t.dist=n,void 0!==o&&(t.outer=o),e.push(t)),[]}function wrap$1(e,t,r){var n=e,o=clip$2(e,1,-1-t,t,0,r,-1,2),i=clip$2(e,1,1-t,2+t,0,r,-1,2);return(o||i)&&(n=clip$2(e,1,-t,1+t,0,r,-1,2),o&&(n=shiftFeatureCoords(o,1).concat(n)),i&&(n=n.concat(shiftFeatureCoords(i,-1)))),n}function shiftFeatureCoords(e,t){for(var r=[],n=0;n<e.length;n++){var o,i=e[n],a=i.type;if(1===a)o=shiftCoords(i.geometry,t);else{o=[];for(var s=0;s<i.geometry.length;s++)o.push(shiftCoords(i.geometry[s],t))}r.push({geometry:o,type:a,tags:i.tags,min:[i.min[0]+t,i.min[1]],max:[i.max[0]+t,i.max[1]]})}return r}function shiftCoords(e,t){var r=[];r.area=e.area,r.dist=e.dist;for(var n=0;n<e.length;n++)r.push([e[n][0]+t,e[n][1],e[n][2]]);return r}function createTile$1(e,t,r,n,o,i){for(var a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:r,y:n,z2:t,transformed:!1,min:[2,1],max:[-1,0]},s=0;s<e.length;s++){a.numFeatures++,addFeature(a,e[s],o,i);var l=e[s].min,u=e[s].max;l[0]<a.min[0]&&(a.min[0]=l[0]),l[1]<a.min[1]&&(a.min[1]=l[1]),u[0]>a.max[0]&&(a.max[0]=u[0]),u[1]>a.max[1]&&(a.max[1]=u[1])}return a}function addFeature(e,t,r,n){var o,i,a,s,l=t.geometry,u=t.type,c=[],f=r*r;if(1===u)for(o=0;o<l.length;o++)c.push(l[o]),e.numPoints++,e.numSimplified++;else for(o=0;o<l.length;o++)if(a=l[o],n||!(2===u&&a.dist<r||3===u&&a.area<f)){var p=[];for(i=0;i<a.length;i++)s=a[i],(n||s[2]>f)&&(p.push(s),e.numSimplified++),e.numPoints++;3===u&&rewind(p,a.outer),c.push(p)}else e.numPoints+=a.length;c.length&&e.features.push({geometry:c,type:u,tags:t.tags||null})}function rewind(e,t){signedArea(e)<0===t&&e.reverse()}function signedArea(e){for(var t,r,n=0,o=0,i=e.length,a=i-1;o<i;a=o++)t=e[o],r=e[a],n+=(r[0]-t[0])*(t[1]+r[1]);return n}function geojsonvt(e,t){return new GeoJSONVT(e,t)}function GeoJSONVT(e,t){t=this.options=extend(Object.create(this.options),t);var r=t.debug;r&&console.time("preprocess data");var n=1<<t.maxZoom,o=convert(e,t.tolerance/(n*t.extent));this.tiles={},this.tileCoords=[],r&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),o=wrap(o,t.buffer/t.extent,intersectX),o.length&&this.splitTile(o,0,0,0),r&&(o.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function toID(e,t,r){return 32*((1<<e)*r+t)+e}function intersectX(e,t,r){return[r,(r-e[0])*(t[1]-e[1])/(t[0]-e[0])+e[1],1]}function intersectY(e,t,r){return[(r-e[1])*(t[0]-e[0])/(t[1]-e[1])+e[0],r,1]}function extend(e,t){for(var r in t)e[r]=t[r];return e}function isClippedSquare(e,t,r){var n=e.source;if(1!==n.length)return!1;var o=n[0];if(3!==o.type||o.geometry.length>1)return!1;var i=o.geometry[0].length;if(5!==i)return!1;for(var a=0;a<i;a++){var s=transform.point(o.geometry[0][a],t,e.z2,e.x,e.y);if(s[0]!==-r&&s[0]!==t+r||s[1]!==-r&&s[1]!==t+r)return!1}return!0}function feature$1(e,t){var r=t.id,n=t.bbox,o=null==t.properties?{}:t.properties,i=object(e,t);return null==r&&null==n?{type:"Feature",properties:o,geometry:i}:null==n?{type:"Feature",id:r,properties:o,geometry:i}:{type:"Feature",id:r,bbox:n,properties:o,geometry:i}}function object(e,t){function r(e,t){t.length&&t.pop();for(var r=u[e<0?~e:e],n=0,o=r.length;n<o;++n)t.push(l(r[n].slice(),n));e<0&&reverse(t,o)}function n(e){return l(e.slice())}function o(e){for(var t=[],n=0,o=e.length;n<o;++n)r(e[n],t);return t.length<2&&t.push(t[0].slice()),t}function i(e){for(var t=o(e);t.length<4;)t.push(t[0].slice());return t}function a(e){return e.map(i)}function s(e){var t,r=e.type;switch(r){case"GeometryCollection":return{type:r,geometries:e.geometries.map(s)};case"Point":t=n(e.coordinates);break;case"MultiPoint":t=e.coordinates.map(n);break;case"LineString":t=o(e.arcs);break;case"MultiLineString":t=e.arcs.map(o);break;case"Polygon":t=a(e.arcs);break;case"MultiPolygon":t=e.arcs.map(a);break;default:return null}return{type:r,coordinates:t}}var l=transform$3(e),u=e.arcs;return s(t)}function extractArcs(e,t,r){function n(e){var t=e<0?~e:e;(c[t]||(c[t]=[])).push({i:e,g:l})}function o(e){e.forEach(n)}function i(e){e.forEach(o)}function a(e){e.forEach(i)}function s(e){switch(l=e,e.type){case"GeometryCollection":e.geometries.forEach(s);break;case"LineString":o(e.arcs);break;case"MultiLineString":case"Polygon":i(e.arcs);break;case"MultiPolygon":a(e.arcs)}}var l,u=[],c=[];return s(t),c.forEach(null==r?function(e){u.push(e[0].i)}:function(e){r(e[0].g,e[e.length-1].g)&&u.push(e[0].i)}),u}function planarRingArea(e){for(var t,r=-1,n=e.length,o=e[n-1],i=0;++r<n;)t=o,o=e[r],i+=t[0]*o[1]-t[1]*o[0];return Math.abs(i)}var simplify_1=simplify$1,convert_1=convert$1,simplify=simplify_1,tile=transformTile,point=transformPoint,transform$1={tile:tile,point:point},clip_1=clip$1,clip$2=clip_1,wrap_1=wrap$1,tile$1=createTile$1,index=geojsonvt,convert=convert_1,transform=transform$1,clip=clip_1,wrap=wrap_1,createTile=tile$1;GeoJSONVT.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,solidChildren:!1,tolerance:3,extent:4096,buffer:64,debug:0},GeoJSONVT.prototype.splitTile=function(e,t,r,n,o,i,a){for(var s=this,l=[e,t,r,n],u=this.options,c=u.debug,f=null;l.length;){n=l.pop(),r=l.pop(),t=l.pop(),e=l.pop();var p=1<<t,h=toID(t,r,n),m=s.tiles[h],g=t===u.maxZoom?0:u.tolerance/(p*u.extent);if(!m&&(c>1&&console.time("creation"),m=s.tiles[h]=createTile(e,p,r,n,g,t===u.maxZoom),s.tileCoords.push({z:t,x:r,y:n}),c)){c>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,r,n,m.numFeatures,m.numPoints,m.numSimplified),console.timeEnd("creation"));var d="z"+t;s.stats[d]=(s.stats[d]||0)+1,s.total++}if(m.source=e,o){if(t===u.maxZoom||t===o)continue;var v=1<<o-t;if(r!==Math.floor(i/v)||n!==Math.floor(a/v))continue}else if(t===u.indexMaxZoom||m.numPoints<=u.indexMaxPoints)continue;if(u.solidChildren||!isClippedSquare(m,u.extent,u.buffer)){m.source=null,c>1&&console.time("clipping");var y,x,b,M,P,S,w=.5*u.buffer/u.extent,$=.5-w,C=.5+w,F=1+w;y=x=b=M=null,P=clip(e,p,r-w,r+C,0,intersectX,m.min[0],m.max[0]),S=clip(e,p,r+$,r+F,0,intersectX,m.min[0],m.max[0]),P&&(y=clip(P,p,n-w,n+C,1,intersectY,m.min[1],m.max[1]),x=clip(P,p,n+$,n+F,1,intersectY,m.min[1],m.max[1])),S&&(b=clip(S,p,n-w,n+C,1,intersectY,m.min[1],m.max[1]),M=clip(S,p,n+$,n+F,1,intersectY,m.min[1],m.max[1])),c>1&&console.timeEnd("clipping"),y&&l.push(y,t+1,2*r,2*n),x&&l.push(x,t+1,2*r,2*n+1),b&&l.push(b,t+1,2*r+1,2*n),M&&l.push(M,t+1,2*r+1,2*n+1)}else o&&(f=t)}return f},GeoJSONVT.prototype.getTile=function(e,t,r){var n=this,o=this.options,i=o.extent,a=o.debug,s=1<<e;t=(t%s+s)%s;var l=toID(e,t,r);if(this.tiles[l])return transform.tile(this.tiles[l],i);a>1&&console.log("drilling down to z%d-%d-%d",e,t,r);for(var u,c=e,f=t,p=r;!u&&c>0;)c--,f=Math.floor(f/2),p=Math.floor(p/2),u=n.tiles[toID(c,f,p)];if(!u||!u.source)return null;if(a>1&&console.log("found parent tile z%d-%d-%d",c,f,p),isClippedSquare(u,i,o.buffer))return transform.tile(u,i);a>1&&console.time("drilling down");var h=this.splitTile(u.source,c,f,p,e,t,r);if(a>1&&console.timeEnd("drilling down"),null!==h){var m=1<<e-h;l=toID(h,Math.floor(t/m),Math.floor(r/m))}return this.tiles[l]?transform.tile(this.tiles[l],i):null};var identity=function(e){return e},transform$3=function(e){if(null==(t=e.transform))return identity;var t,r,n,o=t.scale[0],i=t.scale[1],a=t.translate[0],s=t.translate[1];return function(e,t){return t||(r=n=0),e[0]=(r+=e[0])*o+a,e[1]=(n+=e[1])*i+s,e}},bbox=function(e){function t(e){s[0]=e[0],s[1]=e[1],a(s),s[0]<l&&(l=s[0]),s[0]>c&&(c=s[0]),s[1]<u&&(u=s[1]),s[1]>f&&(f=s[1])}function r(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(r);break;case"Point":t(e.coordinates);break;case"MultiPoint":e.coordinates.forEach(t)}}var n=e.bbox;if(!n){var o,i,a=transform$3(e),s=new Array(2),l=1/0,u=l,c=-l,f=-l;e.arcs.forEach(function(e){for(var t=-1,r=e.length;++t<r;)o=e[t],s[0]=o[0],s[1]=o[1],a(s,t),s[0]<l&&(l=s[0]),s[0]>c&&(c=s[0]),s[1]<u&&(u=s[1]),s[1]>f&&(f=s[1])});for(i in e.objects)r(e.objects[i]);n=e.bbox=[l,u,c,f]}return n},reverse=function(e,t){for(var r,n=e.length,o=n-t;o<--n;)r=e[o],e[o++]=e[n],e[n]=r},feature=function(e,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return feature$1(e,t)})}:feature$1(e,t)},stitch=function(e,t){function r(t){var r,n=e.arcs[t<0?~t:t],o=n[0];return e.transform?(r=[0,0],n.forEach(function(e){r[0]+=e[0],r[1]+=e[1]})):r=n[n.length-1],t<0?[r,o]:[o,r]}function n(e,t){for(var r in e){var n=e[r];delete t[n.start],delete n.start,delete n.end,n.forEach(function(e){o[e<0?~e:e]=1}),s.push(n)}}var o={},i={},a={},s=[],l=-1;return t.forEach(function(r,n){var o,i=e.arcs[r<0?~r:r];i.length<3&&!i[1][0]&&!i[1][1]&&(o=t[++l],t[l]=r,t[n]=o)}),t.forEach(function(e){var t,n,o=r(e),s=o[0],l=o[1];if(t=a[s])if(delete a[t.end],t.push(e),t.end=l,n=i[l]){delete i[n.start];var u=n===t?t:t.concat(n);i[u.start=t.start]=a[u.end=n.end]=u}else i[t.start]=a[t.end]=t;else if(t=i[l])if(delete i[t.start],t.unshift(e),t.start=s,n=a[s]){delete a[n.end];var c=n===t?t:n.concat(t);i[c.start=n.start]=a[c.end=t.end]=c}else i[t.start]=a[t.end]=t;else t=[e],i[t.start=s]=a[t.end=l]=t}),n(a,i),n(i,a),t.forEach(function(e){o[e<0?~e:e]||s.push([e])}),s},bisect=function(e,t){for(var r=0,n=e.length;r<n;){var o=r+n>>>1;e[o]<t?r=o+1:n=o}return r},slicers={},options;onmessage=function(e){if("slice"===e.data[0]){var t=e.data[1];if(options=e.data[2],t.type&&"Topology"===t.type)for(var r in t.objects)slicers[r]=index(feature(t,t.objects[r]),options);else slicers[options.vectorTileLayerName]=index(t,options)}else if("get"===e.data[0]){var n=e.data[1],o={};for(var r in slicers){var i=slicers[r].getTile(n.z,n.x,n.y);if(i){var a={features:[],extent:options.extent,name:options.vectorTileLayerName,length:i.features.length};for(var s in i.features){var l={geometry:i.features[s].geometry,properties:i.features[s].tags,type:i.features[s].type};a.features.push(l)}o[r]=a}}postMessage({layers:o,coords:n})}};\n',"text/plain; charset=us-ascii",!1);L.VectorGrid.Slicer=L.VectorGrid.extend({options:{vectorTileLayerName:"sliced",extent:4096,maxZoom:14},initialize:function(t,e){L.VectorGrid.prototype.initialize.call(this,e);e={};for(var n in this.options)"rendererFactory"!==n&&"vectorTileLayerStyles"!==n&&"function"!=typeof this.options[n]&&(e[n]=this.options[n]);this._worker=new Worker(G),this._worker.postMessage(["slice",t,e])},_getVectorTilePromise:function(t){var e=this,n=new Promise((function(n){e._worker.addEventListener("message",(function i(r){r.data.coords&&r.data.coords.x===t.x&&r.data.coords.y===t.y&&r.data.coords.z===t.z&&(n(r.data),e._worker.removeEventListener("message",i))}))}));return this._worker.postMessage(["get",t]),n}}),L.vectorGrid.slicer=function(t,e){return new L.VectorGrid.Slicer(t,e)},L.Canvas.Tile=L.Canvas.extend({initialize:function(t,e,n){L.Canvas.prototype.initialize.call(this,n),this._tileCoord=t,this._size=e,this._initContainer(),this._container.setAttribute("width",this._size.x),this._container.setAttribute("height",this._size.y),this._layers={},this._drawnLayers={},this._drawing=!0,n.interactive&&(this._container.style.pointerEvents="auto")},getCoord:function(){return this._tileCoord},getContainer:function(){return this._container},getOffset:function(){return this._tileCoord.scaleBy(this._size).subtract(this._map.getPixelOrigin())},onAdd:L.Util.falseFn,addTo:function(t){this._map=t},removeFrom:function(t){delete this._map},_onClick:function(t){var e,n,i=this._map.mouseEventToLayerPoint(t).subtract(this.getOffset());for(var r in this._layers)(e=this._layers[r]).options.interactive&&e._containsPoint(i)&&!this._map._draggableMoved(e)&&(n=e);n&&(L.DomEvent.fakeStop(t),this._fireEvent([n],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t).subtract(this.getOffset());this._handleMouseHover(t,e)}},_updateIcon:function(t){if(this._drawing){var e=t.options.icon.options,n=L.point(e.iconSize),i=e.iconAnchor||n&&n.divideBy(2,!0),r=t._point.subtract(i),o=this._ctx,s=t._getImage();s.complete?o.drawImage(s,r.x,r.y,n.x,n.y):L.DomEvent.on(s,"load",(function(){o.drawImage(s,r.x,r.y,n.x,n.y)})),this._drawnLayers[t._leaflet_id]=t}}}),L.canvas.tile=function(t,e,n){return new L.Canvas.Tile(t,e,n)}},function(t,e,n){"use strict";e.__esModule=!0;var i,r=n(403),o=(i=r)&&i.__esModule?i:{default:i};e.default=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,o.default)(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.version=e.fabric=e.rid=e.utils=e.resource=e.MixDatasource=e.MemoryDatasource=e.GeoEngineDatasource=e.HttpDatasource=e.Datasource=e.BaseDatasource=void 0;var i=X(n(3)),r=X(n(39)),o=X(n(21)),s=X(n(26)),a=X(n(27)),u=X(n(30)),l=X(n(211)),c=X(n(31)),h=n(43);Object.defineProperty(e,"BaseDatasource",{enumerable:!0,get:function(){return X(h).default}});var f=n(129);Object.defineProperty(e,"Datasource",{enumerable:!0,get:function(){return X(f).default}}),Object.defineProperty(e,"HttpDatasource",{enumerable:!0,get:function(){return X(f).default}});var d=n(267);Object.defineProperty(e,"GeoEngineDatasource",{enumerable:!0,get:function(){return X(d).default}});var p=n(269);Object.defineProperty(e,"MemoryDatasource",{enumerable:!0,get:function(){return X(p).default}});var g=n(270);Object.defineProperty(e,"MixDatasource",{enumerable:!0,get:function(){return X(g).default}});var v=n(273);Object.defineProperty(e,"resource",{enumerable:!0,get:function(){return X(v).default}});var m=n(10);Object.defineProperty(e,"utils",{enumerable:!0,get:function(){return X(m).default}});var y=n(394);Object.defineProperty(e,"rid",{enumerable:!0,get:function(){return X(y).default}});var x=n(13);Object.defineProperty(e,"fabric",{enumerable:!0,get:function(){return x.fabric}}),n(11);X(n(395));var E=X(n(396)),b=n(399),C=X(n(15)),w=n(297),_=n(400),A=n(401),S=n(402),D=n(407),L=n(299),F=n(301),T=n(308),M=n(309),I=n(408),P=n(310),O=n(311),B=n(312),N=n(379),k=n(417),R=n(418),j=n(380),V=n(381),G=n(383),z=n(384),q=n(385),U=X(n(386));function X(t){return t&&t.__esModule?t:{default:t}}e.version="3.5.45";function H(t,e){var n,i;return i=n=function(e){function n(t,e){(0,s.default)(this,n);var i=(0,u.default)(this,(n.__proto__||(0,o.default)(n)).call(this,t,e));return i.map=i.props.map||i.context.map,i}return(0,c.default)(n,e),(0,a.default)(n,[{key:"componentWillMount",value:function(){(0,l.default)(n.prototype.__proto__||(0,o.default)(n.prototype),"componentWillMount",this).call(this),this.leafletElement=new t(this.getOptions(this.props))}},{key:"getOptions",value:function(t){return null==(0,l.default)(n.prototype.__proto__||(0,o.default)(n.prototype),"getOptions",this)?t:(0,l.default)(n.prototype.__proto__||(0,o.default)(n.prototype),"getOptions",this).call(this,t)}},{key:"componentDidMount",value:function(){(0,l.default)(n.prototype.__proto__||(0,o.default)(n.prototype),"componentDidMount",this).call(this),this.leafletElement.addTo(this.map),this.registerToLayerDB(this.props),U.default.on("clickobject",this.onClickObject,this),U.default.on("hoverobject",this.onHoverObject,this),this.props.onAddToMap&&this.props.onAddToMap(this.map)}},{key:"componentDidUpdate",value:function(t){if(t!==this.props){(this.props.id||this.props.layerDBIndex)&&(U.default.unregister(t.id),this.registerToLayerDB(this.props));var e=this.props;this.leafletElement.setOptions(this.getOptions(e))}}},{key:"componentWillUnmount",value:function(){(0,l.default)(n.prototype.__proto__||(0,o.default)(n.prototype),"componentWillUnmount",this).call(this),U.default.unregister(this.props.id),U.default.removeListener("clickobject",this.onClickObject,this),U.default.removeListener("hoverobject",this.onHoverObject,this),this.leafletElement.remove(),this.props.onRemoveFromMap&&this.props.onRemoveFromMap(this.map)}},{key:"registerToLayerDB",value:function(t){t.layerDBIndex;var e=t.id;U.default.register(e,this.leafletElement,"notGlLayer")}},{key:"onClickObject",value:function(t,e){"function"==typeof this.props.onClickObject&&(t&&t.layerName===this.props.id?this.props.onClickObject(t,e):this.props.onClickObject(null,e))}},{key:"onHoverObject",value:function(t,e){"function"==typeof this.props.onHoverObject&&(t&&t.layerName===this.props.id?this.props.onHoverObject(t,e):this.props.onHoverObject(null,e))}},{key:"render",value:function(){return null}}]),n}(b.MapComponent),n.displayName=e,n.propTypes={onClickObject:E.default.func,onHoverObject:E.default.func,onAddToMap:E.default.func,onRemoveFromMap:E.default.func},n.contextTypes={map:E.default.object,pane:E.default.string},i}function Y(t,e){var n,h;function f(t){return"on"+C.default.capitalize(t)}var d=t.fireEvents,p={},g=!0,v=!1,m=void 0;try{for(var y,x=(0,r.default)(d);!(g=(y=x.next()).done);g=!0){p[f(y.value)]=E.default.func}}catch(t){v=!0,m=t}finally{try{!g&&x.return&&x.return()}finally{if(v)throw m}}return h=n=function(e){function n(t,e){(0,s.default)(this,n);var i=(0,u.default)(this,(n.__proto__||(0,o.default)(n)).call(this,t,e));return i.map=i.props.map||i.context.map,i}return(0,c.default)(n,e),(0,a.default)(n,[{key:"componentWillMount",value:function(){(0,l.default)(n.prototype.__proto__||(0,o.default)(n.prototype),"componentWillMount",this).call(this),this.leafletElement=new t(this.props)}},{key:"componentDidMount",value:function(){(0,l.default)(n.prototype.__proto__||(0,o.default)(n.prototype),"componentDidMount",this).call(this),this.leafletElement.addTo(this.map),this.rebindEvents(),this.props.onAddToMap&&this.props.onAddToMap(this.map)}},{key:"componentDidUpdate",value:function(t){if(t!==this.props){var e=this.props;this.leafletElement.setOptions(e),this.rebindEvents()}}},{key:"rebindEvents",value:function(){var t=!0,e=!1,n=void 0;try{for(var i,o=(0,r.default)(d);!(t=(i=o.next()).done);t=!0){var s=i.value,a=f(s);this.leafletElement.off(s),this.props[a]&&this.leafletElement.on(s,this.props[a])}}catch(t){e=!0,n=t}finally{try{!t&&o.return&&o.return()}finally{if(e)throw n}}}},{key:"componentWillUnmount",value:function(){(0,l.default)(n.prototype.__proto__||(0,o.default)(n.prototype),"componentWillUnmount",this).call(this),this.leafletElement.off(),this.leafletElement.remove(),this.props.onRemoveFromMap&&this.props.onRemoveFromMap(this.map)}},{key:"render",value:function(){return null}}]),n}(b.MapComponent),n.displayName=e,n.propTypes=(0,i.default)({},p,{onAddToMap:E.default.func,onRemoveFromMap:E.default.func}),n.contextTypes={map:E.default.object},h}var W={},J={TileLayer:w.TileLayer,VectorPbf:_.VectorPbf,VectorSlice:A.VectorSlice,VideoLayer:D.VideoLayer,ImageLayer:S.ImageLayer,HeatLayer:L.HeatLayer,ScatterLayer:P.ScatterLayer,BubbleLayer:O.BubbleLayer,MoveImgLayer:B.MoveImgLayer,MoveLineLayer:N.MoveLineLayer,AdminDistrictLayer:j.AdminDistrictLayer,SymbolLayer:V.SymbolLayer,GridHeatLayer:T.GridHeatLayer,PolylineLayer:F.PolylineLayer,PolygonLayer:M.PolygonLayer,MarkerLayer:q.MarkerLayer,HoneyCombLayer:k.HoneyCombLayer,BezierCurveLayer:R.BezierCurveLayer};for(var K in J)W[K]=H(J[K],K);var Z={CircleRangeLayer:G.CircleRangeLayer,CircleRangeLayerV2:z.CircleRangeLayer,DrawLayer:I.DrawLayer};for(var $ in Z)W[$]=Y(Z[$],$);e.default=W,window.react_geoengine=(0,i.default)({default:W},e)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={getColorByRidAvgSpeed:function(t,e){return"41000"==t?e>=0&&e<15?"#8D100A":e>=15&&e<30?"#E02001":e>=30&&e<=50?"#FECB01":"#34B002":"43000"==t?e>=0&&e<10?"#8D100A":e>=10&&e<20?"#E02001":e>=20&&e<=40?"#FECB01":"#34B002":"44000"==t?e>=0&&e<5?"#8D100A":e>=5&&e<12?"#E02001":e>=12&&e<=25?"#FECB01":"#34B002":"45000"==t?e>=0&&e<5?"#8D100A":e>=5&&e<10?"#E02001":e>=10&&e<=20?"#FECB01":"#34B002":void 0}}},function(t,e){t.exports=r},function(t,e,n){t.exports=n(397)()},function(t,e,n){"use strict";var i=n(398);function r(){}function o(){}o.resetWarningCache=r,t.exports=function(){function t(t,e,n,r,o,s){if(s!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e){t.exports=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VectorPbf=void 0,n(11),n(391);e.VectorPbf=L.Layer.extend({initialize:function(t){this.options=t,this.vectorPbfs=[]},renderTileLayer:function(){var t=this,e={rendererFactory:L.canvas.tile,tms:!0,interactive:!0,vectorTileLayerStyles:this.options.styles},n=this;this.options.urls.map((function(i){var r=L.vectorGrid.protobuf(i,e).addTo(t._map).on("click",(function(t){var e=t.layer.properties;n.onClickObject(e,t)})).on("mouseover",(function(t){var e=t.layer.properties;n.onHoverObject(e,t)}));t.vectorPbfs.push(r)}))},onClickObject:function(t,e){this.options.onClickObject&&this.options.onClickObject(t,e)},onHoverObject:function(t,e){this.options.onHoverObject&&this.options.onHoverObject(t,e)},onAdd:function(t){this._map=t,this.renderTileLayer()},setOptions:function(){this.clearPbfLayers(),this.renderTileLayer()},onRemove:function(){this.clearPbfLayers()},clearPbfLayers:function(){var t=this;this._map&&this.vectorPbfs.length>0&&(this.vectorPbfs.map((function(e){t._map.removeLayer(e)})),this.vectorPbfs=[])},render:function(){return null}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VectorSlice=void 0,n(11),n(391);var i,r=n(74),o=(i=r)&&i.__esModule?i:{default:i};e.VectorSlice=o.default.extend({initialize:function(t){this.options=t},renderTileLayer:function(t){var e={rendererFactory:L.svg.tile,interactive:!0,vectorTileLayerStyles:this.options.styles},n=this;this.VectorSlice=L.vectorGrid.slicer(t,e).addTo(this._map).on("click",(function(t){var e=t.layer.properties;n.onClickObject(e,t)})).on("mouseover",(function(t){var e=t.layer.properties;n.onHoverObject(e,t)}))},onClickObject:function(t,e){this.options.onClickObject&&this.options.onClickObject(t,e)},onHoverObject:function(t,e){this.options.onHoverObject&&this.options.onHoverObject(t,e)},onAdd:function(t){this._map=t,this._initEvents(),this._initDs()},setOptions:function(){this._map&&this.VectorSlice&&this._map.removeLayer(this.VectorSlice),this.renderTileLayer()},onRemove:function(){this._map&&this.VectorSlice&&this._map.removeLayer(this.VectorSlice)},_initEvents:function(){var t=this;this.on("loadstart",(function(e){t.data={type:"FeatureCollection",features:[]}})),this.on("loaddata",(function(e){t.data.features=t.data.features.concat(e.data.features),t.renderTileLayer(e.data)}))}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImageLayer=void 0;var i,r=n(392),o=(i=r)&&i.__esModule?i:{default:i};n(11);e.ImageLayer=L.Layer.extend({initialize:function(t){this.options=t},renderImage:function(){var t;this.imageLayer=(t=L).imageOverlay.apply(t,[this.options.url,this.options.imageBounds].concat((0,o.default)(this.options))).addTo(this._map)},onAdd:function(t){this._map=t,this.renderImage()},setOptions:function(){this._map&&this.imageLayer&&this._map.removeLayer(this.imageLayer),this.renderImage()},onRemove:function(){this._map&&this.imageLayer&&this._map.removeLayer(this.imageLayer)},render:function(){return null}})},function(t,e,n){t.exports={default:n(404),__esModule:!0}},function(t,e,n){n(54),n(405),t.exports=n(4).Array.from},function(t,e,n){"use strict";var i=n(37),r=n(12),o=n(38),s=n(212),a=n(213),u=n(112),l=n(406),c=n(113);r(r.S+r.F*!n(214)((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,r,h,f=o(t),d="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,v=void 0!==g,m=0,y=c(f);if(v&&(g=i(g,p>2?arguments[2]:void 0,2)),null==y||d==Array&&a(y))for(n=new d(e=u(f.length));e>m;m++)l(n,m,v?g(f[m],m):f[m]);else for(h=y.call(f),n=new d;!(r=h.next()).done;m++)l(n,m,v?s(h,g,[r.value,m],!0):r.value);return n.length=m,n}})},function(t,e,n){"use strict";var i=n(18),r=n(53);t.exports=function(t,e,n){e in t?i.f(t,e,r(0,n)):t[e]=n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VideoLayer=void 0;var i,r=n(392),o=(i=r)&&i.__esModule?i:{default:i};n(11);e.VideoLayer=L.Layer.extend({initialize:function(t){this.options=t},renderVideo:function(){var t;this.videoLayer=(t=L).videoOverlay.apply(t,[this.options.url,this.options.videoBounds].concat((0,o.default)(this.options))).addTo(this._map)},onAdd:function(t){this._map=t,this.renderVideo()},setOptions:function(){this._map&&this.videoLayer&&this._map.removeLayer(this.videoLayer),this.renderVideo()},onRemove:function(){this._map&&this.videoLayer&&this._map.removeLayer(this.videoLayer)},render:function(){return null}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DrawLayer=void 0;var i=a(n(39)),r=a(n(19)),o=a(n(3)),s=a(n(409));n(11),n(412),n(413);a(n(15));function a(t){return t&&t.__esModule?t:{default:t}}(0,s.default)(L.Icon.Default.prototype,"_getIconUrl"),L.Icon.Default.mergeOptions({iconRetinaUrl:n(414),iconUrl:n(415),shadowUrl:n(416)});var u=e.DrawLayer=L.Layer.extend({initialize:function(t){this.defaultLayers=[],L.setOptions(this,t)},setOptions:function(t){L.setOptions(this,t),t.redraw&&(this.removeDefaultLayers(),this.initLayers())},onAdd:function(t){var e=this;this._map=t,this.editableLayers=new L.FeatureGroup,this._map.addLayer(this.editableLayers),this.editableLayers.on("click",(function(t){t.cancelBubble=!1,e.options.onClickLayer&&e.options.onClickLayer({clickPoi:[t.latlng.lng,t.latlng.lat],layer:t.layer})}));var n={edit:{featureGroup:this.editableLayers,remove:!0}},i=(0,o.default)({},this.options,n);this.setOptions(i),"zh-cn"===i.language&&(L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:""},finish:{title:"Finish drawing",text:""},undo:{title:"Delete last point drawn",text:""},buttons:{polyline:"",polygon:"",rectangle:"",circle:"",marker:"",circlemarker:""}},handlers:{circle:{tooltip:{start:""},radius:"Radius"},circlemarker:{tooltip:{start:""}},marker:{tooltip:{start:""}},polygon:{tooltip:{start:"",cont:"",end:""}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"",cont:"",end:""}},rectangle:{tooltip:{start:""}},simpleshape:{tooltip:{end:""}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:""},cancel:{title:"Cancel editing, discards all changes",text:""},clearAll:{title:"Clear all layers",text:""}},buttons:{edit:"",editDisabled:"",remove:"",removeDisabled:""}},handlers:{edit:{tooltip:{text:"",subtext:""}},remove:{tooltip:{text:""}}}}}),this.drawControl=new L.Control.Draw(i),this._map.addControl(this.drawControl),this._initMapEvents(),this.initLayers()},removeDefaultLayers:function(){var t=this;(0,r.default)(this.editableLayers._layers).map((function(e){t.editableLayers.removeLayer(t.editableLayers._layers[e])})),this.defaultLayers.map((function(e){t.editableLayers.removeLayer(e)})),this.defaultLayers=[]},initLayers:function(){var t=this,e=this.options.layers;e&&e instanceof Array&&e.map((function(e){var n=e.layerType,i=e.data,r=e.options,o=new L[n](i,r);t.defaultLayers.push(o),t.editableLayers.addLayer(o)}));var n=(0,r.default)(this.editableLayers._layers).map((function(e){return t.editableLayers._layers[e]}));this.options.getDefaultLayerIds&&this.options.getDefaultLayerIds(n)},_drawCtrlEvent:function(t){var e=t.type.match(/^draw:(.*)$/)[1];this.fire(e,t)},_getGeoJSON:function(t){var e=this.editableLayers&&this.editableLayers._layers,n={type:"FeatureCollection",features:[]},o=!0,s=!1,a=void 0;try{for(var u,l=(0,i.default)((0,r.default)(e));!(o=(u=l.next()).done);o=!0){var c=e[u.value];n.features.push(c.toGeoJSON())}}catch(t){s=!0,a=t}finally{try{!o&&l.return&&l.return()}finally{if(s)throw a}}return this.fire("data",{_leaflet_id:t,data:n})},onDrawCreate:function(t){this.editableLayers.addLayer(t.layer),t.layer&&t.layer._leaflet_id&&this._getGeoJSON(t.layer._leaflet_id),this.options.onLayerCreated&&this.options.onLayerCreated(t.layer)},onDrawEdit:function(t){var e=(0,r.default)(t.layers._layers).map((function(e){return t.layers._layers[e]}));t.layer&&t.layer._leaflet_id&&this._getGeoJSON(t.layer._leaflet_id),this.options.onLayerEdited&&this.options.onLayerEdited(e)},onDrawDelete:function(t){var e=(0,r.default)(t.layers._layers).map((function(e){return t.layers._layers[e]}));this._getGeoJSON(),this.options.onLayerDeleted&&this.options.onLayerDeleted(e)},onDrawResizing:function(t){this.options.onLayerResizing&&this.options.onLayerResizing(t.layer)},onDrawEditMove:function(t){this.options.onEditMove&&this.options.onEditMove(t.layer)},_initMapEvents:function(){var t=!0,e=!1,n=void 0;try{for(var o,s=(0,i.default)((0,r.default)(L.Draw.Event));!(t=(o=s.next()).done);t=!0){var a=o.value;this._map.on(L.Draw.Event[a],this._drawCtrlEvent.bind(this))}}catch(t){e=!0,n=t}finally{try{!t&&s.return&&s.return()}finally{if(e)throw n}}this._map.on(L.Draw.Event.CREATED,this.onDrawCreate.bind(this)),this._map.on(L.Draw.Event.EDITED,this.onDrawEdit.bind(this)),this._map.on(L.Draw.Event.DELETED,this.onDrawDelete.bind(this)),this._map.on(L.Draw.Event.EDITRESIZE,this.onDrawResizing.bind(this)),this._map.on(L.Draw.Event.EDITMOVE,this.onDrawEditMove.bind(this))},_destroy:function(){var t=!0,e=!1,n=void 0;try{for(var o,s=(0,i.default)((0,r.default)(L.Draw.Event));!(t=(o=s.next()).done);t=!0){var a=o.value;this._map.off(L.Draw.Event[a],this._drawCtrlEvent.bind(this))}}catch(t){e=!0,n=t}finally{try{!t&&s.return&&s.return()}finally{if(e)throw n}}this._map.off(L.Draw.Event.CREATED,this.onDrawCreate.bind(this)),this._map.off(L.Draw.Event.EDITED,this._getGeoJSON.bind(this)),this._map.off(L.Draw.Event.DELETED,this._getGeoJSON.bind(this))},onRemove:function(){this._destroy(),this.drawControl.remove(),this.editableLayers.remove()}});u.fireEvents=(0,r.default)(L.Draw.Event).map((function(t){return L.Draw.Event[t].match(/^draw:(.*)$/)[1]})).concat(["data"]);e.default=function(t){return new u(t)}},function(t,e,n){t.exports={default:n(410),__esModule:!0}},function(t,e,n){n(411),t.exports=n(4).Reflect.deleteProperty},function(t,e,n){var i=n(12),r=n(73).f,o=n(14);i(i.S,"Reflect",{deleteProperty:function(t,e){var n=r(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e){var n,i;n=window,i=document,L.drawVersion="0.4.14",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(t,e){this._map=t,this._container=t._container,this._overlayPane=t._panes.overlayPane,this._popupPane=t._panes.popupPane,e&&e.shapeOptions&&(e.shapeOptions=L.Util.extend({},this.options.shapeOptions,e.shapeOptions)),L.setOptions(this,e);var n=L.version.split(".");1===parseInt(n[0],10)&&parseInt(n[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var t=this._map;t&&(L.DomUtil.disableTextSelection(),t.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(t){L.setOptions(this,t)},_fireCreatedEvent:function(t){this._map.fire(L.Draw.Event.CREATED,{layer:t,layerType:this.type})},_cancelDrawing:function(t){27===t.keyCode&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(t,e){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,e&&e.drawError&&(e.drawError=L.Util.extend({},this.options.drawError,e.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,t,e)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var t=this._markers.pop(),e=this._poly,n=e.getLatLngs(),i=n.splice(-1,1)[0];this._poly.setLatLngs(n),this._markerGroup.removeLayer(t),e.getLatLngs().length<2&&this._map.removeLayer(e),this._vertexChanged(i,!1)}},addVertex:function(t){this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(t)?this._showErrorTooltip():(this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(t)),this._poly.addLatLng(t),2===this._poly.getLatLngs().length&&this._map.addLayer(this._poly),this._vertexChanged(t,!0))},completeShape:function(){this._markers.length<=1||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var t=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),e=this._poly.newLatLngIntersects(t[t.length-1]);!this.options.allowIntersection&&e||!this._shapeIsValid()?this._showErrorTooltip():(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_shapeIsValid:function(){return!0},_onZoomEnd:function(){null!==this._markers&&this._updateGuide()},_onMouseMove:function(t){var e=this._map.mouseEventToLayerPoint(t.originalEvent),n=this._map.layerPointToLatLng(e);this._currentLatLng=n,this._updateTooltip(n),this._updateGuide(e),this._mouseMarker.setLatLng(n),L.DomEvent.preventDefault(t.originalEvent)},_vertexChanged:function(t,e){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(t,e),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(t){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(t),this._clickHandled=!0,this._disableNewMarkers();var e=t.originalEvent,n=e.clientX,i=e.clientY;this._startPoint.call(this,n,i)}},_startPoint:function(t,e){this._mouseDownOrigin=L.point(t,e)},_onMouseUp:function(t){var e=t.originalEvent,n=e.clientX,i=e.clientY;this._endPoint.call(this,n,i,t),this._clickHandled=null},_endPoint:function(t,e,i){if(this._mouseDownOrigin){var r=L.point(t,e).distanceTo(this._mouseDownOrigin),o=this._calculateFinishDistance(i.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(i.latlng),this._finishShape()):o<10&&L.Browser.touch?this._finishShape():Math.abs(r)<9*(n.devicePixelRatio||1)&&this.addVertex(i.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(t){var e,n,i=t.originalEvent;!i.touches||!i.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(e=i.touches[0].clientX,n=i.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,e,n),this._endPoint.call(this,e,n,t),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(t){var e;if(this._markers.length>0){var n;if(this.type===L.Draw.Polyline.TYPE)n=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;n=this._markers[0]}var i=this._map.latLngToContainerPoint(n.getLatLng()),r=new L.Marker(t,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),o=this._map.latLngToContainerPoint(r.getLatLng());e=i.distanceTo(o)}else e=1/0;return e},_updateFinishHandler:function(){var t=this._markers.length;t>1&&this._markers[t-1].on("click",this._finishShape,this),t>2&&this._markers[t-2].off("click",this._finishShape,this)},_createMarker:function(t){var e=new L.Marker(t,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(e),e},_updateGuide:function(t){var e=this._markers?this._markers.length:0;e>0&&(t=t||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[e-1].getLatLng()),t))},_updateTooltip:function(t){var e=this._getTooltipText();t&&this._tooltip.updatePosition(t),this._errorShown||this._tooltip.updateContent(e)},_drawGuide:function(t,e){var n,i,r,o=Math.floor(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))),s=this.options.guidelineDistance,a=this.options.maxGuideLineLength,u=o>a?o-a:s;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));u<o;u+=this.options.guidelineDistance)n=u/o,i={x:Math.floor(t.x*(1-n)+n*e.x),y:Math.floor(t.y*(1-n)+n*e.y)},(r=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer)).style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(r,i)},_updateGuideColor:function(t){if(this._guidesContainer)for(var e=0,n=this._guidesContainer.childNodes.length;e<n;e++)this._guidesContainer.childNodes[e].style.backgroundColor=t},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var t,e,n=this.options.showLength;return 0===this._markers.length?t={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(e=n?this._getMeasurementString():"",t=1===this._markers.length?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:e}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:e}),t},_updateRunningMeasure:function(t,e){var n,i,r=this._markers.length;1===this._markers.length?this._measurementRunningTotal=0:(n=r-(e?2:1),i=L.GeometryUtil.isVersion07x()?t.distanceTo(this._markers[n].getLatLng())*(this.options.factor||1):this._map.distance(t,this._markers[n].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=i*(e?1:-1))},_getMeasurementString:function(){var t,e=this._currentLatLng,n=this._markers[this._markers.length-1].getLatLng();return t=L.GeometryUtil.isVersion07x()?n&&e&&e.distanceTo?this._measurementRunningTotal+e.distanceTo(n)*(this.options.factor||1):this._measurementRunningTotal||0:n&&e?this._measurementRunningTotal+this._map.distance(e,n)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(t,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout(function(){this._disableMarkers=!1}.bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var t=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,t)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(t,e){L.Draw.Polyline.prototype.initialize.call(this,t,e),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var t=this._markers.length;1===t&&this._markers[0].on("click",this._finishShape,this),t>2&&(this._markers[t-1].on("dblclick",this._finishShape,this),t>3&&this._markers[t-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var t,e;return 0===this._markers.length?t=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(t=L.drawLocal.draw.handlers.polygon.tooltip.cont,e=this._getMeasurementString()):(t=L.drawLocal.draw.handlers.polygon.tooltip.end,e=this._getMeasurementString()),{text:t,subtext:e}},_getMeasurementString:function(){var t=this._area,e="";return t||this.options.showLength?(this.options.showLength&&(e=L.Draw.Polyline.prototype._getMeasurementString.call(this)),t&&(e+="<br>"+L.GeometryUtil.readableArea(t,this.options.metric,this.options.precision)),e):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(t,e){var n;!this.options.allowIntersection&&this.options.showArea&&(n=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(n)),L.Draw.Polyline.prototype._vertexChanged.call(this,t,e)},_cleanUpShape:function(){var t=this._markers.length;t>0&&(this._markers[0].off("click",this._finishShape,this),t>2&&this._markers[t-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(t,e){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,t,e)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),i.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(i,"mouseup",this._onMouseUp,this),L.DomEvent.off(i,"touchend",this._onMouseUp,this),i.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(t){this._isDrawing=!0,this._startLatLng=t.latlng,L.DomEvent.on(i,"mouseup",this._onMouseUp,this).on(i,"touchend",this._onMouseUp,this).preventDefault(t.originalEvent)},_onMouseMove:function(t){var e=t.latlng;this._tooltip.updatePosition(e),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(e))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,showArea:!0,clickable:!0},metric:!0},initialize:function(t,e){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,t,e)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(t){this._shape||this._isCurrentlyTwoClickDrawing?this._isCurrentlyTwoClickDrawing&&!function(t,e){for(;(t=t.parentElement)&&!t.classList.contains(e););return t}(t.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this):this._isCurrentlyTwoClickDrawing=!0},_drawShape:function(t){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,t)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,t),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var t=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,t)},_getTooltipText:function(){var t,e,n,i=L.Draw.SimpleShape.prototype._getTooltipText.call(this),r=this._shape,o=this.options.showArea;return r&&(t=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),e=L.GeometryUtil.geodesicArea(t),n=o?L.GeometryUtil.readableArea(e,this.options.metric):""),{text:i.text,subtext:n}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(t,e){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,t,e)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(t){var e=t.latlng;this._tooltip.updatePosition(e),this._mouseMarker.setLatLng(e),this._marker?(e=this._mouseMarker.getLatLng(),this._marker.setLatLng(e)):(this._marker=this._createMarker(e),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(t){return new L.Marker(t,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(t){this._onMouseMove(t),this._onClick()},_fireCreatedEvent:function(){var t=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,t)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(t,e){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,t,e)},_fireCreatedEvent:function(){var t=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,t)},_createMarker:function(t){return new L.CircleMarker(t,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(t,e){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,t,e)},_drawShape:function(t){if(L.GeometryUtil.isVersion07x())var e=this._startLatLng.distanceTo(t);else e=this._map.distance(this._startLatLng,t);this._shape?this._shape.setRadius(e):(this._shape=new L.Circle(this._startLatLng,e,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var t=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,t)},_onMouseMove:function(t){var e,n=t.latlng,i=this.options.showRadius,r=this.options.metric;if(this._tooltip.updatePosition(n),this._isDrawing){this._drawShape(n),e=this._shape.getRadius().toFixed(1);var o="";i&&(o=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(e,r,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:o})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(t,e){this._marker=t,L.setOptions(this,e)},addHooks:function(){var t=this._marker;t.dragging.enable(),t.on("dragend",this._onDragEnd,t),this._toggleMarkerHighlight()},removeHooks:function(){var t=this._marker;t.dragging.disable(),t.off("dragend",this._onDragEnd,t),this._toggleMarkerHighlight()},_onDragEnd:function(t){var e=t.target;e.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:e})},_toggleMarkerHighlight:function(){var t=this._marker._icon;t&&(t.style.display="none",L.DomUtil.hasClass(t,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(t,"leaflet-edit-marker-selected"),this._offsetMarker(t,-4)):(L.DomUtil.addClass(t,"leaflet-edit-marker-selected"),this._offsetMarker(t,4)),t.style.display="")},_offsetMarker:function(t,e){var n=parseInt(t.style.marginTop,10)-e,i=parseInt(t.style.marginLeft,10)-e;t.style.marginTop=n+"px",t.style.marginLeft=i+"px"}}),L.Marker.addInitHook((function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())})),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(t){this.latlngs=[t._latlngs],t._holes&&(this.latlngs=this.latlngs.concat(t._holes)),this._poly=t,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(t){for(var e=0;e<this._verticesHandlers.length;e++)t(this._verticesHandlers[e])},addHooks:function(){this._initHandlers(),this._eachVertexHandler((function(t){t.addHooks()}))},removeHooks:function(){this._eachVertexHandler((function(t){t.removeHooks()}))},updateMarkers:function(){this._eachVertexHandler((function(t){t.updateMarkers()}))},_initHandlers:function(){this._verticesHandlers=[];for(var t=0;t<this.latlngs.length;t++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[t],this._poly.options.poly))},_updateLatLngs:function(t){this.latlngs=[t.layer._latlngs],t.layer._holes&&(this.latlngs=this.latlngs.concat(t.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(t,e,n){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=t,n&&n.drawError&&(n.drawError=L.Util.extend({},this.options.drawError,n.drawError)),this._latlngs=e,L.setOptions(this,n)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var t=this._poly,e=t._path;t instanceof L.Polygon||(t.options.fill=!1,t.options.editing&&(t.options.editing.fill=!1)),e&&t.options.editing.className&&(t.options.original.className&&t.options.original.className.split(" ").forEach((function(t){L.DomUtil.removeClass(e,t)})),t.options.editing.className.split(" ").forEach((function(t){L.DomUtil.addClass(e,t)}))),t.setStyle(t.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var t=this._poly,e=t._path;e&&t.options.editing.className&&(t.options.editing.className.split(" ").forEach((function(t){L.DomUtil.removeClass(e,t)})),t.options.original.className&&t.options.original.className.split(" ").forEach((function(t){L.DomUtil.addClass(e,t)}))),t.setStyle(t.options.original),t._map&&(t._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var t,e,n,i,r,o,s=this._defaultShape();for(t=0,n=s.length;t<n;t++)(i=this._createMarker(s[t],t)).on("click",this._onMarkerClick,this),i.on("contextmenu",this._onContextMenu,this),this._markers.push(i);for(t=0,e=n-1;t<n;e=t++)(0!==t||L.Polygon&&this._poly instanceof L.Polygon)&&(r=this._markers[e],o=this._markers[t],this._createMiddleMarker(r,o),this._updatePrevNext(r,o))},_createMarker:function(t,e){var n=new L.Marker.Touch(t,{draggable:!0,icon:this.options.icon});return n._origLatLng=t,n._index=e,n.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(n),n},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var t=this._defaultShape(),e=[].splice.apply(t,arguments);return this._poly._convertLatLngs(t,!0),this._poly.redraw(),e},_removeMarker:function(t){var e=t._index;this._markerGroup.removeLayer(t),this._markers.splice(e,1),this._spliceLatLngs(e,1),this._updateIndexes(e,-1),t.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(t){var e=t.target,n=this._poly;if(L.extend(e._origLatLng,e._latlng),e._middleLeft&&e._middleLeft.setLatLng(this._getMiddleLatLng(e._prev,e)),e._middleRight&&e._middleRight.setLatLng(this._getMiddleLatLng(e,e._next)),n.options.poly){var i=n._map._editTooltip;if(!n.options.poly.allowIntersection&&n.intersects()){var r=n.options.color;n.setStyle({color:this.options.drawError.color}),0!==L.version.indexOf("0.7")&&e.dragging._draggable._onUp(t),this._onMarkerClick(t),i&&i.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout((function(){n.setStyle({color:r}),i&&i.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})}),1e3)}}this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var o=this._poly.getLatLngs();this._poly._convertLatLngs(o,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(t){var e=L.Polygon&&this._poly instanceof L.Polygon?4:3,n=t.target;this._defaultShape().length<e||(this._removeMarker(n),this._updatePrevNext(n._prev,n._next),n._middleLeft&&this._markerGroup.removeLayer(n._middleLeft),n._middleRight&&this._markerGroup.removeLayer(n._middleRight),n._prev&&n._next?this._createMiddleMarker(n._prev,n._next):n._prev?n._next||(n._prev._middleRight=null):n._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(t){var e=t.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:e,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(t){var e=this._map.mouseEventToLayerPoint(t.originalEvent.touches[0]),n=this._map.layerPointToLatLng(e),i=t.target;L.extend(i._origLatLng,n),i._middleLeft&&i._middleLeft.setLatLng(this._getMiddleLatLng(i._prev,i)),i._middleRight&&i._middleRight.setLatLng(this._getMiddleLatLng(i,i._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(t,e){this._markerGroup.eachLayer((function(n){n._index>t&&(n._index+=e)}))},_createMiddleMarker:function(t,e){var n,i,r,o=this._getMiddleLatLng(t,e),s=this._createMarker(o);s.setOpacity(.6),t._middleRight=e._middleLeft=s,i=function(){s.off("touchmove",i,this);var r=e._index;s._index=r,s.off("click",n,this).on("click",this._onMarkerClick,this),o.lat=s.getLatLng().lat,o.lng=s.getLatLng().lng,this._spliceLatLngs(r,0,o),this._markers.splice(r,0,s),s.setOpacity(1),this._updateIndexes(r,1),e._index++,this._updatePrevNext(t,s),this._updatePrevNext(s,e),this._poly.fire("editstart")},r=function(){s.off("dragstart",i,this),s.off("dragend",r,this),s.off("touchmove",i,this),this._createMiddleMarker(t,s),this._createMiddleMarker(s,e)},n=function(){i.call(this),r.call(this),this._fireEdit()},s.on("click",n,this).on("dragstart",i,this).on("dragend",r,this).on("touchmove",i,this),this._markerGroup.addLayer(s)},_updatePrevNext:function(t,e){t&&(t._next=e),e&&(e._prev=t)},_getMiddleLatLng:function(t,e){var n=this._poly._map,i=n.project(t.getLatLng()),r=n.project(e.getLatLng());return n.unproject(i._add(r)._divideBy(2))}}),L.Polyline.addInitHook((function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",(function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()})),this.on("remove",(function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})))})),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(t,e){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=t,L.Util.setOptions(this,e)},addHooks:function(){var t=this._shape;this._shape._map&&(this._map=this._shape._map,t.setStyle(t.options.editing),t._map&&(this._map=t._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var t=this._shape;if(t.setStyle(t.options.original),t._map){this._unbindMarker(this._moveMarker);for(var e=0,n=this._resizeMarkers.length;e<n;e++)this._unbindMarker(this._resizeMarkers[e]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(t,e){var n=new L.Marker.Touch(t,{draggable:!0,icon:e,zIndexOffset:10});return this._bindMarker(n),this._markerGroup.addLayer(n),n},_bindMarker:function(t){t.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(t){t.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(t){t.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(t){var e=t.target,n=e.getLatLng();e===this._moveMarker?this._move(n):this._resize(n),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(t){t.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(t){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,t),"function"==typeof this._getCorners){var e=this._getCorners(),n=t.target,i=n._cornerIndex;n.setOpacity(0),this._oppositeCorner=e[(i+2)%4],this._toggleCornerMarkers(0,i)}this._shape.fire("editstart")},_onTouchMove:function(t){var e=this._map.mouseEventToLayerPoint(t.originalEvent.touches[0]),n=this._map.layerPointToLatLng(e);return t.target===this._moveMarker?this._move(n):this._resize(n),this._shape.redraw(),!1},_onTouchEnd:function(t){t.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var t=this._shape.getBounds().getCenter();this._moveMarker=this._createMarker(t,this.options.moveIcon)},_createResizeMarker:function(){var t=this._getCorners();this._resizeMarkers=[];for(var e=0,n=t.length;e<n;e++)this._resizeMarkers.push(this._createMarker(t[e],this.options.resizeIcon)),this._resizeMarkers[e]._cornerIndex=e},_onMarkerDragStart:function(t){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,t);var e=this._getCorners(),n=t.target._cornerIndex;this._oppositeCorner=e[(n+2)%4],this._toggleCornerMarkers(0,n)},_onMarkerDragEnd:function(t){var e,n=t.target;n===this._moveMarker&&(e=this._shape.getBounds().getCenter(),n.setLatLng(e)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,t)},_move:function(t){for(var e,n=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),i=this._shape.getBounds().getCenter(),r=[],o=0,s=n.length;o<s;o++)e=[n[o].lat-i.lat,n[o].lng-i.lng],r.push([t.lat+e[0],t.lng+e[1]]);this._shape.setLatLngs(r),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(t){var e;this._shape.setBounds(L.latLngBounds(t,this._oppositeCorner)),e=this._shape.getBounds(),this._moveMarker.setLatLng(e.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var t=this._shape.getBounds();return[t.getNorthWest(),t.getNorthEast(),t.getSouthEast(),t.getSouthWest()]},_toggleCornerMarkers:function(t){for(var e=0,n=this._resizeMarkers.length;e<n;e++)this._resizeMarkers[e].setOpacity(t)},_repositionCornerMarkers:function(){for(var t=this._getCorners(),e=0,n=this._resizeMarkers.length;e<n;e++)this._resizeMarkers[e].setLatLng(t[e])}}),L.Rectangle.addInitHook((function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())})),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var t=this._shape.getLatLng();this._moveMarker=this._createMarker(t,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(t){if(this._resizeMarkers.length){var e=this._getResizeMarkerPoint(t);this._resizeMarkers[0].setLatLng(e)}this._shape.setLatLng(t),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook((function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",(function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()})),this.on("remove",(function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))})),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var t=this._shape.getLatLng(),e=this._getResizeMarkerPoint(t);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(e,this.options.resizeIcon))},_getResizeMarkerPoint:function(t){var e=this._shape._radius*Math.cos(Math.PI/4),n=this._map.project(t);return this._map.unproject([n.x+e,n.y-e])},_resize:function(t){var e=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=e.distanceTo(t):radius=this._map.distance(e,t),this._shape.setRadius(radius),this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook((function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable()),this.on("add",(function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()})),this.on("remove",(function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))})),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart),L.DomEvent.off(this._container,"touchend",this._onTouchEnd),L.DomEvent.off(this._container,"touchmove",this._onTouchMove),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDowm",this._onTouchStart),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave))},_touchEvent:function(t,e){var n={};if(void 0!==t.touches){if(!t.touches.length)return;n=t.touches[0]}else{if("touch"!==t.pointerType)return;if(n=t,!this._filterClick(t))return}var i=this._map.mouseEventToContainerPoint(n),r=this._map.mouseEventToLayerPoint(n),o=this._map.layerPointToLatLng(r);this._map.fire(e,{latlng:o,layerPoint:r,containerPoint:i,pageX:n.pageX,pageY:n.pageY,originalEvent:t})},_filterClick:function(t){var e=t.timeStamp||t.originalEvent.timeStamp,n=L.DomEvent._lastClick&&e-L.DomEvent._lastClick;return n&&n>100&&n<500||t.target._simulatedClick&&!t._simulated?(L.DomEvent.stop(t),!1):(L.DomEvent._lastClick=e,!0)},_onTouchStart:function(t){this._map._loaded&&this._touchEvent(t,"touchstart")},_onTouchEnd:function(t){this._map._loaded&&this._touchEvent(t,"touchend")},_onTouchCancel:function(t){if(this._map._loaded){var e="touchcancel";this._detectIE()&&(e="pointercancel"),this._touchEvent(t,e)}},_onTouchLeave:function(t){this._map._loaded&&this._touchEvent(t,"touchleave")},_onTouchMove:function(t){this._map._loaded&&this._touchEvent(t,"touchmove")},_detectIE:function(){var t=n.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("Trident/")>0){var i=t.indexOf("rv:");return parseInt(t.substring(i+3,t.indexOf(".",i)),10)}var r=t.indexOf("Edge/");return r>0&&parseInt(t.substring(r+5,t.indexOf(".",r)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var t=this._icon,e=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?e.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):e.concat(["touchcancel"]),L.DomUtil.addClass(t,"leaflet-clickable"),L.DomEvent.on(t,"click",this._onMouseClick,this),L.DomEvent.on(t,"keypress",this._onKeyPress,this);for(var n=0;n<e.length;n++)L.DomEvent.on(t,e[n],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var t=n.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("Trident/")>0){var i=t.indexOf("rv:");return parseInt(t.substring(i+3,t.indexOf(".",i)),10)}var r=t.indexOf("Edge/");return r>0&&parseInt(t.substring(r+5,t.indexOf(".",r)),10)}}),L.LatLngUtil={cloneLatLngs:function(t){for(var e=[],n=0,i=t.length;n<i;n++)Array.isArray(t[n])?e.push(L.LatLngUtil.cloneLatLngs(t[n])):e.push(this.cloneLatLng(t[n]));return e},cloneLatLng:function(t){return L.latLng(t.lat,t.lng)}},function(){var t={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(t){var e,n,i=t.length,r=0,o=Math.PI/180;if(i>2){for(var s=0;s<i;s++)e=t[s],r+=((n=t[(s+1)%i]).lng-e.lng)*o*(2+Math.sin(e.lat*o)+Math.sin(n.lat*o));r=6378137*r*6378137/2}return Math.abs(r)},formattedNumber:function(t,e){var n=parseFloat(t).toFixed(e),i=L.drawLocal.format&&L.drawLocal.format.numeric,r=i&&i.delimiters,o=r&&r.thousands,s=r&&r.decimal;if(o||s){var a=n.split(".");n=o?a[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+o):a[0],s=s||".",a.length>1&&(n=n+s+a[1])}return n},readableArea:function(e,n,i){var r,o;return i=L.Util.extend({},t,i),n?(o=["ha","m"],type=typeof n,"string"===type?o=[n]:"boolean"!==type&&(o=n),r=e>=1e6&&-1!==o.indexOf("km")?L.GeometryUtil.formattedNumber(1e-6*e,i.km)+" km":e>=1e4&&-1!==o.indexOf("ha")?L.GeometryUtil.formattedNumber(1e-4*e,i.ha)+" ha":L.GeometryUtil.formattedNumber(e,i.m)+" m"):r=(e/=.836127)>=3097600?L.GeometryUtil.formattedNumber(e/3097600,i.mi)+" mi":e>=4840?L.GeometryUtil.formattedNumber(e/4840,i.ac)+" acres":L.GeometryUtil.formattedNumber(e,i.yd)+" yd",r},readableDistance:function(e,n,i,r,o){var s;switch(o=L.Util.extend({},t,o),n?"string"==typeof n?n:"metric":i?"feet":r?"nauticalMile":"yards"){case"metric":s=e>1e3?L.GeometryUtil.formattedNumber(e/1e3,o.km)+" km":L.GeometryUtil.formattedNumber(e,o.m)+" m";break;case"feet":e*=3.28083,s=L.GeometryUtil.formattedNumber(e,o.ft)+" ft";break;case"nauticalMile":e*=.53996,s=L.GeometryUtil.formattedNumber(e/1e3,o.nm)+" nm";break;case"yards":default:s=(e*=1.09361)>1760?L.GeometryUtil.formattedNumber(e/1760,o.mi)+" miles":L.GeometryUtil.formattedNumber(e,o.yd)+" yd"}return s},isVersion07x:function(){var t=L.version.split(".");return 0===parseInt(t[0],10)&&7===parseInt(t[1],10)}})}(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(t,e,n,i){return this._checkCounterclockwise(t,n,i)!==this._checkCounterclockwise(e,n,i)&&this._checkCounterclockwise(t,e,n)!==this._checkCounterclockwise(t,e,i)},_checkCounterclockwise:function(t,e,n){return(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)}}),L.Polyline.include({intersects:function(){var t,e,n,i=this._getProjectedPoints(),r=i?i.length:0;if(this._tooFewPointsForIntersection())return!1;for(t=r-1;t>=3;t--)if(e=i[t-1],n=i[t],this._lineSegmentsIntersectsRange(e,n,t-2))return!0;return!1},newLatLngIntersects:function(t,e){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(t),e)},newPointIntersects:function(t,e){var n=this._getProjectedPoints(),i=n?n.length:0,r=n?n[i-1]:null,o=i-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(r,t,o,e?1:0)},_tooFewPointsForIntersection:function(t){var e=this._getProjectedPoints(),n=e?e.length:0;return!e||(n+=t||0)<=3},_lineSegmentsIntersectsRange:function(t,e,n,i){var r,o,s=this._getProjectedPoints();i=i||0;for(var a=n;a>i;a--)if(r=s[a-1],o=s[a],L.LineUtil.segmentsIntersect(t,e,r,o))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var t=[],e=this._defaultShape(),n=0;n<e.length;n++)t.push(this._map.latLngToLayerPoint(e[n]));return t}}),L.Polygon.include({intersects:function(){var t,e,n,i,r=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(t=r.length,e=r[0],n=r[t-1],i=t-2,this._lineSegmentsIntersectsRange(n,e,i,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(t){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");var e;L.Control.prototype.initialize.call(this,t),this._toolbars={},L.DrawToolbar&&this.options.draw&&(e=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=e,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(e=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=e,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(t){var e,n=L.DomUtil.create("div","leaflet-draw"),i=!1;for(var r in this._toolbars)this._toolbars.hasOwnProperty(r)&&(e=this._toolbars[r].addToolbar(t))&&(i||(L.DomUtil.hasClass(e,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(e.childNodes[0],"leaflet-draw-toolbar-top"),i=!0),n.appendChild(e));return n},onRemove:function(){for(var t in this._toolbars)this._toolbars.hasOwnProperty(t)&&this._toolbars[t].removeToolbar()},setDrawingOptions:function(t){for(var e in this._toolbars)this._toolbars[e]instanceof L.DrawToolbar&&this._toolbars[e].setOptions(t)},_toolbarEnabled:function(t){var e=t.target;for(var n in this._toolbars)this._toolbars[n]!==e&&this._toolbars[n].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook((function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))})),L.Toolbar=L.Class.extend({initialize:function(t){L.setOptions(this,t),this._modes={},this._actionButtons=[],this._activeMode=null;var e=L.version.split(".");1===parseInt(e[0],10)&&parseInt(e[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return null!==this._activeMode},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(t){var e,n=L.DomUtil.create("div","leaflet-draw-section"),i=0,r=this._toolbarClass||"",o=this.getModeHandlers(t);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=t,e=0;e<o.length;e++)o[e].enabled&&this._initModeHandler(o[e].handler,this._toolbarContainer,i++,r,o[e].title);if(i)return this._lastButtonIndex=--i,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),n.appendChild(this._toolbarContainer),n.appendChild(this._actionsContainer),n},removeToolbar:function(){for(var t in this._modes)this._modes.hasOwnProperty(t)&&(this._disposeButton(this._modes[t].button,this._modes[t].handler.enable,this._modes[t].handler),this._modes[t].handler.disable(),this._modes[t].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var e=0,n=this._actionButtons.length;e<n;e++)this._disposeButton(this._actionButtons[e].button,this._actionButtons[e].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(t,e,n,i,r){var o=t.type;this._modes[o]={},this._modes[o].handler=t,this._modes[o].button=this._createButton({type:o,title:r,className:i+"-"+o,container:e,callback:this._modes[o].handler.enable,context:this._modes[o].handler}),this._modes[o].buttonIndex=n,this._modes[o].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!n.MSStream},_createButton:function(t){var e=L.DomUtil.create("a",t.className||"",t.container),n=L.DomUtil.create("span","sr-only",t.container);e.href="#",e.appendChild(n),t.title&&(e.title=t.title,n.innerHTML=t.title),t.text&&(e.innerHTML=t.text,n.innerHTML=t.text);var i=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(e,"click",L.DomEvent.stopPropagation).on(e,"mousedown",L.DomEvent.stopPropagation).on(e,"dblclick",L.DomEvent.stopPropagation).on(e,"touchstart",L.DomEvent.stopPropagation).on(e,"click",L.DomEvent.preventDefault).on(e,i,t.callback,t.context),e},_disposeButton:function(t,e){var n=this._detectIOS()?"touchstart":"click";L.DomEvent.off(t,"click",L.DomEvent.stopPropagation).off(t,"mousedown",L.DomEvent.stopPropagation).off(t,"dblclick",L.DomEvent.stopPropagation).off(t,"touchstart",L.DomEvent.stopPropagation).off(t,"click",L.DomEvent.preventDefault).off(t,n,e)},_handlerActivated:function(t){this.disable(),this._activeMode=this._modes[t.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(t){var e,n,i,r,o=this._actionsContainer,s=this.getActions(t),a=s.length;for(n=0,i=this._actionButtons.length;n<i;n++)this._disposeButton(this._actionButtons[n].button,this._actionButtons[n].callback);for(this._actionButtons=[];o.firstChild;)o.removeChild(o.firstChild);for(var u=0;u<a;u++)"enabled"in s[u]&&!s[u].enabled||(e=L.DomUtil.create("li","",o),r=this._createButton({title:s[u].title,text:s[u].text,container:e,callback:s[u].callback,context:s[u].context}),this._actionButtons.push({button:r,callback:s[u].callback}))},_showActionsToolbar:function(){var t=this._activeMode.buttonIndex,e=this._lastButtonIndex,n=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=n+"px",0===t&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),t===e&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(t){this._map=t,this._popupPane=t._panes.popupPane,this._visible=!1,this._container=t.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(t){return this._container?(t.subtext=t.subtext||"",0!==t.subtext.length||this._singleLineLabel?t.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(t.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+t.subtext+"</span><br />":"")+"<span>"+t.text+"</span>",t.text||t.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(t){var e=this._map.latLngToLayerPoint(t),n=this._container;return this._container&&(this._visible&&(n.style.visibility="inherit"),L.DomUtil.setPosition(n,e)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(t){for(var e in this.options)this.options.hasOwnProperty(e)&&t[e]&&(t[e]=L.extend({},this.options[e],t[e]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,t)},getModeHandlers:function(t){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(t,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(t,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(t,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(t,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(t,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(t,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(t){return[{enabled:t.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:t.completeShape,context:t},{enabled:t.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:t.deleteLastVertex,context:t},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(t){for(var e in L.setOptions(this,t),this._modes)this._modes.hasOwnProperty(e)&&t.hasOwnProperty(e)&&this._modes[e].handler.setOptions(t[e])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(t){t.edit&&(void 0===t.edit.selectedPathOptions&&(t.edit.selectedPathOptions=this.options.edit.selectedPathOptions),t.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,t.edit.selectedPathOptions)),t.remove&&(t.remove=L.extend({},this.options.remove,t.remove)),t.poly&&(t.poly=L.extend({},this.options.poly,t.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,t),this._selectedFeatureCount=0},getModeHandlers:function(t){var e=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(t,{featureGroup:e,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(t,{featureGroup:e}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(t){var e=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return t.removeAllLayers&&e.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),e},addToolbar:function(t){var e=L.Toolbar.prototype.addToolbar.call(this,t);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),e},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var t,e=0!==this.options.featureGroup.getLayers().length;this.options.edit&&(t=this._modes[L.EditToolbar.Edit.TYPE].button,e?L.DomUtil.removeClass(t,"leaflet-disabled"):L.DomUtil.addClass(t,"leaflet-disabled"),t.setAttribute("title",e?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(t=this._modes[L.EditToolbar.Delete.TYPE].button,e?L.DomUtil.removeClass(t,"leaflet-disabled"):L.DomUtil.addClass(t,"leaflet-disabled"),t.setAttribute("title",e?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(t,e){if(L.Handler.prototype.initialize.call(this,t),L.setOptions(this,e),this._featureGroup=e.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var n=L.version.split(".");1===parseInt(n[0],10)&&parseInt(n[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var t=this._map;t&&(t.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),t._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer((function(t){this._revertLayer(t)}),this)},save:function(){var t=new L.LayerGroup;this._featureGroup.eachLayer((function(e){e.edited&&(t.addLayer(e),e.edited=!1)})),this._map.fire(L.Draw.Event.EDITED,{layers:t})},_backupLayer:function(t){var e=L.Util.stamp(t);this._uneditedLayerProps[e]||(t instanceof L.Polyline||t instanceof L.Polygon||t instanceof L.Rectangle?this._uneditedLayerProps[e]={latlngs:L.LatLngUtil.cloneLatLngs(t.getLatLngs())}:t instanceof L.Circle?this._uneditedLayerProps[e]={latlng:L.LatLngUtil.cloneLatLng(t.getLatLng()),radius:t.getRadius()}:(t instanceof L.Marker||t instanceof L.CircleMarker)&&(this._uneditedLayerProps[e]={latlng:L.LatLngUtil.cloneLatLng(t.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(t){var e=L.Util.stamp(t);t.edited=!1,this._uneditedLayerProps.hasOwnProperty(e)&&(t instanceof L.Polyline||t instanceof L.Polygon||t instanceof L.Rectangle?t.setLatLngs(this._uneditedLayerProps[e].latlngs):t instanceof L.Circle?(t.setLatLng(this._uneditedLayerProps[e].latlng),t.setRadius(this._uneditedLayerProps[e].radius)):(t instanceof L.Marker||t instanceof L.CircleMarker)&&t.setLatLng(this._uneditedLayerProps[e].latlng),t.fire("revert-edited",{layer:t}))},_enableLayerEdit:function(t){var e,n,i=t.layer||t.target||t;this._backupLayer(i),this.options.poly&&(n=L.Util.extend({},this.options.poly),i.options.poly=n),this.options.selectedPathOptions&&((e=L.Util.extend({},this.options.selectedPathOptions)).maintainColor&&(e.color=i.options.color,e.fillColor=i.options.fillColor),i.options.original=L.extend({},i.options),i.options.editing=e),i instanceof L.Marker?(i.editing&&i.editing.enable(),i.dragging.enable(),i.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):i.editing.enable()},_disableLayerEdit:function(t){var e=t.layer||t.target||t;e.edited=!1,e.editing&&e.editing.disable(),delete e.options.editing,delete e.options.original,this._selectedPathOptions&&(e instanceof L.Marker?this._toggleMarkerHighlight(e):(e.setStyle(e.options.previousOptions),delete e.options.previousOptions)),e instanceof L.Marker?(e.dragging.disable(),e.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):e.editing.disable()},_onMouseMove:function(t){this._tooltip.updatePosition(t.latlng)},_onMarkerDragEnd:function(t){var e=t.target;e.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:e})},_onTouchMove:function(t){var e=t.originalEvent.changedTouches[0],n=this._map.mouseEventToLayerPoint(e),i=this._map.layerPointToLatLng(n);t.target.setLatLng(i)},_hasAvailableLayers:function(){return 0!==this._featureGroup.getLayers().length}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(t,e){if(L.Handler.prototype.initialize.call(this,t),L.Util.setOptions(this,e),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var n=L.version.split(".");1===parseInt(n[0],10)&&parseInt(n[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var t=this._map;t&&(t.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer((function(t){this._deletableLayers.addLayer(t),t.fire("revert-deleted",{layer:t})}),this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer((function(t){this._removeLayer({layer:t})}),this),this.save()},_enableLayerDelete:function(t){(t.layer||t.target||t).on("click",this._removeLayer,this)},_disableLayerDelete:function(t){var e=t.layer||t.target||t;e.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(e)},_removeLayer:function(t){var e=t.layer||t.target||t;this._deletableLayers.removeLayer(e),this._deletedLayers.addLayer(e),e.fire("deleted")},_onMouseMove:function(t){this._tooltip.updatePosition(t.latlng)},_hasAvailableLayers:function(){return 0!==this._deletableLayers.getLayers().length}})},function(t,e,n){},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7c3grY3grg8hJo3grY4g7c4g7c3grU0gLI4grY9hrpBi79HkMM2frE0daA0fq82gbROlslbo9Vgp9dcpNZQmcxFjsIwd6QzeKk3gbRfptdepdZcpdY2gLMtd5s3gLNZotVSntNPnNJLmtFImdBZodU1f7A2f7A1frA2f7I2f7FHmNBUnM9Wn9VGmNAydaNYoNJOm9M9hLc0e6w3fa46f7BKmdFFltBVndE1fK1Els82fq41fK1Dlc89g7RClc9XoNVUndQ0eqxClM9Jl9FRms81eqo0eqpHltFBk89Fi75Qm9M/k89KkcYzealSjbadvdPH2ufz9/r4+vzP3+qlxNljmL08gLNSnNQzeKgydqUzeKg/ks6NtM/////+/v8+kc/f6fFAgK1CiLwydKIzd6c8kM6Tt9C1zd5OmdNBh7pTjLRzn78xdKIydqU7j86jwdbM3egxdKIydaQydaMydKNGlNE6js5OiLAxc6FKkshDk9E5jc09e6Zekrcxc6I4jc03eagyc6FIldI3jM0wcaBMl9J+psNKltIwcZ82i83k7fMubJhLlc81is1Lg6pklbZNl9I/j9AvbJlEjcVdkLPt8/cwcZ4ubZkwcJ00icy0y9swcJwvb5wzicxHkcpTh60ubZhCkNAyiMwvbpoxh8xAicBHj8hGk9FHks0+jdAubJcubJdEkdEwhsw6i88ubJgta5cvhswxapgubJcuhcstbJcubZcuhMsubJcvbJZBjMgthMsubJcvbZkubJcrg8stbJctbZcubJgrgssua5gubJc6is8qgcs8i9A9iMYtg8spgcoogMo7hcMrbZcubJcngMonf8olfsoubJc4gr8kfckua5g5iM8jfMk4iM8he8k1froua5g7itAgeskubJc2hs8eecgzfLcofssdeMg0hc4ubJccd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqjbZ8obAAAA7HRSTlMAHDdTb4yPA+L/7ZxE/////yYLgvb///////8SYf/////qB/////////+1wNHd//////8s////r/////////+O/P///////////8f///////////////////////+P2P///////////3f//////////5j/////tczn//////L///////////////////////8+////////R/////Ww////tf////9q////////////4P/////Yd/8W+P/xov+UNv///STN/7hc1P/AUv//////////MMT///+m//+e//////+M//+C////////6cqo94AAAAXmSURBVHgBrNKDoipBGADgbHMRpjuKi2xOdu//MHe2Y6tvOdZvuhGzxWqzO2xWi9lp+g6L3eV+5PH6vmpltrv8nDsQDIWCAbef83jDpo9FojFeJxhPJO8JosQzYnb5oxYpVzodiCcyhiwA2esPEAPpdM727vT+eSH0x7McwoTmOUpxIcvF/RAWI29byCUIpUQ2m8A0/xwx8kIQls2vW4QrihIHQMDqGyQBgAiVnOXVTuWUtAaAnq++I48B0PxKrPZiq8qKvy4IpPqBhiDUm0rl+ca12h1NQN3eh7pI6MN26WnfooNBPIHU4SdUlBAHg9Hj0seDEEJ08pxKqfoio4tQaDAOP0xrMEWIzB4NCWaIK8xJ7ymXItQcFO/jcLGIF+bLRytW4LS18Wbd5SNcEBcLn8mw2TYZ2+3vLRuMaYdme7sdTA8iY8flQ0mPscC2fB1ku12z4+necs7YebDlri9JZ3rvoazB1tutxdiuy1TXl4/Zer95ufzneq7524qBAIBr61TmtxXX/MK4FC6cKIwvViozXMDMzLbCTF+1JBn/4/EtLi2vrK6tbywsbE506vVxnZ3fF7YIIQamdX7dVqb/RtnCr1X+n3F9gA2MdA7Vsl87nzEDId2MTUCHSdr+As/Y1DKvM1uYFWBGpTtggrFuYrMPApgc0jhMTNmdvInLbn8NqNImgEG7jWzZnwB1KAg79t1V3mzPvgm6Q+n9m98n/e5ZQI+iw6Dby1v43AzApPIIs24/Cbg1GFcRE+h29xpvseJ2v4cxjzQOmjtAgqF5PRyRZvTXIfcqbxUNPdOnI1JYnw8FSSwUp4mklKDzoRRvkw7N0vF6QTwUI4aMRsNZyUQnMhkzb2HMZeJ0RhUMUy1jIP68lRaKUpLSXN7FW5jz+QnqKEoFas37yX6pD8tFpYybpQpv4S3lEGv5KvaV9olNDPwNHUhh1ETex5scpsQOVg8UxAFhI0dCHKPjRIogDorT1aZPzkTuHC9U2oPnQlySRzFxhYkTJYHHIXFt5srNnhBxLDSyV+L2IyF395vnhQflpHCuifv80g3/a+UPIXWNEDEAQEE0HR23weEk6XGnwR1iH3eJu7udbt26fe30I17x/PYH+9iv+CB5qT1v+YhlL5WeS5ZV72RZftvlNF6Wj75Zdn2kHcl6e5Sy/A3D7DsBMP0gd/DkC/Bp9l3gW5Y7a5asWVCm3WcaAFSHnFtxAXivwwAsWf9E25dl+TiwhwIKPVRgD33Ct6wvom0ijKapOBllpkEcf6ZCMsqjyCgjuvKIoajXYgya8vhIJ7rKKnKOP+sxjOPJZmV0DRRHGIZx/KW6npaOvor3M/G+pqalS00TT5q4G7qzPGe4O+wu7mxw59wt8p3LCre//pn/J+iupIwe1HKcpVdXI8c9QB9l9QMDnHVQF8+9xdAw5YzgBmfuHdVh4bj7GKO8cZYxW/UmvHkAeEl5pgncMJt7JzVZzOYaTFGh6WRGEDVJ5pniCDOCWw0Ns3MaLA0NdRijYm+AmQZhXoO1YQFYpBJLqGloGF1W1ZuMfKRSL1OZFVXJyNBlUhhD7evXk6sqZl+/rscaKfUDC68FtYn19Xr64xU+oo7nxQ2FWZ6vxyapuTyEdV5WTgR+HZ3DpGoN9Szzu8Qkzz9CH6kbZhlpa7uELO2gs4I0bOKRJInFC1GyPsMuaanoxPre1n6hbXlvB90dpKkPj4Q9sXAi7gnfcEDaOjqxIxwe5e1vCcforiIdu/gkyyenOSeyrBthqrpxvHV2lF0cHW4d47ySdB3g29bWiSPjZMvZBDvpqzxPZk7Ti9PDLZcyomBHk/PwxJ1ycsgiv4guzrgOz9wexn126EVbNV3oVzLj8zBaEYXqNnjP/G4W8Z8F0GYiKisTPGMZ31kQGKdymGwIhMIeTzgUgM1EZRkHgmGfL8wi01Qe0wQCYSaAESrXNBCJRiN6EYURxKLRmF5E4Q0QjwNvyIAlJBKYIiNegnlJhowBY2RMP9BPBn38SEYtLpKG/+tgQe8M5cY7AAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoneyCombLayer=void 0;var i=c(n(39)),r=c(n(3)),o=n(13),s=c(n(7)),a=c(n(0)),u=c(n(16)),l=n(10);function c(t){return t&&t.__esModule?t:{default:t}}var h={minPixel:5,honeycombSize:{edge:5,unit:"pixel"},strokeWidth:3,stroke:{range:["rgb(0, 167, 157)"]},fill:{range:["rgba(0, 167, 157, 0.5)"]}},f=e.HoneyCombLayer=u.default.extend({_forceRenderKeys:["honeycombSize","fill","valueName","getValue","minPixel","unit","stroke","strokeWidth","opacity"],initialize:function(t){t=(0,r.default)({},h,t),u.default.prototype.initialize.call(this,t)},getHoneycombPixel:function(t,e){var n=e.edge;return[{x:t.x-.5*n,y:t.y-Math.sqrt(3)*n/2},{x:t.x-n,y:t.y},{x:t.x-.5*n,y:t.y+Math.sqrt(3)*n/2},{x:t.x+.5*n,y:t.y+Math.sqrt(3)*n/2},{x:t.x+n,y:t.y},{x:t.x+.5*n,y:t.y-Math.sqrt(3)*n/2}]},createHoneycomb:function(t,e,n,i){var r=(0,l.pointToPixel)(t,e,this._map,i);if(null==r)return null;var s=this.getHoneycombPixel(r,n),a=this.getValue(t),u=(0,l.getScale)(a,this.options.stroke),c=(0,l.getScale)(a,this.options.fill);return new o.fabric.Polygon(s,{stroke:u,strokeWidth:this.options.strokeWidth,strokeLineCap:"round",strokeLineJoin:"round",fill:c,opacity:this.options.opacity})},honeycombToPixel:function(t){var e=this._map,n=t.unit,i=t.edge,r=this.options.minPixel,o=r;switch(n){case"arc":o=(0,l.arcPerPixel)(e);break;case"meter":o=i/(0,l.meterPerPixel)(e);break;case"pixel":o=i;break;default:throw new Error("only support unit [arc, meter, pixel]")}return{edge:o<r?r:o}},render:function(t){var e=this;if(null!=t){var n=this.options.honeycombSize,i=this.honeycombToPixel(n);this.renderInMultiFrames(t,(function(t,n,r){return e.createHoneycomb(t,n,i,r)}),2e3)}},honeycombToLatLng:function(t,e){var n=this,i=t.geometry.coordinates,r=this._map.latLngToContainerPoint([i[1],i[0]]),o=this.getHoneycombPixel(r,e).map((function(t){var e=(0,l.pixelToPoint)(t.x,t.y,n._map);return[e.lng,e.lat]}));return o[0][0]===o[o.length-1][0]&&o[0][1]===o[o.length-1][1]||o.push(o[0]),[o]},findObjectByXy:function(t,e){var n=this.data.features,r=(0,l.pixelToPoint)(t,e,this._map),o=a.default.point([r.lng,r.lat]),u=this.honeycombToPixel(this.options.honeycombSize),c=!0,h=!1,f=void 0;try{for(var d,p=(0,i.default)(n);!(c=(d=p.next()).done);c=!0){var g=d.value,v=a.default.polygon(this.honeycombToLatLng(g,u));if((0,s.default)(o,v))return g}}catch(t){h=!0,f=t}finally{try{!c&&p.return&&p.return()}finally{if(h)throw f}}return null}});e.default=function(t){return new f(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BezierCurveLayer=void 0;var i=a(n(39)),r=a(n(3)),o=n(13),s=a(n(16));n(10);function a(t){return t&&t.__esModule?t:{default:t}}var u={minPixel:5,strokeWidth:3,stroke:"rgb[0, 0, 0]",fill:!1,strokeDashArray:null},l=e.BezierCurveLayer=s.default.extend({_forceRenderKeys:["fill","valueName","getValue","minPixel","unit","stroke","strokeWidth","strokeDashArray"],initialize:function(t){t=(0,r.default)({},u,t),s.default.prototype.initialize.call(this,t)},getBezierCurvePath:function(t,e,n,i){var r="M "+t.x+" "+t.y,o=e.x+" "+e.y;if(0===n.length)return r+" L "+o;if(1===n.length)return r+" Q "+n[0].x+" "+n[0].y+" "+o;if(2===n.length)return r+" C "+n[0].x+" "+n[0].y+" "+n[1].x+" "+n[1].y+" "+o;throw new Error("the control points are more than two for bezier curve")},latLngToPixel:function(t,e){var n=this._map.latLngToContainerPoint([t[0],t[1]]),i=n;return e&&(i=L.point(n.x,n.y).add(e)),i},pointLatLngToXY:function(t,e){var n=this.latLngToPixel(t.start,e),i=this.latLngToPixel(t.end,e),r=this.options.curveness,o=void 0===r?.2:r;return{start:n,end:i,ctrlPoints:this.ctrlPoints=[{x:(n.x+i.x)/2-(n.y-i.y)*o,y:(n.y+i.y)/2-(i.x-n.x)*o}]}},createArrowPath:function(t,e,n){var i=Math.PI/180,r=Math.PI/3,s=Math.PI/6,a=this.getArrowLen(n),u=r-t*i,l=t*i-s,c=e.x-a*Math.sin(u),h=e.y-a*Math.cos(u),f=e.x-a*Math.cos(l),d=e.y-a*Math.sin(l),p="M "+c+" "+h+" L "+e.x+" "+e.y+" L "+f+" "+d,g=this.getArrowStrokeWidth(n),v=this.getArrowStroke(n),m=this.getArrowFill(n);return{arrow:new o.fabric.Path(p,{stroke:v,strokeWidth:g,strokeLineCap:"round",strokeLineJoin:"round",fill:m,originX:"center",originY:"center"}),x1:c,y1:h,x2:f,y2:d}},getArrowLen:function(t){var e=this.options.endArrow&&this.options.endArrow.setLength;return e&&"function"==typeof e?e(t):this.options.endArrow.length},getArrowFill:function(t){var e=this.options.endArrow&&this.options.endArrow.setFill;return e&&"function"==typeof e?e(t):this.options.endArrow.fill},getArrowStrokeWidth:function(t){var e=this.options.endArrow&&this.options.endArrow.setStrokeWidth;return e&&"function"==typeof e?e(t):this.options.endArrow.strokeWidth},getArrowStroke:function(t){var e=this.options.endArrow&&this.options.endArrow.setStroke;return e&&"function"==typeof e?e(t):this.options.endArrow.stroke},getStartCircleStrokeWidth:function(t){var e=this.options.startCircle&&this.options.startCircle.setStrokeWidth;return e&&"function"==typeof e?e(t):this.options.startCircle.strokeWidth},getStartCircleRadius:function(t){var e=this.options.startCircle&&this.options.startCircle.setCircleRadius;return e&&"function"==typeof e?e(t):this.options.startCircle.radius},getStartCircleFill:function(t){var e=this.options.startCircle&&this.options.startCircle.setCircleFill;return e&&"function"==typeof e?e(t):this.options.startCircle.fill},getStartCircleStroke:function(t){var e=this.options.startCircle&&this.options.startCircle.setCircleStroke;return e&&"function"==typeof e?e(t):this.options.startCircle.stroke},createCirclePath:function(t,e){var n=this.getStartCircleStrokeWidth(e),i=this.getStartCircleRadius(e),r=this.getStartCircleFill(e),s=this.getStartCircleStroke(e);return new o.fabric.Circle({left:t.x,top:t.y,strokeWidth:n,radius:i,fill:r,stroke:s,originX:"center",originY:"center"})},getStrokeDashArray:function(t){var e=this.options.strokeDashArray;return e&&"function"==typeof e?e(t):this.options.strokeDashArray||null},getPathWidth:function(t){var e=this.options.setLineWidth;return e&&"function"==typeof e?e(t):this.options.strokeWidth},getPathFill:function(t){var e=this.options.setLineFill;return e&&"function"==typeof e?e(t):this.options.fill},getLineStroke:function(t){var e=this.options.setLineStroke;return e&&"function"==typeof e?e(t):this.options.stroke},createBezierCurve:function(t,e,n){var i=this.pointLatLngToXY(t,n),r=i.start,s=i.end,a=i.ctrlPoints,u=this.options.startCircle,l=this.getPathWidth(t),c=this.getPathFill(t),h=(this.getValue(t),this.getStrokeDashArray(t)),f=this.getLineStroke(t),d=Math.atan2(s.y-a[0].y,s.x-a[0].x)*(180/Math.PI),p=this.createArrowPath(d,s,t),g=p.arrow,v=p.x1,m=p.y1,y=p.x2,x=p.y2,E=this.getBezierCurvePath(r,{x:(v+y)/2,y:(m+x)/2},a,l),b=u&&this.createCirclePath(r,t),C=[new o.fabric.Path(E,{originX:"center",originY:"center",stroke:f,strokeWidth:l,strokeLineCap:"butt",strokeLineJoin:"round",strokeDashArray:h,fill:c}),g];return C=b?C.concat(b):C},render:function(t){var e=this;if(null!=t){this.options.honeycombSize;this.renderInMultiFrames(t,(function(t,n,i){return e.createBezierCurve(t,n,i)}),2e3)}},getEuclideanDistance:function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},straightBezierCurve:function(t,e,n,i){var r=this.pointLatLngToXY(n,i),o=r.start,s=r.end,a=(s.y-o.y)/(s.x-o.x),u=s.y-a*s.x,l={x:t,y:e};i&&(l=L.point(t,e).add(i));var c=a*l.x+u;return this.getEuclideanDistance(l,{x:l.x,y:c})<=10},quadraticBezierCurve:function(t,e,n,i){var r=this.pointLatLngToXY(n,i),o=r.start,s=r.end,a=r.ctrlPoints,u={x:t,y:e};i&&(u=L.point(t,e).add(i));var l=u.x,c=u.y,h=o.x-2*a[0].x+s.x,f=2*(a[0].x-o.x),d=2*h,p=f*f-4*h*(o.x-l);if(p<0)return!1;var g=Math.sqrt(p),v=(-f+g)/d,m=(-f-g)/d,y=(o.y-2*a[0].y+s.y)*v*v+2*(a[0].y-o.y)*v+o.y,x=(o.y-2*a[0].y+s.y)*m*m+2*(a[0].y-o.y)*m+o.y;return this.getEuclideanDistance({x:l,y:c},{x:l,y:y})<10||this.getEuclideanDistance({x:l,y:c},{x:l,y:x})<10},solveCubic:function(t,e,n,i){var r=void 0,o=void 0,s=void 0,a=void 0,u=void 0,l=void 0,c=void 0,h=void 0,f=void 0,d=void 0,p=void 0,g=void 0,v=void 0,m=void 0,y=void 0,x=void 0,E=void 0,b=(3*n/t-e*e/(t*t))/3,C=(e*e*e/(t*t*t)*2-9*e*n/(t*t)+i/t*27)/27,w=C*C/4+b*b*b/27;return w>0?(s=(r=-C/2+Math.sqrt(w))<0?-1:1,o=Math.pow(r*s,1/3),o*=s,s=(a=-C/2-Math.sqrt(w))<0?-1:1,u=Math.pow(a*s,1/3),l=o+(u*=s)-e/(3*t)):(s=(c=Math.sqrt(C*C/4-w))<0?-1:1,h=Math.pow(c*s,1/3)*s,f=Math.acos(-C/(2*c)),g=h*Math.cos(f/3)*2-e/(3*t),e/3*t*-1,x=(v=-1*h)*((m=Math.cos(f/3))+(y=Math.sqrt(3)*Math.sin(f/3)))-e/(3*t),E=v*(m-y)-e/(3*t),g*=1e14,g=Math.round(g),g/=1e14,x*=1e14,x=Math.round(x),x/=1e14,E*=1e14,E=Math.round(E),g>=0&&g<=1&&(l=g),x>=0&&x<=1&&(l=x),(E/=1e14)>=0&&E<=1&&(l=E)),b+C+w==0&&(i<0&&(d=-1),i>=0&&(d=1),d>0&&(p=Math.pow(i/t,1/3),p*=-1),d<0&&(i*=-1,p=Math.pow(i/t,1/3)),l=p),l},makeCubicBezierCurve:function(t,e,n,i,r){var o={x:0,y:0},s=1-r,a=s*s,u=a*s;return o.x=t.x*u+3*e.x*a*r+3*n.x*s*r*r+i.x*r*r*r,o.y=t.y*u+3*e.y*a*r+3*n.y*s*r*r+i.y*r*r*r,o},cubicBezierCurve:function(t,e,n,i){var r=this.pointLatLngToXY(n,i),o=r.start,s=r.end,a=r.ctrlPoints,u={x:t,y:e};i&&(u=L.point(t,e).add(i));var l=u.x,c=(u.y,s.x-3*a[1].x+3*a[0].x-o.x),h=3*a[1].x-6*a[0].x+3*o.x,f=3*a[0].x-3*o.x,d=o.x-l,p=this.solveCubic(c,h,f,d),g=this.makeCubicBezierCurve(o,a[0],a[1],s,p);return this.getEuclideanDistance(u,g)<=10},pointOnBezierCurve:function(t,e,n){var i=this.ctrlPoints||[],r=this.getBufferedOffset();switch(i.length){case 0:return this.straightBezierCurve(t,e,n,r);case 1:return this.quadraticBezierCurve(t,e,n,r);case 2:return this.cubicBezierCurve(t,e,n,r);default:return console.error(" do not support control points more than two"),!1}return!1},findObjectByXy:function(t,e){var n=this.data.features,r=!0,o=!1,s=void 0;try{for(var a,u=(0,i.default)(n);!(r=(a=u.next()).done);r=!0){var l=a.value;if(this.pointOnBezierCurve(t,e,l))return l}}catch(t){o=!0,s=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw s}}return null}});e.default=function(t){return new l(t)}}])}));